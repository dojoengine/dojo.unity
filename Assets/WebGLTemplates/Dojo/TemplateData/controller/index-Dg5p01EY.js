let A$1,ControllerProvider,FeeSource,L$5,MetaMaskWallet,NotReadyToConnect,PhantomWallet,RpcProvider2,S$3,TurnkeyWallet,WalletBridge,Account,ResponseCodes,constants_exports,lookupAddresses,toWasmPolicies,toArray$1,parseChainId,humanizeString,ArgentWallet,RabbyWallet,controllerConfigs,lookupUsernames,defaultTheme,normalizeCalls,erc20Metadata,p$2,toSessionPolicies;let __tla=(async()=>{function _mergeNamespaces(r,s){for(var sf=0;sf<s.length;sf++){const Nf=s[sf];if(typeof Nf!="string"&&!Array.isArray(Nf)){for(const ip in Nf)if(ip!=="default"&&!(ip in r)){const em=Object.getOwnPropertyDescriptor(Nf,ip);em&&Object.defineProperty(r,ip,em.get?em:{enumerable:!0,get:()=>Nf[ip]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}const errors$1=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),components=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),ETransactionType$1={DECLARE:"DECLARE",DEPLOY:"DEPLOY",DEPLOY_ACCOUNT:"DEPLOY_ACCOUNT",INVOKE:"INVOKE",L1_HANDLER:"L1_HANDLER"},ESimulationFlag$1={SKIP_VALIDATE:"SKIP_VALIDATE",SKIP_FEE_CHARGE:"SKIP_FEE_CHARGE"},ETransactionStatus$1={RECEIVED:"RECEIVED",REJECTED:"REJECTED",ACCEPTED_ON_L2:"ACCEPTED_ON_L2",ACCEPTED_ON_L1:"ACCEPTED_ON_L1"},ETransactionFinalityStatus$1={ACCEPTED_ON_L2:"ACCEPTED_ON_L2",ACCEPTED_ON_L1:"ACCEPTED_ON_L1"},ETransactionExecutionStatus$1={SUCCEEDED:"SUCCEEDED",REVERTED:"REVERTED"},EBlockTag$1={LATEST:"latest",PENDING:"pending"},EDataAvailabilityMode$1={L1:"L1",L2:"L2"},EDAMode$1={L1:0,L2:1},ETransactionVersion$1={V0:"0x0",V1:"0x1",V2:"0x2",V3:"0x3",F0:"0x100000000000000000000000000000000",F1:"0x100000000000000000000000000000001",F2:"0x100000000000000000000000000000002",F3:"0x100000000000000000000000000000003"},ETransactionVersion2$1={V0:"0x0",V1:"0x1",V2:"0x2",F0:"0x100000000000000000000000000000000",F1:"0x100000000000000000000000000000001",F2:"0x100000000000000000000000000000002"},ETransactionVersion3$1={V3:"0x3",F3:"0x100000000000000000000000000000003"},index$1=Object.freeze(Object.defineProperty({__proto__:null,EBlockTag:EBlockTag$1,EDAMode:EDAMode$1,EDataAvailabilityMode:EDataAvailabilityMode$1,ESimulationFlag:ESimulationFlag$1,ETransactionExecutionStatus:ETransactionExecutionStatus$1,ETransactionFinalityStatus:ETransactionFinalityStatus$1,ETransactionStatus:ETransactionStatus$1,ETransactionType:ETransactionType$1,ETransactionVersion:ETransactionVersion$1,ETransactionVersion2:ETransactionVersion2$1,ETransactionVersion3:ETransactionVersion3$1,Errors:errors$1,SPEC:components},Symbol.toStringTag,{value:"Module"})),Permission$1={ACCOUNTS:"accounts"},TypedDataRevision={ACTIVE:"1",LEGACY:"0"},index=Object.freeze(Object.defineProperty({__proto__:null,Permission:Permission$1,TypedDataRevision},Symbol.toStringTag,{value:"Module"})),starknet_types_07_star=Object.freeze(Object.defineProperty({__proto__:null,API:index$1,EBlockTag:EBlockTag$1,EDAMode:EDAMode$1,EDataAvailabilityMode:EDataAvailabilityMode$1,ESimulationFlag:ESimulationFlag$1,ETransactionExecutionStatus:ETransactionExecutionStatus$1,ETransactionFinalityStatus:ETransactionFinalityStatus$1,ETransactionStatus:ETransactionStatus$1,ETransactionType:ETransactionType$1,ETransactionVersion:ETransactionVersion$1,ETransactionVersion2:ETransactionVersion2$1,ETransactionVersion3:ETransactionVersion3$1,Errors:errors$1,Permission:Permission$1,SPEC:components,TypedDataRevision,WALLET_API:index},Symbol.toStringTag,{value:"Module"}));function isBytes$4(r){return r instanceof Uint8Array||ArrayBuffer.isView(r)&&r.constructor.name==="Uint8Array"}function isArrayOf(r,s){return Array.isArray(s)?s.length===0?!0:r?s.every(sf=>typeof sf=="string"):s.every(sf=>Number.isSafeInteger(sf)):!1}function astr(r,s){if(typeof s!="string")throw new Error(`${r}: string expected`);return!0}function anumber$2(r){if(!Number.isSafeInteger(r))throw new Error(`invalid integer: ${r}`)}function aArr(r){if(!Array.isArray(r))throw new Error("array expected")}function astrArr(r,s){if(!isArrayOf(!0,s))throw new Error(`${r}: array of strings expected`)}function anumArr(r,s){if(!isArrayOf(!1,s))throw new Error(`${r}: array of numbers expected`)}function chain(...r){const s=em=>em,sf=(em,tm)=>nm=>em(tm(nm)),Nf=r.map(em=>em.encode).reduceRight(sf,s),ip=r.map(em=>em.decode).reduce(sf,s);return{encode:Nf,decode:ip}}function alphabet(r){const s=typeof r=="string"?r.split(""):r,sf=s.length;astrArr("alphabet",s);const Nf=new Map(s.map((ip,em)=>[ip,em]));return{encode:ip=>(aArr(ip),ip.map(em=>{if(!Number.isSafeInteger(em)||em<0||em>=sf)throw new Error(`alphabet.encode: digit index outside alphabet "${em}". Allowed: ${r}`);return s[em]})),decode:ip=>(aArr(ip),ip.map(em=>{astr("alphabet.decode",em);const tm=Nf.get(em);if(tm===void 0)throw new Error(`Unknown letter: "${em}". Allowed: ${r}`);return tm}))}}function join(r=""){return astr("join",r),{encode:s=>(astrArr("join.decode",s),s.join(r)),decode:s=>(astr("join.decode",s),s.split(r))}}function padding(r,s="="){return anumber$2(r),astr("padding",s),{encode(sf){for(astrArr("padding.encode",sf);sf.length*r%8;)sf.push(s);return sf},decode(sf){astrArr("padding.decode",sf);let Nf=sf.length;if(Nf*r%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;Nf>0&&sf[Nf-1]===s;Nf--)if((Nf-1)*r%8===0)throw new Error("padding: invalid, string has too much padding");return sf.slice(0,Nf)}}}const gcd=(r,s)=>s===0?r:gcd(s,r%s),radix2carry=(r,s)=>r+(s-gcd(r,s)),powers=(()=>{let r=[];for(let s=0;s<40;s++)r.push(2**s);return r})();function convertRadix2(r,s,sf,Nf){if(aArr(r),s<=0||s>32)throw new Error(`convertRadix2: wrong from=${s}`);if(sf<=0||sf>32)throw new Error(`convertRadix2: wrong to=${sf}`);if(radix2carry(s,sf)>32)throw new Error(`convertRadix2: carry overflow from=${s} to=${sf} carryBits=${radix2carry(s,sf)}`);let ip=0,em=0;const tm=powers[s],nm=powers[sf]-1,rm=[];for(const om of r){if(anumber$2(om),om>=tm)throw new Error(`convertRadix2: invalid data word=${om} from=${s}`);if(ip=ip<<s|om,em+s>32)throw new Error(`convertRadix2: carry overflow pos=${em} from=${s}`);for(em+=s;em>=sf;em-=sf)rm.push((ip>>em-sf&nm)>>>0);const im=powers[em];if(im===void 0)throw new Error("invalid carry");ip&=im-1}if(ip=ip<<sf-em&nm,!Nf&&em>=s)throw new Error("Excess padding");if(!Nf&&ip>0)throw new Error(`Non-zero padding: ${ip}`);return Nf&&em>0&&rm.push(ip>>>0),rm}function radix2(r,s=!1){if(anumber$2(r),r<=0||r>32)throw new Error("radix2: bits should be in (0..32]");if(radix2carry(8,r)>32||radix2carry(r,8)>32)throw new Error("radix2: carry overflow");return{encode:sf=>{if(!isBytes$4(sf))throw new Error("radix2.encode input should be Uint8Array");return convertRadix2(Array.from(sf),8,r,!s)},decode:sf=>(anumArr("radix2.decode",sf),Uint8Array.from(convertRadix2(sf,r,8,s)))}}const base64=chain(radix2(6),alphabet("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),padding(6),join(""));function isInteger(r){return INTEGER_REGEX.test(r)}const INTEGER_REGEX=/^-?[0-9]+$/;function isNumber$1(r){return NUMBER_REGEX.test(r)}const NUMBER_REGEX=/^-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?$/;function isSafeNumber(r,s){const sf=Number.parseFloat(r),Nf=String(sf),ip=extractSignificantDigits(r),em=extractSignificantDigits(Nf);return ip===em}let UnsafeNumberReason=function(r){return r.underflow="underflow",r.overflow="overflow",r.truncate_integer="truncate_integer",r.truncate_float="truncate_float",r}({});function getUnsafeNumberReason(r){if(isSafeNumber(r))return;if(isInteger(r))return UnsafeNumberReason.truncate_integer;const s=Number.parseFloat(r);return Number.isFinite(s)?s===0?UnsafeNumberReason.underflow:UnsafeNumberReason.truncate_float:UnsafeNumberReason.overflow}function extractSignificantDigits(r){return r.replace(EXPONENTIAL_PART_REGEX,"").replace(DOT_REGEX,"").replace(TRAILING_ZEROS_REGEX,"").replace(LEADING_MINUS_AND_ZEROS_REGEX,"")}const EXPONENTIAL_PART_REGEX=/[eE][+-]?\d+$/,LEADING_MINUS_AND_ZEROS_REGEX=/^-?(0*)?/,DOT_REGEX=/\./,TRAILING_ZEROS_REGEX=/0+$/;class LosslessNumber{isLosslessNumber=!0;constructor(s){if(!isNumber$1(s))throw new Error(`Invalid number (value: "${s}")`);this.value=s}valueOf(){const s=getUnsafeNumberReason(this.value);if(s===void 0||s===UnsafeNumberReason.truncate_float)return Number.parseFloat(this.value);if(isInteger(this.value))return BigInt(this.value);throw new Error(`Cannot safely convert to number: the value '${this.value}' would ${s} and become ${Number.parseFloat(this.value)}`)}toString(){return this.value}}function isLosslessNumber(r){return r&&typeof r=="object"&&r.isLosslessNumber===!0||!1}function parseLosslessNumber(r){return new LosslessNumber(r)}function parseNumberAndBigInt(r){return isInteger(r)?BigInt(r):Number.parseFloat(r)}function revive(r,s){return reviveValue({"":r},"",r,s)}function reviveValue(r,s,sf,Nf){return Array.isArray(sf)?Nf.call(r,s,reviveArray(sf,Nf)):sf&&typeof sf=="object"&&!isLosslessNumber(sf)?Nf.call(r,s,reviveObject(sf,Nf)):Nf.call(r,s,sf)}function reviveObject(r,s){for(const sf of Object.keys(r)){const Nf=reviveValue(r,sf,r[sf],s);Nf!==void 0?r[sf]=Nf:delete r[sf]}return r}function reviveArray(r,s){for(let sf=0;sf<r.length;sf++)r[sf]=reviveValue(r,String(sf),r[sf],s);return r}function parse$2(r,s){let sf=arguments.length>2&&arguments[2]!==void 0?arguments[2]:parseLosslessNumber,Nf=0;const ip=nm();return hm(ip),pm(),s?revive(ip,s):ip;function em(){if(r.charCodeAt(Nf)===codeOpeningBrace){Nf++,om();const dm={};let gm=!0;for(;Nf<r.length&&r.charCodeAt(Nf)!==codeClosingBrace;){gm?gm=!1:(sm(),om());const km=Nf,Mm=im();if(Mm===void 0){ym();return}om(),cm();const bm=nm();if(bm===void 0){Rm();return}Object.prototype.hasOwnProperty.call(dm,Mm)&&!isDeepEqual(bm,dm[Mm])&&Sm(Mm,km+1),dm[Mm]=bm}return r.charCodeAt(Nf)!==codeClosingBrace&&jm(),Nf++,dm}}function tm(){if(r.charCodeAt(Nf)===codeOpeningBracket){Nf++,om();const dm=[];let gm=!0;for(;Nf<r.length&&r.charCodeAt(Nf)!==codeClosingBracket;){gm?gm=!1:sm();const km=nm();fm(km),dm.push(km)}return r.charCodeAt(Nf)!==codeClosingBracket&&Pm(),Nf++,dm}}function nm(){om();const dm=im()??am()??em()??tm()??rm("true",!0)??rm("false",!1)??rm("null",null);return om(),dm}function rm(dm,gm){if(r.slice(Nf,Nf+dm.length)===dm)return Nf+=dm.length,gm}function om(){for(;isWhitespace(r.charCodeAt(Nf));)Nf++}function im(){if(r.charCodeAt(Nf)===codeDoubleQuote){Nf++;let dm="";for(;Nf<r.length&&r.charCodeAt(Nf)!==codeDoubleQuote;){if(r.charCodeAt(Nf)===codeBackslash){const gm=r[Nf+1],km=escapeCharacters[gm];km!==void 0?(dm+=km,Nf++):gm==="u"?isHex$1(r.charCodeAt(Nf+2))&&isHex$1(r.charCodeAt(Nf+3))&&isHex$1(r.charCodeAt(Nf+4))&&isHex$1(r.charCodeAt(Nf+5))?(dm+=String.fromCharCode(Number.parseInt(r.slice(Nf+2,Nf+6),16)),Nf+=5):Dm(Nf):qm(Nf)}else isValidStringCharacter(r.charCodeAt(Nf))?dm+=r[Nf]:Bm(r[Nf]);Nf++}return _m(),Nf++,dm}}function am(){const dm=Nf;if(r.charCodeAt(Nf)===codeMinus&&(Nf++,mm(dm)),r.charCodeAt(Nf)===codeZero)Nf++;else if(isNonZeroDigit(r.charCodeAt(Nf)))for(Nf++;isDigit(r.charCodeAt(Nf));)Nf++;if(r.charCodeAt(Nf)===codeDot)for(Nf++,mm(dm);isDigit(r.charCodeAt(Nf));)Nf++;if(r.charCodeAt(Nf)===codeLowercaseE||r.charCodeAt(Nf)===codeUppercaseE)for(Nf++,(r.charCodeAt(Nf)===codeMinus||r.charCodeAt(Nf)===codePlus)&&Nf++,mm(dm);isDigit(r.charCodeAt(Nf));)Nf++;if(Nf>dm)return sf(r.slice(dm,Nf))}function sm(){if(r.charCodeAt(Nf)!==codeComma)throw new SyntaxError(`Comma ',' expected after value ${Im()}`);Nf++}function cm(){if(r.charCodeAt(Nf)!==codeColon)throw new SyntaxError(`Colon ':' expected after property name ${Im()}`);Nf++}function hm(dm){if(dm===void 0)throw new SyntaxError(`JSON value expected ${Im()}`)}function fm(dm){if(dm===void 0)throw new SyntaxError(`Array item expected ${Im()}`)}function pm(){if(Nf<r.length)throw new SyntaxError(`Expected end of input ${Im()}`)}function mm(dm){if(!isDigit(r.charCodeAt(Nf))){const gm=r.slice(dm,Nf);throw new SyntaxError(`Invalid number '${gm}', expecting a digit ${Im()}`)}}function _m(){if(r.charCodeAt(Nf)!==codeDoubleQuote)throw new SyntaxError(`End of string '"' expected ${Im()}`)}function ym(){throw new SyntaxError(`Quoted object key expected ${Im()}`)}function Sm(dm,gm){throw new SyntaxError(`Duplicate key '${dm}' encountered at position ${gm}`)}function jm(){throw new SyntaxError(`Quoted object key or end of object '}' expected ${Im()}`)}function Pm(){throw new SyntaxError(`Array item or end of array ']' expected ${Im()}`)}function Bm(dm){throw new SyntaxError(`Invalid character '${dm}' ${Um()}`)}function qm(dm){const gm=r.slice(dm,dm+2);throw new SyntaxError(`Invalid escape character '${gm}' ${Um()}`)}function Rm(){throw new SyntaxError(`Object value expected after ':' ${Um()}`)}function Dm(dm){const gm=r.slice(dm,dm+6);throw new SyntaxError(`Invalid unicode character '${gm}' ${Um()}`)}function Um(){return`at position ${Nf}`}function Lm(){return Nf<r.length?`but got '${r[Nf]}'`:"but reached end of input"}function Im(){return`${Lm()} ${Um()}`}}function isWhitespace(r){return r===codeSpace||r===codeNewline||r===codeTab||r===codeReturn}function isHex$1(r){return r>=codeZero&&r<=codeNine||r>=codeUppercaseA&&r<=codeUppercaseF||r>=codeLowercaseA&&r<=codeLowercaseF}function isDigit(r){return r>=codeZero&&r<=codeNine}function isNonZeroDigit(r){return r>=codeOne&&r<=codeNine}function isValidStringCharacter(r){return r>=32&&r<=1114111}function isDeepEqual(r,s){return r===s?!0:Array.isArray(r)&&Array.isArray(s)?r.length===s.length&&r.every((sf,Nf)=>isDeepEqual(sf,s[Nf])):isObject$4(r)&&isObject$4(s)?[...new Set([...Object.keys(r),...Object.keys(s)])].every(Nf=>isDeepEqual(r[Nf],s[Nf])):!1}function isObject$4(r){return typeof r=="object"&&r!==null}const escapeCharacters={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},codeBackslash=92,codeOpeningBrace=123,codeClosingBrace=125,codeOpeningBracket=91,codeClosingBracket=93,codeSpace=32,codeNewline=10,codeTab=9,codeReturn=13,codeDoubleQuote=34,codePlus=43,codeMinus=45,codeZero=48,codeOne=49,codeNine=57,codeComma=44,codeDot=46,codeColon=58,codeUppercaseA=65,codeLowercaseA=97,codeUppercaseE=69,codeLowercaseE=101,codeUppercaseF=70,codeLowercaseF=102;function stringify$2(r,s,sf,Nf){const ip=resolveSpace(sf),em=typeof s=="function"?s.call({"":r},"",r):r;return tm(em,"");function tm(im,am){if(Array.isArray(Nf)){const sm=Nf.find(cm=>cm.test(im));if(sm){const cm=sm.stringify(im);if(typeof cm!="string"||!isNumber$1(cm))throw new Error(`Invalid JSON number: output of a number stringifier must be a string containing a JSON number (output: ${cm})`);return cm}}if(typeof im=="boolean"||typeof im=="number"||typeof im=="string"||im===null||im instanceof Date||im instanceof Boolean||im instanceof Number||im instanceof String)return JSON.stringify(im);if(im?.isLosslessNumber||typeof im=="bigint")return im.toString();if(Array.isArray(im))return nm(im,am);if(im&&typeof im=="object")return rm(im,am)}function nm(im,am){if(im.length===0)return"[]";const sm=ip?am+ip:void 0;let cm=ip?`[
`:"[";for(let hm=0;hm<im.length;hm++){const fm=typeof s=="function"?s.call(im,String(hm),im[hm]):im[hm];ip&&(cm+=sm),typeof fm<"u"&&typeof fm!="function"?cm+=tm(fm,sm):cm+="null",hm<im.length-1&&(cm+=ip?`,
`:",")}return cm+=ip?`
${am}]`:"]",cm}function rm(im,am){if(typeof im.toJSON=="function")return stringify$2(im.toJSON(),s,sf,void 0);const sm=Array.isArray(s)?s.map(String):Object.keys(im);if(sm.length===0)return"{}";const cm=ip?am+ip:void 0;let hm=!0,fm=ip?`{
`:"{";for(const pm of sm){const mm=typeof s=="function"?s.call(im,pm,im[pm]):im[pm];if(om(pm,mm)){hm?hm=!1:fm+=ip?`,
`:",";const _m=JSON.stringify(pm);fm+=ip?`${cm+_m}: `:`${_m}:`,fm+=tm(mm,cm)}}return fm+=ip?`
${am}}`:"}",fm}function om(im,am){return typeof am<"u"&&typeof am!="function"&&typeof am!="symbol"}}function resolveSpace(r){if(typeof r=="number")return" ".repeat(r);if(typeof r=="string"&&r!=="")return r}const _0n$9=BigInt(0),_1n$c=BigInt(1),_2n$8=BigInt(2);function isBytes$3(r){return r instanceof Uint8Array||ArrayBuffer.isView(r)&&r.constructor.name==="Uint8Array"}function abytes$3(r){if(!isBytes$3(r))throw new Error("Uint8Array expected")}function abool$1(r,s){if(typeof s!="boolean")throw new Error(r+" boolean expected, got "+s)}const hexes$1=Array.from({length:256},(r,s)=>s.toString(16).padStart(2,"0"));function bytesToHex$1(r){abytes$3(r);let s="";for(let sf=0;sf<r.length;sf++)s+=hexes$1[r[sf]];return s}function numberToHexUnpadded$1(r){const s=r.toString(16);return s.length&1?"0"+s:s}function hexToNumber$1(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);return r===""?_0n$9:BigInt("0x"+r)}const asciis$1={_0:48,_9:57,A:65,F:70,a:97,f:102};function asciiToBase16$1(r){if(r>=asciis$1._0&&r<=asciis$1._9)return r-asciis$1._0;if(r>=asciis$1.A&&r<=asciis$1.F)return r-(asciis$1.A-10);if(r>=asciis$1.a&&r<=asciis$1.f)return r-(asciis$1.a-10)}function hexToBytes$2(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);const s=r.length,sf=s/2;if(s%2)throw new Error("hex string expected, got unpadded hex of length "+s);const Nf=new Uint8Array(sf);for(let ip=0,em=0;ip<sf;ip++,em+=2){const tm=asciiToBase16$1(r.charCodeAt(em)),nm=asciiToBase16$1(r.charCodeAt(em+1));if(tm===void 0||nm===void 0){const rm=r[em]+r[em+1];throw new Error('hex string expected, got non-hex character "'+rm+'" at index '+em)}Nf[ip]=tm*16+nm}return Nf}function bytesToNumberBE$1(r){return hexToNumber$1(bytesToHex$1(r))}function bytesToNumberLE$1(r){return abytes$3(r),hexToNumber$1(bytesToHex$1(Uint8Array.from(r).reverse()))}function numberToBytesBE$1(r,s){return hexToBytes$2(r.toString(16).padStart(s*2,"0"))}function numberToBytesLE$1(r,s){return numberToBytesBE$1(r,s).reverse()}function numberToVarBytesBE(r){return hexToBytes$2(numberToHexUnpadded$1(r))}function ensureBytes$2(r,s,sf){let Nf;if(typeof s=="string")try{Nf=hexToBytes$2(s)}catch(em){throw new Error(r+" must be hex string or Uint8Array, cause: "+em)}else if(isBytes$3(s))Nf=Uint8Array.from(s);else throw new Error(r+" must be hex string or Uint8Array");const ip=Nf.length;if(typeof sf=="number"&&ip!==sf)throw new Error(r+" of length "+sf+" expected, got "+ip);return Nf}function concatBytes$3(...r){let s=0;for(let Nf=0;Nf<r.length;Nf++){const ip=r[Nf];abytes$3(ip),s+=ip.length}const sf=new Uint8Array(s);for(let Nf=0,ip=0;Nf<r.length;Nf++){const em=r[Nf];sf.set(em,ip),ip+=em.length}return sf}function equalBytes(r,s){if(r.length!==s.length)return!1;let sf=0;for(let Nf=0;Nf<r.length;Nf++)sf|=r[Nf]^s[Nf];return sf===0}function utf8ToBytes$2(r){if(typeof r!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(r))}const isPosBig$1=r=>typeof r=="bigint"&&_0n$9<=r;function inRange$2(r,s,sf){return isPosBig$1(r)&&isPosBig$1(s)&&isPosBig$1(sf)&&s<=r&&r<sf}function aInRange$1(r,s,sf,Nf){if(!inRange$2(s,sf,Nf))throw new Error("expected valid "+r+": "+sf+" <= n < "+Nf+", got "+s)}function bitLen$1(r){let s;for(s=0;r>_0n$9;r>>=_1n$c,s+=1);return s}function bitGet(r,s){return r>>BigInt(s)&_1n$c}function bitSet(r,s,sf){return r|(sf?_1n$c:_0n$9)<<BigInt(s)}const bitMask$1=r=>(_2n$8<<BigInt(r-1))-_1n$c,u8n$1=r=>new Uint8Array(r),u8fr$1=r=>Uint8Array.from(r);function createHmacDrbg$1(r,s,sf){if(typeof r!="number"||r<2)throw new Error("hashLen must be a number");if(typeof s!="number"||s<2)throw new Error("qByteLen must be a number");if(typeof sf!="function")throw new Error("hmacFn must be a function");let Nf=u8n$1(r),ip=u8n$1(r),em=0;const tm=()=>{Nf.fill(1),ip.fill(0),em=0},nm=(...am)=>sf(ip,Nf,...am),rm=(am=u8n$1())=>{ip=nm(u8fr$1([0]),am),Nf=nm(),am.length!==0&&(ip=nm(u8fr$1([1]),am),Nf=nm())},om=()=>{if(em++>=1e3)throw new Error("drbg: tried 1000 values");let am=0;const sm=[];for(;am<s;){Nf=nm();const cm=Nf.slice();sm.push(cm),am+=Nf.length}return concatBytes$3(...sm)};return(am,sm)=>{tm(),rm(am);let cm;for(;!(cm=sm(om()));)rm();return tm(),cm}}const validatorFns$1={bigint:r=>typeof r=="bigint",function:r=>typeof r=="function",boolean:r=>typeof r=="boolean",string:r=>typeof r=="string",stringOrUint8Array:r=>typeof r=="string"||isBytes$3(r),isSafeInteger:r=>Number.isSafeInteger(r),array:r=>Array.isArray(r),field:(r,s)=>s.Fp.isValid(r),hash:r=>typeof r=="function"&&Number.isSafeInteger(r.outputLen)};function validateObject$1(r,s,sf={}){const Nf=(ip,em,tm)=>{const nm=validatorFns$1[em];if(typeof nm!="function")throw new Error("invalid validator function");const rm=r[ip];if(!(tm&&rm===void 0)&&!nm(rm,r))throw new Error("param "+String(ip)+" is invalid. Expected "+em+", got "+rm)};for(const[ip,em]of Object.entries(s))Nf(ip,em,!1);for(const[ip,em]of Object.entries(sf))Nf(ip,em,!0);return r}const notImplemented=()=>{throw new Error("not implemented")};function memoized$1(r){const s=new WeakMap;return(sf,...Nf)=>{const ip=s.get(sf);if(ip!==void 0)return ip;const em=r(sf,...Nf);return s.set(sf,em),em}}const ut$3=Object.freeze(Object.defineProperty({__proto__:null,aInRange:aInRange$1,abool:abool$1,abytes:abytes$3,bitGet,bitLen:bitLen$1,bitMask:bitMask$1,bitSet,bytesToHex:bytesToHex$1,bytesToNumberBE:bytesToNumberBE$1,bytesToNumberLE:bytesToNumberLE$1,concatBytes:concatBytes$3,createHmacDrbg:createHmacDrbg$1,ensureBytes:ensureBytes$2,equalBytes,hexToBytes:hexToBytes$2,hexToNumber:hexToNumber$1,inRange:inRange$2,isBytes:isBytes$3,memoized:memoized$1,notImplemented,numberToBytesBE:numberToBytesBE$1,numberToBytesLE:numberToBytesLE$1,numberToHexUnpadded:numberToHexUnpadded$1,numberToVarBytesBE,utf8ToBytes:utf8ToBytes$2,validateObject:validateObject$1},Symbol.toStringTag,{value:"Module"}));function anumber$1(r){if(!Number.isSafeInteger(r)||r<0)throw new Error("positive integer expected, got "+r)}function isBytes$2(r){return r instanceof Uint8Array||ArrayBuffer.isView(r)&&r.constructor.name==="Uint8Array"}function abytes$2(r,...s){if(!isBytes$2(r))throw new Error("Uint8Array expected");if(s.length>0&&!s.includes(r.length))throw new Error("Uint8Array expected of length "+s+", got length="+r.length)}function ahash$1(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");anumber$1(r.outputLen),anumber$1(r.blockLen)}function aexists$1(r,s=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(s&&r.finished)throw new Error("Hash#digest() has already been called")}function aoutput$1(r,s){abytes$2(r);const sf=s.outputLen;if(r.length<sf)throw new Error("digestInto() expects output buffer of length at least "+sf)}const crypto$2=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;const u32=r=>new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4)),createView$1=r=>new DataView(r.buffer,r.byteOffset,r.byteLength),rotr$1=(r,s)=>r<<32-s|r>>>s,isLE=new Uint8Array(new Uint32Array([0x11223344]).buffer)[0]===68,byteSwap=r=>r<<24&0xff000000|r<<8&0xff0000|r>>>8&65280|r>>>24&255;function byteSwap32(r){for(let s=0;s<r.length;s++)r[s]=byteSwap(r[s])}function utf8ToBytes$1(r){if(typeof r!="string")throw new Error("utf8ToBytes expected string, got "+typeof r);return new Uint8Array(new TextEncoder().encode(r))}function toBytes$1(r){return typeof r=="string"&&(r=utf8ToBytes$1(r)),abytes$2(r),r}function concatBytes$2(...r){let s=0;for(let Nf=0;Nf<r.length;Nf++){const ip=r[Nf];abytes$2(ip),s+=ip.length}const sf=new Uint8Array(s);for(let Nf=0,ip=0;Nf<r.length;Nf++){const em=r[Nf];sf.set(em,ip),ip+=em.length}return sf}let Hash$1=class{clone(){return this._cloneInto()}};function wrapConstructor$1(r){const s=Nf=>r().update(toBytes$1(Nf)).digest(),sf=r();return s.outputLen=sf.outputLen,s.blockLen=sf.blockLen,s.create=()=>r(),s}function randomBytes$1(r=32){if(crypto$2&&typeof crypto$2.getRandomValues=="function")return crypto$2.getRandomValues(new Uint8Array(r));if(crypto$2&&typeof crypto$2.randomBytes=="function")return crypto$2.randomBytes(r);throw new Error("crypto.getRandomValues must be defined")}function setBigUint64$1(r,s,sf,Nf){if(typeof r.setBigUint64=="function")return r.setBigUint64(s,sf,Nf);const ip=BigInt(32),em=BigInt(0xffffffff),tm=Number(sf>>ip&em),nm=Number(sf&em),rm=Nf?4:0,om=Nf?0:4;r.setUint32(s+rm,tm,Nf),r.setUint32(s+om,nm,Nf)}const Chi$1=(r,s,sf)=>r&s^~r&sf,Maj$1=(r,s,sf)=>r&s^r&sf^s&sf;let HashMD$1=class extends Hash$1{constructor(s,sf,Nf,ip){super(),this.blockLen=s,this.outputLen=sf,this.padOffset=Nf,this.isLE=ip,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(s),this.view=createView$1(this.buffer)}update(s){aexists$1(this);const{view:sf,buffer:Nf,blockLen:ip}=this;s=toBytes$1(s);const em=s.length;for(let tm=0;tm<em;){const nm=Math.min(ip-this.pos,em-tm);if(nm===ip){const rm=createView$1(s);for(;ip<=em-tm;tm+=ip)this.process(rm,tm);continue}Nf.set(s.subarray(tm,tm+nm),this.pos),this.pos+=nm,tm+=nm,this.pos===ip&&(this.process(sf,0),this.pos=0)}return this.length+=s.length,this.roundClean(),this}digestInto(s){aexists$1(this),aoutput$1(s,this),this.finished=!0;const{buffer:sf,view:Nf,blockLen:ip,isLE:em}=this;let{pos:tm}=this;sf[tm++]=128,this.buffer.subarray(tm).fill(0),this.padOffset>ip-tm&&(this.process(Nf,0),tm=0);for(let am=tm;am<ip;am++)sf[am]=0;setBigUint64$1(Nf,ip-8,BigInt(this.length*8),em),this.process(Nf,0);const nm=createView$1(s),rm=this.outputLen;if(rm%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const om=rm/4,im=this.get();if(om>im.length)throw new Error("_sha2: outputLen bigger than state");for(let am=0;am<om;am++)nm.setUint32(4*am,im[am],em)}digest(){const{buffer:s,outputLen:sf}=this;this.digestInto(s);const Nf=s.slice(0,sf);return this.destroy(),Nf}_cloneInto(s){s||(s=new this.constructor),s.set(...this.get());const{blockLen:sf,buffer:Nf,length:ip,finished:em,destroyed:tm,pos:nm}=this;return s.length=ip,s.pos=nm,s.finished=em,s.destroyed=tm,ip%sf&&s.buffer.set(Nf),s}};const SHA256_K$1=new Uint32Array([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),SHA256_IV$1=new Uint32Array([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]),SHA256_W$1=new Uint32Array(64);let SHA256$1=class extends HashMD$1{constructor(){super(64,32,8,!1),this.A=SHA256_IV$1[0]|0,this.B=SHA256_IV$1[1]|0,this.C=SHA256_IV$1[2]|0,this.D=SHA256_IV$1[3]|0,this.E=SHA256_IV$1[4]|0,this.F=SHA256_IV$1[5]|0,this.G=SHA256_IV$1[6]|0,this.H=SHA256_IV$1[7]|0}get(){const{A:s,B:sf,C:Nf,D:ip,E:em,F:tm,G:nm,H:rm}=this;return[s,sf,Nf,ip,em,tm,nm,rm]}set(s,sf,Nf,ip,em,tm,nm,rm){this.A=s|0,this.B=sf|0,this.C=Nf|0,this.D=ip|0,this.E=em|0,this.F=tm|0,this.G=nm|0,this.H=rm|0}process(s,sf){for(let am=0;am<16;am++,sf+=4)SHA256_W$1[am]=s.getUint32(sf,!1);for(let am=16;am<64;am++){const sm=SHA256_W$1[am-15],cm=SHA256_W$1[am-2],hm=rotr$1(sm,7)^rotr$1(sm,18)^sm>>>3,fm=rotr$1(cm,17)^rotr$1(cm,19)^cm>>>10;SHA256_W$1[am]=fm+SHA256_W$1[am-7]+hm+SHA256_W$1[am-16]|0}let{A:Nf,B:ip,C:em,D:tm,E:nm,F:rm,G:om,H:im}=this;for(let am=0;am<64;am++){const sm=rotr$1(nm,6)^rotr$1(nm,11)^rotr$1(nm,25),cm=im+sm+Chi$1(nm,rm,om)+SHA256_K$1[am]+SHA256_W$1[am]|0,fm=(rotr$1(Nf,2)^rotr$1(Nf,13)^rotr$1(Nf,22))+Maj$1(Nf,ip,em)|0;im=om,om=rm,rm=nm,nm=tm+cm|0,tm=em,em=ip,ip=Nf,Nf=cm+fm|0}Nf=Nf+this.A|0,ip=ip+this.B|0,em=em+this.C|0,tm=tm+this.D|0,nm=nm+this.E|0,rm=rm+this.F|0,om=om+this.G|0,im=im+this.H|0,this.set(Nf,ip,em,tm,nm,rm,om,im)}roundClean(){SHA256_W$1.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const sha256$1=wrapConstructor$1(()=>new SHA256$1),U32_MASK64$1=BigInt(2**32-1),_32n$1=BigInt(32);function fromBig$1(r,s=!1){return s?{h:Number(r&U32_MASK64$1),l:Number(r>>_32n$1&U32_MASK64$1)}:{h:Number(r>>_32n$1&U32_MASK64$1)|0,l:Number(r&U32_MASK64$1)|0}}function split$1(r,s=!1){let sf=new Uint32Array(r.length),Nf=new Uint32Array(r.length);for(let ip=0;ip<r.length;ip++){const{h:em,l:tm}=fromBig$1(r[ip],s);[sf[ip],Nf[ip]]=[em,tm]}return[sf,Nf]}const rotlSH$1=(r,s,sf)=>r<<sf|s>>>32-sf,rotlSL$1=(r,s,sf)=>s<<sf|r>>>32-sf,rotlBH$1=(r,s,sf)=>s<<sf-32|r>>>64-sf,rotlBL$1=(r,s,sf)=>r<<sf-32|s>>>64-sf,SHA3_PI=[],SHA3_ROTL=[],_SHA3_IOTA=[],_0n$8=BigInt(0),_1n$b=BigInt(1),_2n$7=BigInt(2),_7n=BigInt(7),_256n=BigInt(256),_0x71n=BigInt(113);for(let r=0,s=_1n$b,sf=1,Nf=0;r<24;r++){[sf,Nf]=[Nf,(2*sf+3*Nf)%5],SHA3_PI.push(2*(5*Nf+sf)),SHA3_ROTL.push((r+1)*(r+2)/2%64);let ip=_0n$8;for(let em=0;em<7;em++)s=(s<<_1n$b^(s>>_7n)*_0x71n)%_256n,s&_2n$7&&(ip^=_1n$b<<(_1n$b<<BigInt(em))-_1n$b);_SHA3_IOTA.push(ip)}const[SHA3_IOTA_H,SHA3_IOTA_L]=split$1(_SHA3_IOTA,!0),rotlH=(r,s,sf)=>sf>32?rotlBH$1(r,s,sf):rotlSH$1(r,s,sf),rotlL=(r,s,sf)=>sf>32?rotlBL$1(r,s,sf):rotlSL$1(r,s,sf);function keccakP(r,s=24){const sf=new Uint32Array(10);for(let Nf=24-s;Nf<24;Nf++){for(let tm=0;tm<10;tm++)sf[tm]=r[tm]^r[tm+10]^r[tm+20]^r[tm+30]^r[tm+40];for(let tm=0;tm<10;tm+=2){const nm=(tm+8)%10,rm=(tm+2)%10,om=sf[rm],im=sf[rm+1],am=rotlH(om,im,1)^sf[nm],sm=rotlL(om,im,1)^sf[nm+1];for(let cm=0;cm<50;cm+=10)r[tm+cm]^=am,r[tm+cm+1]^=sm}let ip=r[2],em=r[3];for(let tm=0;tm<24;tm++){const nm=SHA3_ROTL[tm],rm=rotlH(ip,em,nm),om=rotlL(ip,em,nm),im=SHA3_PI[tm];ip=r[im],em=r[im+1],r[im]=rm,r[im+1]=om}for(let tm=0;tm<50;tm+=10){for(let nm=0;nm<10;nm++)sf[nm]=r[tm+nm];for(let nm=0;nm<10;nm++)r[tm+nm]^=~sf[(nm+2)%10]&sf[(nm+4)%10]}r[0]^=SHA3_IOTA_H[Nf],r[1]^=SHA3_IOTA_L[Nf]}sf.fill(0)}class Keccak extends Hash$1{constructor(s,sf,Nf,ip=!1,em=24){if(super(),this.blockLen=s,this.suffix=sf,this.outputLen=Nf,this.enableXOF=ip,this.rounds=em,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,anumber$1(Nf),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=u32(this.state)}keccak(){isLE||byteSwap32(this.state32),keccakP(this.state32,this.rounds),isLE||byteSwap32(this.state32),this.posOut=0,this.pos=0}update(s){aexists$1(this);const{blockLen:sf,state:Nf}=this;s=toBytes$1(s);const ip=s.length;for(let em=0;em<ip;){const tm=Math.min(sf-this.pos,ip-em);for(let nm=0;nm<tm;nm++)Nf[this.pos++]^=s[em++];this.pos===sf&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:s,suffix:sf,pos:Nf,blockLen:ip}=this;s[Nf]^=sf,(sf&128)!==0&&Nf===ip-1&&this.keccak(),s[ip-1]^=128,this.keccak()}writeInto(s){aexists$1(this,!1),abytes$2(s),this.finish();const sf=this.state,{blockLen:Nf}=this;for(let ip=0,em=s.length;ip<em;){this.posOut>=Nf&&this.keccak();const tm=Math.min(Nf-this.posOut,em-ip);s.set(sf.subarray(this.posOut,this.posOut+tm),ip),this.posOut+=tm,ip+=tm}return s}xofInto(s){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(s)}xof(s){return anumber$1(s),this.xofInto(new Uint8Array(s))}digestInto(s){if(aoutput$1(s,this),this.finished)throw new Error("digest() was already called");return this.writeInto(s),this.destroy(),s}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(s){const{blockLen:sf,suffix:Nf,outputLen:ip,rounds:em,enableXOF:tm}=this;return s||(s=new Keccak(sf,Nf,ip,tm,em)),s.state32.set(this.state32),s.pos=this.pos,s.posOut=this.posOut,s.finished=this.finished,s.rounds=em,s.suffix=Nf,s.outputLen=ip,s.enableXOF=tm,s.destroyed=this.destroyed,s}}const gen=(r,s,sf)=>wrapConstructor$1(()=>new Keccak(s,r,sf)),keccak_256=gen(1,136,256/8);const _0n$7=BigInt(0),_1n$a=BigInt(1),_2n$6=BigInt(2),_3n$3=BigInt(3),_4n$2=BigInt(4),_5n$2=BigInt(5),_8n$3=BigInt(8);function mod$1(r,s){const sf=r%s;return sf>=_0n$7?sf:s+sf}function pow$2(r,s,sf){if(s<_0n$7)throw new Error("invalid exponent, negatives unsupported");if(sf<=_0n$7)throw new Error("invalid modulus");if(sf===_1n$a)return _0n$7;let Nf=_1n$a;for(;s>_0n$7;)s&_1n$a&&(Nf=Nf*r%sf),r=r*r%sf,s>>=_1n$a;return Nf}function pow2$1(r,s,sf){let Nf=r;for(;s-- >_0n$7;)Nf*=Nf,Nf%=sf;return Nf}function invert$1(r,s){if(r===_0n$7)throw new Error("invert: expected non-zero number");if(s<=_0n$7)throw new Error("invert: expected positive modulus, got "+s);let sf=mod$1(r,s),Nf=s,ip=_0n$7,em=_1n$a;for(;sf!==_0n$7;){const nm=Nf/sf,rm=Nf%sf,om=ip-em*nm;Nf=sf,sf=rm,ip=em,em=om}if(Nf!==_1n$a)throw new Error("invert: does not exist");return mod$1(ip,s)}function tonelliShanks$1(r){const s=(r-_1n$a)/_2n$6;let sf,Nf,ip;for(sf=r-_1n$a,Nf=0;sf%_2n$6===_0n$7;sf/=_2n$6,Nf++);for(ip=_2n$6;ip<r&&pow$2(ip,s,r)!==r-_1n$a;ip++)if(ip>1e3)throw new Error("Cannot find square root: likely non-prime P");if(Nf===1){const tm=(r+_1n$a)/_4n$2;return function(rm,om){const im=rm.pow(om,tm);if(!rm.eql(rm.sqr(im),om))throw new Error("Cannot find square root");return im}}const em=(sf+_1n$a)/_2n$6;return function(nm,rm){if(nm.pow(rm,s)===nm.neg(nm.ONE))throw new Error("Cannot find square root");let om=Nf,im=nm.pow(nm.mul(nm.ONE,ip),sf),am=nm.pow(rm,em),sm=nm.pow(rm,sf);for(;!nm.eql(sm,nm.ONE);){if(nm.eql(sm,nm.ZERO))return nm.ZERO;let cm=1;for(let fm=nm.sqr(sm);cm<om&&!nm.eql(fm,nm.ONE);cm++)fm=nm.sqr(fm);const hm=nm.pow(im,_1n$a<<BigInt(om-cm-1));im=nm.sqr(hm),am=nm.mul(am,hm),sm=nm.mul(sm,im),om=cm}return am}}function FpSqrt$1(r){if(r%_4n$2===_3n$3){const s=(r+_1n$a)/_4n$2;return function(Nf,ip){const em=Nf.pow(ip,s);if(!Nf.eql(Nf.sqr(em),ip))throw new Error("Cannot find square root");return em}}if(r%_8n$3===_5n$2){const s=(r-_5n$2)/_8n$3;return function(Nf,ip){const em=Nf.mul(ip,_2n$6),tm=Nf.pow(em,s),nm=Nf.mul(ip,tm),rm=Nf.mul(Nf.mul(nm,_2n$6),tm),om=Nf.mul(nm,Nf.sub(rm,Nf.ONE));if(!Nf.eql(Nf.sqr(om),ip))throw new Error("Cannot find square root");return om}}return tonelliShanks$1(r)}const FIELD_FIELDS$1=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function validateField$1(r){const s={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},sf=FIELD_FIELDS$1.reduce((Nf,ip)=>(Nf[ip]="function",Nf),s);return validateObject$1(r,sf)}function FpPow$1(r,s,sf){if(sf<_0n$7)throw new Error("invalid exponent, negatives unsupported");if(sf===_0n$7)return r.ONE;if(sf===_1n$a)return s;let Nf=r.ONE,ip=s;for(;sf>_0n$7;)sf&_1n$a&&(Nf=r.mul(Nf,ip)),ip=r.sqr(ip),sf>>=_1n$a;return Nf}function FpInvertBatch$1(r,s){const sf=new Array(s.length),Nf=s.reduce((em,tm,nm)=>r.is0(tm)?em:(sf[nm]=em,r.mul(em,tm)),r.ONE),ip=r.inv(Nf);return s.reduceRight((em,tm,nm)=>r.is0(tm)?em:(sf[nm]=r.mul(em,sf[nm]),r.mul(em,tm)),ip),sf}function nLength$1(r,s){const sf=s!==void 0?s:r.toString(2).length,Nf=Math.ceil(sf/8);return{nBitLength:sf,nByteLength:Nf}}function Field$1(r,s,sf=!1,Nf={}){if(r<=_0n$7)throw new Error("invalid field: expected ORDER > 0, got "+r);const{nBitLength:ip,nByteLength:em}=nLength$1(r,s);if(em>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let tm;const nm=Object.freeze({ORDER:r,BITS:ip,BYTES:em,MASK:bitMask$1(ip),ZERO:_0n$7,ONE:_1n$a,create:rm=>mod$1(rm,r),isValid:rm=>{if(typeof rm!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof rm);return _0n$7<=rm&&rm<r},is0:rm=>rm===_0n$7,isOdd:rm=>(rm&_1n$a)===_1n$a,neg:rm=>mod$1(-rm,r),eql:(rm,om)=>rm===om,sqr:rm=>mod$1(rm*rm,r),add:(rm,om)=>mod$1(rm+om,r),sub:(rm,om)=>mod$1(rm-om,r),mul:(rm,om)=>mod$1(rm*om,r),pow:(rm,om)=>FpPow$1(nm,rm,om),div:(rm,om)=>mod$1(rm*invert$1(om,r),r),sqrN:rm=>rm*rm,addN:(rm,om)=>rm+om,subN:(rm,om)=>rm-om,mulN:(rm,om)=>rm*om,inv:rm=>invert$1(rm,r),sqrt:Nf.sqrt||(rm=>(tm||(tm=FpSqrt$1(r)),tm(nm,rm))),invertBatch:rm=>FpInvertBatch$1(nm,rm),cmov:(rm,om,im)=>im?om:rm,toBytes:rm=>sf?numberToBytesLE$1(rm,em):numberToBytesBE$1(rm,em),fromBytes:rm=>{if(rm.length!==em)throw new Error("Field.fromBytes: expected "+em+" bytes, got "+rm.length);return sf?bytesToNumberLE$1(rm):bytesToNumberBE$1(rm)}});return Object.freeze(nm)}function getFieldBytesLength$1(r){if(typeof r!="bigint")throw new Error("field order must be bigint");const s=r.toString(2).length;return Math.ceil(s/8)}function getMinHashLength$1(r){const s=getFieldBytesLength$1(r);return s+Math.ceil(s/2)}function mapHashToField$1(r,s,sf=!1){const Nf=r.length,ip=getFieldBytesLength$1(s),em=getMinHashLength$1(s);if(Nf<16||Nf<em||Nf>1024)throw new Error("expected "+em+"-1024 bytes of input, got "+Nf);const tm=sf?bytesToNumberBE$1(r):bytesToNumberLE$1(r),nm=mod$1(tm,s-_1n$a)+_1n$a;return sf?numberToBytesLE$1(nm,ip):numberToBytesBE$1(nm,ip)}function validateOpts$3(r){const{Fp:s,mds:sf,reversePartialPowIdx:Nf,roundConstants:ip}=r,{roundsFull:em,roundsPartial:tm,sboxPower:nm,t:rm}=r;validateField$1(s);for(const hm of["t","roundsFull","roundsPartial"])if(typeof r[hm]!="number"||!Number.isSafeInteger(r[hm]))throw new Error("invalid number "+hm);if(!Array.isArray(sf)||sf.length!==rm)throw new Error("Poseidon: invalid MDS matrix");const om=sf.map(hm=>{if(!Array.isArray(hm)||hm.length!==rm)throw new Error("invalid MDS matrix row: "+hm);return hm.map(fm=>{if(typeof fm!="bigint")throw new Error("invalid MDS matrix bigint: "+fm);return s.create(fm)})});if(Nf!==void 0&&typeof Nf!="boolean")throw new Error("invalid param reversePartialPowIdx="+Nf);if(em&1)throw new Error("roundsFull is not even"+em);const im=em+tm;if(!Array.isArray(ip)||ip.length!==im)throw new Error("Poseidon: invalid round constants");const am=ip.map(hm=>{if(!Array.isArray(hm)||hm.length!==rm)throw new Error("invalid round constants");return hm.map(fm=>{if(typeof fm!="bigint"||!s.isValid(fm))throw new Error("invalid round constant");return s.create(fm)})});if(!nm||![3,5,7].includes(nm))throw new Error("invalid sboxPower");const sm=BigInt(nm);let cm=hm=>FpPow$1(s,hm,sm);return nm===3?cm=hm=>s.mul(s.sqrN(hm),hm):nm===5&&(cm=hm=>s.mul(s.sqrN(s.sqrN(hm)),hm)),Object.freeze({...r,rounds:im,sboxFn:cm,roundConstants:am,mds:om})}function splitConstants(r,s){if(typeof s!="number")throw new Error("poseidonSplitConstants: invalid t");if(!Array.isArray(r)||r.length%s)throw new Error("poseidonSplitConstants: invalid rc");const sf=[];let Nf=[];for(let ip=0;ip<r.length;ip++)Nf.push(r[ip]),Nf.length===s&&(sf.push(Nf),Nf=[]);return sf}function poseidon(r){const s=validateOpts$3(r),{Fp:sf,mds:Nf,roundConstants:ip,rounds:em,roundsPartial:tm,sboxFn:nm,t:rm}=s,om=s.roundsFull/2,im=s.reversePartialPowIdx?rm-1:0,am=(cm,hm,fm)=>(cm=cm.map((pm,mm)=>sf.add(pm,ip[fm][mm])),hm?cm=cm.map(pm=>nm(pm)):cm[im]=nm(cm[im]),cm=Nf.map(pm=>pm.reduce((mm,_m,ym)=>sf.add(mm,sf.mulN(_m,cm[ym])),sf.ZERO)),cm),sm=function(hm){if(!Array.isArray(hm)||hm.length!==rm)throw new Error("invalid values, expected array of bigints with length "+rm);hm=hm.map(pm=>{if(typeof pm!="bigint")throw new Error("invalid bigint="+pm);return sf.create(pm)});let fm=0;for(let pm=0;pm<om;pm++)hm=am(hm,!0,fm++);for(let pm=0;pm<tm;pm++)hm=am(hm,!1,fm++);for(let pm=0;pm<om;pm++)hm=am(hm,!0,fm++);if(fm!==em)throw new Error("invalid number of rounds");return hm};return sm.roundConstants=ip,sm}const poseidon$1=Object.freeze(Object.defineProperty({__proto__:null,poseidon,splitConstants,validateOpts:validateOpts$3},Symbol.toStringTag,{value:"Module"}));const _0n$6=BigInt(0),_1n$9=BigInt(1);function constTimeNegate$1(r,s){const sf=s.negate();return r?sf:s}function validateW$1(r,s){if(!Number.isSafeInteger(r)||r<=0||r>s)throw new Error("invalid window size, expected [1.."+s+"], got W="+r)}function calcWOpts$1(r,s){validateW$1(r,s);const sf=Math.ceil(s/r)+1,Nf=2**(r-1);return{windows:sf,windowSize:Nf}}function validateMSMPoints$1(r,s){if(!Array.isArray(r))throw new Error("array expected");r.forEach((sf,Nf)=>{if(!(sf instanceof s))throw new Error("invalid point at index "+Nf)})}function validateMSMScalars$1(r,s){if(!Array.isArray(r))throw new Error("array of scalars expected");r.forEach((sf,Nf)=>{if(!s.isValid(sf))throw new Error("invalid scalar at index "+Nf)})}const pointPrecomputes$1=new WeakMap,pointWindowSizes$1=new WeakMap;function getW$1(r){return pointWindowSizes$1.get(r)||1}function wNAF$1(r,s){return{constTimeNegate:constTimeNegate$1,hasPrecomputes(sf){return getW$1(sf)!==1},unsafeLadder(sf,Nf,ip=r.ZERO){let em=sf;for(;Nf>_0n$6;)Nf&_1n$9&&(ip=ip.add(em)),em=em.double(),Nf>>=_1n$9;return ip},precomputeWindow(sf,Nf){const{windows:ip,windowSize:em}=calcWOpts$1(Nf,s),tm=[];let nm=sf,rm=nm;for(let om=0;om<ip;om++){rm=nm,tm.push(rm);for(let im=1;im<em;im++)rm=rm.add(nm),tm.push(rm);nm=rm.double()}return tm},wNAF(sf,Nf,ip){const{windows:em,windowSize:tm}=calcWOpts$1(sf,s);let nm=r.ZERO,rm=r.BASE;const om=BigInt(2**sf-1),im=2**sf,am=BigInt(sf);for(let sm=0;sm<em;sm++){const cm=sm*tm;let hm=Number(ip&om);ip>>=am,hm>tm&&(hm-=im,ip+=_1n$9);const fm=cm,pm=cm+Math.abs(hm)-1,mm=sm%2!==0,_m=hm<0;hm===0?rm=rm.add(constTimeNegate$1(mm,Nf[fm])):nm=nm.add(constTimeNegate$1(_m,Nf[pm]))}return{p:nm,f:rm}},wNAFUnsafe(sf,Nf,ip,em=r.ZERO){const{windows:tm,windowSize:nm}=calcWOpts$1(sf,s),rm=BigInt(2**sf-1),om=2**sf,im=BigInt(sf);for(let am=0;am<tm;am++){const sm=am*nm;if(ip===_0n$6)break;let cm=Number(ip&rm);if(ip>>=im,cm>nm&&(cm-=om,ip+=_1n$9),cm===0)continue;let hm=Nf[sm+Math.abs(cm)-1];cm<0&&(hm=hm.negate()),em=em.add(hm)}return em},getPrecomputes(sf,Nf,ip){let em=pointPrecomputes$1.get(Nf);return em||(em=this.precomputeWindow(Nf,sf),sf!==1&&pointPrecomputes$1.set(Nf,ip(em))),em},wNAFCached(sf,Nf,ip){const em=getW$1(sf);return this.wNAF(em,this.getPrecomputes(em,sf,ip),Nf)},wNAFCachedUnsafe(sf,Nf,ip,em){const tm=getW$1(sf);return tm===1?this.unsafeLadder(sf,Nf,em):this.wNAFUnsafe(tm,this.getPrecomputes(tm,sf,ip),Nf,em)},setWindowSize(sf,Nf){validateW$1(Nf,s),pointWindowSizes$1.set(sf,Nf),pointPrecomputes$1.delete(sf)}}}function pippenger$1(r,s,sf,Nf){if(validateMSMPoints$1(sf,r),validateMSMScalars$1(Nf,s),sf.length!==Nf.length)throw new Error("arrays of points and scalars must have equal length");const ip=r.ZERO,em=bitLen$1(BigInt(sf.length)),tm=em>12?em-3:em>4?em-2:em?2:1,nm=(1<<tm)-1,rm=new Array(nm+1).fill(ip),om=Math.floor((s.BITS-1)/tm)*tm;let im=ip;for(let am=om;am>=0;am-=tm){rm.fill(ip);for(let cm=0;cm<Nf.length;cm++){const hm=Nf[cm],fm=Number(hm>>BigInt(am)&BigInt(nm));rm[fm]=rm[fm].add(sf[cm])}let sm=ip;for(let cm=rm.length-1,hm=ip;cm>0;cm--)hm=hm.add(rm[cm]),sm=sm.add(hm);if(im=im.add(sm),am!==0)for(let cm=0;cm<tm;cm++)im=im.double()}return im}function validateBasic$1(r){return validateField$1(r.Fp),validateObject$1(r,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...nLength$1(r.n,r.nBitLength),...r,p:r.Fp.ORDER})}function validateSigVerOpts$1(r){r.lowS!==void 0&&abool$1("lowS",r.lowS),r.prehash!==void 0&&abool$1("prehash",r.prehash)}function validatePointOpts$1(r){const s=validateBasic$1(r);validateObject$1(s,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:sf,Fp:Nf,a:ip}=s;if(sf){if(!Nf.eql(ip,Nf.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof sf!="object"||typeof sf.beta!="bigint"||typeof sf.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...s})}const{bytesToNumberBE:b2n,hexToBytes:h2b}=ut$3,DER$1={Err:class extends Error{constructor(s=""){super(s)}},_tlv:{encode:(r,s)=>{const{Err:sf}=DER$1;if(r<0||r>256)throw new sf("tlv.encode: wrong tag");if(s.length&1)throw new sf("tlv.encode: unpadded data");const Nf=s.length/2,ip=numberToHexUnpadded$1(Nf);if(ip.length/2&128)throw new sf("tlv.encode: long form length too big");const em=Nf>127?numberToHexUnpadded$1(ip.length/2|128):"";return numberToHexUnpadded$1(r)+em+ip+s},decode(r,s){const{Err:sf}=DER$1;let Nf=0;if(r<0||r>256)throw new sf("tlv.encode: wrong tag");if(s.length<2||s[Nf++]!==r)throw new sf("tlv.decode: wrong tlv");const ip=s[Nf++],em=!!(ip&128);let tm=0;if(!em)tm=ip;else{const rm=ip&127;if(!rm)throw new sf("tlv.decode(long): indefinite length not supported");if(rm>4)throw new sf("tlv.decode(long): byte length is too big");const om=s.subarray(Nf,Nf+rm);if(om.length!==rm)throw new sf("tlv.decode: length bytes not complete");if(om[0]===0)throw new sf("tlv.decode(long): zero leftmost byte");for(const im of om)tm=tm<<8|im;if(Nf+=rm,tm<128)throw new sf("tlv.decode(long): not minimal encoding")}const nm=s.subarray(Nf,Nf+tm);if(nm.length!==tm)throw new sf("tlv.decode: wrong value length");return{v:nm,l:s.subarray(Nf+tm)}}},_int:{encode(r){const{Err:s}=DER$1;if(r<_0n$5)throw new s("integer: negative integers are not allowed");let sf=numberToHexUnpadded$1(r);if(Number.parseInt(sf[0],16)&8&&(sf="00"+sf),sf.length&1)throw new s("unexpected DER parsing assertion: unpadded hex");return sf},decode(r){const{Err:s}=DER$1;if(r[0]&128)throw new s("invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new s("invalid signature integer: unnecessary leading zero");return b2n(r)}},toSig(r){const{Err:s,_int:sf,_tlv:Nf}=DER$1,ip=typeof r=="string"?h2b(r):r;abytes$3(ip);const{v:em,l:tm}=Nf.decode(48,ip);if(tm.length)throw new s("invalid signature: left bytes after parsing");const{v:nm,l:rm}=Nf.decode(2,em),{v:om,l:im}=Nf.decode(2,rm);if(im.length)throw new s("invalid signature: left bytes after parsing");return{r:sf.decode(nm),s:sf.decode(om)}},hexFromSig(r){const{_tlv:s,_int:sf}=DER$1,Nf=s.encode(2,sf.encode(r.r)),ip=s.encode(2,sf.encode(r.s)),em=Nf+ip;return s.encode(48,em)}},_0n$5=BigInt(0),_1n$8=BigInt(1),_2n$5=BigInt(2),_3n$2=BigInt(3),_4n$1=BigInt(4);function weierstrassPoints$1(r){const s=validatePointOpts$1(r),{Fp:sf}=s,Nf=Field$1(s.n,s.nBitLength),ip=s.toBytes||((fm,pm,mm)=>{const _m=pm.toAffine();return concatBytes$3(Uint8Array.from([4]),sf.toBytes(_m.x),sf.toBytes(_m.y))}),em=s.fromBytes||(fm=>{const pm=fm.subarray(1),mm=sf.fromBytes(pm.subarray(0,sf.BYTES)),_m=sf.fromBytes(pm.subarray(sf.BYTES,2*sf.BYTES));return{x:mm,y:_m}});function tm(fm){const{a:pm,b:mm}=s,_m=sf.sqr(fm),ym=sf.mul(_m,fm);return sf.add(sf.add(ym,sf.mul(fm,pm)),mm)}if(!sf.eql(sf.sqr(s.Gy),tm(s.Gx)))throw new Error("bad generator point: equation left != right");function nm(fm){return inRange$2(fm,_1n$8,s.n)}function rm(fm){const{allowedPrivateKeyLengths:pm,nByteLength:mm,wrapPrivateKey:_m,n:ym}=s;if(pm&&typeof fm!="bigint"){if(isBytes$3(fm)&&(fm=bytesToHex$1(fm)),typeof fm!="string"||!pm.includes(fm.length))throw new Error("invalid private key");fm=fm.padStart(mm*2,"0")}let Sm;try{Sm=typeof fm=="bigint"?fm:bytesToNumberBE$1(ensureBytes$2("private key",fm,mm))}catch{throw new Error("invalid private key, expected hex or "+mm+" bytes, got "+typeof fm)}return _m&&(Sm=mod$1(Sm,ym)),aInRange$1("private key",Sm,_1n$8,ym),Sm}function om(fm){if(!(fm instanceof sm))throw new Error("ProjectivePoint expected")}const im=memoized$1((fm,pm)=>{const{px:mm,py:_m,pz:ym}=fm;if(sf.eql(ym,sf.ONE))return{x:mm,y:_m};const Sm=fm.is0();pm==null&&(pm=Sm?sf.ONE:sf.inv(ym));const jm=sf.mul(mm,pm),Pm=sf.mul(_m,pm),Bm=sf.mul(ym,pm);if(Sm)return{x:sf.ZERO,y:sf.ZERO};if(!sf.eql(Bm,sf.ONE))throw new Error("invZ was invalid");return{x:jm,y:Pm}}),am=memoized$1(fm=>{if(fm.is0()){if(s.allowInfinityPoint&&!sf.is0(fm.py))return;throw new Error("bad point: ZERO")}const{x:pm,y:mm}=fm.toAffine();if(!sf.isValid(pm)||!sf.isValid(mm))throw new Error("bad point: x or y not FE");const _m=sf.sqr(mm),ym=tm(pm);if(!sf.eql(_m,ym))throw new Error("bad point: equation left != right");if(!fm.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class sm{constructor(pm,mm,_m){if(this.px=pm,this.py=mm,this.pz=_m,pm==null||!sf.isValid(pm))throw new Error("x required");if(mm==null||!sf.isValid(mm))throw new Error("y required");if(_m==null||!sf.isValid(_m))throw new Error("z required");Object.freeze(this)}static fromAffine(pm){const{x:mm,y:_m}=pm||{};if(!pm||!sf.isValid(mm)||!sf.isValid(_m))throw new Error("invalid affine point");if(pm instanceof sm)throw new Error("projective point not allowed");const ym=Sm=>sf.eql(Sm,sf.ZERO);return ym(mm)&&ym(_m)?sm.ZERO:new sm(mm,_m,sf.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(pm){const mm=sf.invertBatch(pm.map(_m=>_m.pz));return pm.map((_m,ym)=>_m.toAffine(mm[ym])).map(sm.fromAffine)}static fromHex(pm){const mm=sm.fromAffine(em(ensureBytes$2("pointHex",pm)));return mm.assertValidity(),mm}static fromPrivateKey(pm){return sm.BASE.multiply(rm(pm))}static msm(pm,mm){return pippenger$1(sm,Nf,pm,mm)}_setWindowSize(pm){hm.setWindowSize(this,pm)}assertValidity(){am(this)}hasEvenY(){const{y:pm}=this.toAffine();if(sf.isOdd)return!sf.isOdd(pm);throw new Error("Field doesn't support isOdd")}equals(pm){om(pm);const{px:mm,py:_m,pz:ym}=this,{px:Sm,py:jm,pz:Pm}=pm,Bm=sf.eql(sf.mul(mm,Pm),sf.mul(Sm,ym)),qm=sf.eql(sf.mul(_m,Pm),sf.mul(jm,ym));return Bm&&qm}negate(){return new sm(this.px,sf.neg(this.py),this.pz)}double(){const{a:pm,b:mm}=s,_m=sf.mul(mm,_3n$2),{px:ym,py:Sm,pz:jm}=this;let Pm=sf.ZERO,Bm=sf.ZERO,qm=sf.ZERO,Rm=sf.mul(ym,ym),Dm=sf.mul(Sm,Sm),Um=sf.mul(jm,jm),Lm=sf.mul(ym,Sm);return Lm=sf.add(Lm,Lm),qm=sf.mul(ym,jm),qm=sf.add(qm,qm),Pm=sf.mul(pm,qm),Bm=sf.mul(_m,Um),Bm=sf.add(Pm,Bm),Pm=sf.sub(Dm,Bm),Bm=sf.add(Dm,Bm),Bm=sf.mul(Pm,Bm),Pm=sf.mul(Lm,Pm),qm=sf.mul(_m,qm),Um=sf.mul(pm,Um),Lm=sf.sub(Rm,Um),Lm=sf.mul(pm,Lm),Lm=sf.add(Lm,qm),qm=sf.add(Rm,Rm),Rm=sf.add(qm,Rm),Rm=sf.add(Rm,Um),Rm=sf.mul(Rm,Lm),Bm=sf.add(Bm,Rm),Um=sf.mul(Sm,jm),Um=sf.add(Um,Um),Rm=sf.mul(Um,Lm),Pm=sf.sub(Pm,Rm),qm=sf.mul(Um,Dm),qm=sf.add(qm,qm),qm=sf.add(qm,qm),new sm(Pm,Bm,qm)}add(pm){om(pm);const{px:mm,py:_m,pz:ym}=this,{px:Sm,py:jm,pz:Pm}=pm;let Bm=sf.ZERO,qm=sf.ZERO,Rm=sf.ZERO;const Dm=s.a,Um=sf.mul(s.b,_3n$2);let Lm=sf.mul(mm,Sm),Im=sf.mul(_m,jm),dm=sf.mul(ym,Pm),gm=sf.add(mm,_m),km=sf.add(Sm,jm);gm=sf.mul(gm,km),km=sf.add(Lm,Im),gm=sf.sub(gm,km),km=sf.add(mm,ym);let Mm=sf.add(Sm,Pm);return km=sf.mul(km,Mm),Mm=sf.add(Lm,dm),km=sf.sub(km,Mm),Mm=sf.add(_m,ym),Bm=sf.add(jm,Pm),Mm=sf.mul(Mm,Bm),Bm=sf.add(Im,dm),Mm=sf.sub(Mm,Bm),Rm=sf.mul(Dm,km),Bm=sf.mul(Um,dm),Rm=sf.add(Bm,Rm),Bm=sf.sub(Im,Rm),Rm=sf.add(Im,Rm),qm=sf.mul(Bm,Rm),Im=sf.add(Lm,Lm),Im=sf.add(Im,Lm),dm=sf.mul(Dm,dm),km=sf.mul(Um,km),Im=sf.add(Im,dm),dm=sf.sub(Lm,dm),dm=sf.mul(Dm,dm),km=sf.add(km,dm),Lm=sf.mul(Im,km),qm=sf.add(qm,Lm),Lm=sf.mul(Mm,km),Bm=sf.mul(gm,Bm),Bm=sf.sub(Bm,Lm),Lm=sf.mul(gm,Im),Rm=sf.mul(Mm,Rm),Rm=sf.add(Rm,Lm),new sm(Bm,qm,Rm)}subtract(pm){return this.add(pm.negate())}is0(){return this.equals(sm.ZERO)}wNAF(pm){return hm.wNAFCached(this,pm,sm.normalizeZ)}multiplyUnsafe(pm){const{endo:mm,n:_m}=s;aInRange$1("scalar",pm,_0n$5,_m);const ym=sm.ZERO;if(pm===_0n$5)return ym;if(this.is0()||pm===_1n$8)return this;if(!mm||hm.hasPrecomputes(this))return hm.wNAFCachedUnsafe(this,pm,sm.normalizeZ);let{k1neg:Sm,k1:jm,k2neg:Pm,k2:Bm}=mm.splitScalar(pm),qm=ym,Rm=ym,Dm=this;for(;jm>_0n$5||Bm>_0n$5;)jm&_1n$8&&(qm=qm.add(Dm)),Bm&_1n$8&&(Rm=Rm.add(Dm)),Dm=Dm.double(),jm>>=_1n$8,Bm>>=_1n$8;return Sm&&(qm=qm.negate()),Pm&&(Rm=Rm.negate()),Rm=new sm(sf.mul(Rm.px,mm.beta),Rm.py,Rm.pz),qm.add(Rm)}multiply(pm){const{endo:mm,n:_m}=s;aInRange$1("scalar",pm,_1n$8,_m);let ym,Sm;if(mm){const{k1neg:jm,k1:Pm,k2neg:Bm,k2:qm}=mm.splitScalar(pm);let{p:Rm,f:Dm}=this.wNAF(Pm),{p:Um,f:Lm}=this.wNAF(qm);Rm=hm.constTimeNegate(jm,Rm),Um=hm.constTimeNegate(Bm,Um),Um=new sm(sf.mul(Um.px,mm.beta),Um.py,Um.pz),ym=Rm.add(Um),Sm=Dm.add(Lm)}else{const{p:jm,f:Pm}=this.wNAF(pm);ym=jm,Sm=Pm}return sm.normalizeZ([ym,Sm])[0]}multiplyAndAddUnsafe(pm,mm,_m){const ym=sm.BASE,Sm=(Pm,Bm)=>Bm===_0n$5||Bm===_1n$8||!Pm.equals(ym)?Pm.multiplyUnsafe(Bm):Pm.multiply(Bm),jm=Sm(this,mm).add(Sm(pm,_m));return jm.is0()?void 0:jm}toAffine(pm){return im(this,pm)}isTorsionFree(){const{h:pm,isTorsionFree:mm}=s;if(pm===_1n$8)return!0;if(mm)return mm(sm,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:pm,clearCofactor:mm}=s;return pm===_1n$8?this:mm?mm(sm,this):this.multiplyUnsafe(s.h)}toRawBytes(pm=!0){return abool$1("isCompressed",pm),this.assertValidity(),ip(sm,this,pm)}toHex(pm=!0){return abool$1("isCompressed",pm),bytesToHex$1(this.toRawBytes(pm))}}sm.BASE=new sm(s.Gx,s.Gy,sf.ONE),sm.ZERO=new sm(sf.ZERO,sf.ONE,sf.ZERO);const cm=s.nBitLength,hm=wNAF$1(sm,s.endo?Math.ceil(cm/2):cm);return{CURVE:s,ProjectivePoint:sm,normPrivateKeyToScalar:rm,weierstrassEquation:tm,isWithinCurveOrder:nm}}function validateOpts$2(r){const s=validateBasic$1(r);return validateObject$1(s,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...s})}function weierstrass$1(r){const s=validateOpts$2(r),{Fp:sf,n:Nf}=s,ip=sf.BYTES+1,em=2*sf.BYTES+1;function tm(dm){return mod$1(dm,Nf)}function nm(dm){return invert$1(dm,Nf)}const{ProjectivePoint:rm,normPrivateKeyToScalar:om,weierstrassEquation:im,isWithinCurveOrder:am}=weierstrassPoints$1({...s,toBytes(dm,gm,km){const Mm=gm.toAffine(),bm=sf.toBytes(Mm.x),Em=concatBytes$3;return abool$1("isCompressed",km),km?Em(Uint8Array.from([gm.hasEvenY()?2:3]),bm):Em(Uint8Array.from([4]),bm,sf.toBytes(Mm.y))},fromBytes(dm){const gm=dm.length,km=dm[0],Mm=dm.subarray(1);if(gm===ip&&(km===2||km===3)){const bm=bytesToNumberBE$1(Mm);if(!inRange$2(bm,_1n$8,sf.ORDER))throw new Error("Point is not on curve");const Em=im(bm);let $m;try{$m=sf.sqrt(Em)}catch(um){const wm=um instanceof Error?": "+um.message:"";throw new Error("Point is not on curve"+wm)}const Am=($m&_1n$8)===_1n$8;return(km&1)===1!==Am&&($m=sf.neg($m)),{x:bm,y:$m}}else if(gm===em&&km===4){const bm=sf.fromBytes(Mm.subarray(0,sf.BYTES)),Em=sf.fromBytes(Mm.subarray(sf.BYTES,2*sf.BYTES));return{x:bm,y:Em}}else{const bm=ip,Em=em;throw new Error("invalid Point, expected length of "+bm+", or uncompressed "+Em+", got "+gm)}}}),sm=dm=>bytesToHex$1(numberToBytesBE$1(dm,s.nByteLength));function cm(dm){const gm=Nf>>_1n$8;return dm>gm}function hm(dm){return cm(dm)?tm(-dm):dm}const fm=(dm,gm,km)=>bytesToNumberBE$1(dm.slice(gm,km));class pm{constructor(gm,km,Mm){this.r=gm,this.s=km,this.recovery=Mm,this.assertValidity()}static fromCompact(gm){const km=s.nByteLength;return gm=ensureBytes$2("compactSignature",gm,km*2),new pm(fm(gm,0,km),fm(gm,km,2*km))}static fromDER(gm){const{r:km,s:Mm}=DER$1.toSig(ensureBytes$2("DER",gm));return new pm(km,Mm)}assertValidity(){aInRange$1("r",this.r,_1n$8,Nf),aInRange$1("s",this.s,_1n$8,Nf)}addRecoveryBit(gm){return new pm(this.r,this.s,gm)}recoverPublicKey(gm){const{r:km,s:Mm,recovery:bm}=this,Em=Pm(ensureBytes$2("msgHash",gm));if(bm==null||![0,1,2,3].includes(bm))throw new Error("recovery id invalid");const $m=bm===2||bm===3?km+s.n:km;if($m>=sf.ORDER)throw new Error("recovery id 2 or 3 invalid");const Am=(bm&1)===0?"02":"03",lm=rm.fromHex(Am+sm($m)),um=nm($m),wm=tm(-Em*um),xm=tm(Mm*um),Tm=rm.BASE.multiplyAndAddUnsafe(lm,wm,xm);if(!Tm)throw new Error("point at infinify");return Tm.assertValidity(),Tm}hasHighS(){return cm(this.s)}normalizeS(){return this.hasHighS()?new pm(this.r,tm(-this.s),this.recovery):this}toDERRawBytes(){return hexToBytes$2(this.toDERHex())}toDERHex(){return DER$1.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return hexToBytes$2(this.toCompactHex())}toCompactHex(){return sm(this.r)+sm(this.s)}}const mm={isValidPrivateKey(dm){try{return om(dm),!0}catch{return!1}},normPrivateKeyToScalar:om,randomPrivateKey:()=>{const dm=getMinHashLength$1(s.n);return mapHashToField$1(s.randomBytes(dm),s.n)},precompute(dm=8,gm=rm.BASE){return gm._setWindowSize(dm),gm.multiply(BigInt(3)),gm}};function _m(dm,gm=!0){return rm.fromPrivateKey(dm).toRawBytes(gm)}function ym(dm){const gm=isBytes$3(dm),km=typeof dm=="string",Mm=(gm||km)&&dm.length;return gm?Mm===ip||Mm===em:km?Mm===2*ip||Mm===2*em:dm instanceof rm}function Sm(dm,gm,km=!0){if(ym(dm))throw new Error("first arg must be private key");if(!ym(gm))throw new Error("second arg must be public key");return rm.fromHex(gm).multiply(om(dm)).toRawBytes(km)}const jm=s.bits2int||function(dm){if(dm.length>8192)throw new Error("input is too large");const gm=bytesToNumberBE$1(dm),km=dm.length*8-s.nBitLength;return km>0?gm>>BigInt(km):gm},Pm=s.bits2int_modN||function(dm){return tm(jm(dm))},Bm=bitMask$1(s.nBitLength);function qm(dm){return aInRange$1("num < 2^"+s.nBitLength,dm,_0n$5,Bm),numberToBytesBE$1(dm,s.nByteLength)}function Rm(dm,gm,km=Dm){if(["recovered","canonical"].some(Hm=>Hm in km))throw new Error("sign() legacy options not supported");const{hash:Mm,randomBytes:bm}=s;let{lowS:Em,prehash:$m,extraEntropy:Am}=km;Em==null&&(Em=!0),dm=ensureBytes$2("msgHash",dm),validateSigVerOpts$1(km),$m&&(dm=ensureBytes$2("prehashed msgHash",Mm(dm)));const lm=Pm(dm),um=om(gm),wm=[qm(um),qm(lm)];if(Am!=null&&Am!==!1){const Hm=Am===!0?bm(sf.BYTES):Am;wm.push(ensureBytes$2("extraEntropy",Hm))}const xm=concatBytes$3(...wm),Tm=lm;function Om(Hm){const Km=jm(Hm);if(!am(Km))return;const Zm=nm(Km),Vm=rm.BASE.multiply(Km).toAffine(),zm=tm(Vm.x);if(zm===_0n$5)return;const Wm=tm(Zm*tm(Tm+zm*um));if(Wm===_0n$5)return;let Ym=(Vm.x===zm?0:2)|Number(Vm.y&_1n$8),Qm=Wm;return Em&&cm(Wm)&&(Qm=hm(Wm),Ym^=1),new pm(zm,Qm,Ym)}return{seed:xm,k2sig:Om}}const Dm={lowS:s.lowS,prehash:!1},Um={lowS:s.lowS,prehash:!1};function Lm(dm,gm,km=Dm){const{seed:Mm,k2sig:bm}=Rm(dm,gm,km),Em=s;return createHmacDrbg$1(Em.hash.outputLen,Em.nByteLength,Em.hmac)(Mm,bm)}rm.BASE._setWindowSize(8);function Im(dm,gm,km,Mm=Um){const bm=dm;gm=ensureBytes$2("msgHash",gm),km=ensureBytes$2("publicKey",km);const{lowS:Em,prehash:$m,format:Am}=Mm;if(validateSigVerOpts$1(Mm),"strict"in Mm)throw new Error("options.strict was renamed to lowS");if(Am!==void 0&&Am!=="compact"&&Am!=="der")throw new Error("format must be compact or der");const lm=typeof bm=="string"||isBytes$3(bm),um=!lm&&!Am&&typeof bm=="object"&&bm!==null&&typeof bm.r=="bigint"&&typeof bm.s=="bigint";if(!lm&&!um)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let wm,xm;try{if(um&&(wm=new pm(bm.r,bm.s)),lm){try{Am!=="compact"&&(wm=pm.fromDER(bm))}catch(Ym){if(!(Ym instanceof DER$1.Err))throw Ym}!wm&&Am!=="der"&&(wm=pm.fromCompact(bm))}xm=rm.fromHex(km)}catch{return!1}if(!wm||Em&&wm.hasHighS())return!1;$m&&(gm=s.hash(gm));const{r:Tm,s:Om}=wm,Hm=Pm(gm),Km=nm(Om),Zm=tm(Hm*Km),Vm=tm(Tm*Km),zm=rm.BASE.multiplyAndAddUnsafe(xm,Zm,Vm)?.toAffine();return zm?tm(zm.x)===Tm:!1}return{CURVE:s,getPublicKey:_m,getSharedSecret:Sm,sign:Lm,verify:Im,ProjectivePoint:rm,Signature:pm,utils:mm}}function SWUFpSqrtRatio(r,s){const sf=r.ORDER;let Nf=_0n$5;for(let hm=sf-_1n$8;hm%_2n$5===_0n$5;hm/=_2n$5)Nf+=_1n$8;const ip=Nf,em=_2n$5<<ip-_1n$8-_1n$8,tm=em*_2n$5,nm=(sf-_1n$8)/tm,rm=(nm-_1n$8)/_2n$5,om=tm-_1n$8,im=em,am=r.pow(s,nm),sm=r.pow(s,(nm+_1n$8)/_2n$5);let cm=(hm,fm)=>{let pm=am,mm=r.pow(fm,om),_m=r.sqr(mm);_m=r.mul(_m,fm);let ym=r.mul(hm,_m);ym=r.pow(ym,rm),ym=r.mul(ym,mm),mm=r.mul(ym,fm),_m=r.mul(ym,hm);let Sm=r.mul(_m,mm);ym=r.pow(Sm,im);let jm=r.eql(ym,r.ONE);mm=r.mul(_m,sm),ym=r.mul(Sm,pm),_m=r.cmov(mm,_m,jm),Sm=r.cmov(ym,Sm,jm);for(let Pm=ip;Pm>_1n$8;Pm--){let Bm=Pm-_2n$5;Bm=_2n$5<<Bm-_1n$8;let qm=r.pow(Sm,Bm);const Rm=r.eql(qm,r.ONE);mm=r.mul(_m,pm),pm=r.mul(pm,pm),qm=r.mul(Sm,pm),_m=r.cmov(mm,_m,Rm),Sm=r.cmov(qm,Sm,Rm)}return{isValid:jm,value:_m}};if(r.ORDER%_4n$1===_3n$2){const hm=(r.ORDER-_3n$2)/_4n$1,fm=r.sqrt(r.neg(s));cm=(pm,mm)=>{let _m=r.sqr(mm);const ym=r.mul(pm,mm);_m=r.mul(_m,ym);let Sm=r.pow(_m,hm);Sm=r.mul(Sm,ym);const jm=r.mul(Sm,fm),Pm=r.mul(r.sqr(Sm),mm),Bm=r.eql(Pm,pm);let qm=r.cmov(jm,Sm,Bm);return{isValid:Bm,value:qm}}}return cm}function mapToCurveSimpleSWU(r,s){if(validateField$1(r),!r.isValid(s.A)||!r.isValid(s.B)||!r.isValid(s.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const sf=SWUFpSqrtRatio(r,s.Z);if(!r.isOdd)throw new Error("Fp.isOdd is not implemented!");return Nf=>{let ip,em,tm,nm,rm,om,im,am;ip=r.sqr(Nf),ip=r.mul(ip,s.Z),em=r.sqr(ip),em=r.add(em,ip),tm=r.add(em,r.ONE),tm=r.mul(tm,s.B),nm=r.cmov(s.Z,r.neg(em),!r.eql(em,r.ZERO)),nm=r.mul(nm,s.A),em=r.sqr(tm),om=r.sqr(nm),rm=r.mul(om,s.A),em=r.add(em,rm),em=r.mul(em,tm),om=r.mul(om,nm),rm=r.mul(om,s.B),em=r.add(em,rm),im=r.mul(ip,tm);const{isValid:sm,value:cm}=sf(em,om);am=r.mul(ip,Nf),am=r.mul(am,cm),im=r.cmov(im,tm,sm),am=r.cmov(am,cm,sm);const hm=r.isOdd(Nf)===r.isOdd(am);return am=r.cmov(r.neg(am),am,hm),im=r.div(im,nm),{x:im,y:am}}}const weierstrass$2=Object.freeze(Object.defineProperty({__proto__:null,DER:DER$1,SWUFpSqrtRatio,mapToCurveSimpleSWU,weierstrass:weierstrass$1,weierstrassPoints:weierstrassPoints$1},Symbol.toStringTag,{value:"Module"}));let HMAC$1=class extends Hash$1{constructor(s,sf){super(),this.finished=!1,this.destroyed=!1,ahash$1(s);const Nf=toBytes$1(sf);if(this.iHash=s.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const ip=this.blockLen,em=new Uint8Array(ip);em.set(Nf.length>ip?s.create().update(Nf).digest():Nf);for(let tm=0;tm<em.length;tm++)em[tm]^=54;this.iHash.update(em),this.oHash=s.create();for(let tm=0;tm<em.length;tm++)em[tm]^=106;this.oHash.update(em),em.fill(0)}update(s){return aexists$1(this),this.iHash.update(s),this}digestInto(s){aexists$1(this),abytes$2(s,this.outputLen),this.finished=!0,this.iHash.digestInto(s),this.oHash.update(s),this.oHash.digestInto(s),this.destroy()}digest(){const s=new Uint8Array(this.oHash.outputLen);return this.digestInto(s),s}_cloneInto(s){s||(s=Object.create(Object.getPrototypeOf(this),{}));const{oHash:sf,iHash:Nf,finished:ip,destroyed:em,blockLen:tm,outputLen:nm}=this;return s=s,s.finished=ip,s.destroyed=em,s.blockLen=tm,s.outputLen=nm,s.oHash=sf._cloneInto(s.oHash),s.iHash=Nf._cloneInto(s.iHash),s}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const hmac$1=(r,s,sf)=>new HMAC$1(r,s).update(sf).digest();hmac$1.create=(r,s)=>new HMAC$1(r,s);function getHash$1(r){return{hash:r,hmac:(s,...sf)=>hmac$1(r,s,concatBytes$2(...sf)),randomBytes:randomBytes$1}}function createCurve$1(r,s){const sf=Nf=>weierstrass$1({...r,...getHash$1(Nf)});return Object.freeze({...sf(s),create:sf})}const CURVE_ORDER=BigInt("3618502788666131213697322783095070105526743751716087489154079457884512865583"),MAX_VALUE=BigInt("0x800000000000000000000000000000000000000000000000000000000000000"),nBitLength=252;function bits2int(r){for(;r[0]===0;)r=r.subarray(1);const s=r.length*8-nBitLength,sf=bytesToNumberBE$1(r);return s>0?sf>>BigInt(s):sf}function hex0xToBytes(r){return typeof r=="string"&&(r=strip0x(r),r.length&1&&(r="0"+r)),hexToBytes$2(r)}const curve=weierstrass$1({a:BigInt(1),b:BigInt("3141592653589793238462643383279502884197169399375105820974944592307816406665"),Fp:Field$1(BigInt("0x800000000000011000000000000000000000000000000000000000000000001")),n:CURVE_ORDER,nBitLength,Gx:BigInt("874739451078007766457464989774322083649278607533249481151382481072868806602"),Gy:BigInt("152666792071518830868575557812948353041420400780739481342941381225525861407"),h:BigInt(1),lowS:!1,...getHash$1(sha256$1),bits2int,bits2int_modN:r=>{const s=bytesToNumberBE$1(r).toString(16);return s.length===63&&(r=hex0xToBytes(s+"0")),mod$1(bits2int(r),CURVE_ORDER)}}),_starkCurve=curve;function ensureBytes$1(r){return ensureBytes$2("",typeof r=="string"?hex0xToBytes(r):r)}function normalizePrivateKey(r){return bytesToHex$1(ensureBytes$1(r)).padStart(64,"0")}function getPublicKey(r,s=!1){return curve.getPublicKey(normalizePrivateKey(r),s)}function getSharedSecret(r,s){return curve.getSharedSecret(normalizePrivateKey(r),s)}function checkSignature(r){const{r:s,s:sf}=r;if(s<0n||s>=MAX_VALUE)throw new Error(`Signature.r should be [1, ${MAX_VALUE})`);const Nf=invert$1(sf,CURVE_ORDER);if(Nf<0n||Nf>=MAX_VALUE)throw new Error(`inv(Signature.s) should be [1, ${MAX_VALUE})`)}function checkMessage(r){const s=ensureBytes$1(r);if(bytesToNumberBE$1(s)>=MAX_VALUE)throw new Error(`msgHash should be [0, ${MAX_VALUE})`);return s}function sign$2(r,s,sf){const Nf=curve.sign(checkMessage(r),normalizePrivateKey(s),sf);return checkSignature(Nf),Nf}function verify$1(r,s,sf){if(!(r instanceof Signature$1)){const Nf=ensureBytes$1(r);try{r=Signature$1.fromDER(Nf)}catch(ip){if(!(ip instanceof DER$1.Err))throw ip;r=Signature$1.fromCompact(Nf)}}return checkSignature(r),curve.verify(r,checkMessage(s),ensureBytes$1(sf))}const{CURVE,ProjectivePoint,Signature:Signature$1,utils}=curve;function extractX(r){return`0x${bytesToHex$1(r.subarray(1)).replace(/^0+/gm,"")}`}function strip0x(r){return r.replace(/^0x/i,"")}function grindKey(r){const s=ensureBytes$1(r),sf=2n**256n,Nf=sf-mod$1(sf,CURVE_ORDER);for(let ip=0;;ip++){const em=sha256Num(concatBytes$3(s,numberToVarBytesBE(BigInt(ip))));if(em<Nf)return mod$1(em,CURVE_ORDER).toString(16);if(ip===1e5)throw new Error("grindKey is broken: tried 100k vals")}}function getStarkKey(r){return extractX(getPublicKey(r,!0))}function ethSigToPrivate(r){if(r=strip0x(r),r.length!==130)throw new Error("Wrong ethereum signature");return grindKey(r.substring(0,64))}const MASK_31$1=2n**31n-1n,int31=r=>Number(r&MASK_31$1);function getAccountPath(r,s,sf,Nf){const ip=int31(sha256Num(r)),em=int31(sha256Num(s)),tm=hexToNumber$1(strip0x(sf));return`m/2645'/${ip}'/${em}'/${int31(tm)}'/${int31(tm>>31n)}'/${Nf}`}const PEDERSEN_POINTS=[new ProjectivePoint(0x49ee3eba8c1600700ee1b87eb599f16716b0b1022947733551fde4050ca6804n,0x3ca0cfe4b3bc6ddf346d49d06ea0ed34e621062c0e056c1d0405d266e10268an,1n),new ProjectivePoint(0x234287dcbaffe7f969c748655fca9e58fa8120b6d56eb0c1080d17957ebe47bn,0x3b056f100f96fb21e889527d41f4e39940135dd7a6c94cc6ed0268ee89e5615n,1n),new ProjectivePoint(0x4fa56f376c83db33f9dab2656558f3399099ec1de5e3018b7a6932dba8aa378n,0x3fa0984c931c9e38113e0c0e47e4401562761f92a7a23b45168f4e80ff5b54dn,1n),new ProjectivePoint(0x4ba4cc166be8dec764910f75b45f74b40c690c74709e90f3aa372f0bd2d6997n,0x40301cf5c1751f4b971e46c4ede85fcac5c59a5ce5ae7c48151f27b24b219cn,1n),new ProjectivePoint(0x54302dcb0e6cc1c6e44cca8f61a63bb2ca65048d53fb325d36ff12c49a58202n,0x1b77b3e37d13504b348046268d8ae25ce98ad783c25561a879dcc77e99c2426n,1n)];function pedersenPrecompute(r,s){const sf=[];let Nf=r;for(let ip=0;ip<248;ip++)sf.push(Nf),Nf=Nf.double();Nf=s;for(let ip=0;ip<4;ip++)sf.push(Nf),Nf=Nf.double();return sf}const PEDERSEN_POINTS1=pedersenPrecompute(PEDERSEN_POINTS[1],PEDERSEN_POINTS[2]),PEDERSEN_POINTS2=pedersenPrecompute(PEDERSEN_POINTS[3],PEDERSEN_POINTS[4]);function pedersenArg(r){let s;if(typeof r=="bigint")s=r;else if(typeof r=="number"){if(!Number.isSafeInteger(r))throw new Error(`Invalid pedersenArg: ${r}`);s=BigInt(r)}else s=bytesToNumberBE$1(ensureBytes$1(r));if(!(0n<=s&&s<curve.CURVE.Fp.ORDER))throw new Error(`PedersenArg should be 0 <= value < CURVE.P: ${s}`);return s}function pedersenSingle(r,s,sf){let Nf=pedersenArg(s);for(let ip=0;ip<252;ip++){const em=sf[ip];if(!em)throw new Error("invalid constant index");if(em.equals(r))throw new Error("Same point");(Nf&1n)!==0n&&(r=r.add(em)),Nf>>=1n}return r}function pedersen(r,s){let sf=PEDERSEN_POINTS[0];return sf=pedersenSingle(sf,r,PEDERSEN_POINTS1),sf=pedersenSingle(sf,s,PEDERSEN_POINTS2),extractX(sf.toRawBytes(!0))}const computeHashOnElements$1=(r,s=pedersen)=>[0,...r,r.length].reduce((sf,Nf)=>s(sf,Nf)),MASK_250$1=bitMask$1(250),keccak=r=>bytesToNumberBE$1(keccak_256(r))&MASK_250$1,sha256Num=r=>bytesToNumberBE$1(sha256$1(r)),Fp251=Field$1(BigInt("3618502788666131213697322783095070105623107215331596699973092056135872020481"));function poseidonRoundConstant(r,s,sf){const Nf=r.fromBytes(sha256$1(utf8ToBytes$1(`${s}${sf}`)));return r.create(Nf)}function _poseidonMDS(r,s,sf,Nf=0){const ip=[],em=[];for(let tm=0;tm<sf;tm++)ip.push(poseidonRoundConstant(r,`${s}x`,Nf*sf+tm)),em.push(poseidonRoundConstant(r,`${s}y`,Nf*sf+tm));if((new Set([...ip,...em])).size!==2*sf)throw new Error("X and Y values are not distinct");return ip.map(tm=>em.map(nm=>r.inv(r.sub(tm,nm))))}const MDS_SMALL=[[3,1,1],[1,-1,1],[1,1,-2]].map(r=>r.map(BigInt));function poseidonBasic(r,s){if(validateField$1(r.Fp),!Number.isSafeInteger(r.rate)||!Number.isSafeInteger(r.capacity))throw new Error(`Wrong poseidon opts: ${r}`);const sf=r.rate+r.capacity,Nf=r.roundsFull+r.roundsPartial,ip=[];for(let tm=0;tm<Nf;tm++){const nm=[];for(let rm=0;rm<sf;rm++)nm.push(poseidonRoundConstant(r.Fp,"Hades",sf*tm+rm));ip.push(nm)}const em=poseidon({...r,t:sf,sboxPower:3,reversePartialPowIdx:!0,mds:s,roundConstants:ip});return em.m=sf,em.rate=r.rate,em.capacity=r.capacity,em}function poseidonCreate(r,s=0){const sf=r.rate+r.capacity;if(!Number.isSafeInteger(s))throw new Error(`Wrong mdsAttempt=${s}`);return poseidonBasic(r,_poseidonMDS(r.Fp,"HadesMDS",sf,s))}const poseidonSmall=poseidonBasic({Fp:Fp251,rate:2,capacity:1,roundsFull:8,roundsPartial:83},MDS_SMALL);function poseidonHash(r,s,sf=poseidonSmall){return sf([r,s,2n])[0]}function poseidonHashFunc(r,s,sf=poseidonSmall){return numberToVarBytesBE(poseidonHash(bytesToNumberBE$1(r),bytesToNumberBE$1(s),sf))}function poseidonHashSingle(r,s=poseidonSmall){return s([r,0n,1n])[0]}function poseidonHashMany(r,s=poseidonSmall){const{m:sf,rate:Nf}=s;if(!Array.isArray(r))throw new Error("bigint array expected in values");const ip=Array.from(r);for(ip.push(1n);ip.length%Nf!==0;)ip.push(0n);let em=new Array(sf).fill(0n);for(let tm=0;tm<ip.length;tm+=Nf){for(let nm=0;nm<Nf;nm++){const rm=ip[tm+nm];if(typeof rm>"u")throw new Error("invalid index");if(typeof em[nm]>"u")throw new Error("state[j] is undefined");em[nm]=em[nm]+rm}em=s(em)}return em[0]}const starkCurve=Object.freeze(Object.defineProperty({__proto__:null,CURVE,Fp251,MAX_VALUE,ProjectivePoint,Signature:Signature$1,_poseidonMDS,_starkCurve,computeHashOnElements:computeHashOnElements$1,ethSigToPrivate,getAccountPath,getPublicKey,getSharedSecret,getStarkKey,grindKey,keccak,normalizePrivateKey,pedersen,poseidonBasic,poseidonCreate,poseidonHash,poseidonHashFunc,poseidonHashMany,poseidonHashSingle,poseidonSmall,sign:sign$2,utils,verify:verify$1},Symbol.toStringTag,{value:"Module"}));const Z_FIXED$1=4,Z_BINARY=0,Z_TEXT=1,Z_UNKNOWN$1=2;function zero$1(r){let s=r.length;for(;--s>=0;)r[s]=0}const STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,MIN_MATCH$1=3,MAX_MATCH$1=258,LENGTH_CODES$1=29,LITERALS$1=256,L_CODES$1=LITERALS$1+1+LENGTH_CODES$1,D_CODES$1=30,BL_CODES$1=19,HEAP_SIZE$1=2*L_CODES$1+1,MAX_BITS$1=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,extra_lbits=(new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0])),extra_dbits=(new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13])),extra_blbits=(new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7])),bl_order=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),DIST_CODE_LEN=512,static_ltree=new Array((L_CODES$1+2)*2);zero$1(static_ltree);const static_dtree=new Array(D_CODES$1*2);zero$1(static_dtree);const _dist_code=new Array(DIST_CODE_LEN);zero$1(_dist_code);const _length_code=new Array(MAX_MATCH$1-MIN_MATCH$1+1);zero$1(_length_code);const base_length=new Array(LENGTH_CODES$1);zero$1(base_length);const base_dist=new Array(D_CODES$1);zero$1(base_dist);function StaticTreeDesc(r,s,sf,Nf,ip){this.static_tree=r,this.extra_bits=s,this.extra_base=sf,this.elems=Nf,this.max_length=ip,this.has_stree=r&&r.length}let static_l_desc,static_d_desc,static_bl_desc;function TreeDesc(r,s){this.dyn_tree=r,this.max_code=0,this.stat_desc=s}const d_code=r=>r<256?_dist_code[r]:_dist_code[256+(r>>>7)],put_short=(r,s)=>{r.pending_buf[r.pending++]=s&255,r.pending_buf[r.pending++]=s>>>8&255},send_bits=(r,s,sf)=>{r.bi_valid>Buf_size-sf?(r.bi_buf|=s<<r.bi_valid&65535,put_short(r,r.bi_buf),r.bi_buf=s>>Buf_size-r.bi_valid,r.bi_valid+=sf-Buf_size):(r.bi_buf|=s<<r.bi_valid&65535,r.bi_valid+=sf)},send_code=(r,s,sf)=>{send_bits(r,sf[s*2],sf[s*2+1])},bi_reverse=(r,s)=>{let sf=0;do sf|=r&1,r>>>=1,sf<<=1;while(--s>0);return sf>>>1},bi_flush=r=>{r.bi_valid===16?(put_short(r,r.bi_buf),r.bi_buf=0,r.bi_valid=0):r.bi_valid>=8&&(r.pending_buf[r.pending++]=r.bi_buf&255,r.bi_buf>>=8,r.bi_valid-=8)},gen_bitlen=(r,s)=>{const sf=s.dyn_tree,Nf=s.max_code,ip=s.stat_desc.static_tree,em=s.stat_desc.has_stree,tm=s.stat_desc.extra_bits,nm=s.stat_desc.extra_base,rm=s.stat_desc.max_length;let om,im,am,sm,cm,hm,fm=0;for(sm=0;sm<=MAX_BITS$1;sm++)r.bl_count[sm]=0;for(sf[r.heap[r.heap_max]*2+1]=0,om=r.heap_max+1;om<HEAP_SIZE$1;om++)im=r.heap[om],sm=sf[sf[im*2+1]*2+1]+1,sm>rm&&(sm=rm,fm++),sf[im*2+1]=sm,!(im>Nf)&&(r.bl_count[sm]++,cm=0,im>=nm&&(cm=tm[im-nm]),hm=sf[im*2],r.opt_len+=hm*(sm+cm),em&&(r.static_len+=hm*(ip[im*2+1]+cm)));if(fm!==0){do{for(sm=rm-1;r.bl_count[sm]===0;)sm--;r.bl_count[sm]--,r.bl_count[sm+1]+=2,r.bl_count[rm]--,fm-=2}while(fm>0);for(sm=rm;sm!==0;sm--)for(im=r.bl_count[sm];im!==0;)am=r.heap[--om],!(am>Nf)&&(sf[am*2+1]!==sm&&(r.opt_len+=(sm-sf[am*2+1])*sf[am*2],sf[am*2+1]=sm),im--)}},gen_codes=(r,s,sf)=>{const Nf=new Array(MAX_BITS$1+1);let ip=0,em,tm;for(em=1;em<=MAX_BITS$1;em++)ip=ip+sf[em-1]<<1,Nf[em]=ip;for(tm=0;tm<=s;tm++){let nm=r[tm*2+1];nm!==0&&(r[tm*2]=bi_reverse(Nf[nm]++,nm))}},tr_static_init=()=>{let r,s,sf,Nf,ip;const em=new Array(MAX_BITS$1+1);for(sf=0,Nf=0;Nf<LENGTH_CODES$1-1;Nf++)for(base_length[Nf]=sf,r=0;r<1<<extra_lbits[Nf];r++)_length_code[sf++]=Nf;for(_length_code[sf-1]=Nf,ip=0,Nf=0;Nf<16;Nf++)for(base_dist[Nf]=ip,r=0;r<1<<extra_dbits[Nf];r++)_dist_code[ip++]=Nf;for(ip>>=7;Nf<D_CODES$1;Nf++)for(base_dist[Nf]=ip<<7,r=0;r<1<<extra_dbits[Nf]-7;r++)_dist_code[256+ip++]=Nf;for(s=0;s<=MAX_BITS$1;s++)em[s]=0;for(r=0;r<=143;)static_ltree[r*2+1]=8,r++,em[8]++;for(;r<=255;)static_ltree[r*2+1]=9,r++,em[9]++;for(;r<=279;)static_ltree[r*2+1]=7,r++,em[7]++;for(;r<=287;)static_ltree[r*2+1]=8,r++,em[8]++;for(gen_codes(static_ltree,L_CODES$1+1,em),r=0;r<D_CODES$1;r++)static_dtree[r*2+1]=5,static_dtree[r*2]=bi_reverse(r,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS$1+1,L_CODES$1,MAX_BITS$1),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES$1,MAX_BITS$1),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES$1,MAX_BL_BITS)},init_block=r=>{let s;for(s=0;s<L_CODES$1;s++)r.dyn_ltree[s*2]=0;for(s=0;s<D_CODES$1;s++)r.dyn_dtree[s*2]=0;for(s=0;s<BL_CODES$1;s++)r.bl_tree[s*2]=0;r.dyn_ltree[END_BLOCK*2]=1,r.opt_len=r.static_len=0,r.sym_next=r.matches=0},bi_windup=r=>{r.bi_valid>8?put_short(r,r.bi_buf):r.bi_valid>0&&(r.pending_buf[r.pending++]=r.bi_buf),r.bi_buf=0,r.bi_valid=0},smaller=(r,s,sf,Nf)=>{const ip=s*2,em=sf*2;return r[ip]<r[em]||r[ip]===r[em]&&Nf[s]<=Nf[sf]},pqdownheap=(r,s,sf)=>{const Nf=r.heap[sf];let ip=sf<<1;for(;ip<=r.heap_len&&(ip<r.heap_len&&smaller(s,r.heap[ip+1],r.heap[ip],r.depth)&&ip++,!smaller(s,Nf,r.heap[ip],r.depth));)r.heap[sf]=r.heap[ip],sf=ip,ip<<=1;r.heap[sf]=Nf},compress_block=(r,s,sf)=>{let Nf,ip,em=0,tm,nm;if(r.sym_next!==0)do Nf=r.pending_buf[r.sym_buf+em++]&255,Nf+=(r.pending_buf[r.sym_buf+em++]&255)<<8,ip=r.pending_buf[r.sym_buf+em++],Nf===0?send_code(r,ip,s):(tm=_length_code[ip],send_code(r,tm+LITERALS$1+1,s),nm=extra_lbits[tm],nm!==0&&(ip-=base_length[tm],send_bits(r,ip,nm)),Nf--,tm=d_code(Nf),send_code(r,tm,sf),nm=extra_dbits[tm],nm!==0&&(Nf-=base_dist[tm],send_bits(r,Nf,nm)));while(em<r.sym_next);send_code(r,END_BLOCK,s)},build_tree=(r,s)=>{const sf=s.dyn_tree,Nf=s.stat_desc.static_tree,ip=s.stat_desc.has_stree,em=s.stat_desc.elems;let tm,nm,rm=-1,om;for(r.heap_len=0,r.heap_max=HEAP_SIZE$1,tm=0;tm<em;tm++)sf[tm*2]!==0?(r.heap[++r.heap_len]=rm=tm,r.depth[tm]=0):sf[tm*2+1]=0;for(;r.heap_len<2;)om=r.heap[++r.heap_len]=rm<2?++rm:0,sf[om*2]=1,r.depth[om]=0,r.opt_len--,ip&&(r.static_len-=Nf[om*2+1]);for(s.max_code=rm,tm=r.heap_len>>1;tm>=1;tm--)pqdownheap(r,sf,tm);om=em;do tm=r.heap[1],r.heap[1]=r.heap[r.heap_len--],pqdownheap(r,sf,1),nm=r.heap[1],r.heap[--r.heap_max]=tm,r.heap[--r.heap_max]=nm,sf[om*2]=sf[tm*2]+sf[nm*2],r.depth[om]=(r.depth[tm]>=r.depth[nm]?r.depth[tm]:r.depth[nm])+1,sf[tm*2+1]=sf[nm*2+1]=om,r.heap[1]=om++,pqdownheap(r,sf,1);while(r.heap_len>=2);r.heap[--r.heap_max]=r.heap[1],gen_bitlen(r,s),gen_codes(sf,rm,r.bl_count)},scan_tree=(r,s,sf)=>{let Nf,ip=-1,em,tm=s[0*2+1],nm=0,rm=7,om=4;for(tm===0&&(rm=138,om=3),s[(sf+1)*2+1]=65535,Nf=0;Nf<=sf;Nf++)em=tm,tm=s[(Nf+1)*2+1],!(++nm<rm&&em===tm)&&(nm<om?r.bl_tree[em*2]+=nm:em!==0?(em!==ip&&r.bl_tree[em*2]++,r.bl_tree[REP_3_6*2]++):nm<=10?r.bl_tree[REPZ_3_10*2]++:r.bl_tree[REPZ_11_138*2]++,nm=0,ip=em,tm===0?(rm=138,om=3):em===tm?(rm=6,om=3):(rm=7,om=4))},send_tree=(r,s,sf)=>{let Nf,ip=-1,em,tm=s[0*2+1],nm=0,rm=7,om=4;for(tm===0&&(rm=138,om=3),Nf=0;Nf<=sf;Nf++)if(em=tm,tm=s[(Nf+1)*2+1],!(++nm<rm&&em===tm)){if(nm<om)do send_code(r,em,r.bl_tree);while(--nm!==0);else em!==0?(em!==ip&&(send_code(r,em,r.bl_tree),nm--),send_code(r,REP_3_6,r.bl_tree),send_bits(r,nm-3,2)):nm<=10?(send_code(r,REPZ_3_10,r.bl_tree),send_bits(r,nm-3,3)):(send_code(r,REPZ_11_138,r.bl_tree),send_bits(r,nm-11,7));nm=0,ip=em,tm===0?(rm=138,om=3):em===tm?(rm=6,om=3):(rm=7,om=4)}},build_bl_tree=r=>{let s;for(scan_tree(r,r.dyn_ltree,r.l_desc.max_code),scan_tree(r,r.dyn_dtree,r.d_desc.max_code),build_tree(r,r.bl_desc),s=BL_CODES$1-1;s>=3&&r.bl_tree[bl_order[s]*2+1]===0;s--);return r.opt_len+=3*(s+1)+5+5+4,s},send_all_trees=(r,s,sf,Nf)=>{let ip;for(send_bits(r,s-257,5),send_bits(r,sf-1,5),send_bits(r,Nf-4,4),ip=0;ip<Nf;ip++)send_bits(r,r.bl_tree[bl_order[ip]*2+1],3);send_tree(r,r.dyn_ltree,s-1),send_tree(r,r.dyn_dtree,sf-1)},detect_data_type=r=>{let s=0xf3ffc07f,sf;for(sf=0;sf<=31;sf++,s>>>=1)if(s&1&&r.dyn_ltree[sf*2]!==0)return Z_BINARY;if(r.dyn_ltree[9*2]!==0||r.dyn_ltree[10*2]!==0||r.dyn_ltree[13*2]!==0)return Z_TEXT;for(sf=32;sf<LITERALS$1;sf++)if(r.dyn_ltree[sf*2]!==0)return Z_TEXT;return Z_BINARY};let static_init_done=!1;const _tr_init$1=r=>{static_init_done||(tr_static_init(),static_init_done=!0),r.l_desc=new TreeDesc(r.dyn_ltree,static_l_desc),r.d_desc=new TreeDesc(r.dyn_dtree,static_d_desc),r.bl_desc=new TreeDesc(r.bl_tree,static_bl_desc),r.bi_buf=0,r.bi_valid=0,init_block(r)},_tr_stored_block$1=(r,s,sf,Nf)=>{send_bits(r,(STORED_BLOCK<<1)+(Nf?1:0),3),bi_windup(r),put_short(r,sf),put_short(r,~sf),sf&&r.pending_buf.set(r.window.subarray(s,s+sf),r.pending),r.pending+=sf},_tr_align$1=r=>{send_bits(r,STATIC_TREES<<1,3),send_code(r,END_BLOCK,static_ltree),bi_flush(r)},_tr_flush_block$1=(r,s,sf,Nf)=>{let ip,em,tm=0;r.level>0?(r.strm.data_type===Z_UNKNOWN$1&&(r.strm.data_type=detect_data_type(r)),build_tree(r,r.l_desc),build_tree(r,r.d_desc),tm=build_bl_tree(r),ip=r.opt_len+3+7>>>3,em=r.static_len+3+7>>>3,em<=ip&&(ip=em)):ip=em=sf+5,sf+4<=ip&&s!==-1?_tr_stored_block$1(r,s,sf,Nf):r.strategy===Z_FIXED$1||em===ip?(send_bits(r,(STATIC_TREES<<1)+(Nf?1:0),3),compress_block(r,static_ltree,static_dtree)):(send_bits(r,(DYN_TREES<<1)+(Nf?1:0),3),send_all_trees(r,r.l_desc.max_code+1,r.d_desc.max_code+1,tm+1),compress_block(r,r.dyn_ltree,r.dyn_dtree)),init_block(r),Nf&&bi_windup(r)},_tr_tally$1=(r,s,sf)=>(r.pending_buf[r.sym_buf+r.sym_next++]=s,r.pending_buf[r.sym_buf+r.sym_next++]=s>>8,r.pending_buf[r.sym_buf+r.sym_next++]=sf,s===0?r.dyn_ltree[sf*2]++:(r.matches++,s--,r.dyn_ltree[(_length_code[sf]+LITERALS$1+1)*2]++,r.dyn_dtree[d_code(s)*2]++),r.sym_next===r.sym_end);var _tr_init_1=_tr_init$1,_tr_stored_block_1=_tr_stored_block$1,_tr_flush_block_1=_tr_flush_block$1,_tr_tally_1=_tr_tally$1,_tr_align_1=_tr_align$1,trees={_tr_init:_tr_init_1,_tr_stored_block:_tr_stored_block_1,_tr_flush_block:_tr_flush_block_1,_tr_tally:_tr_tally_1,_tr_align:_tr_align_1};const adler32=(r,s,sf,Nf)=>{let ip=r&65535|0,em=r>>>16&65535|0,tm=0;for(;sf!==0;){tm=sf>2e3?2e3:sf,sf-=tm;do ip=ip+s[Nf++]|0,em=em+ip|0;while(--tm);ip%=65521,em%=65521}return ip|em<<16|0};var adler32_1=adler32;const makeTable=()=>{let r,s=[];for(var sf=0;sf<256;sf++){r=sf;for(var Nf=0;Nf<8;Nf++)r=r&1?0xedb88320^r>>>1:r>>>1;s[sf]=r}return s},crcTable=new Uint32Array(makeTable()),crc32=(r,s,sf,Nf)=>{const ip=crcTable,em=Nf+sf;r^=-1;for(let tm=Nf;tm<em;tm++)r=r>>>8^ip[(r^s[tm])&255];return r^-1};var crc32_1=crc32,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},constants$2={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init,_tr_stored_block,_tr_flush_block,_tr_tally,_tr_align}=trees,{Z_NO_FLUSH:Z_NO_FLUSH$2,Z_PARTIAL_FLUSH,Z_FULL_FLUSH:Z_FULL_FLUSH$1,Z_FINISH:Z_FINISH$3,Z_BLOCK:Z_BLOCK$1,Z_OK:Z_OK$3,Z_STREAM_END:Z_STREAM_END$3,Z_STREAM_ERROR:Z_STREAM_ERROR$2,Z_DATA_ERROR:Z_DATA_ERROR$2,Z_BUF_ERROR:Z_BUF_ERROR$1,Z_DEFAULT_COMPRESSION:Z_DEFAULT_COMPRESSION$1,Z_FILTERED,Z_HUFFMAN_ONLY,Z_RLE,Z_FIXED,Z_DEFAULT_STRATEGY:Z_DEFAULT_STRATEGY$1,Z_UNKNOWN,Z_DEFLATED:Z_DEFLATED$2}=constants$2,MAX_MEM_LEVEL=9,MAX_WBITS$1=15,DEF_MEM_LEVEL=8,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,PRESET_DICT=32,INIT_STATE=42,GZIP_STATE=57,EXTRA_STATE=69,NAME_STATE=73,COMMENT_STATE=91,HCRC_STATE=103,BUSY_STATE=113,FINISH_STATE=666,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4,OS_CODE=3,err=(r,s)=>(r.msg=messages[s],s),rank=r=>r*2-(r>4?9:0),zero=r=>{let s=r.length;for(;--s>=0;)r[s]=0},slide_hash=r=>{let s,sf,Nf,ip=r.w_size;s=r.hash_size,Nf=s;do sf=r.head[--Nf],r.head[Nf]=sf>=ip?sf-ip:0;while(--s);s=ip,Nf=s;do sf=r.prev[--Nf],r.prev[Nf]=sf>=ip?sf-ip:0;while(--s)};let HASH_ZLIB=(r,s,sf)=>(s<<r.hash_shift^sf)&r.hash_mask,HASH=HASH_ZLIB;const flush_pending=r=>{const s=r.state;let sf=s.pending;sf>r.avail_out&&(sf=r.avail_out),sf!==0&&(r.output.set(s.pending_buf.subarray(s.pending_out,s.pending_out+sf),r.next_out),r.next_out+=sf,s.pending_out+=sf,r.total_out+=sf,r.avail_out-=sf,s.pending-=sf,s.pending===0&&(s.pending_out=0))},flush_block_only=(r,s)=>{_tr_flush_block(r,r.block_start>=0?r.block_start:-1,r.strstart-r.block_start,s),r.block_start=r.strstart,flush_pending(r.strm)},put_byte=(r,s)=>{r.pending_buf[r.pending++]=s},putShortMSB=(r,s)=>{r.pending_buf[r.pending++]=s>>>8&255,r.pending_buf[r.pending++]=s&255},read_buf=(r,s,sf,Nf)=>{let ip=r.avail_in;return ip>Nf&&(ip=Nf),ip===0?0:(r.avail_in-=ip,s.set(r.input.subarray(r.next_in,r.next_in+ip),sf),r.state.wrap===1?r.adler=adler32_1(r.adler,s,ip,sf):r.state.wrap===2&&(r.adler=crc32_1(r.adler,s,ip,sf)),r.next_in+=ip,r.total_in+=ip,ip)},longest_match=(r,s)=>{let sf=r.max_chain_length,Nf=r.strstart,ip,em,tm=r.prev_length,nm=r.nice_match;const rm=r.strstart>r.w_size-MIN_LOOKAHEAD?r.strstart-(r.w_size-MIN_LOOKAHEAD):0,om=r.window,im=r.w_mask,am=r.prev,sm=r.strstart+MAX_MATCH;let cm=om[Nf+tm-1],hm=om[Nf+tm];r.prev_length>=r.good_match&&(sf>>=2),nm>r.lookahead&&(nm=r.lookahead);do if(ip=s,!(om[ip+tm]!==hm||om[ip+tm-1]!==cm||om[ip]!==om[Nf]||om[++ip]!==om[Nf+1])){Nf+=2,ip++;do;while(om[++Nf]===om[++ip]&&om[++Nf]===om[++ip]&&om[++Nf]===om[++ip]&&om[++Nf]===om[++ip]&&om[++Nf]===om[++ip]&&om[++Nf]===om[++ip]&&om[++Nf]===om[++ip]&&om[++Nf]===om[++ip]&&Nf<sm);if(em=MAX_MATCH-(sm-Nf),Nf=sm-MAX_MATCH,em>tm){if(r.match_start=s,tm=em,em>=nm)break;cm=om[Nf+tm-1],hm=om[Nf+tm]}}while((s=am[s&im])>rm&&--sf!==0);return tm<=r.lookahead?tm:r.lookahead},fill_window=r=>{const s=r.w_size;let sf,Nf,ip;do{if(Nf=r.window_size-r.lookahead-r.strstart,r.strstart>=s+(s-MIN_LOOKAHEAD)&&(r.window.set(r.window.subarray(s,s+s-Nf),0),r.match_start-=s,r.strstart-=s,r.block_start-=s,r.insert>r.strstart&&(r.insert=r.strstart),slide_hash(r),Nf+=s),r.strm.avail_in===0)break;if(sf=read_buf(r.strm,r.window,r.strstart+r.lookahead,Nf),r.lookahead+=sf,r.lookahead+r.insert>=MIN_MATCH)for(ip=r.strstart-r.insert,r.ins_h=r.window[ip],r.ins_h=HASH(r,r.ins_h,r.window[ip+1]);r.insert&&(r.ins_h=HASH(r,r.ins_h,r.window[ip+MIN_MATCH-1]),r.prev[ip&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=ip,ip++,r.insert--,!(r.lookahead+r.insert<MIN_MATCH)););}while(r.lookahead<MIN_LOOKAHEAD&&r.strm.avail_in!==0)},deflate_stored=(r,s)=>{let sf=r.pending_buf_size-5>r.w_size?r.w_size:r.pending_buf_size-5,Nf,ip,em,tm=0,nm=r.strm.avail_in;do{if(Nf=65535,em=r.bi_valid+42>>3,r.strm.avail_out<em||(em=r.strm.avail_out-em,ip=r.strstart-r.block_start,Nf>ip+r.strm.avail_in&&(Nf=ip+r.strm.avail_in),Nf>em&&(Nf=em),Nf<sf&&(Nf===0&&s!==Z_FINISH$3||s===Z_NO_FLUSH$2||Nf!==ip+r.strm.avail_in)))break;tm=s===Z_FINISH$3&&Nf===ip+r.strm.avail_in?1:0,_tr_stored_block(r,0,0,tm),r.pending_buf[r.pending-4]=Nf,r.pending_buf[r.pending-3]=Nf>>8,r.pending_buf[r.pending-2]=~Nf,r.pending_buf[r.pending-1]=~Nf>>8,flush_pending(r.strm),ip&&(ip>Nf&&(ip=Nf),r.strm.output.set(r.window.subarray(r.block_start,r.block_start+ip),r.strm.next_out),r.strm.next_out+=ip,r.strm.avail_out-=ip,r.strm.total_out+=ip,r.block_start+=ip,Nf-=ip),Nf&&(read_buf(r.strm,r.strm.output,r.strm.next_out,Nf),r.strm.next_out+=Nf,r.strm.avail_out-=Nf,r.strm.total_out+=Nf)}while(tm===0);return nm-=r.strm.avail_in,nm&&(nm>=r.w_size?(r.matches=2,r.window.set(r.strm.input.subarray(r.strm.next_in-r.w_size,r.strm.next_in),0),r.strstart=r.w_size,r.insert=r.strstart):(r.window_size-r.strstart<=nm&&(r.strstart-=r.w_size,r.window.set(r.window.subarray(r.w_size,r.w_size+r.strstart),0),r.matches<2&&r.matches++,r.insert>r.strstart&&(r.insert=r.strstart)),r.window.set(r.strm.input.subarray(r.strm.next_in-nm,r.strm.next_in),r.strstart),r.strstart+=nm,r.insert+=nm>r.w_size-r.insert?r.w_size-r.insert:nm),r.block_start=r.strstart),r.high_water<r.strstart&&(r.high_water=r.strstart),tm?BS_FINISH_DONE:s!==Z_NO_FLUSH$2&&s!==Z_FINISH$3&&r.strm.avail_in===0&&r.strstart===r.block_start?BS_BLOCK_DONE:(em=r.window_size-r.strstart,r.strm.avail_in>em&&r.block_start>=r.w_size&&(r.block_start-=r.w_size,r.strstart-=r.w_size,r.window.set(r.window.subarray(r.w_size,r.w_size+r.strstart),0),r.matches<2&&r.matches++,em+=r.w_size,r.insert>r.strstart&&(r.insert=r.strstart)),em>r.strm.avail_in&&(em=r.strm.avail_in),em&&(read_buf(r.strm,r.window,r.strstart,em),r.strstart+=em,r.insert+=em>r.w_size-r.insert?r.w_size-r.insert:em),r.high_water<r.strstart&&(r.high_water=r.strstart),em=r.bi_valid+42>>3,em=r.pending_buf_size-em>65535?65535:r.pending_buf_size-em,sf=em>r.w_size?r.w_size:em,ip=r.strstart-r.block_start,(ip>=sf||(ip||s===Z_FINISH$3)&&s!==Z_NO_FLUSH$2&&r.strm.avail_in===0&&ip<=em)&&(Nf=ip>em?em:ip,tm=s===Z_FINISH$3&&r.strm.avail_in===0&&Nf===ip?1:0,_tr_stored_block(r,r.block_start,Nf,tm),r.block_start+=Nf,flush_pending(r.strm)),tm?BS_FINISH_STARTED:BS_NEED_MORE)},deflate_fast=(r,s)=>{let sf,Nf;for(;;){if(r.lookahead<MIN_LOOKAHEAD){if(fill_window(r),r.lookahead<MIN_LOOKAHEAD&&s===Z_NO_FLUSH$2)return BS_NEED_MORE;if(r.lookahead===0)break}if(sf=0,r.lookahead>=MIN_MATCH&&(r.ins_h=HASH(r,r.ins_h,r.window[r.strstart+MIN_MATCH-1]),sf=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart),sf!==0&&r.strstart-sf<=r.w_size-MIN_LOOKAHEAD&&(r.match_length=longest_match(r,sf)),r.match_length>=MIN_MATCH)if(Nf=_tr_tally(r,r.strstart-r.match_start,r.match_length-MIN_MATCH),r.lookahead-=r.match_length,r.match_length<=r.max_lazy_match&&r.lookahead>=MIN_MATCH){r.match_length--;do r.strstart++,r.ins_h=HASH(r,r.ins_h,r.window[r.strstart+MIN_MATCH-1]),sf=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart;while(--r.match_length!==0);r.strstart++}else r.strstart+=r.match_length,r.match_length=0,r.ins_h=r.window[r.strstart],r.ins_h=HASH(r,r.ins_h,r.window[r.strstart+1]);else Nf=_tr_tally(r,0,r.window[r.strstart]),r.lookahead--,r.strstart++;if(Nf&&(flush_block_only(r,!1),r.strm.avail_out===0))return BS_NEED_MORE}return r.insert=r.strstart<MIN_MATCH-1?r.strstart:MIN_MATCH-1,s===Z_FINISH$3?(flush_block_only(r,!0),r.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):r.sym_next&&(flush_block_only(r,!1),r.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_slow=(r,s)=>{let sf,Nf,ip;for(;;){if(r.lookahead<MIN_LOOKAHEAD){if(fill_window(r),r.lookahead<MIN_LOOKAHEAD&&s===Z_NO_FLUSH$2)return BS_NEED_MORE;if(r.lookahead===0)break}if(sf=0,r.lookahead>=MIN_MATCH&&(r.ins_h=HASH(r,r.ins_h,r.window[r.strstart+MIN_MATCH-1]),sf=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart),r.prev_length=r.match_length,r.prev_match=r.match_start,r.match_length=MIN_MATCH-1,sf!==0&&r.prev_length<r.max_lazy_match&&r.strstart-sf<=r.w_size-MIN_LOOKAHEAD&&(r.match_length=longest_match(r,sf),r.match_length<=5&&(r.strategy===Z_FILTERED||r.match_length===MIN_MATCH&&r.strstart-r.match_start>4096)&&(r.match_length=MIN_MATCH-1)),r.prev_length>=MIN_MATCH&&r.match_length<=r.prev_length){ip=r.strstart+r.lookahead-MIN_MATCH,Nf=_tr_tally(r,r.strstart-1-r.prev_match,r.prev_length-MIN_MATCH),r.lookahead-=r.prev_length-1,r.prev_length-=2;do++r.strstart<=ip&&(r.ins_h=HASH(r,r.ins_h,r.window[r.strstart+MIN_MATCH-1]),sf=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart);while(--r.prev_length!==0);if(r.match_available=0,r.match_length=MIN_MATCH-1,r.strstart++,Nf&&(flush_block_only(r,!1),r.strm.avail_out===0))return BS_NEED_MORE}else if(r.match_available){if(Nf=_tr_tally(r,0,r.window[r.strstart-1]),Nf&&flush_block_only(r,!1),r.strstart++,r.lookahead--,r.strm.avail_out===0)return BS_NEED_MORE}else r.match_available=1,r.strstart++,r.lookahead--}return r.match_available&&(Nf=_tr_tally(r,0,r.window[r.strstart-1]),r.match_available=0),r.insert=r.strstart<MIN_MATCH-1?r.strstart:MIN_MATCH-1,s===Z_FINISH$3?(flush_block_only(r,!0),r.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):r.sym_next&&(flush_block_only(r,!1),r.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_rle=(r,s)=>{let sf,Nf,ip,em;const tm=r.window;for(;;){if(r.lookahead<=MAX_MATCH){if(fill_window(r),r.lookahead<=MAX_MATCH&&s===Z_NO_FLUSH$2)return BS_NEED_MORE;if(r.lookahead===0)break}if(r.match_length=0,r.lookahead>=MIN_MATCH&&r.strstart>0&&(ip=r.strstart-1,Nf=tm[ip],Nf===tm[++ip]&&Nf===tm[++ip]&&Nf===tm[++ip])){em=r.strstart+MAX_MATCH;do;while(Nf===tm[++ip]&&Nf===tm[++ip]&&Nf===tm[++ip]&&Nf===tm[++ip]&&Nf===tm[++ip]&&Nf===tm[++ip]&&Nf===tm[++ip]&&Nf===tm[++ip]&&ip<em);r.match_length=MAX_MATCH-(em-ip),r.match_length>r.lookahead&&(r.match_length=r.lookahead)}if(r.match_length>=MIN_MATCH?(sf=_tr_tally(r,1,r.match_length-MIN_MATCH),r.lookahead-=r.match_length,r.strstart+=r.match_length,r.match_length=0):(sf=_tr_tally(r,0,r.window[r.strstart]),r.lookahead--,r.strstart++),sf&&(flush_block_only(r,!1),r.strm.avail_out===0))return BS_NEED_MORE}return r.insert=0,s===Z_FINISH$3?(flush_block_only(r,!0),r.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):r.sym_next&&(flush_block_only(r,!1),r.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_huff=(r,s)=>{let sf;for(;;){if(r.lookahead===0&&(fill_window(r),r.lookahead===0)){if(s===Z_NO_FLUSH$2)return BS_NEED_MORE;break}if(r.match_length=0,sf=_tr_tally(r,0,r.window[r.strstart]),r.lookahead--,r.strstart++,sf&&(flush_block_only(r,!1),r.strm.avail_out===0))return BS_NEED_MORE}return r.insert=0,s===Z_FINISH$3?(flush_block_only(r,!0),r.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):r.sym_next&&(flush_block_only(r,!1),r.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE};function Config(r,s,sf,Nf,ip){this.good_length=r,this.max_lazy=s,this.nice_length=sf,this.max_chain=Nf,this.func=ip}const configuration_table=[new Config(0,0,0,0,deflate_stored),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)],lm_init=r=>{r.window_size=2*r.w_size,zero(r.head),r.max_lazy_match=configuration_table[r.level].max_lazy,r.good_match=configuration_table[r.level].good_length,r.nice_match=configuration_table[r.level].nice_length,r.max_chain_length=configuration_table[r.level].max_chain,r.strstart=0,r.block_start=0,r.lookahead=0,r.insert=0,r.match_length=r.prev_length=MIN_MATCH-1,r.match_available=0,r.ins_h=0};function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED$2,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(HEAP_SIZE*2),this.dyn_dtree=new Uint16Array((2*D_CODES+1)*2),this.bl_tree=new Uint16Array((2*BL_CODES+1)*2),zero(this.dyn_ltree),zero(this.dyn_dtree),zero(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(MAX_BITS+1),this.heap=new Uint16Array(2*L_CODES+1),zero(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*L_CODES+1),zero(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const deflateStateCheck=r=>{if(!r)return 1;const s=r.state;return!s||s.strm!==r||s.status!==INIT_STATE&&s.status!==GZIP_STATE&&s.status!==EXTRA_STATE&&s.status!==NAME_STATE&&s.status!==COMMENT_STATE&&s.status!==HCRC_STATE&&s.status!==BUSY_STATE&&s.status!==FINISH_STATE?1:0},deflateResetKeep=r=>{if(deflateStateCheck(r))return err(r,Z_STREAM_ERROR$2);r.total_in=r.total_out=0,r.data_type=Z_UNKNOWN;const s=r.state;return s.pending=0,s.pending_out=0,s.wrap<0&&(s.wrap=-s.wrap),s.status=s.wrap===2?GZIP_STATE:(s.wrap?INIT_STATE:BUSY_STATE),r.adler=s.wrap===2?0:1,s.last_flush=-2,_tr_init(s),Z_OK$3},deflateReset=r=>{const s=deflateResetKeep(r);return s===Z_OK$3&&lm_init(r.state),s},deflateSetHeader=(r,s)=>deflateStateCheck(r)||r.state.wrap!==2?Z_STREAM_ERROR$2:(r.state.gzhead=s,Z_OK$3),deflateInit2=(r,s,sf,Nf,ip,em)=>{if(!r)return Z_STREAM_ERROR$2;let tm=1;if(s===Z_DEFAULT_COMPRESSION$1&&(s=6),Nf<0?(tm=0,Nf=-Nf):Nf>15&&(tm=2,Nf-=16),ip<1||ip>MAX_MEM_LEVEL||sf!==Z_DEFLATED$2||Nf<8||Nf>15||s<0||s>9||em<0||em>Z_FIXED||Nf===8&&tm!==1)return err(r,Z_STREAM_ERROR$2);Nf===8&&(Nf=9);const nm=new DeflateState;return r.state=nm,nm.strm=r,nm.status=INIT_STATE,nm.wrap=tm,nm.gzhead=null,nm.w_bits=Nf,nm.w_size=1<<nm.w_bits,nm.w_mask=nm.w_size-1,nm.hash_bits=ip+7,nm.hash_size=1<<nm.hash_bits,nm.hash_mask=nm.hash_size-1,nm.hash_shift=~~((nm.hash_bits+MIN_MATCH-1)/MIN_MATCH),nm.window=new Uint8Array(nm.w_size*2),nm.head=new Uint16Array(nm.hash_size),nm.prev=new Uint16Array(nm.w_size),nm.lit_bufsize=1<<ip+6,nm.pending_buf_size=nm.lit_bufsize*4,nm.pending_buf=new Uint8Array(nm.pending_buf_size),nm.sym_buf=nm.lit_bufsize,nm.sym_end=(nm.lit_bufsize-1)*3,nm.level=s,nm.strategy=em,nm.method=sf,deflateReset(r)},deflateInit=(r,s)=>deflateInit2(r,s,Z_DEFLATED$2,MAX_WBITS$1,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY$1),deflate$2=(r,s)=>{if(deflateStateCheck(r)||s>Z_BLOCK$1||s<0)return r?err(r,Z_STREAM_ERROR$2):Z_STREAM_ERROR$2;const sf=r.state;if(!r.output||r.avail_in!==0&&!r.input||sf.status===FINISH_STATE&&s!==Z_FINISH$3)return err(r,r.avail_out===0?Z_BUF_ERROR$1:Z_STREAM_ERROR$2);const Nf=sf.last_flush;if(sf.last_flush=s,sf.pending!==0){if(flush_pending(r),r.avail_out===0)return sf.last_flush=-1,Z_OK$3}else if(r.avail_in===0&&rank(s)<=rank(Nf)&&s!==Z_FINISH$3)return err(r,Z_BUF_ERROR$1);if(sf.status===FINISH_STATE&&r.avail_in!==0)return err(r,Z_BUF_ERROR$1);if(sf.status===INIT_STATE&&sf.wrap===0&&(sf.status=BUSY_STATE),sf.status===INIT_STATE){let ip=Z_DEFLATED$2+(sf.w_bits-8<<4)<<8,em=-1;if(sf.strategy>=Z_HUFFMAN_ONLY||sf.level<2?em=0:sf.level<6?em=1:sf.level===6?em=2:em=3,ip|=em<<6,sf.strstart!==0&&(ip|=PRESET_DICT),ip+=31-ip%31,putShortMSB(sf,ip),sf.strstart!==0&&(putShortMSB(sf,r.adler>>>16),putShortMSB(sf,r.adler&65535)),r.adler=1,sf.status=BUSY_STATE,flush_pending(r),sf.pending!==0)return sf.last_flush=-1,Z_OK$3}if(sf.status===GZIP_STATE){if(r.adler=0,put_byte(sf,31),put_byte(sf,139),put_byte(sf,8),sf.gzhead)put_byte(sf,(sf.gzhead.text?1:0)+(sf.gzhead.hcrc?2:0)+(sf.gzhead.extra?4:0)+(sf.gzhead.name?8:0)+(sf.gzhead.comment?16:0)),put_byte(sf,sf.gzhead.time&255),put_byte(sf,sf.gzhead.time>>8&255),put_byte(sf,sf.gzhead.time>>16&255),put_byte(sf,sf.gzhead.time>>24&255),put_byte(sf,sf.level===9?2:sf.strategy>=Z_HUFFMAN_ONLY||sf.level<2?4:0),put_byte(sf,sf.gzhead.os&255),sf.gzhead.extra&&sf.gzhead.extra.length&&(put_byte(sf,sf.gzhead.extra.length&255),put_byte(sf,sf.gzhead.extra.length>>8&255)),sf.gzhead.hcrc&&(r.adler=crc32_1(r.adler,sf.pending_buf,sf.pending,0)),sf.gzindex=0,sf.status=EXTRA_STATE;else if(put_byte(sf,0),put_byte(sf,0),put_byte(sf,0),put_byte(sf,0),put_byte(sf,0),put_byte(sf,sf.level===9?2:sf.strategy>=Z_HUFFMAN_ONLY||sf.level<2?4:0),put_byte(sf,OS_CODE),sf.status=BUSY_STATE,flush_pending(r),sf.pending!==0)return sf.last_flush=-1,Z_OK$3}if(sf.status===EXTRA_STATE){if(sf.gzhead.extra){let ip=sf.pending,em=(sf.gzhead.extra.length&65535)-sf.gzindex;for(;sf.pending+em>sf.pending_buf_size;){let nm=sf.pending_buf_size-sf.pending;if(sf.pending_buf.set(sf.gzhead.extra.subarray(sf.gzindex,sf.gzindex+nm),sf.pending),sf.pending=sf.pending_buf_size,sf.gzhead.hcrc&&sf.pending>ip&&(r.adler=crc32_1(r.adler,sf.pending_buf,sf.pending-ip,ip)),sf.gzindex+=nm,flush_pending(r),sf.pending!==0)return sf.last_flush=-1,Z_OK$3;ip=0,em-=nm}let tm=new Uint8Array(sf.gzhead.extra);sf.pending_buf.set(tm.subarray(sf.gzindex,sf.gzindex+em),sf.pending),sf.pending+=em,sf.gzhead.hcrc&&sf.pending>ip&&(r.adler=crc32_1(r.adler,sf.pending_buf,sf.pending-ip,ip)),sf.gzindex=0}sf.status=NAME_STATE}if(sf.status===NAME_STATE){if(sf.gzhead.name){let ip=sf.pending,em;do{if(sf.pending===sf.pending_buf_size){if(sf.gzhead.hcrc&&sf.pending>ip&&(r.adler=crc32_1(r.adler,sf.pending_buf,sf.pending-ip,ip)),flush_pending(r),sf.pending!==0)return sf.last_flush=-1,Z_OK$3;ip=0}sf.gzindex<sf.gzhead.name.length?em=sf.gzhead.name.charCodeAt(sf.gzindex++)&255:em=0,put_byte(sf,em)}while(em!==0);sf.gzhead.hcrc&&sf.pending>ip&&(r.adler=crc32_1(r.adler,sf.pending_buf,sf.pending-ip,ip)),sf.gzindex=0}sf.status=COMMENT_STATE}if(sf.status===COMMENT_STATE){if(sf.gzhead.comment){let ip=sf.pending,em;do{if(sf.pending===sf.pending_buf_size){if(sf.gzhead.hcrc&&sf.pending>ip&&(r.adler=crc32_1(r.adler,sf.pending_buf,sf.pending-ip,ip)),flush_pending(r),sf.pending!==0)return sf.last_flush=-1,Z_OK$3;ip=0}sf.gzindex<sf.gzhead.comment.length?em=sf.gzhead.comment.charCodeAt(sf.gzindex++)&255:em=0,put_byte(sf,em)}while(em!==0);sf.gzhead.hcrc&&sf.pending>ip&&(r.adler=crc32_1(r.adler,sf.pending_buf,sf.pending-ip,ip))}sf.status=HCRC_STATE}if(sf.status===HCRC_STATE){if(sf.gzhead.hcrc){if(sf.pending+2>sf.pending_buf_size&&(flush_pending(r),sf.pending!==0))return sf.last_flush=-1,Z_OK$3;put_byte(sf,r.adler&255),put_byte(sf,r.adler>>8&255),r.adler=0}if(sf.status=BUSY_STATE,flush_pending(r),sf.pending!==0)return sf.last_flush=-1,Z_OK$3}if(r.avail_in!==0||sf.lookahead!==0||s!==Z_NO_FLUSH$2&&sf.status!==FINISH_STATE){let ip=sf.level===0?deflate_stored(sf,s):sf.strategy===Z_HUFFMAN_ONLY?deflate_huff(sf,s):sf.strategy===Z_RLE?deflate_rle(sf,s):configuration_table[sf.level].func(sf,s);if((ip===BS_FINISH_STARTED||ip===BS_FINISH_DONE)&&(sf.status=FINISH_STATE),ip===BS_NEED_MORE||ip===BS_FINISH_STARTED)return r.avail_out===0&&(sf.last_flush=-1),Z_OK$3;if(ip===BS_BLOCK_DONE&&(s===Z_PARTIAL_FLUSH?_tr_align(sf):s!==Z_BLOCK$1&&(_tr_stored_block(sf,0,0,!1),s===Z_FULL_FLUSH$1&&(zero(sf.head),sf.lookahead===0&&(sf.strstart=0,sf.block_start=0,sf.insert=0))),flush_pending(r),r.avail_out===0))return sf.last_flush=-1,Z_OK$3}return s!==Z_FINISH$3?Z_OK$3:sf.wrap<=0?Z_STREAM_END$3:(sf.wrap===2?(put_byte(sf,r.adler&255),put_byte(sf,r.adler>>8&255),put_byte(sf,r.adler>>16&255),put_byte(sf,r.adler>>24&255),put_byte(sf,r.total_in&255),put_byte(sf,r.total_in>>8&255),put_byte(sf,r.total_in>>16&255),put_byte(sf,r.total_in>>24&255)):(putShortMSB(sf,r.adler>>>16),putShortMSB(sf,r.adler&65535)),flush_pending(r),sf.wrap>0&&(sf.wrap=-sf.wrap),sf.pending!==0?Z_OK$3:Z_STREAM_END$3)},deflateEnd=r=>{if(deflateStateCheck(r))return Z_STREAM_ERROR$2;const s=r.state.status;return r.state=null,s===BUSY_STATE?err(r,Z_DATA_ERROR$2):Z_OK$3},deflateSetDictionary=(r,s)=>{let sf=s.length;if(deflateStateCheck(r))return Z_STREAM_ERROR$2;const Nf=r.state,ip=Nf.wrap;if(ip===2||ip===1&&Nf.status!==INIT_STATE||Nf.lookahead)return Z_STREAM_ERROR$2;if(ip===1&&(r.adler=adler32_1(r.adler,s,sf,0)),Nf.wrap=0,sf>=Nf.w_size){ip===0&&(zero(Nf.head),Nf.strstart=0,Nf.block_start=0,Nf.insert=0);let rm=new Uint8Array(Nf.w_size);rm.set(s.subarray(sf-Nf.w_size,sf),0),s=rm,sf=Nf.w_size}const em=r.avail_in,tm=r.next_in,nm=r.input;for(r.avail_in=sf,r.next_in=0,r.input=s,fill_window(Nf);Nf.lookahead>=MIN_MATCH;){let rm=Nf.strstart,om=Nf.lookahead-(MIN_MATCH-1);do Nf.ins_h=HASH(Nf,Nf.ins_h,Nf.window[rm+MIN_MATCH-1]),Nf.prev[rm&Nf.w_mask]=Nf.head[Nf.ins_h],Nf.head[Nf.ins_h]=rm,rm++;while(--om);Nf.strstart=rm,Nf.lookahead=MIN_MATCH-1,fill_window(Nf)}return Nf.strstart+=Nf.lookahead,Nf.block_start=Nf.strstart,Nf.insert=Nf.lookahead,Nf.lookahead=0,Nf.match_length=Nf.prev_length=MIN_MATCH-1,Nf.match_available=0,r.next_in=tm,r.input=nm,r.avail_in=em,Nf.wrap=ip,Z_OK$3};var deflateInit_1=deflateInit,deflateInit2_1=deflateInit2,deflateReset_1=deflateReset,deflateResetKeep_1=deflateResetKeep,deflateSetHeader_1=deflateSetHeader,deflate_2$1=deflate$2,deflateEnd_1=deflateEnd,deflateSetDictionary_1=deflateSetDictionary,deflateInfo="pako deflate (from Nodeca project)",deflate_1$2={deflateInit:deflateInit_1,deflateInit2:deflateInit2_1,deflateReset:deflateReset_1,deflateResetKeep:deflateResetKeep_1,deflateSetHeader:deflateSetHeader_1,deflate:deflate_2$1,deflateEnd:deflateEnd_1,deflateSetDictionary:deflateSetDictionary_1,deflateInfo};const _has=(r,s)=>Object.prototype.hasOwnProperty.call(r,s);var assign=function(r){const s=Array.prototype.slice.call(arguments,1);for(;s.length;){const sf=s.shift();if(sf){if(typeof sf!="object")throw new TypeError(sf+"must be non-object");for(const Nf in sf)_has(sf,Nf)&&(r[Nf]=sf[Nf])}}return r},flattenChunks=r=>{let s=0;for(let Nf=0,ip=r.length;Nf<ip;Nf++)s+=r[Nf].length;const sf=new Uint8Array(s);for(let Nf=0,ip=0,em=r.length;Nf<em;Nf++){let tm=r[Nf];sf.set(tm,ip),ip+=tm.length}return sf},common$1={assign,flattenChunks};let STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{STR_APPLY_UIA_OK=!1}const _utf8len=new Uint8Array(256);for(let r=0;r<256;r++)_utf8len[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;_utf8len[254]=_utf8len[254]=1;var string2buf=r=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(r);let s,sf,Nf,ip,em,tm=r.length,nm=0;for(ip=0;ip<tm;ip++)sf=r.charCodeAt(ip),(sf&64512)===55296&&ip+1<tm&&(Nf=r.charCodeAt(ip+1),(Nf&64512)===56320&&(sf=65536+(sf-55296<<10)+(Nf-56320),ip++)),nm+=sf<128?1:sf<2048?2:sf<65536?3:4;for(s=new Uint8Array(nm),em=0,ip=0;em<nm;ip++)sf=r.charCodeAt(ip),(sf&64512)===55296&&ip+1<tm&&(Nf=r.charCodeAt(ip+1),(Nf&64512)===56320&&(sf=65536+(sf-55296<<10)+(Nf-56320),ip++)),sf<128?s[em++]=sf:sf<2048?(s[em++]=192|sf>>>6,s[em++]=128|sf&63):sf<65536?(s[em++]=224|sf>>>12,s[em++]=128|sf>>>6&63,s[em++]=128|sf&63):(s[em++]=240|sf>>>18,s[em++]=128|sf>>>12&63,s[em++]=128|sf>>>6&63,s[em++]=128|sf&63);return s};const buf2binstring=(r,s)=>{if(s<65534&&r.subarray&&STR_APPLY_UIA_OK)return String.fromCharCode.apply(null,r.length===s?r:r.subarray(0,s));let sf="";for(let Nf=0;Nf<s;Nf++)sf+=String.fromCharCode(r[Nf]);return sf};var buf2string=(r,s)=>{const sf=s||r.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(r.subarray(0,s));let Nf,ip;const em=new Array(sf*2);for(ip=0,Nf=0;Nf<sf;){let tm=r[Nf++];if(tm<128){em[ip++]=tm;continue}let nm=_utf8len[tm];if(nm>4){em[ip++]=65533,Nf+=nm-1;continue}for(tm&=nm===2?31:nm===3?15:7;nm>1&&Nf<sf;)tm=tm<<6|r[Nf++]&63,nm--;if(nm>1){em[ip++]=65533;continue}tm<65536?em[ip++]=tm:(tm-=65536,em[ip++]=55296|tm>>10&1023,em[ip++]=56320|tm&1023)}return buf2binstring(em,ip)},utf8border=(r,s)=>{s=s||r.length,s>r.length&&(s=r.length);let sf=s-1;for(;sf>=0&&(r[sf]&192)===128;)sf--;return sf<0||sf===0?s:sf+_utf8len[r[sf]]>s?sf:s},strings={string2buf,buf2string,utf8border};function ZStream(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zstream=ZStream;const toString$1=Object.prototype.toString,{Z_NO_FLUSH:Z_NO_FLUSH$1,Z_SYNC_FLUSH,Z_FULL_FLUSH,Z_FINISH:Z_FINISH$2,Z_OK:Z_OK$2,Z_STREAM_END:Z_STREAM_END$2,Z_DEFAULT_COMPRESSION,Z_DEFAULT_STRATEGY,Z_DEFLATED:Z_DEFLATED$1}=constants$2;function Deflate$1(r){this.options=common$1.assign({level:Z_DEFAULT_COMPRESSION,method:Z_DEFLATED$1,chunkSize:16384,windowBits:15,memLevel:8,strategy:Z_DEFAULT_STRATEGY},r||{});let s=this.options;s.raw&&s.windowBits>0?s.windowBits=-s.windowBits:s.gzip&&s.windowBits>0&&s.windowBits<16&&(s.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let sf=deflate_1$2.deflateInit2(this.strm,s.level,s.method,s.windowBits,s.memLevel,s.strategy);if(sf!==Z_OK$2)throw new Error(messages[sf]);if(s.header&&deflate_1$2.deflateSetHeader(this.strm,s.header),s.dictionary){let Nf;if(typeof s.dictionary=="string"?Nf=strings.string2buf(s.dictionary):toString$1.call(s.dictionary)==="[object ArrayBuffer]"?Nf=new Uint8Array(s.dictionary):Nf=s.dictionary,sf=deflate_1$2.deflateSetDictionary(this.strm,Nf),sf!==Z_OK$2)throw new Error(messages[sf]);this._dict_set=!0}}Deflate$1.prototype.push=function(r,s){const sf=this.strm,Nf=this.options.chunkSize;let ip,em;if(this.ended)return!1;for(s===~~s?em=s:em=s===!0?Z_FINISH$2:Z_NO_FLUSH$1,typeof r=="string"?sf.input=strings.string2buf(r):toString$1.call(r)==="[object ArrayBuffer]"?sf.input=new Uint8Array(r):sf.input=r,sf.next_in=0,sf.avail_in=sf.input.length;;){if(sf.avail_out===0&&(sf.output=new Uint8Array(Nf),sf.next_out=0,sf.avail_out=Nf),(em===Z_SYNC_FLUSH||em===Z_FULL_FLUSH)&&sf.avail_out<=6){this.onData(sf.output.subarray(0,sf.next_out)),sf.avail_out=0;continue}if(ip=deflate_1$2.deflate(sf,em),ip===Z_STREAM_END$2)return sf.next_out>0&&this.onData(sf.output.subarray(0,sf.next_out)),ip=deflate_1$2.deflateEnd(this.strm),this.onEnd(ip),this.ended=!0,ip===Z_OK$2;if(sf.avail_out===0){this.onData(sf.output);continue}if(em>0&&sf.next_out>0){this.onData(sf.output.subarray(0,sf.next_out)),sf.avail_out=0;continue}if(sf.avail_in===0)break}return!0};Deflate$1.prototype.onData=function(r){this.chunks.push(r)};Deflate$1.prototype.onEnd=function(r){r===Z_OK$2&&(this.result=common$1.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};function deflate$1(r,s){const sf=new Deflate$1(s);if(sf.push(r,!0),sf.err)throw sf.msg||messages[sf.err];return sf.result}function gzip$1(r,s){return s=s||{},s.gzip=!0,deflate$1(r,s)}var gzip_1$1=gzip$1,deflate_1$1={gzip:gzip_1$1};const BAD$1=16209,TYPE$1=16191;var inffast=function(s,sf){let Nf,ip,em,tm,nm,rm,om,im,am,sm,cm,hm,fm,pm,mm,_m,ym,Sm,jm,Pm,Bm,qm,Rm,Dm;const Um=s.state;Nf=s.next_in,Rm=s.input,ip=Nf+(s.avail_in-5),em=s.next_out,Dm=s.output,tm=em-(sf-s.avail_out),nm=em+(s.avail_out-257),rm=Um.dmax,om=Um.wsize,im=Um.whave,am=Um.wnext,sm=Um.window,cm=Um.hold,hm=Um.bits,fm=Um.lencode,pm=Um.distcode,mm=(1<<Um.lenbits)-1,_m=(1<<Um.distbits)-1;e:do{hm<15&&(cm+=Rm[Nf++]<<hm,hm+=8,cm+=Rm[Nf++]<<hm,hm+=8),ym=fm[cm&mm];t:for(;;){if(Sm=ym>>>24,cm>>>=Sm,hm-=Sm,Sm=ym>>>16&255,Sm===0)Dm[em++]=ym&65535;else if(Sm&16){jm=ym&65535,Sm&=15,Sm&&(hm<Sm&&(cm+=Rm[Nf++]<<hm,hm+=8),jm+=cm&(1<<Sm)-1,cm>>>=Sm,hm-=Sm),hm<15&&(cm+=Rm[Nf++]<<hm,hm+=8,cm+=Rm[Nf++]<<hm,hm+=8),ym=pm[cm&_m];n:for(;;){if(Sm=ym>>>24,cm>>>=Sm,hm-=Sm,Sm=ym>>>16&255,Sm&16){if(Pm=ym&65535,Sm&=15,hm<Sm&&(cm+=Rm[Nf++]<<hm,hm+=8,hm<Sm&&(cm+=Rm[Nf++]<<hm,hm+=8)),Pm+=cm&(1<<Sm)-1,Pm>rm){s.msg="invalid distance too far back",Um.mode=BAD$1;break e}if(cm>>>=Sm,hm-=Sm,Sm=em-tm,Pm>Sm){if(Sm=Pm-Sm,Sm>im&&Um.sane){s.msg="invalid distance too far back",Um.mode=BAD$1;break e}if(Bm=0,qm=sm,am===0){if(Bm+=om-Sm,Sm<jm){jm-=Sm;do Dm[em++]=sm[Bm++];while(--Sm);Bm=em-Pm,qm=Dm}}else if(am<Sm){if(Bm+=om+am-Sm,Sm-=am,Sm<jm){jm-=Sm;do Dm[em++]=sm[Bm++];while(--Sm);if(Bm=0,am<jm){Sm=am,jm-=Sm;do Dm[em++]=sm[Bm++];while(--Sm);Bm=em-Pm,qm=Dm}}}else if(Bm+=am-Sm,Sm<jm){jm-=Sm;do Dm[em++]=sm[Bm++];while(--Sm);Bm=em-Pm,qm=Dm}for(;jm>2;)Dm[em++]=qm[Bm++],Dm[em++]=qm[Bm++],Dm[em++]=qm[Bm++],jm-=3;jm&&(Dm[em++]=qm[Bm++],jm>1&&(Dm[em++]=qm[Bm++]))}else{Bm=em-Pm;do Dm[em++]=Dm[Bm++],Dm[em++]=Dm[Bm++],Dm[em++]=Dm[Bm++],jm-=3;while(jm>2);jm&&(Dm[em++]=Dm[Bm++],jm>1&&(Dm[em++]=Dm[Bm++]))}}else if((Sm&64)===0){ym=pm[(ym&65535)+(cm&(1<<Sm)-1)];continue n}else{s.msg="invalid distance code",Um.mode=BAD$1;break e}break}}else if((Sm&64)===0){ym=fm[(ym&65535)+(cm&(1<<Sm)-1)];continue t}else if(Sm&32){Um.mode=TYPE$1;break e}else{s.msg="invalid literal/length code",Um.mode=BAD$1;break e}break}}while(Nf<ip&&em<nm);jm=hm>>3,Nf-=jm,hm-=jm<<3,cm&=(1<<hm)-1,s.next_in=Nf,s.next_out=em,s.avail_in=Nf<ip?5+(ip-Nf):5-(Nf-ip),s.avail_out=em<nm?257+(nm-em):257-(em-nm),Um.hold=cm,Um.bits=hm};const MAXBITS=15,ENOUGH_LENS$1=852,ENOUGH_DISTS$1=592,CODES$1=0,LENS$1=1,DISTS$1=2,lbase=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),lext=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),dbase=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),dext=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),inflate_table=(r,s,sf,Nf,ip,em,tm,nm)=>{const rm=nm.bits;let om=0,im=0,am=0,sm=0,cm=0,hm=0,fm=0,pm=0,mm=0,_m=0,ym,Sm,jm,Pm,Bm,qm=null,Rm;const Dm=new Uint16Array(MAXBITS+1),Um=new Uint16Array(MAXBITS+1);let Lm=null,Im,dm,gm;for(om=0;om<=MAXBITS;om++)Dm[om]=0;for(im=0;im<Nf;im++)Dm[s[sf+im]]++;for(cm=rm,sm=MAXBITS;sm>=1&&Dm[sm]===0;sm--);if(cm>sm&&(cm=sm),sm===0)return ip[em++]=1<<24|64<<16|0,ip[em++]=1<<24|64<<16|0,nm.bits=1,0;for(am=1;am<sm&&Dm[am]===0;am++);for(cm<am&&(cm=am),pm=1,om=1;om<=MAXBITS;om++)if(pm<<=1,pm-=Dm[om],pm<0)return-1;if(pm>0&&(r===CODES$1||sm!==1))return-1;for(Um[1]=0,om=1;om<MAXBITS;om++)Um[om+1]=Um[om]+Dm[om];for(im=0;im<Nf;im++)s[sf+im]!==0&&(tm[Um[s[sf+im]]++]=im);if(r===CODES$1?(qm=Lm=tm,Rm=20):r===LENS$1?(qm=lbase,Lm=lext,Rm=257):(qm=dbase,Lm=dext,Rm=0),_m=0,im=0,om=am,Bm=em,hm=cm,fm=0,jm=-1,mm=1<<cm,Pm=mm-1,r===LENS$1&&mm>ENOUGH_LENS$1||r===DISTS$1&&mm>ENOUGH_DISTS$1)return 1;for(;;){Im=om-fm,tm[im]+1<Rm?(dm=0,gm=tm[im]):tm[im]>=Rm?(dm=Lm[tm[im]-Rm],gm=qm[tm[im]-Rm]):(dm=96,gm=0),ym=1<<om-fm,Sm=1<<hm,am=Sm;do Sm-=ym,ip[Bm+(_m>>fm)+Sm]=Im<<24|dm<<16|gm|0;while(Sm!==0);for(ym=1<<om-1;_m&ym;)ym>>=1;if(ym!==0?(_m&=ym-1,_m+=ym):_m=0,im++,--Dm[om]===0){if(om===sm)break;om=s[sf+tm[im]]}if(om>cm&&(_m&Pm)!==jm){for(fm===0&&(fm=cm),Bm+=am,hm=om-fm,pm=1<<hm;hm+fm<sm&&(pm-=Dm[hm+fm],!(pm<=0));)hm++,pm<<=1;if(mm+=1<<hm,r===LENS$1&&mm>ENOUGH_LENS$1||r===DISTS$1&&mm>ENOUGH_DISTS$1)return 1;jm=_m&Pm,ip[jm]=cm<<24|hm<<16|Bm-em|0}}return _m!==0&&(ip[Bm+_m]=om-fm<<24|64<<16|0),nm.bits=cm,0};var inftrees=inflate_table;const CODES=0,LENS=1,DISTS=2,{Z_FINISH:Z_FINISH$1,Z_BLOCK,Z_TREES,Z_OK:Z_OK$1,Z_STREAM_END:Z_STREAM_END$1,Z_NEED_DICT:Z_NEED_DICT$1,Z_STREAM_ERROR:Z_STREAM_ERROR$1,Z_DATA_ERROR:Z_DATA_ERROR$1,Z_MEM_ERROR:Z_MEM_ERROR$1,Z_BUF_ERROR,Z_DEFLATED}=constants$2,HEAD=16180,FLAGS=16181,TIME=16182,OS=16183,EXLEN=16184,EXTRA=16185,NAME=16186,COMMENT=16187,HCRC=16188,DICTID=16189,DICT=16190,TYPE=16191,TYPEDO=16192,STORED=16193,COPY_=16194,COPY=16195,TABLE=16196,LENLENS=16197,CODELENS=16198,LEN_=16199,LEN=16200,LENEXT=16201,DIST=16202,DISTEXT=16203,MATCH=16204,LIT=16205,CHECK=16206,LENGTH=16207,DONE=16208,BAD=16209,MEM=16210,SYNC=16211,ENOUGH_LENS=852,ENOUGH_DISTS=592,MAX_WBITS=15,DEF_WBITS=MAX_WBITS,zswap32=r=>(r>>>24&255)+(r>>>8&65280)+((r&65280)<<8)+((r&255)<<24);function InflateState(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const inflateStateCheck=r=>{if(!r)return 1;const s=r.state;return!s||s.strm!==r||s.mode<HEAD||s.mode>SYNC?1:0},inflateResetKeep=r=>{if(inflateStateCheck(r))return Z_STREAM_ERROR$1;const s=r.state;return r.total_in=r.total_out=s.total=0,r.msg="",s.wrap&&(r.adler=s.wrap&1),s.mode=HEAD,s.last=0,s.havedict=0,s.flags=-1,s.dmax=32768,s.head=null,s.hold=0,s.bits=0,s.lencode=s.lendyn=new Int32Array(ENOUGH_LENS),s.distcode=s.distdyn=new Int32Array(ENOUGH_DISTS),s.sane=1,s.back=-1,Z_OK$1},inflateReset=r=>{if(inflateStateCheck(r))return Z_STREAM_ERROR$1;const s=r.state;return s.wsize=0,s.whave=0,s.wnext=0,inflateResetKeep(r)},inflateReset2=(r,s)=>{let sf;if(inflateStateCheck(r))return Z_STREAM_ERROR$1;const Nf=r.state;return s<0?(sf=0,s=-s):(sf=(s>>4)+5,s<48&&(s&=15)),s&&(s<8||s>15)?Z_STREAM_ERROR$1:(Nf.window!==null&&Nf.wbits!==s&&(Nf.window=null),Nf.wrap=sf,Nf.wbits=s,inflateReset(r))},inflateInit2=(r,s)=>{if(!r)return Z_STREAM_ERROR$1;const sf=new InflateState;r.state=sf,sf.strm=r,sf.window=null,sf.mode=HEAD;const Nf=inflateReset2(r,s);return Nf!==Z_OK$1&&(r.state=null),Nf},inflateInit=r=>inflateInit2(r,DEF_WBITS);let virgin=!0,lenfix,distfix;const fixedtables=r=>{if(virgin){lenfix=new Int32Array(512),distfix=new Int32Array(32);let s=0;for(;s<144;)r.lens[s++]=8;for(;s<256;)r.lens[s++]=9;for(;s<280;)r.lens[s++]=7;for(;s<288;)r.lens[s++]=8;for(inftrees(LENS,r.lens,0,288,lenfix,0,r.work,{bits:9}),s=0;s<32;)r.lens[s++]=5;inftrees(DISTS,r.lens,0,32,distfix,0,r.work,{bits:5}),virgin=!1}r.lencode=lenfix,r.lenbits=9,r.distcode=distfix,r.distbits=5},updatewindow=(r,s,sf,Nf)=>{let ip;const em=r.state;return em.window===null&&(em.wsize=1<<em.wbits,em.wnext=0,em.whave=0,em.window=new Uint8Array(em.wsize)),Nf>=em.wsize?(em.window.set(s.subarray(sf-em.wsize,sf),0),em.wnext=0,em.whave=em.wsize):(ip=em.wsize-em.wnext,ip>Nf&&(ip=Nf),em.window.set(s.subarray(sf-Nf,sf-Nf+ip),em.wnext),Nf-=ip,Nf?(em.window.set(s.subarray(sf-Nf,sf),0),em.wnext=Nf,em.whave=em.wsize):(em.wnext+=ip,em.wnext===em.wsize&&(em.wnext=0),em.whave<em.wsize&&(em.whave+=ip))),0},inflate$2=(r,s)=>{let sf,Nf,ip,em,tm,nm,rm,om,im,am,sm,cm,hm,fm,pm=0,mm,_m,ym,Sm,jm,Pm,Bm,qm;const Rm=new Uint8Array(4);let Dm,Um;const Lm=(new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]));if(inflateStateCheck(r)||!r.output||!r.input&&r.avail_in!==0)return Z_STREAM_ERROR$1;sf=r.state,sf.mode===TYPE&&(sf.mode=TYPEDO),tm=r.next_out,ip=r.output,rm=r.avail_out,em=r.next_in,Nf=r.input,nm=r.avail_in,om=sf.hold,im=sf.bits,am=nm,sm=rm,qm=Z_OK$1;e:for(;;)switch(sf.mode){case HEAD:if(sf.wrap===0){sf.mode=TYPEDO;break}for(;im<16;){if(nm===0)break e;nm--,om+=Nf[em++]<<im,im+=8}if(sf.wrap&2&&om===35615){sf.wbits===0&&(sf.wbits=15),sf.check=0,Rm[0]=om&255,Rm[1]=om>>>8&255,sf.check=crc32_1(sf.check,Rm,2,0),om=0,im=0,sf.mode=FLAGS;break}if(sf.head&&(sf.head.done=!1),!(sf.wrap&1)||(((om&255)<<8)+(om>>8))%31){r.msg="incorrect header check",sf.mode=BAD;break}if((om&15)!==Z_DEFLATED){r.msg="unknown compression method",sf.mode=BAD;break}if(om>>>=4,im-=4,Bm=(om&15)+8,sf.wbits===0&&(sf.wbits=Bm),Bm>15||Bm>sf.wbits){r.msg="invalid window size",sf.mode=BAD;break}sf.dmax=1<<sf.wbits,sf.flags=0,r.adler=sf.check=1,sf.mode=om&512?DICTID:TYPE,om=0,im=0;break;case FLAGS:for(;im<16;){if(nm===0)break e;nm--,om+=Nf[em++]<<im,im+=8}if(sf.flags=om,(sf.flags&255)!==Z_DEFLATED){r.msg="unknown compression method",sf.mode=BAD;break}if(sf.flags&57344){r.msg="unknown header flags set",sf.mode=BAD;break}sf.head&&(sf.head.text=om>>8&1),sf.flags&512&&sf.wrap&4&&(Rm[0]=om&255,Rm[1]=om>>>8&255,sf.check=crc32_1(sf.check,Rm,2,0)),om=0,im=0,sf.mode=TIME;case TIME:for(;im<32;){if(nm===0)break e;nm--,om+=Nf[em++]<<im,im+=8}sf.head&&(sf.head.time=om),sf.flags&512&&sf.wrap&4&&(Rm[0]=om&255,Rm[1]=om>>>8&255,Rm[2]=om>>>16&255,Rm[3]=om>>>24&255,sf.check=crc32_1(sf.check,Rm,4,0)),om=0,im=0,sf.mode=OS;case OS:for(;im<16;){if(nm===0)break e;nm--,om+=Nf[em++]<<im,im+=8}sf.head&&(sf.head.xflags=om&255,sf.head.os=om>>8),sf.flags&512&&sf.wrap&4&&(Rm[0]=om&255,Rm[1]=om>>>8&255,sf.check=crc32_1(sf.check,Rm,2,0)),om=0,im=0,sf.mode=EXLEN;case EXLEN:if(sf.flags&1024){for(;im<16;){if(nm===0)break e;nm--,om+=Nf[em++]<<im,im+=8}sf.length=om,sf.head&&(sf.head.extra_len=om),sf.flags&512&&sf.wrap&4&&(Rm[0]=om&255,Rm[1]=om>>>8&255,sf.check=crc32_1(sf.check,Rm,2,0)),om=0,im=0}else sf.head&&(sf.head.extra=null);sf.mode=EXTRA;case EXTRA:if(sf.flags&1024&&(cm=sf.length,cm>nm&&(cm=nm),cm&&(sf.head&&(Bm=sf.head.extra_len-sf.length,sf.head.extra||(sf.head.extra=new Uint8Array(sf.head.extra_len)),sf.head.extra.set(Nf.subarray(em,em+cm),Bm)),sf.flags&512&&sf.wrap&4&&(sf.check=crc32_1(sf.check,Nf,cm,em)),nm-=cm,em+=cm,sf.length-=cm),sf.length))break e;sf.length=0,sf.mode=NAME;case NAME:if(sf.flags&2048){if(nm===0)break e;cm=0;do Bm=Nf[em+cm++],sf.head&&Bm&&sf.length<65536&&(sf.head.name+=String.fromCharCode(Bm));while(Bm&&cm<nm);if(sf.flags&512&&sf.wrap&4&&(sf.check=crc32_1(sf.check,Nf,cm,em)),nm-=cm,em+=cm,Bm)break e}else sf.head&&(sf.head.name=null);sf.length=0,sf.mode=COMMENT;case COMMENT:if(sf.flags&4096){if(nm===0)break e;cm=0;do Bm=Nf[em+cm++],sf.head&&Bm&&sf.length<65536&&(sf.head.comment+=String.fromCharCode(Bm));while(Bm&&cm<nm);if(sf.flags&512&&sf.wrap&4&&(sf.check=crc32_1(sf.check,Nf,cm,em)),nm-=cm,em+=cm,Bm)break e}else sf.head&&(sf.head.comment=null);sf.mode=HCRC;case HCRC:if(sf.flags&512){for(;im<16;){if(nm===0)break e;nm--,om+=Nf[em++]<<im,im+=8}if(sf.wrap&4&&om!==(sf.check&65535)){r.msg="header crc mismatch",sf.mode=BAD;break}om=0,im=0}sf.head&&(sf.head.hcrc=sf.flags>>9&1,sf.head.done=!0),r.adler=sf.check=0,sf.mode=TYPE;break;case DICTID:for(;im<32;){if(nm===0)break e;nm--,om+=Nf[em++]<<im,im+=8}r.adler=sf.check=zswap32(om),om=0,im=0,sf.mode=DICT;case DICT:if(sf.havedict===0)return r.next_out=tm,r.avail_out=rm,r.next_in=em,r.avail_in=nm,sf.hold=om,sf.bits=im,Z_NEED_DICT$1;r.adler=sf.check=1,sf.mode=TYPE;case TYPE:if(s===Z_BLOCK||s===Z_TREES)break e;case TYPEDO:if(sf.last){om>>>=im&7,im-=im&7,sf.mode=CHECK;break}for(;im<3;){if(nm===0)break e;nm--,om+=Nf[em++]<<im,im+=8}switch(sf.last=om&1,om>>>=1,im-=1,om&3){case 0:sf.mode=STORED;break;case 1:if(fixedtables(sf),sf.mode=LEN_,s===Z_TREES){om>>>=2,im-=2;break e}break;case 2:sf.mode=TABLE;break;case 3:r.msg="invalid block type",sf.mode=BAD}om>>>=2,im-=2;break;case STORED:for(om>>>=im&7,im-=im&7;im<32;){if(nm===0)break e;nm--,om+=Nf[em++]<<im,im+=8}if((om&65535)!==(om>>>16^65535)){r.msg="invalid stored block lengths",sf.mode=BAD;break}if(sf.length=om&65535,om=0,im=0,sf.mode=COPY_,s===Z_TREES)break e;case COPY_:sf.mode=COPY;case COPY:if(cm=sf.length,cm){if(cm>nm&&(cm=nm),cm>rm&&(cm=rm),cm===0)break e;ip.set(Nf.subarray(em,em+cm),tm),nm-=cm,em+=cm,rm-=cm,tm+=cm,sf.length-=cm;break}sf.mode=TYPE;break;case TABLE:for(;im<14;){if(nm===0)break e;nm--,om+=Nf[em++]<<im,im+=8}if(sf.nlen=(om&31)+257,om>>>=5,im-=5,sf.ndist=(om&31)+1,om>>>=5,im-=5,sf.ncode=(om&15)+4,om>>>=4,im-=4,sf.nlen>286||sf.ndist>30){r.msg="too many length or distance symbols",sf.mode=BAD;break}sf.have=0,sf.mode=LENLENS;case LENLENS:for(;sf.have<sf.ncode;){for(;im<3;){if(nm===0)break e;nm--,om+=Nf[em++]<<im,im+=8}sf.lens[Lm[sf.have++]]=om&7,om>>>=3,im-=3}for(;sf.have<19;)sf.lens[Lm[sf.have++]]=0;if(sf.lencode=sf.lendyn,sf.lenbits=7,Dm={bits:sf.lenbits},qm=inftrees(CODES,sf.lens,0,19,sf.lencode,0,sf.work,Dm),sf.lenbits=Dm.bits,qm){r.msg="invalid code lengths set",sf.mode=BAD;break}sf.have=0,sf.mode=CODELENS;case CODELENS:for(;sf.have<sf.nlen+sf.ndist;){for(;pm=sf.lencode[om&(1<<sf.lenbits)-1],mm=pm>>>24,_m=pm>>>16&255,ym=pm&65535,!(mm<=im);){if(nm===0)break e;nm--,om+=Nf[em++]<<im,im+=8}if(ym<16)om>>>=mm,im-=mm,sf.lens[sf.have++]=ym;else{if(ym===16){for(Um=mm+2;im<Um;){if(nm===0)break e;nm--,om+=Nf[em++]<<im,im+=8}if(om>>>=mm,im-=mm,sf.have===0){r.msg="invalid bit length repeat",sf.mode=BAD;break}Bm=sf.lens[sf.have-1],cm=3+(om&3),om>>>=2,im-=2}else if(ym===17){for(Um=mm+3;im<Um;){if(nm===0)break e;nm--,om+=Nf[em++]<<im,im+=8}om>>>=mm,im-=mm,Bm=0,cm=3+(om&7),om>>>=3,im-=3}else{for(Um=mm+7;im<Um;){if(nm===0)break e;nm--,om+=Nf[em++]<<im,im+=8}om>>>=mm,im-=mm,Bm=0,cm=11+(om&127),om>>>=7,im-=7}if(sf.have+cm>sf.nlen+sf.ndist){r.msg="invalid bit length repeat",sf.mode=BAD;break}for(;cm--;)sf.lens[sf.have++]=Bm}}if(sf.mode===BAD)break;if(sf.lens[256]===0){r.msg="invalid code -- missing end-of-block",sf.mode=BAD;break}if(sf.lenbits=9,Dm={bits:sf.lenbits},qm=inftrees(LENS,sf.lens,0,sf.nlen,sf.lencode,0,sf.work,Dm),sf.lenbits=Dm.bits,qm){r.msg="invalid literal/lengths set",sf.mode=BAD;break}if(sf.distbits=6,sf.distcode=sf.distdyn,Dm={bits:sf.distbits},qm=inftrees(DISTS,sf.lens,sf.nlen,sf.ndist,sf.distcode,0,sf.work,Dm),sf.distbits=Dm.bits,qm){r.msg="invalid distances set",sf.mode=BAD;break}if(sf.mode=LEN_,s===Z_TREES)break e;case LEN_:sf.mode=LEN;case LEN:if(nm>=6&&rm>=258){r.next_out=tm,r.avail_out=rm,r.next_in=em,r.avail_in=nm,sf.hold=om,sf.bits=im,inffast(r,sm),tm=r.next_out,ip=r.output,rm=r.avail_out,em=r.next_in,Nf=r.input,nm=r.avail_in,om=sf.hold,im=sf.bits,sf.mode===TYPE&&(sf.back=-1);break}for(sf.back=0;pm=sf.lencode[om&(1<<sf.lenbits)-1],mm=pm>>>24,_m=pm>>>16&255,ym=pm&65535,!(mm<=im);){if(nm===0)break e;nm--,om+=Nf[em++]<<im,im+=8}if(_m&&(_m&240)===0){for(Sm=mm,jm=_m,Pm=ym;pm=sf.lencode[Pm+((om&(1<<Sm+jm)-1)>>Sm)],mm=pm>>>24,_m=pm>>>16&255,ym=pm&65535,!(Sm+mm<=im);){if(nm===0)break e;nm--,om+=Nf[em++]<<im,im+=8}om>>>=Sm,im-=Sm,sf.back+=Sm}if(om>>>=mm,im-=mm,sf.back+=mm,sf.length=ym,_m===0){sf.mode=LIT;break}if(_m&32){sf.back=-1,sf.mode=TYPE;break}if(_m&64){r.msg="invalid literal/length code",sf.mode=BAD;break}sf.extra=_m&15,sf.mode=LENEXT;case LENEXT:if(sf.extra){for(Um=sf.extra;im<Um;){if(nm===0)break e;nm--,om+=Nf[em++]<<im,im+=8}sf.length+=om&(1<<sf.extra)-1,om>>>=sf.extra,im-=sf.extra,sf.back+=sf.extra}sf.was=sf.length,sf.mode=DIST;case DIST:for(;pm=sf.distcode[om&(1<<sf.distbits)-1],mm=pm>>>24,_m=pm>>>16&255,ym=pm&65535,!(mm<=im);){if(nm===0)break e;nm--,om+=Nf[em++]<<im,im+=8}if((_m&240)===0){for(Sm=mm,jm=_m,Pm=ym;pm=sf.distcode[Pm+((om&(1<<Sm+jm)-1)>>Sm)],mm=pm>>>24,_m=pm>>>16&255,ym=pm&65535,!(Sm+mm<=im);){if(nm===0)break e;nm--,om+=Nf[em++]<<im,im+=8}om>>>=Sm,im-=Sm,sf.back+=Sm}if(om>>>=mm,im-=mm,sf.back+=mm,_m&64){r.msg="invalid distance code",sf.mode=BAD;break}sf.offset=ym,sf.extra=_m&15,sf.mode=DISTEXT;case DISTEXT:if(sf.extra){for(Um=sf.extra;im<Um;){if(nm===0)break e;nm--,om+=Nf[em++]<<im,im+=8}sf.offset+=om&(1<<sf.extra)-1,om>>>=sf.extra,im-=sf.extra,sf.back+=sf.extra}if(sf.offset>sf.dmax){r.msg="invalid distance too far back",sf.mode=BAD;break}sf.mode=MATCH;case MATCH:if(rm===0)break e;if(cm=sm-rm,sf.offset>cm){if(cm=sf.offset-cm,cm>sf.whave&&sf.sane){r.msg="invalid distance too far back",sf.mode=BAD;break}cm>sf.wnext?(cm-=sf.wnext,hm=sf.wsize-cm):hm=sf.wnext-cm,cm>sf.length&&(cm=sf.length),fm=sf.window}else fm=ip,hm=tm-sf.offset,cm=sf.length;cm>rm&&(cm=rm),rm-=cm,sf.length-=cm;do ip[tm++]=fm[hm++];while(--cm);sf.length===0&&(sf.mode=LEN);break;case LIT:if(rm===0)break e;ip[tm++]=sf.length,rm--,sf.mode=LEN;break;case CHECK:if(sf.wrap){for(;im<32;){if(nm===0)break e;nm--,om|=Nf[em++]<<im,im+=8}if(sm-=rm,r.total_out+=sm,sf.total+=sm,sf.wrap&4&&sm&&(r.adler=sf.check=sf.flags?crc32_1(sf.check,ip,sm,tm-sm):adler32_1(sf.check,ip,sm,tm-sm)),sm=rm,sf.wrap&4&&(sf.flags?om:zswap32(om))!==sf.check){r.msg="incorrect data check",sf.mode=BAD;break}om=0,im=0}sf.mode=LENGTH;case LENGTH:if(sf.wrap&&sf.flags){for(;im<32;){if(nm===0)break e;nm--,om+=Nf[em++]<<im,im+=8}if(sf.wrap&4&&om!==(sf.total&0xffffffff)){r.msg="incorrect length check",sf.mode=BAD;break}om=0,im=0}sf.mode=DONE;case DONE:qm=Z_STREAM_END$1;break e;case BAD:qm=Z_DATA_ERROR$1;break e;case MEM:return Z_MEM_ERROR$1;case SYNC:default:return Z_STREAM_ERROR$1}return r.next_out=tm,r.avail_out=rm,r.next_in=em,r.avail_in=nm,sf.hold=om,sf.bits=im,(sf.wsize||sm!==r.avail_out&&sf.mode<BAD&&(sf.mode<CHECK||s!==Z_FINISH$1))&&updatewindow(r,r.output,r.next_out,sm-r.avail_out),am-=r.avail_in,sm-=r.avail_out,r.total_in+=am,r.total_out+=sm,sf.total+=sm,sf.wrap&4&&sm&&(r.adler=sf.check=sf.flags?crc32_1(sf.check,ip,sm,r.next_out-sm):adler32_1(sf.check,ip,sm,r.next_out-sm)),r.data_type=sf.bits+(sf.last?64:0)+(sf.mode===TYPE?128:0)+(sf.mode===LEN_||sf.mode===COPY_?256:0),(am===0&&sm===0||s===Z_FINISH$1)&&qm===Z_OK$1&&(qm=Z_BUF_ERROR),qm},inflateEnd=r=>{if(inflateStateCheck(r))return Z_STREAM_ERROR$1;let s=r.state;return s.window&&(s.window=null),r.state=null,Z_OK$1},inflateGetHeader=(r,s)=>{if(inflateStateCheck(r))return Z_STREAM_ERROR$1;const sf=r.state;return(sf.wrap&2)===0?Z_STREAM_ERROR$1:(sf.head=s,s.done=!1,Z_OK$1)},inflateSetDictionary=(r,s)=>{const sf=s.length;let Nf,ip,em;return inflateStateCheck(r)||(Nf=r.state,Nf.wrap!==0&&Nf.mode!==DICT)?Z_STREAM_ERROR$1:Nf.mode===DICT&&(ip=1,ip=adler32_1(ip,s,sf,0),ip!==Nf.check)?Z_DATA_ERROR$1:(em=updatewindow(r,s,sf,sf),em?(Nf.mode=MEM,Z_MEM_ERROR$1):(Nf.havedict=1,Z_OK$1))};var inflateReset_1=inflateReset,inflateReset2_1=inflateReset2,inflateResetKeep_1=inflateResetKeep,inflateInit_1=inflateInit,inflateInit2_1=inflateInit2,inflate_2$1=inflate$2,inflateEnd_1=inflateEnd,inflateGetHeader_1=inflateGetHeader,inflateSetDictionary_1=inflateSetDictionary,inflateInfo="pako inflate (from Nodeca project)",inflate_1$2={inflateReset:inflateReset_1,inflateReset2:inflateReset2_1,inflateResetKeep:inflateResetKeep_1,inflateInit:inflateInit_1,inflateInit2:inflateInit2_1,inflate:inflate_2$1,inflateEnd:inflateEnd_1,inflateGetHeader:inflateGetHeader_1,inflateSetDictionary:inflateSetDictionary_1,inflateInfo};function GZheader(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var gzheader=GZheader;const toString$2=Object.prototype.toString,{Z_NO_FLUSH,Z_FINISH,Z_OK,Z_STREAM_END,Z_NEED_DICT,Z_STREAM_ERROR,Z_DATA_ERROR,Z_MEM_ERROR}=constants$2;function Inflate$1(r){this.options=common$1.assign({chunkSize:1024*64,windowBits:15,to:""},r||{});const s=this.options;s.raw&&s.windowBits>=0&&s.windowBits<16&&(s.windowBits=-s.windowBits,s.windowBits===0&&(s.windowBits=-15)),s.windowBits>=0&&s.windowBits<16&&!(r&&r.windowBits)&&(s.windowBits+=32),s.windowBits>15&&s.windowBits<48&&(s.windowBits&15)===0&&(s.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let sf=inflate_1$2.inflateInit2(this.strm,s.windowBits);if(sf!==Z_OK)throw new Error(messages[sf]);if(this.header=new gzheader,inflate_1$2.inflateGetHeader(this.strm,this.header),s.dictionary&&(typeof s.dictionary=="string"?s.dictionary=strings.string2buf(s.dictionary):toString$2.call(s.dictionary)==="[object ArrayBuffer]"&&(s.dictionary=new Uint8Array(s.dictionary)),s.raw&&(sf=inflate_1$2.inflateSetDictionary(this.strm,s.dictionary),sf!==Z_OK)))throw new Error(messages[sf])}Inflate$1.prototype.push=function(r,s){const sf=this.strm,Nf=this.options.chunkSize,ip=this.options.dictionary;let em,tm,nm;if(this.ended)return!1;for(s===~~s?tm=s:tm=s===!0?Z_FINISH:Z_NO_FLUSH,toString$2.call(r)==="[object ArrayBuffer]"?sf.input=new Uint8Array(r):sf.input=r,sf.next_in=0,sf.avail_in=sf.input.length;;){for(sf.avail_out===0&&(sf.output=new Uint8Array(Nf),sf.next_out=0,sf.avail_out=Nf),em=inflate_1$2.inflate(sf,tm),em===Z_NEED_DICT&&ip&&(em=inflate_1$2.inflateSetDictionary(sf,ip),em===Z_OK?em=inflate_1$2.inflate(sf,tm):em===Z_DATA_ERROR&&(em=Z_NEED_DICT));sf.avail_in>0&&em===Z_STREAM_END&&sf.state.wrap>0&&r[sf.next_in]!==0;)inflate_1$2.inflateReset(sf),em=inflate_1$2.inflate(sf,tm);switch(em){case Z_STREAM_ERROR:case Z_DATA_ERROR:case Z_NEED_DICT:case Z_MEM_ERROR:return this.onEnd(em),this.ended=!0,!1}if(nm=sf.avail_out,sf.next_out&&(sf.avail_out===0||em===Z_STREAM_END))if(this.options.to==="string"){let rm=strings.utf8border(sf.output,sf.next_out),om=sf.next_out-rm,im=strings.buf2string(sf.output,rm);sf.next_out=om,sf.avail_out=Nf-om,om&&sf.output.set(sf.output.subarray(rm,rm+om),0),this.onData(im)}else this.onData(sf.output.length===sf.next_out?sf.output:sf.output.subarray(0,sf.next_out));if(!(em===Z_OK&&nm===0)){if(em===Z_STREAM_END)return em=inflate_1$2.inflateEnd(this.strm),this.onEnd(em),this.ended=!0,!0;if(sf.avail_in===0)break}}return!0};Inflate$1.prototype.onData=function(r){this.chunks.push(r)};Inflate$1.prototype.onEnd=function(r){r===Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=common$1.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};function inflate$1(r,s){const sf=new Inflate$1(s);if(sf.push(r),sf.err)throw sf.msg||messages[sf.err];return sf.result}var ungzip$1=inflate$1,inflate_1$1={ungzip:ungzip$1};const{gzip}=deflate_1$1,{ungzip}=inflate_1$1;var gzip_1=gzip,ungzip_1=ungzip;const secp256k1P$1=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),secp256k1N$1=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),_1n$7=BigInt(1),_2n$4=BigInt(2),divNearest$1=(r,s)=>(r+s/_2n$4)/s;function sqrtMod$1(r){const s=secp256k1P$1,sf=BigInt(3),Nf=BigInt(6),ip=BigInt(11),em=BigInt(22),tm=BigInt(23),nm=BigInt(44),rm=BigInt(88),om=r*r*r%s,im=om*om*r%s,am=pow2$1(im,sf,s)*im%s,sm=pow2$1(am,sf,s)*im%s,cm=pow2$1(sm,_2n$4,s)*om%s,hm=pow2$1(cm,ip,s)*cm%s,fm=pow2$1(hm,em,s)*hm%s,pm=pow2$1(fm,nm,s)*fm%s,mm=pow2$1(pm,rm,s)*pm%s,_m=pow2$1(mm,nm,s)*fm%s,ym=pow2$1(_m,sf,s)*im%s,Sm=pow2$1(ym,tm,s)*hm%s,jm=pow2$1(Sm,Nf,s)*om%s,Pm=pow2$1(jm,_2n$4,s);if(!Fpk1$1.eql(Fpk1$1.sqr(Pm),r))throw new Error("Cannot find square root");return Pm}const Fpk1$1=Field$1(secp256k1P$1,void 0,void 0,{sqrt:sqrtMod$1}),secp256k1$1=createCurve$1({a:BigInt(0),b:BigInt(7),Fp:Fpk1$1,n:secp256k1N$1,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:r=>{const s=secp256k1N$1,sf=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),Nf=-_1n$7*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),ip=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),em=sf,tm=BigInt("0x100000000000000000000000000000000"),nm=divNearest$1(em*r,s),rm=divNearest$1(-Nf*r,s);let om=mod$1(r-nm*sf-rm*ip,s),im=mod$1(-nm*Nf-rm*em,s);const am=om>tm,sm=im>tm;if(am&&(om=s-om),sm&&(im=s-im),om>tm||im>tm)throw new Error("splitScalar: Endomorphism failed, k="+r);return{k1neg:am,k1:om,k2neg:sm,k2:im}}}},sha256$1);BigInt(0);secp256k1$1.ProjectivePoint;function getDefaultExportFromCjs(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function getAugmentedNamespace(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var s=r.default;if(typeof s=="function"){var sf=function Nf(){return this instanceof Nf?Reflect.construct(s,arguments,this.constructor):s.apply(this,arguments)};sf.prototype=s.prototype}else sf={};return Object.defineProperty(sf,"__esModule",{value:!0}),Object.keys(r).forEach(function(Nf){var ip=Object.getOwnPropertyDescriptor(r,Nf);Object.defineProperty(sf,Nf,ip.get?ip:{enumerable:!0,get:function(){return r[Nf]}})}),sf}var cookie$1={};const maxInt=0x7fffffff,base=36,tMin=1,tMax=26,skew=38,damp=700,initialBias=72,initialN=128,delimiter="-",regexPunycode=/^xn--/,regexNonASCII=/[^\0-\x7F]/,regexSeparators=/[\x2E\u3002\uFF0E\uFF61]/g,errors={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},baseMinusTMin=base-tMin,floor$1=Math.floor,stringFromCharCode=String.fromCharCode;function error$1(r){throw new RangeError(errors[r])}function map(r,s){const sf=[];let Nf=r.length;for(;Nf--;)sf[Nf]=s(r[Nf]);return sf}function mapDomain(r,s){const sf=r.split("@");let Nf="";sf.length>1&&(Nf=sf[0]+"@",r=sf[1]),r=r.replace(regexSeparators,".");const ip=r.split("."),em=map(ip,s).join(".");return Nf+em}function ucs2decode(r){const s=[];let sf=0;const Nf=r.length;for(;sf<Nf;){const ip=r.charCodeAt(sf++);if(ip>=55296&&ip<=56319&&sf<Nf){const em=r.charCodeAt(sf++);(em&64512)==56320?s.push(((ip&1023)<<10)+(em&1023)+65536):(s.push(ip),sf--)}else s.push(ip)}return s}const ucs2encode=r=>String.fromCodePoint(...r),basicToDigit=function(r){return r>=48&&r<58?26+(r-48):r>=65&&r<91?r-65:r>=97&&r<123?r-97:base},digitToBasic=function(r,s){return r+22+75*(r<26)-((s!=0)<<5)},adapt=function(r,s,sf){let Nf=0;for(r=sf?floor$1(r/damp):r>>1,r+=floor$1(r/s);r>baseMinusTMin*tMax>>1;Nf+=base)r=floor$1(r/baseMinusTMin);return floor$1(Nf+(baseMinusTMin+1)*r/(r+skew))},decode$3=function(r){const s=[],sf=r.length;let Nf=0,ip=initialN,em=initialBias,tm=r.lastIndexOf(delimiter);tm<0&&(tm=0);for(let nm=0;nm<tm;++nm)r.charCodeAt(nm)>=128&&error$1("not-basic"),s.push(r.charCodeAt(nm));for(let nm=tm>0?tm+1:0;nm<sf;){const rm=Nf;for(let im=1,am=base;;am+=base){nm>=sf&&error$1("invalid-input");const sm=basicToDigit(r.charCodeAt(nm++));sm>=base&&error$1("invalid-input"),sm>floor$1((maxInt-Nf)/im)&&error$1("overflow"),Nf+=sm*im;const cm=am<=em?tMin:am>=em+tMax?tMax:am-em;if(sm<cm)break;const hm=base-cm;im>floor$1(maxInt/hm)&&error$1("overflow"),im*=hm}const om=s.length+1;em=adapt(Nf-rm,om,rm==0),floor$1(Nf/om)>maxInt-ip&&error$1("overflow"),ip+=floor$1(Nf/om),Nf%=om,s.splice(Nf++,0,ip)}return String.fromCodePoint(...s)},encode$1=function(r){const s=[];r=ucs2decode(r);const sf=r.length;let Nf=initialN,ip=0,em=initialBias;for(const rm of r)rm<128&&s.push(stringFromCharCode(rm));const tm=s.length;let nm=tm;for(tm&&s.push(delimiter);nm<sf;){let rm=maxInt;for(const im of r)im>=Nf&&im<rm&&(rm=im);const om=nm+1;rm-Nf>floor$1((maxInt-ip)/om)&&error$1("overflow"),ip+=(rm-Nf)*om,Nf=rm;for(const im of r)if(im<Nf&&++ip>maxInt&&error$1("overflow"),im===Nf){let am=ip;for(let sm=base;;sm+=base){const cm=sm<=em?tMin:sm>=em+tMax?tMax:sm-em;if(am<cm)break;const hm=am-cm,fm=base-cm;s.push(stringFromCharCode(digitToBasic(cm+hm%fm,0))),am=floor$1(hm/fm)}s.push(stringFromCharCode(digitToBasic(am,0))),em=adapt(ip,om,nm===tm),ip=0,++nm}++ip,++Nf}return s.join("")},toUnicode=function(r){return mapDomain(r,function(s){return regexPunycode.test(s)?decode$3(s.slice(4).toLowerCase()):s})},toASCII=function(r){return mapDomain(r,function(s){return regexNonASCII.test(s)?"xn--"+encode$1(s):s})},punycode={version:"2.3.1",ucs2:{decode:ucs2decode,encode:ucs2encode},decode:decode$3,encode:encode$1,toASCII,toUnicode},punycode_es6=Object.freeze(Object.defineProperty({__proto__:null,decode:decode$3,default:punycode,encode:encode$1,toASCII,toUnicode,ucs2decode,ucs2encode},Symbol.toStringTag,{value:"Module"})),require$$0$2=getAugmentedNamespace(punycode_es6);var requiresPort,hasRequiredRequiresPort;function requireRequiresPort(){return hasRequiredRequiresPort||(hasRequiredRequiresPort=1,requiresPort=function(s,sf){if(sf=sf.split(":")[0],s=+s,!s)return!1;switch(sf){case"http":case"ws":return s!==80;case"https":case"wss":return s!==443;case"ftp":return s!==21;case"gopher":return s!==70;case"file":return!1}return s!==0}),requiresPort}var querystringify={},hasRequiredQuerystringify;function requireQuerystringify(){if(hasRequiredQuerystringify)return querystringify;hasRequiredQuerystringify=1;var r=Object.prototype.hasOwnProperty,s;function sf(tm){try{return decodeURIComponent(tm.replace(/\+/g," "))}catch{return null}}function Nf(tm){try{return encodeURIComponent(tm)}catch{return null}}function ip(tm){for(var nm=/([^=?#&]+)=?([^&]*)/g,rm={},om;om=nm.exec(tm);){var im=sf(om[1]),am=sf(om[2]);im===null||am===null||im in rm||(rm[im]=am)}return rm}function em(tm,nm){nm=nm||"";var rm=[],om,im;typeof nm!="string"&&(nm="?");for(im in tm)if(r.call(tm,im)){if(om=tm[im],!om&&(om===null||om===s||isNaN(om))&&(om=""),im=Nf(im),om=Nf(om),im===null||om===null)continue;rm.push(im+"="+om)}return rm.length?nm+rm.join("&"):""}return querystringify.stringify=em,querystringify.parse=ip,querystringify}var urlParse,hasRequiredUrlParse;function requireUrlParse(){if(hasRequiredUrlParse)return urlParse;hasRequiredUrlParse=1;var r=requireRequiresPort(),s=requireQuerystringify(),sf=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,Nf=/[\n\r\t]/g,ip=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,em=/:\d+$/,tm=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,nm=/^[a-zA-Z]:/;function rm(_m){return(_m||"").toString().replace(sf,"")}var om=[["#","hash"],["?","query"],function(ym,Sm){return sm(Sm.protocol)?ym.replace(/\\/g,"/"):ym},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],im={hash:1,query:1};function am(_m){var ym;typeof window<"u"?ym=window:typeof globalThis<"u"?ym=globalThis:typeof self<"u"?ym=self:ym={};var Sm=ym.location||{};_m=_m||Sm;var jm={},Pm=typeof _m,Bm;if(_m.protocol==="blob:")jm=new fm(unescape(_m.pathname),{});else if(Pm==="string"){jm=new fm(_m,{});for(Bm in im)delete jm[Bm]}else if(Pm==="object"){for(Bm in _m)Bm in im||(jm[Bm]=_m[Bm]);jm.slashes===void 0&&(jm.slashes=ip.test(_m.href))}return jm}function sm(_m){return _m==="file:"||_m==="ftp:"||_m==="http:"||_m==="https:"||_m==="ws:"||_m==="wss:"}function cm(_m,ym){_m=rm(_m),_m=_m.replace(Nf,""),ym=ym||{};var Sm=tm.exec(_m),jm=Sm[1]?Sm[1].toLowerCase():"",Pm=!!Sm[2],Bm=!!Sm[3],qm=0,Rm;return Pm?Bm?(Rm=Sm[2]+Sm[3]+Sm[4],qm=Sm[2].length+Sm[3].length):(Rm=Sm[2]+Sm[4],qm=Sm[2].length):Bm?(Rm=Sm[3]+Sm[4],qm=Sm[3].length):Rm=Sm[4],jm==="file:"?qm>=2&&(Rm=Rm.slice(2)):sm(jm)?Rm=Sm[4]:jm?Pm&&(Rm=Rm.slice(2)):qm>=2&&sm(ym.protocol)&&(Rm=Sm[4]),{protocol:jm,slashes:Pm||sm(jm),slashesCount:qm,rest:Rm}}function hm(_m,ym){if(_m==="")return ym;for(var Sm=(ym||"/").split("/").slice(0,-1).concat(_m.split("/")),jm=Sm.length,Pm=Sm[jm-1],Bm=!1,qm=0;jm--;)Sm[jm]==="."?Sm.splice(jm,1):Sm[jm]===".."?(Sm.splice(jm,1),qm++):qm&&(jm===0&&(Bm=!0),Sm.splice(jm,1),qm--);return Bm&&Sm.unshift(""),(Pm==="."||Pm==="..")&&Sm.push(""),Sm.join("/")}function fm(_m,ym,Sm){if(_m=rm(_m),_m=_m.replace(Nf,""),!(this instanceof fm))return new fm(_m,ym,Sm);var jm,Pm,Bm,qm,Rm,Dm,Um=om.slice(),Lm=typeof ym,Im=this,dm=0;for(Lm!=="object"&&Lm!=="string"&&(Sm=ym,ym=null),Sm&&typeof Sm!="function"&&(Sm=s.parse),ym=am(ym),Pm=cm(_m||"",ym),jm=!Pm.protocol&&!Pm.slashes,Im.slashes=Pm.slashes||jm&&ym.slashes,Im.protocol=Pm.protocol||ym.protocol||"",_m=Pm.rest,(Pm.protocol==="file:"&&(Pm.slashesCount!==2||nm.test(_m))||!Pm.slashes&&(Pm.protocol||Pm.slashesCount<2||!sm(Im.protocol)))&&(Um[3]=[/(.*)/,"pathname"]);dm<Um.length;dm++){if(qm=Um[dm],typeof qm=="function"){_m=qm(_m,Im);continue}Bm=qm[0],Dm=qm[1],Bm!==Bm?Im[Dm]=_m:typeof Bm=="string"?(Rm=Bm==="@"?_m.lastIndexOf(Bm):_m.indexOf(Bm),~Rm&&(typeof qm[2]=="number"?(Im[Dm]=_m.slice(0,Rm),_m=_m.slice(Rm+qm[2])):(Im[Dm]=_m.slice(Rm),_m=_m.slice(0,Rm)))):(Rm=Bm.exec(_m))&&(Im[Dm]=Rm[1],_m=_m.slice(0,Rm.index)),Im[Dm]=Im[Dm]||jm&&qm[3]&&ym[Dm]||"",qm[4]&&(Im[Dm]=Im[Dm].toLowerCase())}Sm&&(Im.query=Sm(Im.query)),jm&&ym.slashes&&Im.pathname.charAt(0)!=="/"&&(Im.pathname!==""||ym.pathname!=="")&&(Im.pathname=hm(Im.pathname,ym.pathname)),Im.pathname.charAt(0)!=="/"&&sm(Im.protocol)&&(Im.pathname="/"+Im.pathname),r(Im.port,Im.protocol)||(Im.host=Im.hostname,Im.port=""),Im.username=Im.password="",Im.auth&&(Rm=Im.auth.indexOf(":"),~Rm?(Im.username=Im.auth.slice(0,Rm),Im.username=encodeURIComponent(decodeURIComponent(Im.username)),Im.password=Im.auth.slice(Rm+1),Im.password=encodeURIComponent(decodeURIComponent(Im.password))):Im.username=encodeURIComponent(decodeURIComponent(Im.auth)),Im.auth=Im.password?Im.username+":"+Im.password:Im.username),Im.origin=Im.protocol!=="file:"&&sm(Im.protocol)&&Im.host?Im.protocol+"//"+Im.host:"null",Im.href=Im.toString()}function pm(_m,ym,Sm){var jm=this;switch(_m){case"query":typeof ym=="string"&&ym.length&&(ym=(Sm||s.parse)(ym)),jm[_m]=ym;break;case"port":jm[_m]=ym,r(ym,jm.protocol)?ym&&(jm.host=jm.hostname+":"+ym):(jm.host=jm.hostname,jm[_m]="");break;case"hostname":jm[_m]=ym,jm.port&&(ym+=":"+jm.port),jm.host=ym;break;case"host":jm[_m]=ym,em.test(ym)?(ym=ym.split(":"),jm.port=ym.pop(),jm.hostname=ym.join(":")):(jm.hostname=ym,jm.port="");break;case"protocol":jm.protocol=ym.toLowerCase(),jm.slashes=!Sm;break;case"pathname":case"hash":if(ym){var Pm=_m==="pathname"?"/":"#";jm[_m]=ym.charAt(0)!==Pm?Pm+ym:ym}else jm[_m]=ym;break;case"username":case"password":jm[_m]=encodeURIComponent(ym);break;case"auth":var Bm=ym.indexOf(":");~Bm?(jm.username=ym.slice(0,Bm),jm.username=encodeURIComponent(decodeURIComponent(jm.username)),jm.password=ym.slice(Bm+1),jm.password=encodeURIComponent(decodeURIComponent(jm.password))):jm.username=encodeURIComponent(decodeURIComponent(ym))}for(var qm=0;qm<om.length;qm++){var Rm=om[qm];Rm[4]&&(jm[Rm[1]]=jm[Rm[1]].toLowerCase())}return jm.auth=jm.password?jm.username+":"+jm.password:jm.username,jm.origin=jm.protocol!=="file:"&&sm(jm.protocol)&&jm.host?jm.protocol+"//"+jm.host:"null",jm.href=jm.toString(),jm}function mm(_m){(!_m||typeof _m!="function")&&(_m=s.stringify);var ym,Sm=this,jm=Sm.host,Pm=Sm.protocol;Pm&&Pm.charAt(Pm.length-1)!==":"&&(Pm+=":");var Bm=Pm+(Sm.protocol&&Sm.slashes||sm(Sm.protocol)?"//":"");return Sm.username?(Bm+=Sm.username,Sm.password&&(Bm+=":"+Sm.password),Bm+="@"):Sm.password?(Bm+=":"+Sm.password,Bm+="@"):Sm.protocol!=="file:"&&sm(Sm.protocol)&&!jm&&Sm.pathname!=="/"&&(Bm+="@"),(jm[jm.length-1]===":"||em.test(Sm.hostname)&&!Sm.port)&&(jm+=":"),Bm+=jm+Sm.pathname,ym=typeof Sm.query=="object"?_m(Sm.query):Sm.query,ym&&(Bm+=ym.charAt(0)!=="?"?"?"+ym:ym),Sm.hash&&(Bm+=Sm.hash),Bm}return fm.prototype={set:pm,toString:mm},fm.extractProtocol=cm,fm.location=am,fm.trimLeft=rm,fm.qs=s,urlParse=fm,urlParse}var pubsuffixPsl={},psl={},hasRequiredPsl;function requirePsl(){return hasRequiredPsl||(hasRequiredPsl=1,function(r){Object.defineProperties(r,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});function s(pm){return pm&&pm.__esModule&&Object.prototype.hasOwnProperty.call(pm,"default")?pm.default:pm}var sf,Nf;function ip(){if(Nf)return sf;Nf=1;const pm=0x7fffffff,mm=36,_m=1,ym=26,Sm=38,jm=700,Pm=72,Bm=128,qm="-",Rm=/^xn--/,Dm=/[^\0-\x7F]/,Um=/[\x2E\u3002\uFF0E\uFF61]/g,Lm={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Im=mm-_m,dm=Math.floor,gm=String.fromCharCode;function km(Tm){throw new RangeError(Lm[Tm])}function Mm(Tm,Om){const Hm=[];let Km=Tm.length;for(;Km--;)Hm[Km]=Om(Tm[Km]);return Hm}function bm(Tm,Om){const Hm=Tm.split("@");let Km="";Hm.length>1&&(Km=Hm[0]+"@",Tm=Hm[1]),Tm=Tm.replace(Um,".");const Zm=Tm.split("."),Vm=Mm(Zm,Om).join(".");return Km+Vm}function Em(Tm){const Om=[];let Hm=0;const Km=Tm.length;for(;Hm<Km;){const Zm=Tm.charCodeAt(Hm++);if(Zm>=55296&&Zm<=56319&&Hm<Km){const Vm=Tm.charCodeAt(Hm++);(Vm&64512)==56320?Om.push(((Zm&1023)<<10)+(Vm&1023)+65536):(Om.push(Zm),Hm--)}else Om.push(Zm)}return Om}const $m=Tm=>String.fromCodePoint(...Tm),Am=function(Tm){return Tm>=48&&Tm<58?26+(Tm-48):Tm>=65&&Tm<91?Tm-65:Tm>=97&&Tm<123?Tm-97:mm},lm=function(Tm,Om){return Tm+22+75*(Tm<26)-((Om!=0)<<5)},um=function(Tm,Om,Hm){let Km=0;for(Tm=Hm?dm(Tm/jm):Tm>>1,Tm+=dm(Tm/Om);Tm>Im*ym>>1;Km+=mm)Tm=dm(Tm/Im);return dm(Km+(Im+1)*Tm/(Tm+Sm))},wm=function(Tm){const Om=[],Hm=Tm.length;let Km=0,Zm=Bm,Vm=Pm,zm=Tm.lastIndexOf(qm);zm<0&&(zm=0);for(let Wm=0;Wm<zm;++Wm)Tm.charCodeAt(Wm)>=128&&km("not-basic"),Om.push(Tm.charCodeAt(Wm));for(let Wm=zm>0?zm+1:0;Wm<Hm;){const Ym=Km;for(let mg=1,bg=mm;;bg+=mm){Wm>=Hm&&km("invalid-input");const vg=Am(Tm.charCodeAt(Wm++));vg>=mm&&km("invalid-input"),vg>dm((pm-Km)/mg)&&km("overflow"),Km+=vg*mg;const Xm=bg<=Vm?_m:bg>=Vm+ym?ym:bg-Vm;if(vg<Xm)break;const Eg=mm-Xm;mg>dm(pm/Eg)&&km("overflow"),mg*=Eg}const Qm=Om.length+1;Vm=um(Km-Ym,Qm,Ym==0),dm(Km/Qm)>pm-Zm&&km("overflow"),Zm+=dm(Km/Qm),Km%=Qm,Om.splice(Km++,0,Zm)}return String.fromCodePoint(...Om)},xm=function(Tm){const Om=[];Tm=Em(Tm);const Hm=Tm.length;let Km=Bm,Zm=0,Vm=Pm;for(const Ym of Tm)Ym<128&&Om.push(gm(Ym));const zm=Om.length;let Wm=zm;for(zm&&Om.push(qm);Wm<Hm;){let Ym=pm;for(const mg of Tm)mg>=Km&&mg<Ym&&(Ym=mg);const Qm=Wm+1;Ym-Km>dm((pm-Zm)/Qm)&&km("overflow"),Zm+=(Ym-Km)*Qm,Km=Ym;for(const mg of Tm)if(mg<Km&&++Zm>pm&&km("overflow"),mg===Km){let bg=Zm;for(let vg=mm;;vg+=mm){const Xm=vg<=Vm?_m:vg>=Vm+ym?ym:vg-Vm;if(bg<Xm)break;const Eg=bg-Xm,_g=mm-Xm;Om.push(gm(lm(Xm+Eg%_g,0))),bg=dm(Eg/_g)}Om.push(gm(lm(bg,0))),Vm=um(Zm,Qm,Wm===zm),Zm=0,++Wm}++Zm,++Km}return Om.join("")};return sf={version:"2.3.1",ucs2:{decode:Em,encode:$m},decode:wm,encode:xm,toASCII:function(Tm){return bm(Tm,function(Om){return Dm.test(Om)?"xn--"+xm(Om):Om})},toUnicode:function(Tm){return bm(Tm,function(Om){return Rm.test(Om)?wm(Om.slice(4).toLowerCase()):Om})}},sf}var em=ip();const tm=s(em),nm=["ac","com.ac","edu.ac","gov.ac","mil.ac","net.ac","org.ac","ad","ae","ac.ae","co.ae","gov.ae","mil.ae","net.ae","org.ae","sch.ae","aero","airline.aero","airport.aero","accident-investigation.aero","accident-prevention.aero","aerobatic.aero","aeroclub.aero","aerodrome.aero","agents.aero","air-surveillance.aero","air-traffic-control.aero","aircraft.aero","airtraffic.aero","ambulance.aero","association.aero","author.aero","ballooning.aero","broker.aero","caa.aero","cargo.aero","catering.aero","certification.aero","championship.aero","charter.aero","civilaviation.aero","club.aero","conference.aero","consultant.aero","consulting.aero","control.aero","council.aero","crew.aero","design.aero","dgca.aero","educator.aero","emergency.aero","engine.aero","engineer.aero","entertainment.aero","equipment.aero","exchange.aero","express.aero","federation.aero","flight.aero","freight.aero","fuel.aero","gliding.aero","government.aero","groundhandling.aero","group.aero","hanggliding.aero","homebuilt.aero","insurance.aero","journal.aero","journalist.aero","leasing.aero","logistics.aero","magazine.aero","maintenance.aero","marketplace.aero","media.aero","microlight.aero","modelling.aero","navigation.aero","parachuting.aero","paragliding.aero","passenger-association.aero","pilot.aero","press.aero","production.aero","recreation.aero","repbody.aero","res.aero","research.aero","rotorcraft.aero","safety.aero","scientist.aero","services.aero","show.aero","skydiving.aero","software.aero","student.aero","taxi.aero","trader.aero","trading.aero","trainer.aero","union.aero","workinggroup.aero","works.aero","af","com.af","edu.af","gov.af","net.af","org.af","ag","co.ag","com.ag","net.ag","nom.ag","org.ag","ai","com.ai","net.ai","off.ai","org.ai","al","com.al","edu.al","gov.al","mil.al","net.al","org.al","am","co.am","com.am","commune.am","net.am","org.am","ao","co.ao","ed.ao","edu.ao","gov.ao","gv.ao","it.ao","og.ao","org.ao","pb.ao","aq","ar","bet.ar","com.ar","coop.ar","edu.ar","gob.ar","gov.ar","int.ar","mil.ar","musica.ar","mutual.ar","net.ar","org.ar","senasa.ar","tur.ar","arpa","e164.arpa","home.arpa","in-addr.arpa","ip6.arpa","iris.arpa","uri.arpa","urn.arpa","as","gov.as","asia","at","ac.at","sth.ac.at","co.at","gv.at","or.at","au","asn.au","com.au","edu.au","gov.au","id.au","net.au","org.au","conf.au","oz.au","act.au","nsw.au","nt.au","qld.au","sa.au","tas.au","vic.au","wa.au","act.edu.au","catholic.edu.au","nsw.edu.au","nt.edu.au","qld.edu.au","sa.edu.au","tas.edu.au","vic.edu.au","wa.edu.au","qld.gov.au","sa.gov.au","tas.gov.au","vic.gov.au","wa.gov.au","schools.nsw.edu.au","aw","com.aw","ax","az","biz.az","com.az","edu.az","gov.az","info.az","int.az","mil.az","name.az","net.az","org.az","pp.az","pro.az","ba","com.ba","edu.ba","gov.ba","mil.ba","net.ba","org.ba","bb","biz.bb","co.bb","com.bb","edu.bb","gov.bb","info.bb","net.bb","org.bb","store.bb","tv.bb","*.bd","be","ac.be","bf","gov.bf","bg","0.bg","1.bg","2.bg","3.bg","4.bg","5.bg","6.bg","7.bg","8.bg","9.bg","a.bg","b.bg","c.bg","d.bg","e.bg","f.bg","g.bg","h.bg","i.bg","j.bg","k.bg","l.bg","m.bg","n.bg","o.bg","p.bg","q.bg","r.bg","s.bg","t.bg","u.bg","v.bg","w.bg","x.bg","y.bg","z.bg","bh","com.bh","edu.bh","gov.bh","net.bh","org.bh","bi","co.bi","com.bi","edu.bi","or.bi","org.bi","biz","bj","africa.bj","agro.bj","architectes.bj","assur.bj","avocats.bj","co.bj","com.bj","eco.bj","econo.bj","edu.bj","info.bj","loisirs.bj","money.bj","net.bj","org.bj","ote.bj","restaurant.bj","resto.bj","tourism.bj","univ.bj","bm","com.bm","edu.bm","gov.bm","net.bm","org.bm","bn","com.bn","edu.bn","gov.bn","net.bn","org.bn","bo","com.bo","edu.bo","gob.bo","int.bo","mil.bo","net.bo","org.bo","tv.bo","web.bo","academia.bo","agro.bo","arte.bo","blog.bo","bolivia.bo","ciencia.bo","cooperativa.bo","democracia.bo","deporte.bo","ecologia.bo","economia.bo","empresa.bo","indigena.bo","industria.bo","info.bo","medicina.bo","movimiento.bo","musica.bo","natural.bo","nombre.bo","noticias.bo","patria.bo","plurinacional.bo","politica.bo","profesional.bo","pueblo.bo","revista.bo","salud.bo","tecnologia.bo","tksat.bo","transporte.bo","wiki.bo","br","9guacu.br","abc.br","adm.br","adv.br","agr.br","aju.br","am.br","anani.br","aparecida.br","app.br","arq.br","art.br","ato.br","b.br","barueri.br","belem.br","bet.br","bhz.br","bib.br","bio.br","blog.br","bmd.br","boavista.br","bsb.br","campinagrande.br","campinas.br","caxias.br","cim.br","cng.br","cnt.br","com.br","contagem.br","coop.br","coz.br","cri.br","cuiaba.br","curitiba.br","def.br","des.br","det.br","dev.br","ecn.br","eco.br","edu.br","emp.br","enf.br","eng.br","esp.br","etc.br","eti.br","far.br","feira.br","flog.br","floripa.br","fm.br","fnd.br","fortal.br","fot.br","foz.br","fst.br","g12.br","geo.br","ggf.br","goiania.br","gov.br","ac.gov.br","al.gov.br","am.gov.br","ap.gov.br","ba.gov.br","ce.gov.br","df.gov.br","es.gov.br","go.gov.br","ma.gov.br","mg.gov.br","ms.gov.br","mt.gov.br","pa.gov.br","pb.gov.br","pe.gov.br","pi.gov.br","pr.gov.br","rj.gov.br","rn.gov.br","ro.gov.br","rr.gov.br","rs.gov.br","sc.gov.br","se.gov.br","sp.gov.br","to.gov.br","gru.br","imb.br","ind.br","inf.br","jab.br","jampa.br","jdf.br","joinville.br","jor.br","jus.br","leg.br","leilao.br","lel.br","log.br","londrina.br","macapa.br","maceio.br","manaus.br","maringa.br","mat.br","med.br","mil.br","morena.br","mp.br","mus.br","natal.br","net.br","niteroi.br","*.nom.br","not.br","ntr.br","odo.br","ong.br","org.br","osasco.br","palmas.br","poa.br","ppg.br","pro.br","psc.br","psi.br","pvh.br","qsl.br","radio.br","rec.br","recife.br","rep.br","ribeirao.br","rio.br","riobranco.br","riopreto.br","salvador.br","sampa.br","santamaria.br","santoandre.br","saobernardo.br","saogonca.br","seg.br","sjc.br","slg.br","slz.br","sorocaba.br","srv.br","taxi.br","tc.br","tec.br","teo.br","the.br","tmp.br","trd.br","tur.br","tv.br","udi.br","vet.br","vix.br","vlog.br","wiki.br","zlg.br","bs","com.bs","edu.bs","gov.bs","net.bs","org.bs","bt","com.bt","edu.bt","gov.bt","net.bt","org.bt","bv","bw","co.bw","org.bw","by","gov.by","mil.by","com.by","of.by","bz","co.bz","com.bz","edu.bz","gov.bz","net.bz","org.bz","ca","ab.ca","bc.ca","mb.ca","nb.ca","nf.ca","nl.ca","ns.ca","nt.ca","nu.ca","on.ca","pe.ca","qc.ca","sk.ca","yk.ca","gc.ca","cat","cc","cd","gov.cd","cf","cg","ch","ci","ac.ci","a\xe9roport.ci","asso.ci","co.ci","com.ci","ed.ci","edu.ci","go.ci","gouv.ci","int.ci","net.ci","or.ci","org.ci","*.ck","!www.ck","cl","co.cl","gob.cl","gov.cl","mil.cl","cm","co.cm","com.cm","gov.cm","net.cm","cn","ac.cn","com.cn","edu.cn","gov.cn","mil.cn","net.cn","org.cn",".cn",".cn",".cn","ah.cn","bj.cn","cq.cn","fj.cn","gd.cn","gs.cn","gx.cn","gz.cn","ha.cn","hb.cn","he.cn","hi.cn","hk.cn","hl.cn","hn.cn","jl.cn","js.cn","jx.cn","ln.cn","mo.cn","nm.cn","nx.cn","qh.cn","sc.cn","sd.cn","sh.cn","sn.cn","sx.cn","tj.cn","tw.cn","xj.cn","xz.cn","yn.cn","zj.cn","co","com.co","edu.co","gov.co","mil.co","net.co","nom.co","org.co","com","coop","cr","ac.cr","co.cr","ed.cr","fi.cr","go.cr","or.cr","sa.cr","cu","com.cu","edu.cu","gob.cu","inf.cu","nat.cu","net.cu","org.cu","cv","com.cv","edu.cv","id.cv","int.cv","net.cv","nome.cv","org.cv","publ.cv","cw","com.cw","edu.cw","net.cw","org.cw","cx","gov.cx","cy","ac.cy","biz.cy","com.cy","ekloges.cy","gov.cy","ltd.cy","mil.cy","net.cy","org.cy","press.cy","pro.cy","tm.cy","cz","de","dj","dk","dm","co.dm","com.dm","edu.dm","gov.dm","net.dm","org.dm","do","art.do","com.do","edu.do","gob.do","gov.do","mil.do","net.do","org.do","sld.do","web.do","dz","art.dz","asso.dz","com.dz","edu.dz","gov.dz","net.dz","org.dz","pol.dz","soc.dz","tm.dz","ec","com.ec","edu.ec","fin.ec","gob.ec","gov.ec","info.ec","k12.ec","med.ec","mil.ec","net.ec","org.ec","pro.ec","edu","ee","aip.ee","com.ee","edu.ee","fie.ee","gov.ee","lib.ee","med.ee","org.ee","pri.ee","riik.ee","eg","ac.eg","com.eg","edu.eg","eun.eg","gov.eg","info.eg","me.eg","mil.eg","name.eg","net.eg","org.eg","sci.eg","sport.eg","tv.eg","*.er","es","com.es","edu.es","gob.es","nom.es","org.es","et","biz.et","com.et","edu.et","gov.et","info.et","name.et","net.et","org.et","eu","fi","aland.fi","fj","ac.fj","biz.fj","com.fj","gov.fj","info.fj","mil.fj","name.fj","net.fj","org.fj","pro.fj","*.fk","fm","com.fm","edu.fm","net.fm","org.fm","fo","fr","asso.fr","com.fr","gouv.fr","nom.fr","prd.fr","tm.fr","avoues.fr","cci.fr","greta.fr","huissier-justice.fr","ga","gb","gd","edu.gd","gov.gd","ge","com.ge","edu.ge","gov.ge","net.ge","org.ge","pvt.ge","school.ge","gf","gg","co.gg","net.gg","org.gg","gh","com.gh","edu.gh","gov.gh","mil.gh","org.gh","gi","com.gi","edu.gi","gov.gi","ltd.gi","mod.gi","org.gi","gl","co.gl","com.gl","edu.gl","net.gl","org.gl","gm","gn","ac.gn","com.gn","edu.gn","gov.gn","net.gn","org.gn","gov","gp","asso.gp","com.gp","edu.gp","mobi.gp","net.gp","org.gp","gq","gr","com.gr","edu.gr","gov.gr","net.gr","org.gr","gs","gt","com.gt","edu.gt","gob.gt","ind.gt","mil.gt","net.gt","org.gt","gu","com.gu","edu.gu","gov.gu","guam.gu","info.gu","net.gu","org.gu","web.gu","gw","gy","co.gy","com.gy","edu.gy","gov.gy","net.gy","org.gy","hk","com.hk","edu.hk","gov.hk","idv.hk","net.hk","org.hk",".hk",".hk",".hk",".hk",".hk",".hk",".hk",".hk",".hk",".hk",".hk",".hk",".hk",".hk",".hk","hm","hn","com.hn","edu.hn","gob.hn","mil.hn","net.hn","org.hn","hr","com.hr","from.hr","iz.hr","name.hr","ht","adult.ht","art.ht","asso.ht","com.ht","coop.ht","edu.ht","firm.ht","gouv.ht","info.ht","med.ht","net.ht","org.ht","perso.ht","pol.ht","pro.ht","rel.ht","shop.ht","hu","2000.hu","agrar.hu","bolt.hu","casino.hu","city.hu","co.hu","erotica.hu","erotika.hu","film.hu","forum.hu","games.hu","hotel.hu","info.hu","ingatlan.hu","jogasz.hu","konyvelo.hu","lakas.hu","media.hu","news.hu","org.hu","priv.hu","reklam.hu","sex.hu","shop.hu","sport.hu","suli.hu","szex.hu","tm.hu","tozsde.hu","utazas.hu","video.hu","id","ac.id","biz.id","co.id","desa.id","go.id","mil.id","my.id","net.id","or.id","ponpes.id","sch.id","web.id","ie","gov.ie","il","ac.il","co.il","gov.il","idf.il","k12.il","muni.il","net.il","org.il","",".",".",".",".","im","ac.im","co.im","ltd.co.im","plc.co.im","com.im","net.im","org.im","tt.im","tv.im","in","5g.in","6g.in","ac.in","ai.in","am.in","bihar.in","biz.in","business.in","ca.in","cn.in","co.in","com.in","coop.in","cs.in","delhi.in","dr.in","edu.in","er.in","firm.in","gen.in","gov.in","gujarat.in","ind.in","info.in","int.in","internet.in","io.in","me.in","mil.in","net.in","nic.in","org.in","pg.in","post.in","pro.in","res.in","travel.in","tv.in","uk.in","up.in","us.in","info","int","eu.int","io","co.io","com.io","edu.io","gov.io","mil.io","net.io","nom.io","org.io","iq","com.iq","edu.iq","gov.iq","mil.iq","net.iq","org.iq","ir","ac.ir","co.ir","gov.ir","id.ir","net.ir","org.ir","sch.ir",".ir",".ir","is","it","edu.it","gov.it","abr.it","abruzzo.it","aosta-valley.it","aostavalley.it","bas.it","basilicata.it","cal.it","calabria.it","cam.it","campania.it","emilia-romagna.it","emiliaromagna.it","emr.it","friuli-v-giulia.it","friuli-ve-giulia.it","friuli-vegiulia.it","friuli-venezia-giulia.it","friuli-veneziagiulia.it","friuli-vgiulia.it","friuliv-giulia.it","friulive-giulia.it","friulivegiulia.it","friulivenezia-giulia.it","friuliveneziagiulia.it","friulivgiulia.it","fvg.it","laz.it","lazio.it","lig.it","liguria.it","lom.it","lombardia.it","lombardy.it","lucania.it","mar.it","marche.it","mol.it","molise.it","piedmont.it","piemonte.it","pmn.it","pug.it","puglia.it","sar.it","sardegna.it","sardinia.it","sic.it","sicilia.it","sicily.it","taa.it","tos.it","toscana.it","trentin-sud-tirol.it","trentin-s\xfcd-tirol.it","trentin-sudtirol.it","trentin-s\xfcdtirol.it","trentin-sued-tirol.it","trentin-suedtirol.it","trentino.it","trentino-a-adige.it","trentino-aadige.it","trentino-alto-adige.it","trentino-altoadige.it","trentino-s-tirol.it","trentino-stirol.it","trentino-sud-tirol.it","trentino-s\xfcd-tirol.it","trentino-sudtirol.it","trentino-s\xfcdtirol.it","trentino-sued-tirol.it","trentino-suedtirol.it","trentinoa-adige.it","trentinoaadige.it","trentinoalto-adige.it","trentinoaltoadige.it","trentinos-tirol.it","trentinostirol.it","trentinosud-tirol.it","trentinos\xfcd-tirol.it","trentinosudtirol.it","trentinos\xfcdtirol.it","trentinosued-tirol.it","trentinosuedtirol.it","trentinsud-tirol.it","trentins\xfcd-tirol.it","trentinsudtirol.it","trentins\xfcdtirol.it","trentinsued-tirol.it","trentinsuedtirol.it","tuscany.it","umb.it","umbria.it","val-d-aosta.it","val-daosta.it","vald-aosta.it","valdaosta.it","valle-aosta.it","valle-d-aosta.it","valle-daosta.it","valleaosta.it","valled-aosta.it","valledaosta.it","vallee-aoste.it","vall\xe9e-aoste.it","vallee-d-aoste.it","vall\xe9e-d-aoste.it","valleeaoste.it","vall\xe9eaoste.it","valleedaoste.it","vall\xe9edaoste.it","vao.it","vda.it","ven.it","veneto.it","ag.it","agrigento.it","al.it","alessandria.it","alto-adige.it","altoadige.it","an.it","ancona.it","andria-barletta-trani.it","andria-trani-barletta.it","andriabarlettatrani.it","andriatranibarletta.it","ao.it","aosta.it","aoste.it","ap.it","aq.it","aquila.it","ar.it","arezzo.it","ascoli-piceno.it","ascolipiceno.it","asti.it","at.it","av.it","avellino.it","ba.it","balsan.it","balsan-sudtirol.it","balsan-s\xfcdtirol.it","balsan-suedtirol.it","bari.it","barletta-trani-andria.it","barlettatraniandria.it","belluno.it","benevento.it","bergamo.it","bg.it","bi.it","biella.it","bl.it","bn.it","bo.it","bologna.it","bolzano.it","bolzano-altoadige.it","bozen.it","bozen-sudtirol.it","bozen-s\xfcdtirol.it","bozen-suedtirol.it","br.it","brescia.it","brindisi.it","bs.it","bt.it","bulsan.it","bulsan-sudtirol.it","bulsan-s\xfcdtirol.it","bulsan-suedtirol.it","bz.it","ca.it","cagliari.it","caltanissetta.it","campidano-medio.it","campidanomedio.it","campobasso.it","carbonia-iglesias.it","carboniaiglesias.it","carrara-massa.it","carraramassa.it","caserta.it","catania.it","catanzaro.it","cb.it","ce.it","cesena-forli.it","cesena-forl\xec.it","cesenaforli.it","cesenaforl\xec.it","ch.it","chieti.it","ci.it","cl.it","cn.it","co.it","como.it","cosenza.it","cr.it","cremona.it","crotone.it","cs.it","ct.it","cuneo.it","cz.it","dell-ogliastra.it","dellogliastra.it","en.it","enna.it","fc.it","fe.it","fermo.it","ferrara.it","fg.it","fi.it","firenze.it","florence.it","fm.it","foggia.it","forli-cesena.it","forl\xec-cesena.it","forlicesena.it","forl\xeccesena.it","fr.it","frosinone.it","ge.it","genoa.it","genova.it","go.it","gorizia.it","gr.it","grosseto.it","iglesias-carbonia.it","iglesiascarbonia.it","im.it","imperia.it","is.it","isernia.it","kr.it","la-spezia.it","laquila.it","laspezia.it","latina.it","lc.it","le.it","lecce.it","lecco.it","li.it","livorno.it","lo.it","lodi.it","lt.it","lu.it","lucca.it","macerata.it","mantova.it","massa-carrara.it","massacarrara.it","matera.it","mb.it","mc.it","me.it","medio-campidano.it","mediocampidano.it","messina.it","mi.it","milan.it","milano.it","mn.it","mo.it","modena.it","monza.it","monza-brianza.it","monza-e-della-brianza.it","monzabrianza.it","monzaebrianza.it","monzaedellabrianza.it","ms.it","mt.it","na.it","naples.it","napoli.it","no.it","novara.it","nu.it","nuoro.it","og.it","ogliastra.it","olbia-tempio.it","olbiatempio.it","or.it","oristano.it","ot.it","pa.it","padova.it","padua.it","palermo.it","parma.it","pavia.it","pc.it","pd.it","pe.it","perugia.it","pesaro-urbino.it","pesarourbino.it","pescara.it","pg.it","pi.it","piacenza.it","pisa.it","pistoia.it","pn.it","po.it","pordenone.it","potenza.it","pr.it","prato.it","pt.it","pu.it","pv.it","pz.it","ra.it","ragusa.it","ravenna.it","rc.it","re.it","reggio-calabria.it","reggio-emilia.it","reggiocalabria.it","reggioemilia.it","rg.it","ri.it","rieti.it","rimini.it","rm.it","rn.it","ro.it","roma.it","rome.it","rovigo.it","sa.it","salerno.it","sassari.it","savona.it","si.it","siena.it","siracusa.it","so.it","sondrio.it","sp.it","sr.it","ss.it","s\xfcdtirol.it","suedtirol.it","sv.it","ta.it","taranto.it","te.it","tempio-olbia.it","tempioolbia.it","teramo.it","terni.it","tn.it","to.it","torino.it","tp.it","tr.it","trani-andria-barletta.it","trani-barletta-andria.it","traniandriabarletta.it","tranibarlettaandria.it","trapani.it","trento.it","treviso.it","trieste.it","ts.it","turin.it","tv.it","ud.it","udine.it","urbino-pesaro.it","urbinopesaro.it","va.it","varese.it","vb.it","vc.it","ve.it","venezia.it","venice.it","verbania.it","vercelli.it","verona.it","vi.it","vibo-valentia.it","vibovalentia.it","vicenza.it","viterbo.it","vr.it","vs.it","vt.it","vv.it","je","co.je","net.je","org.je","*.jm","jo","agri.jo","ai.jo","com.jo","edu.jo","eng.jo","fm.jo","gov.jo","mil.jo","net.jo","org.jo","per.jo","phd.jo","sch.jo","tv.jo","jobs","jp","ac.jp","ad.jp","co.jp","ed.jp","go.jp","gr.jp","lg.jp","ne.jp","or.jp","aichi.jp","akita.jp","aomori.jp","chiba.jp","ehime.jp","fukui.jp","fukuoka.jp","fukushima.jp","gifu.jp","gunma.jp","hiroshima.jp","hokkaido.jp","hyogo.jp","ibaraki.jp","ishikawa.jp","iwate.jp","kagawa.jp","kagoshima.jp","kanagawa.jp","kochi.jp","kumamoto.jp","kyoto.jp","mie.jp","miyagi.jp","miyazaki.jp","nagano.jp","nagasaki.jp","nara.jp","niigata.jp","oita.jp","okayama.jp","okinawa.jp","osaka.jp","saga.jp","saitama.jp","shiga.jp","shimane.jp","shizuoka.jp","tochigi.jp","tokushima.jp","tokyo.jp","tottori.jp","toyama.jp","wakayama.jp","yamagata.jp","yamaguchi.jp","yamanashi.jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp","*.kawasaki.jp","!city.kawasaki.jp","*.kitakyushu.jp","!city.kitakyushu.jp","*.kobe.jp","!city.kobe.jp","*.nagoya.jp","!city.nagoya.jp","*.sapporo.jp","!city.sapporo.jp","*.sendai.jp","!city.sendai.jp","*.yokohama.jp","!city.yokohama.jp","aisai.aichi.jp","ama.aichi.jp","anjo.aichi.jp","asuke.aichi.jp","chiryu.aichi.jp","chita.aichi.jp","fuso.aichi.jp","gamagori.aichi.jp","handa.aichi.jp","hazu.aichi.jp","hekinan.aichi.jp","higashiura.aichi.jp","ichinomiya.aichi.jp","inazawa.aichi.jp","inuyama.aichi.jp","isshiki.aichi.jp","iwakura.aichi.jp","kanie.aichi.jp","kariya.aichi.jp","kasugai.aichi.jp","kira.aichi.jp","kiyosu.aichi.jp","komaki.aichi.jp","konan.aichi.jp","kota.aichi.jp","mihama.aichi.jp","miyoshi.aichi.jp","nishio.aichi.jp","nisshin.aichi.jp","obu.aichi.jp","oguchi.aichi.jp","oharu.aichi.jp","okazaki.aichi.jp","owariasahi.aichi.jp","seto.aichi.jp","shikatsu.aichi.jp","shinshiro.aichi.jp","shitara.aichi.jp","tahara.aichi.jp","takahama.aichi.jp","tobishima.aichi.jp","toei.aichi.jp","togo.aichi.jp","tokai.aichi.jp","tokoname.aichi.jp","toyoake.aichi.jp","toyohashi.aichi.jp","toyokawa.aichi.jp","toyone.aichi.jp","toyota.aichi.jp","tsushima.aichi.jp","yatomi.aichi.jp","akita.akita.jp","daisen.akita.jp","fujisato.akita.jp","gojome.akita.jp","hachirogata.akita.jp","happou.akita.jp","higashinaruse.akita.jp","honjo.akita.jp","honjyo.akita.jp","ikawa.akita.jp","kamikoani.akita.jp","kamioka.akita.jp","katagami.akita.jp","kazuno.akita.jp","kitaakita.akita.jp","kosaka.akita.jp","kyowa.akita.jp","misato.akita.jp","mitane.akita.jp","moriyoshi.akita.jp","nikaho.akita.jp","noshiro.akita.jp","odate.akita.jp","oga.akita.jp","ogata.akita.jp","semboku.akita.jp","yokote.akita.jp","yurihonjo.akita.jp","aomori.aomori.jp","gonohe.aomori.jp","hachinohe.aomori.jp","hashikami.aomori.jp","hiranai.aomori.jp","hirosaki.aomori.jp","itayanagi.aomori.jp","kuroishi.aomori.jp","misawa.aomori.jp","mutsu.aomori.jp","nakadomari.aomori.jp","noheji.aomori.jp","oirase.aomori.jp","owani.aomori.jp","rokunohe.aomori.jp","sannohe.aomori.jp","shichinohe.aomori.jp","shingo.aomori.jp","takko.aomori.jp","towada.aomori.jp","tsugaru.aomori.jp","tsuruta.aomori.jp","abiko.chiba.jp","asahi.chiba.jp","chonan.chiba.jp","chosei.chiba.jp","choshi.chiba.jp","chuo.chiba.jp","funabashi.chiba.jp","futtsu.chiba.jp","hanamigawa.chiba.jp","ichihara.chiba.jp","ichikawa.chiba.jp","ichinomiya.chiba.jp","inzai.chiba.jp","isumi.chiba.jp","kamagaya.chiba.jp","kamogawa.chiba.jp","kashiwa.chiba.jp","katori.chiba.jp","katsuura.chiba.jp","kimitsu.chiba.jp","kisarazu.chiba.jp","kozaki.chiba.jp","kujukuri.chiba.jp","kyonan.chiba.jp","matsudo.chiba.jp","midori.chiba.jp","mihama.chiba.jp","minamiboso.chiba.jp","mobara.chiba.jp","mutsuzawa.chiba.jp","nagara.chiba.jp","nagareyama.chiba.jp","narashino.chiba.jp","narita.chiba.jp","noda.chiba.jp","oamishirasato.chiba.jp","omigawa.chiba.jp","onjuku.chiba.jp","otaki.chiba.jp","sakae.chiba.jp","sakura.chiba.jp","shimofusa.chiba.jp","shirako.chiba.jp","shiroi.chiba.jp","shisui.chiba.jp","sodegaura.chiba.jp","sosa.chiba.jp","tako.chiba.jp","tateyama.chiba.jp","togane.chiba.jp","tohnosho.chiba.jp","tomisato.chiba.jp","urayasu.chiba.jp","yachimata.chiba.jp","yachiyo.chiba.jp","yokaichiba.chiba.jp","yokoshibahikari.chiba.jp","yotsukaido.chiba.jp","ainan.ehime.jp","honai.ehime.jp","ikata.ehime.jp","imabari.ehime.jp","iyo.ehime.jp","kamijima.ehime.jp","kihoku.ehime.jp","kumakogen.ehime.jp","masaki.ehime.jp","matsuno.ehime.jp","matsuyama.ehime.jp","namikata.ehime.jp","niihama.ehime.jp","ozu.ehime.jp","saijo.ehime.jp","seiyo.ehime.jp","shikokuchuo.ehime.jp","tobe.ehime.jp","toon.ehime.jp","uchiko.ehime.jp","uwajima.ehime.jp","yawatahama.ehime.jp","echizen.fukui.jp","eiheiji.fukui.jp","fukui.fukui.jp","ikeda.fukui.jp","katsuyama.fukui.jp","mihama.fukui.jp","minamiechizen.fukui.jp","obama.fukui.jp","ohi.fukui.jp","ono.fukui.jp","sabae.fukui.jp","sakai.fukui.jp","takahama.fukui.jp","tsuruga.fukui.jp","wakasa.fukui.jp","ashiya.fukuoka.jp","buzen.fukuoka.jp","chikugo.fukuoka.jp","chikuho.fukuoka.jp","chikujo.fukuoka.jp","chikushino.fukuoka.jp","chikuzen.fukuoka.jp","chuo.fukuoka.jp","dazaifu.fukuoka.jp","fukuchi.fukuoka.jp","hakata.fukuoka.jp","higashi.fukuoka.jp","hirokawa.fukuoka.jp","hisayama.fukuoka.jp","iizuka.fukuoka.jp","inatsuki.fukuoka.jp","kaho.fukuoka.jp","kasuga.fukuoka.jp","kasuya.fukuoka.jp","kawara.fukuoka.jp","keisen.fukuoka.jp","koga.fukuoka.jp","kurate.fukuoka.jp","kurogi.fukuoka.jp","kurume.fukuoka.jp","minami.fukuoka.jp","miyako.fukuoka.jp","miyama.fukuoka.jp","miyawaka.fukuoka.jp","mizumaki.fukuoka.jp","munakata.fukuoka.jp","nakagawa.fukuoka.jp","nakama.fukuoka.jp","nishi.fukuoka.jp","nogata.fukuoka.jp","ogori.fukuoka.jp","okagaki.fukuoka.jp","okawa.fukuoka.jp","oki.fukuoka.jp","omuta.fukuoka.jp","onga.fukuoka.jp","onojo.fukuoka.jp","oto.fukuoka.jp","saigawa.fukuoka.jp","sasaguri.fukuoka.jp","shingu.fukuoka.jp","shinyoshitomi.fukuoka.jp","shonai.fukuoka.jp","soeda.fukuoka.jp","sue.fukuoka.jp","tachiarai.fukuoka.jp","tagawa.fukuoka.jp","takata.fukuoka.jp","toho.fukuoka.jp","toyotsu.fukuoka.jp","tsuiki.fukuoka.jp","ukiha.fukuoka.jp","umi.fukuoka.jp","usui.fukuoka.jp","yamada.fukuoka.jp","yame.fukuoka.jp","yanagawa.fukuoka.jp","yukuhashi.fukuoka.jp","aizubange.fukushima.jp","aizumisato.fukushima.jp","aizuwakamatsu.fukushima.jp","asakawa.fukushima.jp","bandai.fukushima.jp","date.fukushima.jp","fukushima.fukushima.jp","furudono.fukushima.jp","futaba.fukushima.jp","hanawa.fukushima.jp","higashi.fukushima.jp","hirata.fukushima.jp","hirono.fukushima.jp","iitate.fukushima.jp","inawashiro.fukushima.jp","ishikawa.fukushima.jp","iwaki.fukushima.jp","izumizaki.fukushima.jp","kagamiishi.fukushima.jp","kaneyama.fukushima.jp","kawamata.fukushima.jp","kitakata.fukushima.jp","kitashiobara.fukushima.jp","koori.fukushima.jp","koriyama.fukushima.jp","kunimi.fukushima.jp","miharu.fukushima.jp","mishima.fukushima.jp","namie.fukushima.jp","nango.fukushima.jp","nishiaizu.fukushima.jp","nishigo.fukushima.jp","okuma.fukushima.jp","omotego.fukushima.jp","ono.fukushima.jp","otama.fukushima.jp","samegawa.fukushima.jp","shimogo.fukushima.jp","shirakawa.fukushima.jp","showa.fukushima.jp","soma.fukushima.jp","sukagawa.fukushima.jp","taishin.fukushima.jp","tamakawa.fukushima.jp","tanagura.fukushima.jp","tenei.fukushima.jp","yabuki.fukushima.jp","yamato.fukushima.jp","yamatsuri.fukushima.jp","yanaizu.fukushima.jp","yugawa.fukushima.jp","anpachi.gifu.jp","ena.gifu.jp","gifu.gifu.jp","ginan.gifu.jp","godo.gifu.jp","gujo.gifu.jp","hashima.gifu.jp","hichiso.gifu.jp","hida.gifu.jp","higashishirakawa.gifu.jp","ibigawa.gifu.jp","ikeda.gifu.jp","kakamigahara.gifu.jp","kani.gifu.jp","kasahara.gifu.jp","kasamatsu.gifu.jp","kawaue.gifu.jp","kitagata.gifu.jp","mino.gifu.jp","minokamo.gifu.jp","mitake.gifu.jp","mizunami.gifu.jp","motosu.gifu.jp","nakatsugawa.gifu.jp","ogaki.gifu.jp","sakahogi.gifu.jp","seki.gifu.jp","sekigahara.gifu.jp","shirakawa.gifu.jp","tajimi.gifu.jp","takayama.gifu.jp","tarui.gifu.jp","toki.gifu.jp","tomika.gifu.jp","wanouchi.gifu.jp","yamagata.gifu.jp","yaotsu.gifu.jp","yoro.gifu.jp","annaka.gunma.jp","chiyoda.gunma.jp","fujioka.gunma.jp","higashiagatsuma.gunma.jp","isesaki.gunma.jp","itakura.gunma.jp","kanna.gunma.jp","kanra.gunma.jp","katashina.gunma.jp","kawaba.gunma.jp","kiryu.gunma.jp","kusatsu.gunma.jp","maebashi.gunma.jp","meiwa.gunma.jp","midori.gunma.jp","minakami.gunma.jp","naganohara.gunma.jp","nakanojo.gunma.jp","nanmoku.gunma.jp","numata.gunma.jp","oizumi.gunma.jp","ora.gunma.jp","ota.gunma.jp","shibukawa.gunma.jp","shimonita.gunma.jp","shinto.gunma.jp","showa.gunma.jp","takasaki.gunma.jp","takayama.gunma.jp","tamamura.gunma.jp","tatebayashi.gunma.jp","tomioka.gunma.jp","tsukiyono.gunma.jp","tsumagoi.gunma.jp","ueno.gunma.jp","yoshioka.gunma.jp","asaminami.hiroshima.jp","daiwa.hiroshima.jp","etajima.hiroshima.jp","fuchu.hiroshima.jp","fukuyama.hiroshima.jp","hatsukaichi.hiroshima.jp","higashihiroshima.hiroshima.jp","hongo.hiroshima.jp","jinsekikogen.hiroshima.jp","kaita.hiroshima.jp","kui.hiroshima.jp","kumano.hiroshima.jp","kure.hiroshima.jp","mihara.hiroshima.jp","miyoshi.hiroshima.jp","naka.hiroshima.jp","onomichi.hiroshima.jp","osakikamijima.hiroshima.jp","otake.hiroshima.jp","saka.hiroshima.jp","sera.hiroshima.jp","seranishi.hiroshima.jp","shinichi.hiroshima.jp","shobara.hiroshima.jp","takehara.hiroshima.jp","abashiri.hokkaido.jp","abira.hokkaido.jp","aibetsu.hokkaido.jp","akabira.hokkaido.jp","akkeshi.hokkaido.jp","asahikawa.hokkaido.jp","ashibetsu.hokkaido.jp","ashoro.hokkaido.jp","assabu.hokkaido.jp","atsuma.hokkaido.jp","bibai.hokkaido.jp","biei.hokkaido.jp","bifuka.hokkaido.jp","bihoro.hokkaido.jp","biratori.hokkaido.jp","chippubetsu.hokkaido.jp","chitose.hokkaido.jp","date.hokkaido.jp","ebetsu.hokkaido.jp","embetsu.hokkaido.jp","eniwa.hokkaido.jp","erimo.hokkaido.jp","esan.hokkaido.jp","esashi.hokkaido.jp","fukagawa.hokkaido.jp","fukushima.hokkaido.jp","furano.hokkaido.jp","furubira.hokkaido.jp","haboro.hokkaido.jp","hakodate.hokkaido.jp","hamatonbetsu.hokkaido.jp","hidaka.hokkaido.jp","higashikagura.hokkaido.jp","higashikawa.hokkaido.jp","hiroo.hokkaido.jp","hokuryu.hokkaido.jp","hokuto.hokkaido.jp","honbetsu.hokkaido.jp","horokanai.hokkaido.jp","horonobe.hokkaido.jp","ikeda.hokkaido.jp","imakane.hokkaido.jp","ishikari.hokkaido.jp","iwamizawa.hokkaido.jp","iwanai.hokkaido.jp","kamifurano.hokkaido.jp","kamikawa.hokkaido.jp","kamishihoro.hokkaido.jp","kamisunagawa.hokkaido.jp","kamoenai.hokkaido.jp","kayabe.hokkaido.jp","kembuchi.hokkaido.jp","kikonai.hokkaido.jp","kimobetsu.hokkaido.jp","kitahiroshima.hokkaido.jp","kitami.hokkaido.jp","kiyosato.hokkaido.jp","koshimizu.hokkaido.jp","kunneppu.hokkaido.jp","kuriyama.hokkaido.jp","kuromatsunai.hokkaido.jp","kushiro.hokkaido.jp","kutchan.hokkaido.jp","kyowa.hokkaido.jp","mashike.hokkaido.jp","matsumae.hokkaido.jp","mikasa.hokkaido.jp","minamifurano.hokkaido.jp","mombetsu.hokkaido.jp","moseushi.hokkaido.jp","mukawa.hokkaido.jp","muroran.hokkaido.jp","naie.hokkaido.jp","nakagawa.hokkaido.jp","nakasatsunai.hokkaido.jp","nakatombetsu.hokkaido.jp","nanae.hokkaido.jp","nanporo.hokkaido.jp","nayoro.hokkaido.jp","nemuro.hokkaido.jp","niikappu.hokkaido.jp","niki.hokkaido.jp","nishiokoppe.hokkaido.jp","noboribetsu.hokkaido.jp","numata.hokkaido.jp","obihiro.hokkaido.jp","obira.hokkaido.jp","oketo.hokkaido.jp","okoppe.hokkaido.jp","otaru.hokkaido.jp","otobe.hokkaido.jp","otofuke.hokkaido.jp","otoineppu.hokkaido.jp","oumu.hokkaido.jp","ozora.hokkaido.jp","pippu.hokkaido.jp","rankoshi.hokkaido.jp","rebun.hokkaido.jp","rikubetsu.hokkaido.jp","rishiri.hokkaido.jp","rishirifuji.hokkaido.jp","saroma.hokkaido.jp","sarufutsu.hokkaido.jp","shakotan.hokkaido.jp","shari.hokkaido.jp","shibecha.hokkaido.jp","shibetsu.hokkaido.jp","shikabe.hokkaido.jp","shikaoi.hokkaido.jp","shimamaki.hokkaido.jp","shimizu.hokkaido.jp","shimokawa.hokkaido.jp","shinshinotsu.hokkaido.jp","shintoku.hokkaido.jp","shiranuka.hokkaido.jp","shiraoi.hokkaido.jp","shiriuchi.hokkaido.jp","sobetsu.hokkaido.jp","sunagawa.hokkaido.jp","taiki.hokkaido.jp","takasu.hokkaido.jp","takikawa.hokkaido.jp","takinoue.hokkaido.jp","teshikaga.hokkaido.jp","tobetsu.hokkaido.jp","tohma.hokkaido.jp","tomakomai.hokkaido.jp","tomari.hokkaido.jp","toya.hokkaido.jp","toyako.hokkaido.jp","toyotomi.hokkaido.jp","toyoura.hokkaido.jp","tsubetsu.hokkaido.jp","tsukigata.hokkaido.jp","urakawa.hokkaido.jp","urausu.hokkaido.jp","uryu.hokkaido.jp","utashinai.hokkaido.jp","wakkanai.hokkaido.jp","wassamu.hokkaido.jp","yakumo.hokkaido.jp","yoichi.hokkaido.jp","aioi.hyogo.jp","akashi.hyogo.jp","ako.hyogo.jp","amagasaki.hyogo.jp","aogaki.hyogo.jp","asago.hyogo.jp","ashiya.hyogo.jp","awaji.hyogo.jp","fukusaki.hyogo.jp","goshiki.hyogo.jp","harima.hyogo.jp","himeji.hyogo.jp","ichikawa.hyogo.jp","inagawa.hyogo.jp","itami.hyogo.jp","kakogawa.hyogo.jp","kamigori.hyogo.jp","kamikawa.hyogo.jp","kasai.hyogo.jp","kasuga.hyogo.jp","kawanishi.hyogo.jp","miki.hyogo.jp","minamiawaji.hyogo.jp","nishinomiya.hyogo.jp","nishiwaki.hyogo.jp","ono.hyogo.jp","sanda.hyogo.jp","sannan.hyogo.jp","sasayama.hyogo.jp","sayo.hyogo.jp","shingu.hyogo.jp","shinonsen.hyogo.jp","shiso.hyogo.jp","sumoto.hyogo.jp","taishi.hyogo.jp","taka.hyogo.jp","takarazuka.hyogo.jp","takasago.hyogo.jp","takino.hyogo.jp","tamba.hyogo.jp","tatsuno.hyogo.jp","toyooka.hyogo.jp","yabu.hyogo.jp","yashiro.hyogo.jp","yoka.hyogo.jp","yokawa.hyogo.jp","ami.ibaraki.jp","asahi.ibaraki.jp","bando.ibaraki.jp","chikusei.ibaraki.jp","daigo.ibaraki.jp","fujishiro.ibaraki.jp","hitachi.ibaraki.jp","hitachinaka.ibaraki.jp","hitachiomiya.ibaraki.jp","hitachiota.ibaraki.jp","ibaraki.ibaraki.jp","ina.ibaraki.jp","inashiki.ibaraki.jp","itako.ibaraki.jp","iwama.ibaraki.jp","joso.ibaraki.jp","kamisu.ibaraki.jp","kasama.ibaraki.jp","kashima.ibaraki.jp","kasumigaura.ibaraki.jp","koga.ibaraki.jp","miho.ibaraki.jp","mito.ibaraki.jp","moriya.ibaraki.jp","naka.ibaraki.jp","namegata.ibaraki.jp","oarai.ibaraki.jp","ogawa.ibaraki.jp","omitama.ibaraki.jp","ryugasaki.ibaraki.jp","sakai.ibaraki.jp","sakuragawa.ibaraki.jp","shimodate.ibaraki.jp","shimotsuma.ibaraki.jp","shirosato.ibaraki.jp","sowa.ibaraki.jp","suifu.ibaraki.jp","takahagi.ibaraki.jp","tamatsukuri.ibaraki.jp","tokai.ibaraki.jp","tomobe.ibaraki.jp","tone.ibaraki.jp","toride.ibaraki.jp","tsuchiura.ibaraki.jp","tsukuba.ibaraki.jp","uchihara.ibaraki.jp","ushiku.ibaraki.jp","yachiyo.ibaraki.jp","yamagata.ibaraki.jp","yawara.ibaraki.jp","yuki.ibaraki.jp","anamizu.ishikawa.jp","hakui.ishikawa.jp","hakusan.ishikawa.jp","kaga.ishikawa.jp","kahoku.ishikawa.jp","kanazawa.ishikawa.jp","kawakita.ishikawa.jp","komatsu.ishikawa.jp","nakanoto.ishikawa.jp","nanao.ishikawa.jp","nomi.ishikawa.jp","nonoichi.ishikawa.jp","noto.ishikawa.jp","shika.ishikawa.jp","suzu.ishikawa.jp","tsubata.ishikawa.jp","tsurugi.ishikawa.jp","uchinada.ishikawa.jp","wajima.ishikawa.jp","fudai.iwate.jp","fujisawa.iwate.jp","hanamaki.iwate.jp","hiraizumi.iwate.jp","hirono.iwate.jp","ichinohe.iwate.jp","ichinoseki.iwate.jp","iwaizumi.iwate.jp","iwate.iwate.jp","joboji.iwate.jp","kamaishi.iwate.jp","kanegasaki.iwate.jp","karumai.iwate.jp","kawai.iwate.jp","kitakami.iwate.jp","kuji.iwate.jp","kunohe.iwate.jp","kuzumaki.iwate.jp","miyako.iwate.jp","mizusawa.iwate.jp","morioka.iwate.jp","ninohe.iwate.jp","noda.iwate.jp","ofunato.iwate.jp","oshu.iwate.jp","otsuchi.iwate.jp","rikuzentakata.iwate.jp","shiwa.iwate.jp","shizukuishi.iwate.jp","sumita.iwate.jp","tanohata.iwate.jp","tono.iwate.jp","yahaba.iwate.jp","yamada.iwate.jp","ayagawa.kagawa.jp","higashikagawa.kagawa.jp","kanonji.kagawa.jp","kotohira.kagawa.jp","manno.kagawa.jp","marugame.kagawa.jp","mitoyo.kagawa.jp","naoshima.kagawa.jp","sanuki.kagawa.jp","tadotsu.kagawa.jp","takamatsu.kagawa.jp","tonosho.kagawa.jp","uchinomi.kagawa.jp","utazu.kagawa.jp","zentsuji.kagawa.jp","akune.kagoshima.jp","amami.kagoshima.jp","hioki.kagoshima.jp","isa.kagoshima.jp","isen.kagoshima.jp","izumi.kagoshima.jp","kagoshima.kagoshima.jp","kanoya.kagoshima.jp","kawanabe.kagoshima.jp","kinko.kagoshima.jp","kouyama.kagoshima.jp","makurazaki.kagoshima.jp","matsumoto.kagoshima.jp","minamitane.kagoshima.jp","nakatane.kagoshima.jp","nishinoomote.kagoshima.jp","satsumasendai.kagoshima.jp","soo.kagoshima.jp","tarumizu.kagoshima.jp","yusui.kagoshima.jp","aikawa.kanagawa.jp","atsugi.kanagawa.jp","ayase.kanagawa.jp","chigasaki.kanagawa.jp","ebina.kanagawa.jp","fujisawa.kanagawa.jp","hadano.kanagawa.jp","hakone.kanagawa.jp","hiratsuka.kanagawa.jp","isehara.kanagawa.jp","kaisei.kanagawa.jp","kamakura.kanagawa.jp","kiyokawa.kanagawa.jp","matsuda.kanagawa.jp","minamiashigara.kanagawa.jp","miura.kanagawa.jp","nakai.kanagawa.jp","ninomiya.kanagawa.jp","odawara.kanagawa.jp","oi.kanagawa.jp","oiso.kanagawa.jp","sagamihara.kanagawa.jp","samukawa.kanagawa.jp","tsukui.kanagawa.jp","yamakita.kanagawa.jp","yamato.kanagawa.jp","yokosuka.kanagawa.jp","yugawara.kanagawa.jp","zama.kanagawa.jp","zushi.kanagawa.jp","aki.kochi.jp","geisei.kochi.jp","hidaka.kochi.jp","higashitsuno.kochi.jp","ino.kochi.jp","kagami.kochi.jp","kami.kochi.jp","kitagawa.kochi.jp","kochi.kochi.jp","mihara.kochi.jp","motoyama.kochi.jp","muroto.kochi.jp","nahari.kochi.jp","nakamura.kochi.jp","nankoku.kochi.jp","nishitosa.kochi.jp","niyodogawa.kochi.jp","ochi.kochi.jp","okawa.kochi.jp","otoyo.kochi.jp","otsuki.kochi.jp","sakawa.kochi.jp","sukumo.kochi.jp","susaki.kochi.jp","tosa.kochi.jp","tosashimizu.kochi.jp","toyo.kochi.jp","tsuno.kochi.jp","umaji.kochi.jp","yasuda.kochi.jp","yusuhara.kochi.jp","amakusa.kumamoto.jp","arao.kumamoto.jp","aso.kumamoto.jp","choyo.kumamoto.jp","gyokuto.kumamoto.jp","kamiamakusa.kumamoto.jp","kikuchi.kumamoto.jp","kumamoto.kumamoto.jp","mashiki.kumamoto.jp","mifune.kumamoto.jp","minamata.kumamoto.jp","minamioguni.kumamoto.jp","nagasu.kumamoto.jp","nishihara.kumamoto.jp","oguni.kumamoto.jp","ozu.kumamoto.jp","sumoto.kumamoto.jp","takamori.kumamoto.jp","uki.kumamoto.jp","uto.kumamoto.jp","yamaga.kumamoto.jp","yamato.kumamoto.jp","yatsushiro.kumamoto.jp","ayabe.kyoto.jp","fukuchiyama.kyoto.jp","higashiyama.kyoto.jp","ide.kyoto.jp","ine.kyoto.jp","joyo.kyoto.jp","kameoka.kyoto.jp","kamo.kyoto.jp","kita.kyoto.jp","kizu.kyoto.jp","kumiyama.kyoto.jp","kyotamba.kyoto.jp","kyotanabe.kyoto.jp","kyotango.kyoto.jp","maizuru.kyoto.jp","minami.kyoto.jp","minamiyamashiro.kyoto.jp","miyazu.kyoto.jp","muko.kyoto.jp","nagaokakyo.kyoto.jp","nakagyo.kyoto.jp","nantan.kyoto.jp","oyamazaki.kyoto.jp","sakyo.kyoto.jp","seika.kyoto.jp","tanabe.kyoto.jp","uji.kyoto.jp","ujitawara.kyoto.jp","wazuka.kyoto.jp","yamashina.kyoto.jp","yawata.kyoto.jp","asahi.mie.jp","inabe.mie.jp","ise.mie.jp","kameyama.mie.jp","kawagoe.mie.jp","kiho.mie.jp","kisosaki.mie.jp","kiwa.mie.jp","komono.mie.jp","kumano.mie.jp","kuwana.mie.jp","matsusaka.mie.jp","meiwa.mie.jp","mihama.mie.jp","minamiise.mie.jp","misugi.mie.jp","miyama.mie.jp","nabari.mie.jp","shima.mie.jp","suzuka.mie.jp","tado.mie.jp","taiki.mie.jp","taki.mie.jp","tamaki.mie.jp","toba.mie.jp","tsu.mie.jp","udono.mie.jp","ureshino.mie.jp","watarai.mie.jp","yokkaichi.mie.jp","furukawa.miyagi.jp","higashimatsushima.miyagi.jp","ishinomaki.miyagi.jp","iwanuma.miyagi.jp","kakuda.miyagi.jp","kami.miyagi.jp","kawasaki.miyagi.jp","marumori.miyagi.jp","matsushima.miyagi.jp","minamisanriku.miyagi.jp","misato.miyagi.jp","murata.miyagi.jp","natori.miyagi.jp","ogawara.miyagi.jp","ohira.miyagi.jp","onagawa.miyagi.jp","osaki.miyagi.jp","rifu.miyagi.jp","semine.miyagi.jp","shibata.miyagi.jp","shichikashuku.miyagi.jp","shikama.miyagi.jp","shiogama.miyagi.jp","shiroishi.miyagi.jp","tagajo.miyagi.jp","taiwa.miyagi.jp","tome.miyagi.jp","tomiya.miyagi.jp","wakuya.miyagi.jp","watari.miyagi.jp","yamamoto.miyagi.jp","zao.miyagi.jp","aya.miyazaki.jp","ebino.miyazaki.jp","gokase.miyazaki.jp","hyuga.miyazaki.jp","kadogawa.miyazaki.jp","kawaminami.miyazaki.jp","kijo.miyazaki.jp","kitagawa.miyazaki.jp","kitakata.miyazaki.jp","kitaura.miyazaki.jp","kobayashi.miyazaki.jp","kunitomi.miyazaki.jp","kushima.miyazaki.jp","mimata.miyazaki.jp","miyakonojo.miyazaki.jp","miyazaki.miyazaki.jp","morotsuka.miyazaki.jp","nichinan.miyazaki.jp","nishimera.miyazaki.jp","nobeoka.miyazaki.jp","saito.miyazaki.jp","shiiba.miyazaki.jp","shintomi.miyazaki.jp","takaharu.miyazaki.jp","takanabe.miyazaki.jp","takazaki.miyazaki.jp","tsuno.miyazaki.jp","achi.nagano.jp","agematsu.nagano.jp","anan.nagano.jp","aoki.nagano.jp","asahi.nagano.jp","azumino.nagano.jp","chikuhoku.nagano.jp","chikuma.nagano.jp","chino.nagano.jp","fujimi.nagano.jp","hakuba.nagano.jp","hara.nagano.jp","hiraya.nagano.jp","iida.nagano.jp","iijima.nagano.jp","iiyama.nagano.jp","iizuna.nagano.jp","ikeda.nagano.jp","ikusaka.nagano.jp","ina.nagano.jp","karuizawa.nagano.jp","kawakami.nagano.jp","kiso.nagano.jp","kisofukushima.nagano.jp","kitaaiki.nagano.jp","komagane.nagano.jp","komoro.nagano.jp","matsukawa.nagano.jp","matsumoto.nagano.jp","miasa.nagano.jp","minamiaiki.nagano.jp","minamimaki.nagano.jp","minamiminowa.nagano.jp","minowa.nagano.jp","miyada.nagano.jp","miyota.nagano.jp","mochizuki.nagano.jp","nagano.nagano.jp","nagawa.nagano.jp","nagiso.nagano.jp","nakagawa.nagano.jp","nakano.nagano.jp","nozawaonsen.nagano.jp","obuse.nagano.jp","ogawa.nagano.jp","okaya.nagano.jp","omachi.nagano.jp","omi.nagano.jp","ookuwa.nagano.jp","ooshika.nagano.jp","otaki.nagano.jp","otari.nagano.jp","sakae.nagano.jp","sakaki.nagano.jp","saku.nagano.jp","sakuho.nagano.jp","shimosuwa.nagano.jp","shinanomachi.nagano.jp","shiojiri.nagano.jp","suwa.nagano.jp","suzaka.nagano.jp","takagi.nagano.jp","takamori.nagano.jp","takayama.nagano.jp","tateshina.nagano.jp","tatsuno.nagano.jp","togakushi.nagano.jp","togura.nagano.jp","tomi.nagano.jp","ueda.nagano.jp","wada.nagano.jp","yamagata.nagano.jp","yamanouchi.nagano.jp","yasaka.nagano.jp","yasuoka.nagano.jp","chijiwa.nagasaki.jp","futsu.nagasaki.jp","goto.nagasaki.jp","hasami.nagasaki.jp","hirado.nagasaki.jp","iki.nagasaki.jp","isahaya.nagasaki.jp","kawatana.nagasaki.jp","kuchinotsu.nagasaki.jp","matsuura.nagasaki.jp","nagasaki.nagasaki.jp","obama.nagasaki.jp","omura.nagasaki.jp","oseto.nagasaki.jp","saikai.nagasaki.jp","sasebo.nagasaki.jp","seihi.nagasaki.jp","shimabara.nagasaki.jp","shinkamigoto.nagasaki.jp","togitsu.nagasaki.jp","tsushima.nagasaki.jp","unzen.nagasaki.jp","ando.nara.jp","gose.nara.jp","heguri.nara.jp","higashiyoshino.nara.jp","ikaruga.nara.jp","ikoma.nara.jp","kamikitayama.nara.jp","kanmaki.nara.jp","kashiba.nara.jp","kashihara.nara.jp","katsuragi.nara.jp","kawai.nara.jp","kawakami.nara.jp","kawanishi.nara.jp","koryo.nara.jp","kurotaki.nara.jp","mitsue.nara.jp","miyake.nara.jp","nara.nara.jp","nosegawa.nara.jp","oji.nara.jp","ouda.nara.jp","oyodo.nara.jp","sakurai.nara.jp","sango.nara.jp","shimoichi.nara.jp","shimokitayama.nara.jp","shinjo.nara.jp","soni.nara.jp","takatori.nara.jp","tawaramoto.nara.jp","tenkawa.nara.jp","tenri.nara.jp","uda.nara.jp","yamatokoriyama.nara.jp","yamatotakada.nara.jp","yamazoe.nara.jp","yoshino.nara.jp","aga.niigata.jp","agano.niigata.jp","gosen.niigata.jp","itoigawa.niigata.jp","izumozaki.niigata.jp","joetsu.niigata.jp","kamo.niigata.jp","kariwa.niigata.jp","kashiwazaki.niigata.jp","minamiuonuma.niigata.jp","mitsuke.niigata.jp","muika.niigata.jp","murakami.niigata.jp","myoko.niigata.jp","nagaoka.niigata.jp","niigata.niigata.jp","ojiya.niigata.jp","omi.niigata.jp","sado.niigata.jp","sanjo.niigata.jp","seiro.niigata.jp","seirou.niigata.jp","sekikawa.niigata.jp","shibata.niigata.jp","tagami.niigata.jp","tainai.niigata.jp","tochio.niigata.jp","tokamachi.niigata.jp","tsubame.niigata.jp","tsunan.niigata.jp","uonuma.niigata.jp","yahiko.niigata.jp","yoita.niigata.jp","yuzawa.niigata.jp","beppu.oita.jp","bungoono.oita.jp","bungotakada.oita.jp","hasama.oita.jp","hiji.oita.jp","himeshima.oita.jp","hita.oita.jp","kamitsue.oita.jp","kokonoe.oita.jp","kuju.oita.jp","kunisaki.oita.jp","kusu.oita.jp","oita.oita.jp","saiki.oita.jp","taketa.oita.jp","tsukumi.oita.jp","usa.oita.jp","usuki.oita.jp","yufu.oita.jp","akaiwa.okayama.jp","asakuchi.okayama.jp","bizen.okayama.jp","hayashima.okayama.jp","ibara.okayama.jp","kagamino.okayama.jp","kasaoka.okayama.jp","kibichuo.okayama.jp","kumenan.okayama.jp","kurashiki.okayama.jp","maniwa.okayama.jp","misaki.okayama.jp","nagi.okayama.jp","niimi.okayama.jp","nishiawakura.okayama.jp","okayama.okayama.jp","satosho.okayama.jp","setouchi.okayama.jp","shinjo.okayama.jp","shoo.okayama.jp","soja.okayama.jp","takahashi.okayama.jp","tamano.okayama.jp","tsuyama.okayama.jp","wake.okayama.jp","yakage.okayama.jp","aguni.okinawa.jp","ginowan.okinawa.jp","ginoza.okinawa.jp","gushikami.okinawa.jp","haebaru.okinawa.jp","higashi.okinawa.jp","hirara.okinawa.jp","iheya.okinawa.jp","ishigaki.okinawa.jp","ishikawa.okinawa.jp","itoman.okinawa.jp","izena.okinawa.jp","kadena.okinawa.jp","kin.okinawa.jp","kitadaito.okinawa.jp","kitanakagusuku.okinawa.jp","kumejima.okinawa.jp","kunigami.okinawa.jp","minamidaito.okinawa.jp","motobu.okinawa.jp","nago.okinawa.jp","naha.okinawa.jp","nakagusuku.okinawa.jp","nakijin.okinawa.jp","nanjo.okinawa.jp","nishihara.okinawa.jp","ogimi.okinawa.jp","okinawa.okinawa.jp","onna.okinawa.jp","shimoji.okinawa.jp","taketomi.okinawa.jp","tarama.okinawa.jp","tokashiki.okinawa.jp","tomigusuku.okinawa.jp","tonaki.okinawa.jp","urasoe.okinawa.jp","uruma.okinawa.jp","yaese.okinawa.jp","yomitan.okinawa.jp","yonabaru.okinawa.jp","yonaguni.okinawa.jp","zamami.okinawa.jp","abeno.osaka.jp","chihayaakasaka.osaka.jp","chuo.osaka.jp","daito.osaka.jp","fujiidera.osaka.jp","habikino.osaka.jp","hannan.osaka.jp","higashiosaka.osaka.jp","higashisumiyoshi.osaka.jp","higashiyodogawa.osaka.jp","hirakata.osaka.jp","ibaraki.osaka.jp","ikeda.osaka.jp","izumi.osaka.jp","izumiotsu.osaka.jp","izumisano.osaka.jp","kadoma.osaka.jp","kaizuka.osaka.jp","kanan.osaka.jp","kashiwara.osaka.jp","katano.osaka.jp","kawachinagano.osaka.jp","kishiwada.osaka.jp","kita.osaka.jp","kumatori.osaka.jp","matsubara.osaka.jp","minato.osaka.jp","minoh.osaka.jp","misaki.osaka.jp","moriguchi.osaka.jp","neyagawa.osaka.jp","nishi.osaka.jp","nose.osaka.jp","osakasayama.osaka.jp","sakai.osaka.jp","sayama.osaka.jp","sennan.osaka.jp","settsu.osaka.jp","shijonawate.osaka.jp","shimamoto.osaka.jp","suita.osaka.jp","tadaoka.osaka.jp","taishi.osaka.jp","tajiri.osaka.jp","takaishi.osaka.jp","takatsuki.osaka.jp","tondabayashi.osaka.jp","toyonaka.osaka.jp","toyono.osaka.jp","yao.osaka.jp","ariake.saga.jp","arita.saga.jp","fukudomi.saga.jp","genkai.saga.jp","hamatama.saga.jp","hizen.saga.jp","imari.saga.jp","kamimine.saga.jp","kanzaki.saga.jp","karatsu.saga.jp","kashima.saga.jp","kitagata.saga.jp","kitahata.saga.jp","kiyama.saga.jp","kouhoku.saga.jp","kyuragi.saga.jp","nishiarita.saga.jp","ogi.saga.jp","omachi.saga.jp","ouchi.saga.jp","saga.saga.jp","shiroishi.saga.jp","taku.saga.jp","tara.saga.jp","tosu.saga.jp","yoshinogari.saga.jp","arakawa.saitama.jp","asaka.saitama.jp","chichibu.saitama.jp","fujimi.saitama.jp","fujimino.saitama.jp","fukaya.saitama.jp","hanno.saitama.jp","hanyu.saitama.jp","hasuda.saitama.jp","hatogaya.saitama.jp","hatoyama.saitama.jp","hidaka.saitama.jp","higashichichibu.saitama.jp","higashimatsuyama.saitama.jp","honjo.saitama.jp","ina.saitama.jp","iruma.saitama.jp","iwatsuki.saitama.jp","kamiizumi.saitama.jp","kamikawa.saitama.jp","kamisato.saitama.jp","kasukabe.saitama.jp","kawagoe.saitama.jp","kawaguchi.saitama.jp","kawajima.saitama.jp","kazo.saitama.jp","kitamoto.saitama.jp","koshigaya.saitama.jp","kounosu.saitama.jp","kuki.saitama.jp","kumagaya.saitama.jp","matsubushi.saitama.jp","minano.saitama.jp","misato.saitama.jp","miyashiro.saitama.jp","miyoshi.saitama.jp","moroyama.saitama.jp","nagatoro.saitama.jp","namegawa.saitama.jp","niiza.saitama.jp","ogano.saitama.jp","ogawa.saitama.jp","ogose.saitama.jp","okegawa.saitama.jp","omiya.saitama.jp","otaki.saitama.jp","ranzan.saitama.jp","ryokami.saitama.jp","saitama.saitama.jp","sakado.saitama.jp","satte.saitama.jp","sayama.saitama.jp","shiki.saitama.jp","shiraoka.saitama.jp","soka.saitama.jp","sugito.saitama.jp","toda.saitama.jp","tokigawa.saitama.jp","tokorozawa.saitama.jp","tsurugashima.saitama.jp","urawa.saitama.jp","warabi.saitama.jp","yashio.saitama.jp","yokoze.saitama.jp","yono.saitama.jp","yorii.saitama.jp","yoshida.saitama.jp","yoshikawa.saitama.jp","yoshimi.saitama.jp","aisho.shiga.jp","gamo.shiga.jp","higashiomi.shiga.jp","hikone.shiga.jp","koka.shiga.jp","konan.shiga.jp","kosei.shiga.jp","koto.shiga.jp","kusatsu.shiga.jp","maibara.shiga.jp","moriyama.shiga.jp","nagahama.shiga.jp","nishiazai.shiga.jp","notogawa.shiga.jp","omihachiman.shiga.jp","otsu.shiga.jp","ritto.shiga.jp","ryuoh.shiga.jp","takashima.shiga.jp","takatsuki.shiga.jp","torahime.shiga.jp","toyosato.shiga.jp","yasu.shiga.jp","akagi.shimane.jp","ama.shimane.jp","gotsu.shimane.jp","hamada.shimane.jp","higashiizumo.shimane.jp","hikawa.shimane.jp","hikimi.shimane.jp","izumo.shimane.jp","kakinoki.shimane.jp","masuda.shimane.jp","matsue.shimane.jp","misato.shimane.jp","nishinoshima.shimane.jp","ohda.shimane.jp","okinoshima.shimane.jp","okuizumo.shimane.jp","shimane.shimane.jp","tamayu.shimane.jp","tsuwano.shimane.jp","unnan.shimane.jp","yakumo.shimane.jp","yasugi.shimane.jp","yatsuka.shimane.jp","arai.shizuoka.jp","atami.shizuoka.jp","fuji.shizuoka.jp","fujieda.shizuoka.jp","fujikawa.shizuoka.jp","fujinomiya.shizuoka.jp","fukuroi.shizuoka.jp","gotemba.shizuoka.jp","haibara.shizuoka.jp","hamamatsu.shizuoka.jp","higashiizu.shizuoka.jp","ito.shizuoka.jp","iwata.shizuoka.jp","izu.shizuoka.jp","izunokuni.shizuoka.jp","kakegawa.shizuoka.jp","kannami.shizuoka.jp","kawanehon.shizuoka.jp","kawazu.shizuoka.jp","kikugawa.shizuoka.jp","kosai.shizuoka.jp","makinohara.shizuoka.jp","matsuzaki.shizuoka.jp","minamiizu.shizuoka.jp","mishima.shizuoka.jp","morimachi.shizuoka.jp","nishiizu.shizuoka.jp","numazu.shizuoka.jp","omaezaki.shizuoka.jp","shimada.shizuoka.jp","shimizu.shizuoka.jp","shimoda.shizuoka.jp","shizuoka.shizuoka.jp","susono.shizuoka.jp","yaizu.shizuoka.jp","yoshida.shizuoka.jp","ashikaga.tochigi.jp","bato.tochigi.jp","haga.tochigi.jp","ichikai.tochigi.jp","iwafune.tochigi.jp","kaminokawa.tochigi.jp","kanuma.tochigi.jp","karasuyama.tochigi.jp","kuroiso.tochigi.jp","mashiko.tochigi.jp","mibu.tochigi.jp","moka.tochigi.jp","motegi.tochigi.jp","nasu.tochigi.jp","nasushiobara.tochigi.jp","nikko.tochigi.jp","nishikata.tochigi.jp","nogi.tochigi.jp","ohira.tochigi.jp","ohtawara.tochigi.jp","oyama.tochigi.jp","sakura.tochigi.jp","sano.tochigi.jp","shimotsuke.tochigi.jp","shioya.tochigi.jp","takanezawa.tochigi.jp","tochigi.tochigi.jp","tsuga.tochigi.jp","ujiie.tochigi.jp","utsunomiya.tochigi.jp","yaita.tochigi.jp","aizumi.tokushima.jp","anan.tokushima.jp","ichiba.tokushima.jp","itano.tokushima.jp","kainan.tokushima.jp","komatsushima.tokushima.jp","matsushige.tokushima.jp","mima.tokushima.jp","minami.tokushima.jp","miyoshi.tokushima.jp","mugi.tokushima.jp","nakagawa.tokushima.jp","naruto.tokushima.jp","sanagochi.tokushima.jp","shishikui.tokushima.jp","tokushima.tokushima.jp","wajiki.tokushima.jp","adachi.tokyo.jp","akiruno.tokyo.jp","akishima.tokyo.jp","aogashima.tokyo.jp","arakawa.tokyo.jp","bunkyo.tokyo.jp","chiyoda.tokyo.jp","chofu.tokyo.jp","chuo.tokyo.jp","edogawa.tokyo.jp","fuchu.tokyo.jp","fussa.tokyo.jp","hachijo.tokyo.jp","hachioji.tokyo.jp","hamura.tokyo.jp","higashikurume.tokyo.jp","higashimurayama.tokyo.jp","higashiyamato.tokyo.jp","hino.tokyo.jp","hinode.tokyo.jp","hinohara.tokyo.jp","inagi.tokyo.jp","itabashi.tokyo.jp","katsushika.tokyo.jp","kita.tokyo.jp","kiyose.tokyo.jp","kodaira.tokyo.jp","koganei.tokyo.jp","kokubunji.tokyo.jp","komae.tokyo.jp","koto.tokyo.jp","kouzushima.tokyo.jp","kunitachi.tokyo.jp","machida.tokyo.jp","meguro.tokyo.jp","minato.tokyo.jp","mitaka.tokyo.jp","mizuho.tokyo.jp","musashimurayama.tokyo.jp","musashino.tokyo.jp","nakano.tokyo.jp","nerima.tokyo.jp","ogasawara.tokyo.jp","okutama.tokyo.jp","ome.tokyo.jp","oshima.tokyo.jp","ota.tokyo.jp","setagaya.tokyo.jp","shibuya.tokyo.jp","shinagawa.tokyo.jp","shinjuku.tokyo.jp","suginami.tokyo.jp","sumida.tokyo.jp","tachikawa.tokyo.jp","taito.tokyo.jp","tama.tokyo.jp","toshima.tokyo.jp","chizu.tottori.jp","hino.tottori.jp","kawahara.tottori.jp","koge.tottori.jp","kotoura.tottori.jp","misasa.tottori.jp","nanbu.tottori.jp","nichinan.tottori.jp","sakaiminato.tottori.jp","tottori.tottori.jp","wakasa.tottori.jp","yazu.tottori.jp","yonago.tottori.jp","asahi.toyama.jp","fuchu.toyama.jp","fukumitsu.toyama.jp","funahashi.toyama.jp","himi.toyama.jp","imizu.toyama.jp","inami.toyama.jp","johana.toyama.jp","kamiichi.toyama.jp","kurobe.toyama.jp","nakaniikawa.toyama.jp","namerikawa.toyama.jp","nanto.toyama.jp","nyuzen.toyama.jp","oyabe.toyama.jp","taira.toyama.jp","takaoka.toyama.jp","tateyama.toyama.jp","toga.toyama.jp","tonami.toyama.jp","toyama.toyama.jp","unazuki.toyama.jp","uozu.toyama.jp","yamada.toyama.jp","arida.wakayama.jp","aridagawa.wakayama.jp","gobo.wakayama.jp","hashimoto.wakayama.jp","hidaka.wakayama.jp","hirogawa.wakayama.jp","inami.wakayama.jp","iwade.wakayama.jp","kainan.wakayama.jp","kamitonda.wakayama.jp","katsuragi.wakayama.jp","kimino.wakayama.jp","kinokawa.wakayama.jp","kitayama.wakayama.jp","koya.wakayama.jp","koza.wakayama.jp","kozagawa.wakayama.jp","kudoyama.wakayama.jp","kushimoto.wakayama.jp","mihama.wakayama.jp","misato.wakayama.jp","nachikatsuura.wakayama.jp","shingu.wakayama.jp","shirahama.wakayama.jp","taiji.wakayama.jp","tanabe.wakayama.jp","wakayama.wakayama.jp","yuasa.wakayama.jp","yura.wakayama.jp","asahi.yamagata.jp","funagata.yamagata.jp","higashine.yamagata.jp","iide.yamagata.jp","kahoku.yamagata.jp","kaminoyama.yamagata.jp","kaneyama.yamagata.jp","kawanishi.yamagata.jp","mamurogawa.yamagata.jp","mikawa.yamagata.jp","murayama.yamagata.jp","nagai.yamagata.jp","nakayama.yamagata.jp","nanyo.yamagata.jp","nishikawa.yamagata.jp","obanazawa.yamagata.jp","oe.yamagata.jp","oguni.yamagata.jp","ohkura.yamagata.jp","oishida.yamagata.jp","sagae.yamagata.jp","sakata.yamagata.jp","sakegawa.yamagata.jp","shinjo.yamagata.jp","shirataka.yamagata.jp","shonai.yamagata.jp","takahata.yamagata.jp","tendo.yamagata.jp","tozawa.yamagata.jp","tsuruoka.yamagata.jp","yamagata.yamagata.jp","yamanobe.yamagata.jp","yonezawa.yamagata.jp","yuza.yamagata.jp","abu.yamaguchi.jp","hagi.yamaguchi.jp","hikari.yamaguchi.jp","hofu.yamaguchi.jp","iwakuni.yamaguchi.jp","kudamatsu.yamaguchi.jp","mitou.yamaguchi.jp","nagato.yamaguchi.jp","oshima.yamaguchi.jp","shimonoseki.yamaguchi.jp","shunan.yamaguchi.jp","tabuse.yamaguchi.jp","tokuyama.yamaguchi.jp","toyota.yamaguchi.jp","ube.yamaguchi.jp","yuu.yamaguchi.jp","chuo.yamanashi.jp","doshi.yamanashi.jp","fuefuki.yamanashi.jp","fujikawa.yamanashi.jp","fujikawaguchiko.yamanashi.jp","fujiyoshida.yamanashi.jp","hayakawa.yamanashi.jp","hokuto.yamanashi.jp","ichikawamisato.yamanashi.jp","kai.yamanashi.jp","kofu.yamanashi.jp","koshu.yamanashi.jp","kosuge.yamanashi.jp","minami-alps.yamanashi.jp","minobu.yamanashi.jp","nakamichi.yamanashi.jp","nanbu.yamanashi.jp","narusawa.yamanashi.jp","nirasaki.yamanashi.jp","nishikatsura.yamanashi.jp","oshino.yamanashi.jp","otsuki.yamanashi.jp","showa.yamanashi.jp","tabayama.yamanashi.jp","tsuru.yamanashi.jp","uenohara.yamanashi.jp","yamanakako.yamanashi.jp","yamanashi.yamanashi.jp","ke","ac.ke","co.ke","go.ke","info.ke","me.ke","mobi.ke","ne.ke","or.ke","sc.ke","kg","com.kg","edu.kg","gov.kg","mil.kg","net.kg","org.kg","*.kh","ki","biz.ki","com.ki","edu.ki","gov.ki","info.ki","net.ki","org.ki","km","ass.km","com.km","edu.km","gov.km","mil.km","nom.km","org.km","prd.km","tm.km","asso.km","coop.km","gouv.km","medecin.km","notaires.km","pharmaciens.km","presse.km","veterinaire.km","kn","edu.kn","gov.kn","net.kn","org.kn","kp","com.kp","edu.kp","gov.kp","org.kp","rep.kp","tra.kp","kr","ac.kr","co.kr","es.kr","go.kr","hs.kr","kg.kr","mil.kr","ms.kr","ne.kr","or.kr","pe.kr","re.kr","sc.kr","busan.kr","chungbuk.kr","chungnam.kr","daegu.kr","daejeon.kr","gangwon.kr","gwangju.kr","gyeongbuk.kr","gyeonggi.kr","gyeongnam.kr","incheon.kr","jeju.kr","jeonbuk.kr","jeonnam.kr","seoul.kr","ulsan.kr","kw","com.kw","edu.kw","emb.kw","gov.kw","ind.kw","net.kw","org.kw","ky","com.ky","edu.ky","net.ky","org.ky","kz","com.kz","edu.kz","gov.kz","mil.kz","net.kz","org.kz","la","com.la","edu.la","gov.la","info.la","int.la","net.la","org.la","per.la","lb","com.lb","edu.lb","gov.lb","net.lb","org.lb","lc","co.lc","com.lc","edu.lc","gov.lc","net.lc","org.lc","li","lk","ac.lk","assn.lk","com.lk","edu.lk","gov.lk","grp.lk","hotel.lk","int.lk","ltd.lk","net.lk","ngo.lk","org.lk","sch.lk","soc.lk","web.lk","lr","com.lr","edu.lr","gov.lr","net.lr","org.lr","ls","ac.ls","biz.ls","co.ls","edu.ls","gov.ls","info.ls","net.ls","org.ls","sc.ls","lt","gov.lt","lu","lv","asn.lv","com.lv","conf.lv","edu.lv","gov.lv","id.lv","mil.lv","net.lv","org.lv","ly","com.ly","edu.ly","gov.ly","id.ly","med.ly","net.ly","org.ly","plc.ly","sch.ly","ma","ac.ma","co.ma","gov.ma","net.ma","org.ma","press.ma","mc","asso.mc","tm.mc","md","me","ac.me","co.me","edu.me","gov.me","its.me","net.me","org.me","priv.me","mg","co.mg","com.mg","edu.mg","gov.mg","mil.mg","nom.mg","org.mg","prd.mg","mh","mil","mk","com.mk","edu.mk","gov.mk","inf.mk","name.mk","net.mk","org.mk","ml","com.ml","edu.ml","gouv.ml","gov.ml","net.ml","org.ml","presse.ml","*.mm","mn","edu.mn","gov.mn","org.mn","mo","com.mo","edu.mo","gov.mo","net.mo","org.mo","mobi","mp","mq","mr","gov.mr","ms","com.ms","edu.ms","gov.ms","net.ms","org.ms","mt","com.mt","edu.mt","net.mt","org.mt","mu","ac.mu","co.mu","com.mu","gov.mu","net.mu","or.mu","org.mu","museum","mv","aero.mv","biz.mv","com.mv","coop.mv","edu.mv","gov.mv","info.mv","int.mv","mil.mv","museum.mv","name.mv","net.mv","org.mv","pro.mv","mw","ac.mw","biz.mw","co.mw","com.mw","coop.mw","edu.mw","gov.mw","int.mw","net.mw","org.mw","mx","com.mx","edu.mx","gob.mx","net.mx","org.mx","my","biz.my","com.my","edu.my","gov.my","mil.my","name.my","net.my","org.my","mz","ac.mz","adv.mz","co.mz","edu.mz","gov.mz","mil.mz","net.mz","org.mz","na","alt.na","co.na","com.na","gov.na","net.na","org.na","name","nc","asso.nc","nom.nc","ne","net","nf","arts.nf","com.nf","firm.nf","info.nf","net.nf","other.nf","per.nf","rec.nf","store.nf","web.nf","ng","com.ng","edu.ng","gov.ng","i.ng","mil.ng","mobi.ng","name.ng","net.ng","org.ng","sch.ng","ni","ac.ni","biz.ni","co.ni","com.ni","edu.ni","gob.ni","in.ni","info.ni","int.ni","mil.ni","net.ni","nom.ni","org.ni","web.ni","nl","no","fhs.no","folkebibl.no","fylkesbibl.no","idrett.no","museum.no","priv.no","vgs.no","dep.no","herad.no","kommune.no","mil.no","stat.no","aa.no","ah.no","bu.no","fm.no","hl.no","hm.no","jan-mayen.no","mr.no","nl.no","nt.no","of.no","ol.no","oslo.no","rl.no","sf.no","st.no","svalbard.no","tm.no","tr.no","va.no","vf.no","gs.aa.no","gs.ah.no","gs.bu.no","gs.fm.no","gs.hl.no","gs.hm.no","gs.jan-mayen.no","gs.mr.no","gs.nl.no","gs.nt.no","gs.of.no","gs.ol.no","gs.oslo.no","gs.rl.no","gs.sf.no","gs.st.no","gs.svalbard.no","gs.tm.no","gs.tr.no","gs.va.no","gs.vf.no","akrehamn.no","\xe5krehamn.no","algard.no","\xe5lg\xe5rd.no","arna.no","bronnoysund.no","br\xf8nn\xf8ysund.no","brumunddal.no","bryne.no","drobak.no","dr\xf8bak.no","egersund.no","fetsund.no","floro.no","flor\xf8.no","fredrikstad.no","hokksund.no","honefoss.no","h\xf8nefoss.no","jessheim.no","jorpeland.no","j\xf8rpeland.no","kirkenes.no","kopervik.no","krokstadelva.no","langevag.no","langev\xe5g.no","leirvik.no","mjondalen.no","mj\xf8ndalen.no","mo-i-rana.no","mosjoen.no","mosj\xf8en.no","nesoddtangen.no","orkanger.no","osoyro.no","os\xf8yro.no","raholt.no","r\xe5holt.no","sandnessjoen.no","sandnessj\xf8en.no","skedsmokorset.no","slattum.no","spjelkavik.no","stathelle.no","stavern.no","stjordalshalsen.no","stj\xf8rdalshalsen.no","tananger.no","tranby.no","vossevangen.no","aarborte.no","aejrie.no","afjord.no","\xe5fjord.no","agdenes.no","nes.akershus.no","aknoluokta.no","\xe1koluokta.no","al.no","\xe5l.no","alaheadju.no","\xe1laheadju.no","alesund.no","\xe5lesund.no","alstahaug.no","alta.no","\xe1lt\xe1.no","alvdal.no","amli.no","\xe5mli.no","amot.no","\xe5mot.no","andasuolo.no","andebu.no","andoy.no","and\xf8y.no","ardal.no","\xe5rdal.no","aremark.no","arendal.no","\xe5s.no","aseral.no","\xe5seral.no","asker.no","askim.no","askoy.no","ask\xf8y.no","askvoll.no","asnes.no","\xe5snes.no","audnedaln.no","aukra.no","aure.no","aurland.no","aurskog-holand.no","aurskog-h\xf8land.no","austevoll.no","austrheim.no","averoy.no","aver\xf8y.no","badaddja.no","b\xe5d\xe5ddj\xe5.no","b\xe6rum.no","bahcavuotna.no","b\xe1hcavuotna.no","bahccavuotna.no","b\xe1hccavuotna.no","baidar.no","b\xe1id\xe1r.no","bajddar.no","b\xe1jddar.no","balat.no","b\xe1l\xe1t.no","balestrand.no","ballangen.no","balsfjord.no","bamble.no","bardu.no","barum.no","batsfjord.no","b\xe5tsfjord.no","bearalvahki.no","bearalv\xe1hki.no","beardu.no","beiarn.no","berg.no","bergen.no","berlevag.no","berlev\xe5g.no","bievat.no","biev\xe1t.no","bindal.no","birkenes.no","bjarkoy.no","bjark\xf8y.no","bjerkreim.no","bjugn.no","bodo.no","bod\xf8.no","bokn.no","bomlo.no","b\xf8mlo.no","bremanger.no","bronnoy.no","br\xf8nn\xf8y.no","budejju.no","nes.buskerud.no","bygland.no","bykle.no","cahcesuolo.no","\xe1hcesuolo.no","davvenjarga.no","davvenj\xe1rga.no","davvesiida.no","deatnu.no","dielddanuorri.no","divtasvuodna.no","divttasvuotna.no","donna.no","d\xf8nna.no","dovre.no","drammen.no","drangedal.no","dyroy.no","dyr\xf8y.no","eid.no","eidfjord.no","eidsberg.no","eidskog.no","eidsvoll.no","eigersund.no","elverum.no","enebakk.no","engerdal.no","etne.no","etnedal.no","evenassi.no","even\xe1i.no","evenes.no","evje-og-hornnes.no","farsund.no","fauske.no","fedje.no","fet.no","finnoy.no","finn\xf8y.no","fitjar.no","fjaler.no","fjell.no","fla.no","fl\xe5.no","flakstad.no","flatanger.no","flekkefjord.no","flesberg.no","flora.no","folldal.no","forde.no","f\xf8rde.no","forsand.no","fosnes.no","fr\xe6na.no","frana.no","frei.no","frogn.no","froland.no","frosta.no","froya.no","fr\xf8ya.no","fuoisku.no","fuossko.no","fusa.no","fyresdal.no","gaivuotna.no","g\xe1ivuotna.no","galsa.no","g\xe1ls\xe1.no","gamvik.no","gangaviika.no","g\xe1gaviika.no","gaular.no","gausdal.no","giehtavuoatna.no","gildeskal.no","gildesk\xe5l.no","giske.no","gjemnes.no","gjerdrum.no","gjerstad.no","gjesdal.no","gjovik.no","gj\xf8vik.no","gloppen.no","gol.no","gran.no","grane.no","granvin.no","gratangen.no","grimstad.no","grong.no","grue.no","gulen.no","guovdageaidnu.no","ha.no","h\xe5.no","habmer.no","h\xe1bmer.no","hadsel.no","h\xe6gebostad.no","hagebostad.no","halden.no","halsa.no","hamar.no","hamaroy.no","hammarfeasta.no","h\xe1mm\xe1rfeasta.no","hammerfest.no","hapmir.no","h\xe1pmir.no","haram.no","hareid.no","harstad.no","hasvik.no","hattfjelldal.no","haugesund.no","os.hedmark.no","valer.hedmark.no","v\xe5ler.hedmark.no","hemne.no","hemnes.no","hemsedal.no","hitra.no","hjartdal.no","hjelmeland.no","hobol.no","hob\xf8l.no","hof.no","hol.no","hole.no","holmestrand.no","holtalen.no","holt\xe5len.no","os.hordaland.no","hornindal.no","horten.no","hoyanger.no","h\xf8yanger.no","hoylandet.no","h\xf8ylandet.no","hurdal.no","hurum.no","hvaler.no","hyllestad.no","ibestad.no","inderoy.no","inder\xf8y.no","iveland.no","ivgu.no","jevnaker.no","jolster.no","j\xf8lster.no","jondal.no","kafjord.no","k\xe5fjord.no","karasjohka.no","k\xe1r\xe1johka.no","karasjok.no","karlsoy.no","karmoy.no","karm\xf8y.no","kautokeino.no","klabu.no","kl\xe6bu.no","klepp.no","kongsberg.no","kongsvinger.no","kraanghke.no","kr\xe5anghke.no","kragero.no","krager\xf8.no","kristiansand.no","kristiansund.no","krodsherad.no","kr\xf8dsherad.no","kv\xe6fjord.no","kv\xe6nangen.no","kvafjord.no","kvalsund.no","kvam.no","kvanangen.no","kvinesdal.no","kvinnherad.no","kviteseid.no","kvitsoy.no","kvits\xf8y.no","laakesvuemie.no","l\xe6rdal.no","lahppi.no","l\xe1hppi.no","lardal.no","larvik.no","lavagis.no","lavangen.no","leangaviika.no","leagaviika.no","lebesby.no","leikanger.no","leirfjord.no","leka.no","leksvik.no","lenvik.no","lerdal.no","lesja.no","levanger.no","lier.no","lierne.no","lillehammer.no","lillesand.no","lindas.no","lind\xe5s.no","lindesnes.no","loabat.no","loab\xe1t.no","lodingen.no","l\xf8dingen.no","lom.no","loppa.no","lorenskog.no","l\xf8renskog.no","loten.no","l\xf8ten.no","lund.no","lunner.no","luroy.no","lur\xf8y.no","luster.no","lyngdal.no","lyngen.no","malatvuopmi.no","m\xe1latvuopmi.no","malselv.no","m\xe5lselv.no","malvik.no","mandal.no","marker.no","marnardal.no","masfjorden.no","masoy.no","m\xe5s\xf8y.no","matta-varjjat.no","m\xe1tta-v\xe1rjjat.no","meland.no","meldal.no","melhus.no","meloy.no","mel\xf8y.no","meraker.no","mer\xe5ker.no","midsund.no","midtre-gauldal.no","moareke.no","mo\xe5reke.no","modalen.no","modum.no","molde.no","heroy.more-og-romsdal.no","sande.more-og-romsdal.no","her\xf8y.m\xf8re-og-romsdal.no","sande.m\xf8re-og-romsdal.no","moskenes.no","moss.no","mosvik.no","muosat.no","muos\xe1t.no","naamesjevuemie.no","n\xe5\xe5mesjevuemie.no","n\xe6r\xf8y.no","namdalseid.no","namsos.no","namsskogan.no","nannestad.no","naroy.no","narviika.no","narvik.no","naustdal.no","navuotna.no","n\xe1vuotna.no","nedre-eiker.no","nesna.no","nesodden.no","nesseby.no","nesset.no","nissedal.no","nittedal.no","nord-aurdal.no","nord-fron.no","nord-odal.no","norddal.no","nordkapp.no","bo.nordland.no","b\xf8.nordland.no","heroy.nordland.no","her\xf8y.nordland.no","nordre-land.no","nordreisa.no","nore-og-uvdal.no","notodden.no","notteroy.no","n\xf8tter\xf8y.no","odda.no","oksnes.no","\xf8ksnes.no","omasvuotna.no","oppdal.no","oppegard.no","oppeg\xe5rd.no","orkdal.no","orland.no","\xf8rland.no","orskog.no","\xf8rskog.no","orsta.no","\xf8rsta.no","osen.no","osteroy.no","oster\xf8y.no","valer.ostfold.no","v\xe5ler.\xf8stfold.no","ostre-toten.no","\xf8stre-toten.no","overhalla.no","ovre-eiker.no","\xf8vre-eiker.no","oyer.no","\xf8yer.no","oygarden.no","\xf8ygarden.no","oystre-slidre.no","\xf8ystre-slidre.no","porsanger.no","porsangu.no","pors\xe1gu.no","porsgrunn.no","rade.no","r\xe5de.no","radoy.no","rad\xf8y.no","r\xe6lingen.no","rahkkeravju.no","r\xe1hkker\xe1vju.no","raisa.no","r\xe1isa.no","rakkestad.no","ralingen.no","rana.no","randaberg.no","rauma.no","rendalen.no","rennebu.no","rennesoy.no","rennes\xf8y.no","rindal.no","ringebu.no","ringerike.no","ringsaker.no","risor.no","ris\xf8r.no","rissa.no","roan.no","rodoy.no","r\xf8d\xf8y.no","rollag.no","romsa.no","romskog.no","r\xf8mskog.no","roros.no","r\xf8ros.no","rost.no","r\xf8st.no","royken.no","r\xf8yken.no","royrvik.no","r\xf8yrvik.no","ruovat.no","rygge.no","salangen.no","salat.no","s\xe1lat.no","s\xe1l\xe1t.no","saltdal.no","samnanger.no","sandefjord.no","sandnes.no","sandoy.no","sand\xf8y.no","sarpsborg.no","sauda.no","sauherad.no","sel.no","selbu.no","selje.no","seljord.no","siellak.no","sigdal.no","siljan.no","sirdal.no","skanit.no","sk\xe1nit.no","skanland.no","sk\xe5nland.no","skaun.no","skedsmo.no","ski.no","skien.no","skierva.no","skierv\xe1.no","skiptvet.no","skjak.no","skj\xe5k.no","skjervoy.no","skjerv\xf8y.no","skodje.no","smola.no","sm\xf8la.no","snaase.no","sn\xe5ase.no","snasa.no","sn\xe5sa.no","snillfjord.no","snoasa.no","sogndal.no","sogne.no","s\xf8gne.no","sokndal.no","sola.no","solund.no","somna.no","s\xf8mna.no","sondre-land.no","s\xf8ndre-land.no","songdalen.no","sor-aurdal.no","s\xf8r-aurdal.no","sor-fron.no","s\xf8r-fron.no","sor-odal.no","s\xf8r-odal.no","sor-varanger.no","s\xf8r-varanger.no","sorfold.no","s\xf8rfold.no","sorreisa.no","s\xf8rreisa.no","sortland.no","sorum.no","s\xf8rum.no","spydeberg.no","stange.no","stavanger.no","steigen.no","steinkjer.no","stjordal.no","stj\xf8rdal.no","stokke.no","stor-elvdal.no","stord.no","stordal.no","storfjord.no","strand.no","stranda.no","stryn.no","sula.no","suldal.no","sund.no","sunndal.no","surnadal.no","sveio.no","svelvik.no","sykkylven.no","tana.no","bo.telemark.no","b\xf8.telemark.no","time.no","tingvoll.no","tinn.no","tjeldsund.no","tjome.no","tj\xf8me.no","tokke.no","tolga.no","tonsberg.no","t\xf8nsberg.no","torsken.no","tr\xe6na.no","trana.no","tranoy.no","tran\xf8y.no","troandin.no","trogstad.no","tr\xf8gstad.no","tromsa.no","tromso.no","troms\xf8.no","trondheim.no","trysil.no","tvedestrand.no","tydal.no","tynset.no","tysfjord.no","tysnes.no","tysv\xe6r.no","tysvar.no","ullensaker.no","ullensvang.no","ulvik.no","unjarga.no","unj\xe1rga.no","utsira.no","vaapste.no","vadso.no","vads\xf8.no","v\xe6r\xf8y.no","vaga.no","v\xe5g\xe5.no","vagan.no","v\xe5gan.no","vagsoy.no","v\xe5gs\xf8y.no","vaksdal.no","valle.no","vang.no","vanylven.no","vardo.no","vard\xf8.no","varggat.no","v\xe1rgg\xe1t.no","varoy.no","vefsn.no","vega.no","vegarshei.no","veg\xe5rshei.no","vennesla.no","verdal.no","verran.no","vestby.no","sande.vestfold.no","vestnes.no","vestre-slidre.no","vestre-toten.no","vestvagoy.no","vestv\xe5g\xf8y.no","vevelstad.no","vik.no","vikna.no","vindafjord.no","voagat.no","volda.no","voss.no","*.np","nr","biz.nr","com.nr","edu.nr","gov.nr","info.nr","net.nr","org.nr","nu","nz","ac.nz","co.nz","cri.nz","geek.nz","gen.nz","govt.nz","health.nz","iwi.nz","kiwi.nz","maori.nz","mori.nz","mil.nz","net.nz","org.nz","parliament.nz","school.nz","om","co.om","com.om","edu.om","gov.om","med.om","museum.om","net.om","org.om","pro.om","onion","org","pa","abo.pa","ac.pa","com.pa","edu.pa","gob.pa","ing.pa","med.pa","net.pa","nom.pa","org.pa","sld.pa","pe","com.pe","edu.pe","gob.pe","mil.pe","net.pe","nom.pe","org.pe","pf","com.pf","edu.pf","org.pf","*.pg","ph","com.ph","edu.ph","gov.ph","i.ph","mil.ph","net.ph","ngo.ph","org.ph","pk","ac.pk","biz.pk","com.pk","edu.pk","fam.pk","gkp.pk","gob.pk","gog.pk","gok.pk","gon.pk","gop.pk","gos.pk","gov.pk","net.pk","org.pk","web.pk","pl","com.pl","net.pl","org.pl","agro.pl","aid.pl","atm.pl","auto.pl","biz.pl","edu.pl","gmina.pl","gsm.pl","info.pl","mail.pl","media.pl","miasta.pl","mil.pl","nieruchomosci.pl","nom.pl","pc.pl","powiat.pl","priv.pl","realestate.pl","rel.pl","sex.pl","shop.pl","sklep.pl","sos.pl","szkola.pl","targi.pl","tm.pl","tourism.pl","travel.pl","turystyka.pl","gov.pl","ap.gov.pl","griw.gov.pl","ic.gov.pl","is.gov.pl","kmpsp.gov.pl","konsulat.gov.pl","kppsp.gov.pl","kwp.gov.pl","kwpsp.gov.pl","mup.gov.pl","mw.gov.pl","oia.gov.pl","oirm.gov.pl","oke.gov.pl","oow.gov.pl","oschr.gov.pl","oum.gov.pl","pa.gov.pl","pinb.gov.pl","piw.gov.pl","po.gov.pl","pr.gov.pl","psp.gov.pl","psse.gov.pl","pup.gov.pl","rzgw.gov.pl","sa.gov.pl","sdn.gov.pl","sko.gov.pl","so.gov.pl","sr.gov.pl","starostwo.gov.pl","ug.gov.pl","ugim.gov.pl","um.gov.pl","umig.gov.pl","upow.gov.pl","uppo.gov.pl","us.gov.pl","uw.gov.pl","uzs.gov.pl","wif.gov.pl","wiih.gov.pl","winb.gov.pl","wios.gov.pl","witd.gov.pl","wiw.gov.pl","wkz.gov.pl","wsa.gov.pl","wskr.gov.pl","wsse.gov.pl","wuoz.gov.pl","wzmiuw.gov.pl","zp.gov.pl","zpisdn.gov.pl","augustow.pl","babia-gora.pl","bedzin.pl","beskidy.pl","bialowieza.pl","bialystok.pl","bielawa.pl","bieszczady.pl","boleslawiec.pl","bydgoszcz.pl","bytom.pl","cieszyn.pl","czeladz.pl","czest.pl","dlugoleka.pl","elblag.pl","elk.pl","glogow.pl","gniezno.pl","gorlice.pl","grajewo.pl","ilawa.pl","jaworzno.pl","jelenia-gora.pl","jgora.pl","kalisz.pl","karpacz.pl","kartuzy.pl","kaszuby.pl","katowice.pl","kazimierz-dolny.pl","kepno.pl","ketrzyn.pl","klodzko.pl","kobierzyce.pl","kolobrzeg.pl","konin.pl","konskowola.pl","kutno.pl","lapy.pl","lebork.pl","legnica.pl","lezajsk.pl","limanowa.pl","lomza.pl","lowicz.pl","lubin.pl","lukow.pl","malbork.pl","malopolska.pl","mazowsze.pl","mazury.pl","mielec.pl","mielno.pl","mragowo.pl","naklo.pl","nowaruda.pl","nysa.pl","olawa.pl","olecko.pl","olkusz.pl","olsztyn.pl","opoczno.pl","opole.pl","ostroda.pl","ostroleka.pl","ostrowiec.pl","ostrowwlkp.pl","pila.pl","pisz.pl","podhale.pl","podlasie.pl","polkowice.pl","pomorskie.pl","pomorze.pl","prochowice.pl","pruszkow.pl","przeworsk.pl","pulawy.pl","radom.pl","rawa-maz.pl","rybnik.pl","rzeszow.pl","sanok.pl","sejny.pl","skoczow.pl","slask.pl","slupsk.pl","sosnowiec.pl","stalowa-wola.pl","starachowice.pl","stargard.pl","suwalki.pl","swidnica.pl","swiebodzin.pl","swinoujscie.pl","szczecin.pl","szczytno.pl","tarnobrzeg.pl","tgory.pl","turek.pl","tychy.pl","ustka.pl","walbrzych.pl","warmia.pl","warszawa.pl","waw.pl","wegrow.pl","wielun.pl","wlocl.pl","wloclawek.pl","wodzislaw.pl","wolomin.pl","wroclaw.pl","zachpomor.pl","zagan.pl","zarow.pl","zgora.pl","zgorzelec.pl","pm","pn","co.pn","edu.pn","gov.pn","net.pn","org.pn","post","pr","biz.pr","com.pr","edu.pr","gov.pr","info.pr","isla.pr","name.pr","net.pr","org.pr","pro.pr","ac.pr","est.pr","prof.pr","pro","aaa.pro","aca.pro","acct.pro","avocat.pro","bar.pro","cpa.pro","eng.pro","jur.pro","law.pro","med.pro","recht.pro","ps","com.ps","edu.ps","gov.ps","net.ps","org.ps","plo.ps","sec.ps","pt","com.pt","edu.pt","gov.pt","int.pt","net.pt","nome.pt","org.pt","publ.pt","pw","belau.pw","co.pw","ed.pw","go.pw","or.pw","py","com.py","coop.py","edu.py","gov.py","mil.py","net.py","org.py","qa","com.qa","edu.qa","gov.qa","mil.qa","name.qa","net.qa","org.qa","sch.qa","re","asso.re","com.re","ro","arts.ro","com.ro","firm.ro","info.ro","nom.ro","nt.ro","org.ro","rec.ro","store.ro","tm.ro","www.ro","rs","ac.rs","co.rs","edu.rs","gov.rs","in.rs","org.rs","ru","rw","ac.rw","co.rw","coop.rw","gov.rw","mil.rw","net.rw","org.rw","sa","com.sa","edu.sa","gov.sa","med.sa","net.sa","org.sa","pub.sa","sch.sa","sb","com.sb","edu.sb","gov.sb","net.sb","org.sb","sc","com.sc","edu.sc","gov.sc","net.sc","org.sc","sd","com.sd","edu.sd","gov.sd","info.sd","med.sd","net.sd","org.sd","tv.sd","se","a.se","ac.se","b.se","bd.se","brand.se","c.se","d.se","e.se","f.se","fh.se","fhsk.se","fhv.se","g.se","h.se","i.se","k.se","komforb.se","kommunalforbund.se","komvux.se","l.se","lanbib.se","m.se","n.se","naturbruksgymn.se","o.se","org.se","p.se","parti.se","pp.se","press.se","r.se","s.se","t.se","tm.se","u.se","w.se","x.se","y.se","z.se","sg","com.sg","edu.sg","gov.sg","net.sg","org.sg","sh","com.sh","gov.sh","mil.sh","net.sh","org.sh","si","sj","sk","sl","com.sl","edu.sl","gov.sl","net.sl","org.sl","sm","sn","art.sn","com.sn","edu.sn","gouv.sn","org.sn","perso.sn","univ.sn","so","com.so","edu.so","gov.so","me.so","net.so","org.so","sr","ss","biz.ss","co.ss","com.ss","edu.ss","gov.ss","me.ss","net.ss","org.ss","sch.ss","st","co.st","com.st","consulado.st","edu.st","embaixada.st","mil.st","net.st","org.st","principe.st","saotome.st","store.st","su","sv","com.sv","edu.sv","gob.sv","org.sv","red.sv","sx","gov.sx","sy","com.sy","edu.sy","gov.sy","mil.sy","net.sy","org.sy","sz","ac.sz","co.sz","org.sz","tc","td","tel","tf","tg","th","ac.th","co.th","go.th","in.th","mi.th","net.th","or.th","tj","ac.tj","biz.tj","co.tj","com.tj","edu.tj","go.tj","gov.tj","int.tj","mil.tj","name.tj","net.tj","nic.tj","org.tj","test.tj","web.tj","tk","tl","gov.tl","tm","co.tm","com.tm","edu.tm","gov.tm","mil.tm","net.tm","nom.tm","org.tm","tn","com.tn","ens.tn","fin.tn","gov.tn","ind.tn","info.tn","intl.tn","mincom.tn","nat.tn","net.tn","org.tn","perso.tn","tourism.tn","to","com.to","edu.to","gov.to","mil.to","net.to","org.to","tr","av.tr","bbs.tr","bel.tr","biz.tr","com.tr","dr.tr","edu.tr","gen.tr","gov.tr","info.tr","k12.tr","kep.tr","mil.tr","name.tr","net.tr","org.tr","pol.tr","tel.tr","tsk.tr","tv.tr","web.tr","nc.tr","gov.nc.tr","tt","biz.tt","co.tt","com.tt","edu.tt","gov.tt","info.tt","mil.tt","name.tt","net.tt","org.tt","pro.tt","tv","tw","club.tw","com.tw","ebiz.tw","edu.tw","game.tw","gov.tw","idv.tw","mil.tw","net.tw","org.tw","tz","ac.tz","co.tz","go.tz","hotel.tz","info.tz","me.tz","mil.tz","mobi.tz","ne.tz","or.tz","sc.tz","tv.tz","ua","com.ua","edu.ua","gov.ua","in.ua","net.ua","org.ua","cherkassy.ua","cherkasy.ua","chernigov.ua","chernihiv.ua","chernivtsi.ua","chernovtsy.ua","ck.ua","cn.ua","cr.ua","crimea.ua","cv.ua","dn.ua","dnepropetrovsk.ua","dnipropetrovsk.ua","donetsk.ua","dp.ua","if.ua","ivano-frankivsk.ua","kh.ua","kharkiv.ua","kharkov.ua","kherson.ua","khmelnitskiy.ua","khmelnytskyi.ua","kiev.ua","kirovograd.ua","km.ua","kr.ua","kropyvnytskyi.ua","krym.ua","ks.ua","kv.ua","kyiv.ua","lg.ua","lt.ua","lugansk.ua","luhansk.ua","lutsk.ua","lv.ua","lviv.ua","mk.ua","mykolaiv.ua","nikolaev.ua","od.ua","odesa.ua","odessa.ua","pl.ua","poltava.ua","rivne.ua","rovno.ua","rv.ua","sb.ua","sebastopol.ua","sevastopol.ua","sm.ua","sumy.ua","te.ua","ternopil.ua","uz.ua","uzhgorod.ua","uzhhorod.ua","vinnica.ua","vinnytsia.ua","vn.ua","volyn.ua","yalta.ua","zakarpattia.ua","zaporizhzhe.ua","zaporizhzhia.ua","zhitomir.ua","zhytomyr.ua","zp.ua","zt.ua","ug","ac.ug","co.ug","com.ug","go.ug","ne.ug","or.ug","org.ug","sc.ug","uk","ac.uk","co.uk","gov.uk","ltd.uk","me.uk","net.uk","nhs.uk","org.uk","plc.uk","police.uk","*.sch.uk","us","dni.us","fed.us","isa.us","kids.us","nsn.us","ak.us","al.us","ar.us","as.us","az.us","ca.us","co.us","ct.us","dc.us","de.us","fl.us","ga.us","gu.us","hi.us","ia.us","id.us","il.us","in.us","ks.us","ky.us","la.us","ma.us","md.us","me.us","mi.us","mn.us","mo.us","ms.us","mt.us","nc.us","nd.us","ne.us","nh.us","nj.us","nm.us","nv.us","ny.us","oh.us","ok.us","or.us","pa.us","pr.us","ri.us","sc.us","sd.us","tn.us","tx.us","ut.us","va.us","vi.us","vt.us","wa.us","wi.us","wv.us","wy.us","k12.ak.us","k12.al.us","k12.ar.us","k12.as.us","k12.az.us","k12.ca.us","k12.co.us","k12.ct.us","k12.dc.us","k12.fl.us","k12.ga.us","k12.gu.us","k12.ia.us","k12.id.us","k12.il.us","k12.in.us","k12.ks.us","k12.ky.us","k12.la.us","k12.ma.us","k12.md.us","k12.me.us","k12.mi.us","k12.mn.us","k12.mo.us","k12.ms.us","k12.mt.us","k12.nc.us","k12.ne.us","k12.nh.us","k12.nj.us","k12.nm.us","k12.nv.us","k12.ny.us","k12.oh.us","k12.ok.us","k12.or.us","k12.pa.us","k12.pr.us","k12.sc.us","k12.tn.us","k12.tx.us","k12.ut.us","k12.va.us","k12.vi.us","k12.vt.us","k12.wa.us","k12.wi.us","cc.ak.us","lib.ak.us","cc.al.us","lib.al.us","cc.ar.us","lib.ar.us","cc.as.us","lib.as.us","cc.az.us","lib.az.us","cc.ca.us","lib.ca.us","cc.co.us","lib.co.us","cc.ct.us","lib.ct.us","cc.dc.us","lib.dc.us","cc.de.us","cc.fl.us","cc.ga.us","cc.gu.us","cc.hi.us","cc.ia.us","cc.id.us","cc.il.us","cc.in.us","cc.ks.us","cc.ky.us","cc.la.us","cc.ma.us","cc.md.us","cc.me.us","cc.mi.us","cc.mn.us","cc.mo.us","cc.ms.us","cc.mt.us","cc.nc.us","cc.nd.us","cc.ne.us","cc.nh.us","cc.nj.us","cc.nm.us","cc.nv.us","cc.ny.us","cc.oh.us","cc.ok.us","cc.or.us","cc.pa.us","cc.pr.us","cc.ri.us","cc.sc.us","cc.sd.us","cc.tn.us","cc.tx.us","cc.ut.us","cc.va.us","cc.vi.us","cc.vt.us","cc.wa.us","cc.wi.us","cc.wv.us","cc.wy.us","k12.wy.us","lib.fl.us","lib.ga.us","lib.gu.us","lib.hi.us","lib.ia.us","lib.id.us","lib.il.us","lib.in.us","lib.ks.us","lib.ky.us","lib.la.us","lib.ma.us","lib.md.us","lib.me.us","lib.mi.us","lib.mn.us","lib.mo.us","lib.ms.us","lib.mt.us","lib.nc.us","lib.nd.us","lib.ne.us","lib.nh.us","lib.nj.us","lib.nm.us","lib.nv.us","lib.ny.us","lib.oh.us","lib.ok.us","lib.or.us","lib.pa.us","lib.pr.us","lib.ri.us","lib.sc.us","lib.sd.us","lib.tn.us","lib.tx.us","lib.ut.us","lib.va.us","lib.vi.us","lib.vt.us","lib.wa.us","lib.wi.us","lib.wy.us","chtr.k12.ma.us","paroch.k12.ma.us","pvt.k12.ma.us","ann-arbor.mi.us","cog.mi.us","dst.mi.us","eaton.mi.us","gen.mi.us","mus.mi.us","tec.mi.us","washtenaw.mi.us","uy","com.uy","edu.uy","gub.uy","mil.uy","net.uy","org.uy","uz","co.uz","com.uz","net.uz","org.uz","va","vc","com.vc","edu.vc","gov.vc","mil.vc","net.vc","org.vc","ve","arts.ve","bib.ve","co.ve","com.ve","e12.ve","edu.ve","firm.ve","gob.ve","gov.ve","info.ve","int.ve","mil.ve","net.ve","nom.ve","org.ve","rar.ve","rec.ve","store.ve","tec.ve","web.ve","vg","vi","co.vi","com.vi","k12.vi","net.vi","org.vi","vn","ac.vn","ai.vn","biz.vn","com.vn","edu.vn","gov.vn","health.vn","id.vn","info.vn","int.vn","io.vn","name.vn","net.vn","org.vn","pro.vn","angiang.vn","bacgiang.vn","backan.vn","baclieu.vn","bacninh.vn","baria-vungtau.vn","bentre.vn","binhdinh.vn","binhduong.vn","binhphuoc.vn","binhthuan.vn","camau.vn","cantho.vn","caobang.vn","daklak.vn","daknong.vn","danang.vn","dienbien.vn","dongnai.vn","dongthap.vn","gialai.vn","hagiang.vn","haiduong.vn","haiphong.vn","hanam.vn","hanoi.vn","hatinh.vn","haugiang.vn","hoabinh.vn","hungyen.vn","khanhhoa.vn","kiengiang.vn","kontum.vn","laichau.vn","lamdong.vn","langson.vn","laocai.vn","longan.vn","namdinh.vn","nghean.vn","ninhbinh.vn","ninhthuan.vn","phutho.vn","phuyen.vn","quangbinh.vn","quangnam.vn","quangngai.vn","quangninh.vn","quangtri.vn","soctrang.vn","sonla.vn","tayninh.vn","thaibinh.vn","thainguyen.vn","thanhhoa.vn","thanhphohochiminh.vn","thuathienhue.vn","tiengiang.vn","travinh.vn","tuyenquang.vn","vinhlong.vn","vinhphuc.vn","yenbai.vn","vu","com.vu","edu.vu","net.vu","org.vu","wf","ws","com.ws","edu.ws","gov.ws","net.ws","org.ws","yt","","","","","","","","","","","","","","","","",".",".",".",".",".",".","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",".",".",".",".",".",".","","","","","","","","","","","","",".",".",".",".",".",".","","","","","","","xxx","ye","com.ye","edu.ye","gov.ye","mil.ye","net.ye","org.ye","ac.za","agric.za","alt.za","co.za","edu.za","gov.za","grondar.za","law.za","mil.za","net.za","ngo.za","nic.za","nis.za","nom.za","org.za","school.za","tm.za","web.za","zm","ac.zm","biz.zm","co.zm","com.zm","edu.zm","gov.zm","info.zm","mil.zm","net.zm","org.zm","sch.zm","zw","ac.zw","co.zw","gov.zw","mil.zw","org.zw","aaa","aarp","abb","abbott","abbvie","abc","able","abogado","abudhabi","academy","accenture","accountant","accountants","aco","actor","ads","adult","aeg","aetna","afl","africa","agakhan","agency","aig","airbus","airforce","airtel","akdn","alibaba","alipay","allfinanz","allstate","ally","alsace","alstom","amazon","americanexpress","americanfamily","amex","amfam","amica","amsterdam","analytics","android","anquan","anz","aol","apartments","app","apple","aquarelle","arab","aramco","archi","army","art","arte","asda","associates","athleta","attorney","auction","audi","audible","audio","auspost","author","auto","autos","aws","axa","azure","baby","baidu","banamex","band","bank","bar","barcelona","barclaycard","barclays","barefoot","bargains","baseball","basketball","bauhaus","bayern","bbc","bbt","bbva","bcg","bcn","beats","beauty","beer","bentley","berlin","best","bestbuy","bet","bharti","bible","bid","bike","bing","bingo","bio","black","blackfriday","blockbuster","blog","bloomberg","blue","bms","bmw","bnpparibas","boats","boehringer","bofa","bom","bond","boo","book","booking","bosch","bostik","boston","bot","boutique","box","bradesco","bridgestone","broadway","broker","brother","brussels","build","builders","business","buy","buzz","bzh","cab","cafe","cal","call","calvinklein","cam","camera","camp","canon","capetown","capital","capitalone","car","caravan","cards","care","career","careers","cars","casa","case","cash","casino","catering","catholic","cba","cbn","cbre","center","ceo","cern","cfa","cfd","chanel","channel","charity","chase","chat","cheap","chintai","christmas","chrome","church","cipriani","circle","cisco","citadel","citi","citic","city","claims","cleaning","click","clinic","clinique","clothing","cloud","club","clubmed","coach","codes","coffee","college","cologne","commbank","community","company","compare","computer","comsec","condos","construction","consulting","contact","contractors","cooking","cool","corsica","country","coupon","coupons","courses","cpa","credit","creditcard","creditunion","cricket","crown","crs","cruise","cruises","cuisinella","cymru","cyou","dad","dance","data","date","dating","datsun","day","dclk","dds","deal","dealer","deals","degree","delivery","dell","deloitte","delta","democrat","dental","dentist","desi","design","dev","dhl","diamonds","diet","digital","direct","directory","discount","discover","dish","diy","dnp","docs","doctor","dog","domains","dot","download","drive","dtv","dubai","dunlop","dupont","durban","dvag","dvr","earth","eat","eco","edeka","education","email","emerck","energy","engineer","engineering","enterprises","epson","equipment","ericsson","erni","esq","estate","eurovision","eus","events","exchange","expert","exposed","express","extraspace","fage","fail","fairwinds","faith","family","fan","fans","farm","farmers","fashion","fast","fedex","feedback","ferrari","ferrero","fidelity","fido","film","final","finance","financial","fire","firestone","firmdale","fish","fishing","fit","fitness","flickr","flights","flir","florist","flowers","fly","foo","food","football","ford","forex","forsale","forum","foundation","fox","free","fresenius","frl","frogans","frontier","ftr","fujitsu","fun","fund","furniture","futbol","fyi","gal","gallery","gallo","gallup","game","games","gap","garden","gay","gbiz","gdn","gea","gent","genting","george","ggee","gift","gifts","gives","giving","glass","gle","global","globo","gmail","gmbh","gmo","gmx","godaddy","gold","goldpoint","golf","goo","goodyear","goog","google","gop","got","grainger","graphics","gratis","green","gripe","grocery","group","gucci","guge","guide","guitars","guru","hair","hamburg","hangout","haus","hbo","hdfc","hdfcbank","health","healthcare","help","helsinki","here","hermes","hiphop","hisamitsu","hitachi","hiv","hkt","hockey","holdings","holiday","homedepot","homegoods","homes","homesense","honda","horse","hospital","host","hosting","hot","hotels","hotmail","house","how","hsbc","hughes","hyatt","hyundai","ibm","icbc","ice","icu","ieee","ifm","ikano","imamat","imdb","immo","immobilien","inc","industries","infiniti","ing","ink","institute","insurance","insure","international","intuit","investments","ipiranga","irish","ismaili","ist","istanbul","itau","itv","jaguar","java","jcb","jeep","jetzt","jewelry","jio","jll","jmp","jnj","joburg","jot","joy","jpmorgan","jprs","juegos","juniper","kaufen","kddi","kerryhotels","kerrylogistics","kerryproperties","kfh","kia","kids","kim","kindle","kitchen","kiwi","koeln","komatsu","kosher","kpmg","kpn","krd","kred","kuokgroup","kyoto","lacaixa","lamborghini","lamer","lancaster","land","landrover","lanxess","lasalle","lat","latino","latrobe","law","lawyer","lds","lease","leclerc","lefrak","legal","lego","lexus","lgbt","lidl","life","lifeinsurance","lifestyle","lighting","like","lilly","limited","limo","lincoln","link","lipsy","live","living","llc","llp","loan","loans","locker","locus","lol","london","lotte","lotto","love","lpl","lplfinancial","ltd","ltda","lundbeck","luxe","luxury","madrid","maif","maison","makeup","man","management","mango","map","market","marketing","markets","marriott","marshalls","mattel","mba","mckinsey","med","media","meet","melbourne","meme","memorial","men","menu","merck","merckmsd","miami","microsoft","mini","mint","mit","mitsubishi","mlb","mls","mma","mobile","moda","moe","moi","mom","monash","money","monster","mormon","mortgage","moscow","moto","motorcycles","mov","movie","msd","mtn","mtr","music","nab","nagoya","navy","nba","nec","netbank","netflix","network","neustar","new","news","next","nextdirect","nexus","nfl","ngo","nhk","nico","nike","nikon","ninja","nissan","nissay","nokia","norton","now","nowruz","nowtv","nra","nrw","ntt","nyc","obi","observer","office","okinawa","olayan","olayangroup","ollo","omega","one","ong","onl","online","ooo","open","oracle","orange","organic","origins","osaka","otsuka","ott","ovh","page","panasonic","paris","pars","partners","parts","party","pay","pccw","pet","pfizer","pharmacy","phd","philips","phone","photo","photography","photos","physio","pics","pictet","pictures","pid","pin","ping","pink","pioneer","pizza","place","play","playstation","plumbing","plus","pnc","pohl","poker","politie","porn","pramerica","praxi","press","prime","prod","productions","prof","progressive","promo","properties","property","protection","pru","prudential","pub","pwc","qpon","quebec","quest","racing","radio","read","realestate","realtor","realty","recipes","red","redstone","redumbrella","rehab","reise","reisen","reit","reliance","ren","rent","rentals","repair","report","republican","rest","restaurant","review","reviews","rexroth","rich","richardli","ricoh","ril","rio","rip","rocks","rodeo","rogers","room","rsvp","rugby","ruhr","run","rwe","ryukyu","saarland","safe","safety","sakura","sale","salon","samsclub","samsung","sandvik","sandvikcoromant","sanofi","sap","sarl","sas","save","saxo","sbi","sbs","scb","schaeffler","schmidt","scholarships","school","schule","schwarz","science","scot","search","seat","secure","security","seek","select","sener","services","seven","sew","sex","sexy","sfr","shangrila","sharp","shell","shia","shiksha","shoes","shop","shopping","shouji","show","silk","sina","singles","site","ski","skin","sky","skype","sling","smart","smile","sncf","soccer","social","softbank","software","sohu","solar","solutions","song","sony","soy","spa","space","sport","spot","srl","stada","staples","star","statebank","statefarm","stc","stcgroup","stockholm","storage","store","stream","studio","study","style","sucks","supplies","supply","support","surf","surgery","suzuki","swatch","swiss","sydney","systems","tab","taipei","talk","taobao","target","tatamotors","tatar","tattoo","tax","taxi","tci","tdk","team","tech","technology","temasek","tennis","teva","thd","theater","theatre","tiaa","tickets","tienda","tips","tires","tirol","tjmaxx","tjx","tkmaxx","tmall","today","tokyo","tools","top","toray","toshiba","total","tours","town","toyota","toys","trade","trading","training","travel","travelers","travelersinsurance","trust","trv","tube","tui","tunes","tushu","tvs","ubank","ubs","unicom","university","uno","uol","ups","vacations","vana","vanguard","vegas","ventures","verisign","versicherung","vet","viajes","video","vig","viking","villas","vin","vip","virgin","visa","vision","viva","vivo","vlaanderen","vodka","volvo","vote","voting","voto","voyage","wales","walmart","walter","wang","wanggou","watch","watches","weather","weatherchannel","webcam","weber","website","wed","wedding","weibo","weir","whoswho","wien","wiki","williamhill","win","windows","wine","winners","wme","wolterskluwer","woodside","work","works","world","wow","wtc","wtf","xbox","xerox","xihuan","xin","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","verm\xf6gensberater","verm\xf6gensberatung","","","","","","","xyz","yachts","yahoo","yamaxun","yandex","yodobashi","yoga","yokohama","you","youtube","yun","zappos","zara","zero","zip","zone","zuerich","co.krd","edu.krd","art.pl","gliwice.pl","krakow.pl","poznan.pl","wroc.pl","zakopane.pl","lib.de.us","12chars.dev","12chars.it","12chars.pro","cc.ua","inf.ua","ltd.ua","611.to","a2hosted.com","cpserver.com","aaa.vodka","*.on-acorn.io","activetrail.biz","adaptable.app","adobeaemcloud.com","*.dev.adobeaemcloud.com","aem.live","hlx.live","adobeaemcloud.net","aem.page","hlx.page","hlx3.page","adobeio-static.net","adobeioruntime.net","africa.com","beep.pl","airkitapps.com","airkitapps-au.com","airkitapps.eu","aivencloud.com","akadns.net","akamai.net","akamai-staging.net","akamaiedge.net","akamaiedge-staging.net","akamaihd.net","akamaihd-staging.net","akamaiorigin.net","akamaiorigin-staging.net","akamaized.net","akamaized-staging.net","edgekey.net","edgekey-staging.net","edgesuite.net","edgesuite-staging.net","barsy.ca","*.compute.estate","*.alces.network","kasserver.com","altervista.org","alwaysdata.net","myamaze.net","execute-api.cn-north-1.amazonaws.com.cn","execute-api.cn-northwest-1.amazonaws.com.cn","execute-api.af-south-1.amazonaws.com","execute-api.ap-east-1.amazonaws.com","execute-api.ap-northeast-1.amazonaws.com","execute-api.ap-northeast-2.amazonaws.com","execute-api.ap-northeast-3.amazonaws.com","execute-api.ap-south-1.amazonaws.com","execute-api.ap-south-2.amazonaws.com","execute-api.ap-southeast-1.amazonaws.com","execute-api.ap-southeast-2.amazonaws.com","execute-api.ap-southeast-3.amazonaws.com","execute-api.ap-southeast-4.amazonaws.com","execute-api.ap-southeast-5.amazonaws.com","execute-api.ca-central-1.amazonaws.com","execute-api.ca-west-1.amazonaws.com","execute-api.eu-central-1.amazonaws.com","execute-api.eu-central-2.amazonaws.com","execute-api.eu-north-1.amazonaws.com","execute-api.eu-south-1.amazonaws.com","execute-api.eu-south-2.amazonaws.com","execute-api.eu-west-1.amazonaws.com","execute-api.eu-west-2.amazonaws.com","execute-api.eu-west-3.amazonaws.com","execute-api.il-central-1.amazonaws.com","execute-api.me-central-1.amazonaws.com","execute-api.me-south-1.amazonaws.com","execute-api.sa-east-1.amazonaws.com","execute-api.us-east-1.amazonaws.com","execute-api.us-east-2.amazonaws.com","execute-api.us-gov-east-1.amazonaws.com","execute-api.us-gov-west-1.amazonaws.com","execute-api.us-west-1.amazonaws.com","execute-api.us-west-2.amazonaws.com","cloudfront.net","auth.af-south-1.amazoncognito.com","auth.ap-east-1.amazoncognito.com","auth.ap-northeast-1.amazoncognito.com","auth.ap-northeast-2.amazoncognito.com","auth.ap-northeast-3.amazoncognito.com","auth.ap-south-1.amazoncognito.com","auth.ap-south-2.amazoncognito.com","auth.ap-southeast-1.amazoncognito.com","auth.ap-southeast-2.amazoncognito.com","auth.ap-southeast-3.amazoncognito.com","auth.ap-southeast-4.amazoncognito.com","auth.ca-central-1.amazoncognito.com","auth.ca-west-1.amazoncognito.com","auth.eu-central-1.amazoncognito.com","auth.eu-central-2.amazoncognito.com","auth.eu-north-1.amazoncognito.com","auth.eu-south-1.amazoncognito.com","auth.eu-south-2.amazoncognito.com","auth.eu-west-1.amazoncognito.com","auth.eu-west-2.amazoncognito.com","auth.eu-west-3.amazoncognito.com","auth.il-central-1.amazoncognito.com","auth.me-central-1.amazoncognito.com","auth.me-south-1.amazoncognito.com","auth.sa-east-1.amazoncognito.com","auth.us-east-1.amazoncognito.com","auth-fips.us-east-1.amazoncognito.com","auth.us-east-2.amazoncognito.com","auth-fips.us-east-2.amazoncognito.com","auth-fips.us-gov-west-1.amazoncognito.com","auth.us-west-1.amazoncognito.com","auth-fips.us-west-1.amazoncognito.com","auth.us-west-2.amazoncognito.com","auth-fips.us-west-2.amazoncognito.com","*.compute.amazonaws.com.cn","*.compute.amazonaws.com","*.compute-1.amazonaws.com","us-east-1.amazonaws.com","emrappui-prod.cn-north-1.amazonaws.com.cn","emrnotebooks-prod.cn-north-1.amazonaws.com.cn","emrstudio-prod.cn-north-1.amazonaws.com.cn","emrappui-prod.cn-northwest-1.amazonaws.com.cn","emrnotebooks-prod.cn-northwest-1.amazonaws.com.cn","emrstudio-prod.cn-northwest-1.amazonaws.com.cn","emrappui-prod.af-south-1.amazonaws.com","emrnotebooks-prod.af-south-1.amazonaws.com","emrstudio-prod.af-south-1.amazonaws.com","emrappui-prod.ap-east-1.amazonaws.com","emrnotebooks-prod.ap-east-1.amazonaws.com","emrstudio-prod.ap-east-1.amazonaws.com","emrappui-prod.ap-northeast-1.amazonaws.com","emrnotebooks-prod.ap-northeast-1.amazonaws.com","emrstudio-prod.ap-northeast-1.amazonaws.com","emrappui-prod.ap-northeast-2.amazonaws.com","emrnotebooks-prod.ap-northeast-2.amazonaws.com","emrstudio-prod.ap-northeast-2.amazonaws.com","emrappui-prod.ap-northeast-3.amazonaws.com","emrnotebooks-prod.ap-northeast-3.amazonaws.com","emrstudio-prod.ap-northeast-3.amazonaws.com","emrappui-prod.ap-south-1.amazonaws.com","emrnotebooks-prod.ap-south-1.amazonaws.com","emrstudio-prod.ap-south-1.amazonaws.com","emrappui-prod.ap-south-2.amazonaws.com","emrnotebooks-prod.ap-south-2.amazonaws.com","emrstudio-prod.ap-south-2.amazonaws.com","emrappui-prod.ap-southeast-1.amazonaws.com","emrnotebooks-prod.ap-southeast-1.amazonaws.com","emrstudio-prod.ap-southeast-1.amazonaws.com","emrappui-prod.ap-southeast-2.amazonaws.com","emrnotebooks-prod.ap-southeast-2.amazonaws.com","emrstudio-prod.ap-southeast-2.amazonaws.com","emrappui-prod.ap-southeast-3.amazonaws.com","emrnotebooks-prod.ap-southeast-3.amazonaws.com","emrstudio-prod.ap-southeast-3.amazonaws.com","emrappui-prod.ap-southeast-4.amazonaws.com","emrnotebooks-prod.ap-southeast-4.amazonaws.com","emrstudio-prod.ap-southeast-4.amazonaws.com","emrappui-prod.ca-central-1.amazonaws.com","emrnotebooks-prod.ca-central-1.amazonaws.com","emrstudio-prod.ca-central-1.amazonaws.com","emrappui-prod.ca-west-1.amazonaws.com","emrnotebooks-prod.ca-west-1.amazonaws.com","emrstudio-prod.ca-west-1.amazonaws.com","emrappui-prod.eu-central-1.amazonaws.com","emrnotebooks-prod.eu-central-1.amazonaws.com","emrstudio-prod.eu-central-1.amazonaws.com","emrappui-prod.eu-central-2.amazonaws.com","emrnotebooks-prod.eu-central-2.amazonaws.com","emrstudio-prod.eu-central-2.amazonaws.com","emrappui-prod.eu-north-1.amazonaws.com","emrnotebooks-prod.eu-north-1.amazonaws.com","emrstudio-prod.eu-north-1.amazonaws.com","emrappui-prod.eu-south-1.amazonaws.com","emrnotebooks-prod.eu-south-1.amazonaws.com","emrstudio-prod.eu-south-1.amazonaws.com","emrappui-prod.eu-south-2.amazonaws.com","emrnotebooks-prod.eu-south-2.amazonaws.com","emrstudio-prod.eu-south-2.amazonaws.com","emrappui-prod.eu-west-1.amazonaws.com","emrnotebooks-prod.eu-west-1.amazonaws.com","emrstudio-prod.eu-west-1.amazonaws.com","emrappui-prod.eu-west-2.amazonaws.com","emrnotebooks-prod.eu-west-2.amazonaws.com","emrstudio-prod.eu-west-2.amazonaws.com","emrappui-prod.eu-west-3.amazonaws.com","emrnotebooks-prod.eu-west-3.amazonaws.com","emrstudio-prod.eu-west-3.amazonaws.com","emrappui-prod.il-central-1.amazonaws.com","emrnotebooks-prod.il-central-1.amazonaws.com","emrstudio-prod.il-central-1.amazonaws.com","emrappui-prod.me-central-1.amazonaws.com","emrnotebooks-prod.me-central-1.amazonaws.com","emrstudio-prod.me-central-1.amazonaws.com","emrappui-prod.me-south-1.amazonaws.com","emrnotebooks-prod.me-south-1.amazonaws.com","emrstudio-prod.me-south-1.amazonaws.com","emrappui-prod.sa-east-1.amazonaws.com","emrnotebooks-prod.sa-east-1.amazonaws.com","emrstudio-prod.sa-east-1.amazonaws.com","emrappui-prod.us-east-1.amazonaws.com","emrnotebooks-prod.us-east-1.amazonaws.com","emrstudio-prod.us-east-1.amazonaws.com","emrappui-prod.us-east-2.amazonaws.com","emrnotebooks-prod.us-east-2.amazonaws.com","emrstudio-prod.us-east-2.amazonaws.com","emrappui-prod.us-gov-east-1.amazonaws.com","emrnotebooks-prod.us-gov-east-1.amazonaws.com","emrstudio-prod.us-gov-east-1.amazonaws.com","emrappui-prod.us-gov-west-1.amazonaws.com","emrnotebooks-prod.us-gov-west-1.amazonaws.com","emrstudio-prod.us-gov-west-1.amazonaws.com","emrappui-prod.us-west-1.amazonaws.com","emrnotebooks-prod.us-west-1.amazonaws.com","emrstudio-prod.us-west-1.amazonaws.com","emrappui-prod.us-west-2.amazonaws.com","emrnotebooks-prod.us-west-2.amazonaws.com","emrstudio-prod.us-west-2.amazonaws.com","*.cn-north-1.airflow.amazonaws.com.cn","*.cn-northwest-1.airflow.amazonaws.com.cn","*.af-south-1.airflow.amazonaws.com","*.ap-east-1.airflow.amazonaws.com","*.ap-northeast-1.airflow.amazonaws.com","*.ap-northeast-2.airflow.amazonaws.com","*.ap-northeast-3.airflow.amazonaws.com","*.ap-south-1.airflow.amazonaws.com","*.ap-south-2.airflow.amazonaws.com","*.ap-southeast-1.airflow.amazonaws.com","*.ap-southeast-2.airflow.amazonaws.com","*.ap-southeast-3.airflow.amazonaws.com","*.ap-southeast-4.airflow.amazonaws.com","*.ca-central-1.airflow.amazonaws.com","*.ca-west-1.airflow.amazonaws.com","*.eu-central-1.airflow.amazonaws.com","*.eu-central-2.airflow.amazonaws.com","*.eu-north-1.airflow.amazonaws.com","*.eu-south-1.airflow.amazonaws.com","*.eu-south-2.airflow.amazonaws.com","*.eu-west-1.airflow.amazonaws.com","*.eu-west-2.airflow.amazonaws.com","*.eu-west-3.airflow.amazonaws.com","*.il-central-1.airflow.amazonaws.com","*.me-central-1.airflow.amazonaws.com","*.me-south-1.airflow.amazonaws.com","*.sa-east-1.airflow.amazonaws.com","*.us-east-1.airflow.amazonaws.com","*.us-east-2.airflow.amazonaws.com","*.us-west-1.airflow.amazonaws.com","*.us-west-2.airflow.amazonaws.com","s3.dualstack.cn-north-1.amazonaws.com.cn","s3-accesspoint.dualstack.cn-north-1.amazonaws.com.cn","s3-website.dualstack.cn-north-1.amazonaws.com.cn","s3.cn-north-1.amazonaws.com.cn","s3-accesspoint.cn-north-1.amazonaws.com.cn","s3-deprecated.cn-north-1.amazonaws.com.cn","s3-object-lambda.cn-north-1.amazonaws.com.cn","s3-website.cn-north-1.amazonaws.com.cn","s3.dualstack.cn-northwest-1.amazonaws.com.cn","s3-accesspoint.dualstack.cn-northwest-1.amazonaws.com.cn","s3.cn-northwest-1.amazonaws.com.cn","s3-accesspoint.cn-northwest-1.amazonaws.com.cn","s3-object-lambda.cn-northwest-1.amazonaws.com.cn","s3-website.cn-northwest-1.amazonaws.com.cn","s3.dualstack.af-south-1.amazonaws.com","s3-accesspoint.dualstack.af-south-1.amazonaws.com","s3-website.dualstack.af-south-1.amazonaws.com","s3.af-south-1.amazonaws.com","s3-accesspoint.af-south-1.amazonaws.com","s3-object-lambda.af-south-1.amazonaws.com","s3-website.af-south-1.amazonaws.com","s3.dualstack.ap-east-1.amazonaws.com","s3-accesspoint.dualstack.ap-east-1.amazonaws.com","s3.ap-east-1.amazonaws.com","s3-accesspoint.ap-east-1.amazonaws.com","s3-object-lambda.ap-east-1.amazonaws.com","s3-website.ap-east-1.amazonaws.com","s3.dualstack.ap-northeast-1.amazonaws.com","s3-accesspoint.dualstack.ap-northeast-1.amazonaws.com","s3-website.dualstack.ap-northeast-1.amazonaws.com","s3.ap-northeast-1.amazonaws.com","s3-accesspoint.ap-northeast-1.amazonaws.com","s3-object-lambda.ap-northeast-1.amazonaws.com","s3-website.ap-northeast-1.amazonaws.com","s3.dualstack.ap-northeast-2.amazonaws.com","s3-accesspoint.dualstack.ap-northeast-2.amazonaws.com","s3-website.dualstack.ap-northeast-2.amazonaws.com","s3.ap-northeast-2.amazonaws.com","s3-accesspoint.ap-northeast-2.amazonaws.com","s3-object-lambda.ap-northeast-2.amazonaws.com","s3-website.ap-northeast-2.amazonaws.com","s3.dualstack.ap-northeast-3.amazonaws.com","s3-accesspoint.dualstack.ap-northeast-3.amazonaws.com","s3-website.dualstack.ap-northeast-3.amazonaws.com","s3.ap-northeast-3.amazonaws.com","s3-accesspoint.ap-northeast-3.amazonaws.com","s3-object-lambda.ap-northeast-3.amazonaws.com","s3-website.ap-northeast-3.amazonaws.com","s3.dualstack.ap-south-1.amazonaws.com","s3-accesspoint.dualstack.ap-south-1.amazonaws.com","s3-website.dualstack.ap-south-1.amazonaws.com","s3.ap-south-1.amazonaws.com","s3-accesspoint.ap-south-1.amazonaws.com","s3-object-lambda.ap-south-1.amazonaws.com","s3-website.ap-south-1.amazonaws.com","s3.dualstack.ap-south-2.amazonaws.com","s3-accesspoint.dualstack.ap-south-2.amazonaws.com","s3-website.dualstack.ap-south-2.amazonaws.com","s3.ap-south-2.amazonaws.com","s3-accesspoint.ap-south-2.amazonaws.com","s3-object-lambda.ap-south-2.amazonaws.com","s3-website.ap-south-2.amazonaws.com","s3.dualstack.ap-southeast-1.amazonaws.com","s3-accesspoint.dualstack.ap-southeast-1.amazonaws.com","s3-website.dualstack.ap-southeast-1.amazonaws.com","s3.ap-southeast-1.amazonaws.com","s3-accesspoint.ap-southeast-1.amazonaws.com","s3-object-lambda.ap-southeast-1.amazonaws.com","s3-website.ap-southeast-1.amazonaws.com","s3.dualstack.ap-southeast-2.amazonaws.com","s3-accesspoint.dualstack.ap-southeast-2.amazonaws.com","s3-website.dualstack.ap-southeast-2.amazonaws.com","s3.ap-southeast-2.amazonaws.com","s3-accesspoint.ap-southeast-2.amazonaws.com","s3-object-lambda.ap-southeast-2.amazonaws.com","s3-website.ap-southeast-2.amazonaws.com","s3.dualstack.ap-southeast-3.amazonaws.com","s3-accesspoint.dualstack.ap-southeast-3.amazonaws.com","s3-website.dualstack.ap-southeast-3.amazonaws.com","s3.ap-southeast-3.amazonaws.com","s3-accesspoint.ap-southeast-3.amazonaws.com","s3-object-lambda.ap-southeast-3.amazonaws.com","s3-website.ap-southeast-3.amazonaws.com","s3.dualstack.ap-southeast-4.amazonaws.com","s3-accesspoint.dualstack.ap-southeast-4.amazonaws.com","s3-website.dualstack.ap-southeast-4.amazonaws.com","s3.ap-southeast-4.amazonaws.com","s3-accesspoint.ap-southeast-4.amazonaws.com","s3-object-lambda.ap-southeast-4.amazonaws.com","s3-website.ap-southeast-4.amazonaws.com","s3.dualstack.ap-southeast-5.amazonaws.com","s3-accesspoint.dualstack.ap-southeast-5.amazonaws.com","s3-website.dualstack.ap-southeast-5.amazonaws.com","s3.ap-southeast-5.amazonaws.com","s3-accesspoint.ap-southeast-5.amazonaws.com","s3-deprecated.ap-southeast-5.amazonaws.com","s3-object-lambda.ap-southeast-5.amazonaws.com","s3-website.ap-southeast-5.amazonaws.com","s3.dualstack.ca-central-1.amazonaws.com","s3-accesspoint.dualstack.ca-central-1.amazonaws.com","s3-accesspoint-fips.dualstack.ca-central-1.amazonaws.com","s3-fips.dualstack.ca-central-1.amazonaws.com","s3-website.dualstack.ca-central-1.amazonaws.com","s3.ca-central-1.amazonaws.com","s3-accesspoint.ca-central-1.amazonaws.com","s3-accesspoint-fips.ca-central-1.amazonaws.com","s3-fips.ca-central-1.amazonaws.com","s3-object-lambda.ca-central-1.amazonaws.com","s3-website.ca-central-1.amazonaws.com","s3.dualstack.ca-west-1.amazonaws.com","s3-accesspoint.dualstack.ca-west-1.amazonaws.com","s3-accesspoint-fips.dualstack.ca-west-1.amazonaws.com","s3-fips.dualstack.ca-west-1.amazonaws.com","s3-website.dualstack.ca-west-1.amazonaws.com","s3.ca-west-1.amazonaws.com","s3-accesspoint.ca-west-1.amazonaws.com","s3-accesspoint-fips.ca-west-1.amazonaws.com","s3-fips.ca-west-1.amazonaws.com","s3-object-lambda.ca-west-1.amazonaws.com","s3-website.ca-west-1.amazonaws.com","s3.dualstack.eu-central-1.amazonaws.com","s3-accesspoint.dualstack.eu-central-1.amazonaws.com","s3-website.dualstack.eu-central-1.amazonaws.com","s3.eu-central-1.amazonaws.com","s3-accesspoint.eu-central-1.amazonaws.com","s3-object-lambda.eu-central-1.amazonaws.com","s3-website.eu-central-1.amazonaws.com","s3.dualstack.eu-central-2.amazonaws.com","s3-accesspoint.dualstack.eu-central-2.amazonaws.com","s3-website.dualstack.eu-central-2.amazonaws.com","s3.eu-central-2.amazonaws.com","s3-accesspoint.eu-central-2.amazonaws.com","s3-object-lambda.eu-central-2.amazonaws.com","s3-website.eu-central-2.amazonaws.com","s3.dualstack.eu-north-1.amazonaws.com","s3-accesspoint.dualstack.eu-north-1.amazonaws.com","s3.eu-north-1.amazonaws.com","s3-accesspoint.eu-north-1.amazonaws.com","s3-object-lambda.eu-north-1.amazonaws.com","s3-website.eu-north-1.amazonaws.com","s3.dualstack.eu-south-1.amazonaws.com","s3-accesspoint.dualstack.eu-south-1.amazonaws.com","s3-website.dualstack.eu-south-1.amazonaws.com","s3.eu-south-1.amazonaws.com","s3-accesspoint.eu-south-1.amazonaws.com","s3-object-lambda.eu-south-1.amazonaws.com","s3-website.eu-south-1.amazonaws.com","s3.dualstack.eu-south-2.amazonaws.com","s3-accesspoint.dualstack.eu-south-2.amazonaws.com","s3-website.dualstack.eu-south-2.amazonaws.com","s3.eu-south-2.amazonaws.com","s3-accesspoint.eu-south-2.amazonaws.com","s3-object-lambda.eu-south-2.amazonaws.com","s3-website.eu-south-2.amazonaws.com","s3.dualstack.eu-west-1.amazonaws.com","s3-accesspoint.dualstack.eu-west-1.amazonaws.com","s3-website.dualstack.eu-west-1.amazonaws.com","s3.eu-west-1.amazonaws.com","s3-accesspoint.eu-west-1.amazonaws.com","s3-deprecated.eu-west-1.amazonaws.com","s3-object-lambda.eu-west-1.amazonaws.com","s3-website.eu-west-1.amazonaws.com","s3.dualstack.eu-west-2.amazonaws.com","s3-accesspoint.dualstack.eu-west-2.amazonaws.com","s3.eu-west-2.amazonaws.com","s3-accesspoint.eu-west-2.amazonaws.com","s3-object-lambda.eu-west-2.amazonaws.com","s3-website.eu-west-2.amazonaws.com","s3.dualstack.eu-west-3.amazonaws.com","s3-accesspoint.dualstack.eu-west-3.amazonaws.com","s3-website.dualstack.eu-west-3.amazonaws.com","s3.eu-west-3.amazonaws.com","s3-accesspoint.eu-west-3.amazonaws.com","s3-object-lambda.eu-west-3.amazonaws.com","s3-website.eu-west-3.amazonaws.com","s3.dualstack.il-central-1.amazonaws.com","s3-accesspoint.dualstack.il-central-1.amazonaws.com","s3-website.dualstack.il-central-1.amazonaws.com","s3.il-central-1.amazonaws.com","s3-accesspoint.il-central-1.amazonaws.com","s3-object-lambda.il-central-1.amazonaws.com","s3-website.il-central-1.amazonaws.com","s3.dualstack.me-central-1.amazonaws.com","s3-accesspoint.dualstack.me-central-1.amazonaws.com","s3-website.dualstack.me-central-1.amazonaws.com","s3.me-central-1.amazonaws.com","s3-accesspoint.me-central-1.amazonaws.com","s3-object-lambda.me-central-1.amazonaws.com","s3-website.me-central-1.amazonaws.com","s3.dualstack.me-south-1.amazonaws.com","s3-accesspoint.dualstack.me-south-1.amazonaws.com","s3.me-south-1.amazonaws.com","s3-accesspoint.me-south-1.amazonaws.com","s3-object-lambda.me-south-1.amazonaws.com","s3-website.me-south-1.amazonaws.com","s3.amazonaws.com","s3-1.amazonaws.com","s3-ap-east-1.amazonaws.com","s3-ap-northeast-1.amazonaws.com","s3-ap-northeast-2.amazonaws.com","s3-ap-northeast-3.amazonaws.com","s3-ap-south-1.amazonaws.com","s3-ap-southeast-1.amazonaws.com","s3-ap-southeast-2.amazonaws.com","s3-ca-central-1.amazonaws.com","s3-eu-central-1.amazonaws.com","s3-eu-north-1.amazonaws.com","s3-eu-west-1.amazonaws.com","s3-eu-west-2.amazonaws.com","s3-eu-west-3.amazonaws.com","s3-external-1.amazonaws.com","s3-fips-us-gov-east-1.amazonaws.com","s3-fips-us-gov-west-1.amazonaws.com","mrap.accesspoint.s3-global.amazonaws.com","s3-me-south-1.amazonaws.com","s3-sa-east-1.amazonaws.com","s3-us-east-2.amazonaws.com","s3-us-gov-east-1.amazonaws.com","s3-us-gov-west-1.amazonaws.com","s3-us-west-1.amazonaws.com","s3-us-west-2.amazonaws.com","s3-website-ap-northeast-1.amazonaws.com","s3-website-ap-southeast-1.amazonaws.com","s3-website-ap-southeast-2.amazonaws.com","s3-website-eu-west-1.amazonaws.com","s3-website-sa-east-1.amazonaws.com","s3-website-us-east-1.amazonaws.com","s3-website-us-gov-west-1.amazonaws.com","s3-website-us-west-1.amazonaws.com","s3-website-us-west-2.amazonaws.com","s3.dualstack.sa-east-1.amazonaws.com","s3-accesspoint.dualstack.sa-east-1.amazonaws.com","s3-website.dualstack.sa-east-1.amazonaws.com","s3.sa-east-1.amazonaws.com","s3-accesspoint.sa-east-1.amazonaws.com","s3-object-lambda.sa-east-1.amazonaws.com","s3-website.sa-east-1.amazonaws.com","s3.dualstack.us-east-1.amazonaws.com","s3-accesspoint.dualstack.us-east-1.amazonaws.com","s3-accesspoint-fips.dualstack.us-east-1.amazonaws.com","s3-fips.dualstack.us-east-1.amazonaws.com","s3-website.dualstack.us-east-1.amazonaws.com","s3.us-east-1.amazonaws.com","s3-accesspoint.us-east-1.amazonaws.com","s3-accesspoint-fips.us-east-1.amazonaws.com","s3-deprecated.us-east-1.amazonaws.com","s3-fips.us-east-1.amazonaws.com","s3-object-lambda.us-east-1.amazonaws.com","s3-website.us-east-1.amazonaws.com","s3.dualstack.us-east-2.amazonaws.com","s3-accesspoint.dualstack.us-east-2.amazonaws.com","s3-accesspoint-fips.dualstack.us-east-2.amazonaws.com","s3-fips.dualstack.us-east-2.amazonaws.com","s3-website.dualstack.us-east-2.amazonaws.com","s3.us-east-2.amazonaws.com","s3-accesspoint.us-east-2.amazonaws.com","s3-accesspoint-fips.us-east-2.amazonaws.com","s3-deprecated.us-east-2.amazonaws.com","s3-fips.us-east-2.amazonaws.com","s3-object-lambda.us-east-2.amazonaws.com","s3-website.us-east-2.amazonaws.com","s3.dualstack.us-gov-east-1.amazonaws.com","s3-accesspoint.dualstack.us-gov-east-1.amazonaws.com","s3-accesspoint-fips.dualstack.us-gov-east-1.amazonaws.com","s3-fips.dualstack.us-gov-east-1.amazonaws.com","s3.us-gov-east-1.amazonaws.com","s3-accesspoint.us-gov-east-1.amazonaws.com","s3-accesspoint-fips.us-gov-east-1.amazonaws.com","s3-fips.us-gov-east-1.amazonaws.com","s3-object-lambda.us-gov-east-1.amazonaws.com","s3-website.us-gov-east-1.amazonaws.com","s3.dualstack.us-gov-west-1.amazonaws.com","s3-accesspoint.dualstack.us-gov-west-1.amazonaws.com","s3-accesspoint-fips.dualstack.us-gov-west-1.amazonaws.com","s3-fips.dualstack.us-gov-west-1.amazonaws.com","s3.us-gov-west-1.amazonaws.com","s3-accesspoint.us-gov-west-1.amazonaws.com","s3-accesspoint-fips.us-gov-west-1.amazonaws.com","s3-fips.us-gov-west-1.amazonaws.com","s3-object-lambda.us-gov-west-1.amazonaws.com","s3-website.us-gov-west-1.amazonaws.com","s3.dualstack.us-west-1.amazonaws.com","s3-accesspoint.dualstack.us-west-1.amazonaws.com","s3-accesspoint-fips.dualstack.us-west-1.amazonaws.com","s3-fips.dualstack.us-west-1.amazonaws.com","s3-website.dualstack.us-west-1.amazonaws.com","s3.us-west-1.amazonaws.com","s3-accesspoint.us-west-1.amazonaws.com","s3-accesspoint-fips.us-west-1.amazonaws.com","s3-fips.us-west-1.amazonaws.com","s3-object-lambda.us-west-1.amazonaws.com","s3-website.us-west-1.amazonaws.com","s3.dualstack.us-west-2.amazonaws.com","s3-accesspoint.dualstack.us-west-2.amazonaws.com","s3-accesspoint-fips.dualstack.us-west-2.amazonaws.com","s3-fips.dualstack.us-west-2.amazonaws.com","s3-website.dualstack.us-west-2.amazonaws.com","s3.us-west-2.amazonaws.com","s3-accesspoint.us-west-2.amazonaws.com","s3-accesspoint-fips.us-west-2.amazonaws.com","s3-deprecated.us-west-2.amazonaws.com","s3-fips.us-west-2.amazonaws.com","s3-object-lambda.us-west-2.amazonaws.com","s3-website.us-west-2.amazonaws.com","labeling.ap-northeast-1.sagemaker.aws","labeling.ap-northeast-2.sagemaker.aws","labeling.ap-south-1.sagemaker.aws","labeling.ap-southeast-1.sagemaker.aws","labeling.ap-southeast-2.sagemaker.aws","labeling.ca-central-1.sagemaker.aws","labeling.eu-central-1.sagemaker.aws","labeling.eu-west-1.sagemaker.aws","labeling.eu-west-2.sagemaker.aws","labeling.us-east-1.sagemaker.aws","labeling.us-east-2.sagemaker.aws","labeling.us-west-2.sagemaker.aws","notebook.af-south-1.sagemaker.aws","notebook.ap-east-1.sagemaker.aws","notebook.ap-northeast-1.sagemaker.aws","notebook.ap-northeast-2.sagemaker.aws","notebook.ap-northeast-3.sagemaker.aws","notebook.ap-south-1.sagemaker.aws","notebook.ap-south-2.sagemaker.aws","notebook.ap-southeast-1.sagemaker.aws","notebook.ap-southeast-2.sagemaker.aws","notebook.ap-southeast-3.sagemaker.aws","notebook.ap-southeast-4.sagemaker.aws","notebook.ca-central-1.sagemaker.aws","notebook-fips.ca-central-1.sagemaker.aws","notebook.ca-west-1.sagemaker.aws","notebook-fips.ca-west-1.sagemaker.aws","notebook.eu-central-1.sagemaker.aws","notebook.eu-central-2.sagemaker.aws","notebook.eu-north-1.sagemaker.aws","notebook.eu-south-1.sagemaker.aws","notebook.eu-south-2.sagemaker.aws","notebook.eu-west-1.sagemaker.aws","notebook.eu-west-2.sagemaker.aws","notebook.eu-west-3.sagemaker.aws","notebook.il-central-1.sagemaker.aws","notebook.me-central-1.sagemaker.aws","notebook.me-south-1.sagemaker.aws","notebook.sa-east-1.sagemaker.aws","notebook.us-east-1.sagemaker.aws","notebook-fips.us-east-1.sagemaker.aws","notebook.us-east-2.sagemaker.aws","notebook-fips.us-east-2.sagemaker.aws","notebook.us-gov-east-1.sagemaker.aws","notebook-fips.us-gov-east-1.sagemaker.aws","notebook.us-gov-west-1.sagemaker.aws","notebook-fips.us-gov-west-1.sagemaker.aws","notebook.us-west-1.sagemaker.aws","notebook-fips.us-west-1.sagemaker.aws","notebook.us-west-2.sagemaker.aws","notebook-fips.us-west-2.sagemaker.aws","notebook.cn-north-1.sagemaker.com.cn","notebook.cn-northwest-1.sagemaker.com.cn","studio.af-south-1.sagemaker.aws","studio.ap-east-1.sagemaker.aws","studio.ap-northeast-1.sagemaker.aws","studio.ap-northeast-2.sagemaker.aws","studio.ap-northeast-3.sagemaker.aws","studio.ap-south-1.sagemaker.aws","studio.ap-southeast-1.sagemaker.aws","studio.ap-southeast-2.sagemaker.aws","studio.ap-southeast-3.sagemaker.aws","studio.ca-central-1.sagemaker.aws","studio.eu-central-1.sagemaker.aws","studio.eu-north-1.sagemaker.aws","studio.eu-south-1.sagemaker.aws","studio.eu-south-2.sagemaker.aws","studio.eu-west-1.sagemaker.aws","studio.eu-west-2.sagemaker.aws","studio.eu-west-3.sagemaker.aws","studio.il-central-1.sagemaker.aws","studio.me-central-1.sagemaker.aws","studio.me-south-1.sagemaker.aws","studio.sa-east-1.sagemaker.aws","studio.us-east-1.sagemaker.aws","studio.us-east-2.sagemaker.aws","studio.us-gov-east-1.sagemaker.aws","studio-fips.us-gov-east-1.sagemaker.aws","studio.us-gov-west-1.sagemaker.aws","studio-fips.us-gov-west-1.sagemaker.aws","studio.us-west-1.sagemaker.aws","studio.us-west-2.sagemaker.aws","studio.cn-north-1.sagemaker.com.cn","studio.cn-northwest-1.sagemaker.com.cn","*.experiments.sagemaker.aws","analytics-gateway.ap-northeast-1.amazonaws.com","analytics-gateway.ap-northeast-2.amazonaws.com","analytics-gateway.ap-south-1.amazonaws.com","analytics-gateway.ap-southeast-1.amazonaws.com","analytics-gateway.ap-southeast-2.amazonaws.com","analytics-gateway.eu-central-1.amazonaws.com","analytics-gateway.eu-west-1.amazonaws.com","analytics-gateway.us-east-1.amazonaws.com","analytics-gateway.us-east-2.amazonaws.com","analytics-gateway.us-west-2.amazonaws.com","amplifyapp.com","*.awsapprunner.com","webview-assets.aws-cloud9.af-south-1.amazonaws.com","vfs.cloud9.af-south-1.amazonaws.com","webview-assets.cloud9.af-south-1.amazonaws.com","webview-assets.aws-cloud9.ap-east-1.amazonaws.com","vfs.cloud9.ap-east-1.amazonaws.com","webview-assets.cloud9.ap-east-1.amazonaws.com","webview-assets.aws-cloud9.ap-northeast-1.amazonaws.com","vfs.cloud9.ap-northeast-1.amazonaws.com","webview-assets.cloud9.ap-northeast-1.amazonaws.com","webview-assets.aws-cloud9.ap-northeast-2.amazonaws.com","vfs.cloud9.ap-northeast-2.amazonaws.com","webview-assets.cloud9.ap-northeast-2.amazonaws.com","webview-assets.aws-cloud9.ap-northeast-3.amazonaws.com","vfs.cloud9.ap-northeast-3.amazonaws.com","webview-assets.cloud9.ap-northeast-3.amazonaws.com","webview-assets.aws-cloud9.ap-south-1.amazonaws.com","vfs.cloud9.ap-south-1.amazonaws.com","webview-assets.cloud9.ap-south-1.amazonaws.com","webview-assets.aws-cloud9.ap-southeast-1.amazonaws.com","vfs.cloud9.ap-southeast-1.amazonaws.com","webview-assets.cloud9.ap-southeast-1.amazonaws.com","webview-assets.aws-cloud9.ap-southeast-2.amazonaws.com","vfs.cloud9.ap-southeast-2.amazonaws.com","webview-assets.cloud9.ap-southeast-2.amazonaws.com","webview-assets.aws-cloud9.ca-central-1.amazonaws.com","vfs.cloud9.ca-central-1.amazonaws.com","webview-assets.cloud9.ca-central-1.amazonaws.com","webview-assets.aws-cloud9.eu-central-1.amazonaws.com","vfs.cloud9.eu-central-1.amazonaws.com","webview-assets.cloud9.eu-central-1.amazonaws.com","webview-assets.aws-cloud9.eu-north-1.amazonaws.com","vfs.cloud9.eu-north-1.amazonaws.com","webview-assets.cloud9.eu-north-1.amazonaws.com","webview-assets.aws-cloud9.eu-south-1.amazonaws.com","vfs.cloud9.eu-south-1.amazonaws.com","webview-assets.cloud9.eu-south-1.amazonaws.com","webview-assets.aws-cloud9.eu-west-1.amazonaws.com","vfs.cloud9.eu-west-1.amazonaws.com","webview-assets.cloud9.eu-west-1.amazonaws.com","webview-assets.aws-cloud9.eu-west-2.amazonaws.com","vfs.cloud9.eu-west-2.amazonaws.com","webview-assets.cloud9.eu-west-2.amazonaws.com","webview-assets.aws-cloud9.eu-west-3.amazonaws.com","vfs.cloud9.eu-west-3.amazonaws.com","webview-assets.cloud9.eu-west-3.amazonaws.com","webview-assets.aws-cloud9.il-central-1.amazonaws.com","vfs.cloud9.il-central-1.amazonaws.com","webview-assets.aws-cloud9.me-south-1.amazonaws.com","vfs.cloud9.me-south-1.amazonaws.com","webview-assets.cloud9.me-south-1.amazonaws.com","webview-assets.aws-cloud9.sa-east-1.amazonaws.com","vfs.cloud9.sa-east-1.amazonaws.com","webview-assets.cloud9.sa-east-1.amazonaws.com","webview-assets.aws-cloud9.us-east-1.amazonaws.com","vfs.cloud9.us-east-1.amazonaws.com","webview-assets.cloud9.us-east-1.amazonaws.com","webview-assets.aws-cloud9.us-east-2.amazonaws.com","vfs.cloud9.us-east-2.amazonaws.com","webview-assets.cloud9.us-east-2.amazonaws.com","webview-assets.aws-cloud9.us-west-1.amazonaws.com","vfs.cloud9.us-west-1.amazonaws.com","webview-assets.cloud9.us-west-1.amazonaws.com","webview-assets.aws-cloud9.us-west-2.amazonaws.com","vfs.cloud9.us-west-2.amazonaws.com","webview-assets.cloud9.us-west-2.amazonaws.com","awsapps.com","cn-north-1.eb.amazonaws.com.cn","cn-northwest-1.eb.amazonaws.com.cn","elasticbeanstalk.com","af-south-1.elasticbeanstalk.com","ap-east-1.elasticbeanstalk.com","ap-northeast-1.elasticbeanstalk.com","ap-northeast-2.elasticbeanstalk.com","ap-northeast-3.elasticbeanstalk.com","ap-south-1.elasticbeanstalk.com","ap-southeast-1.elasticbeanstalk.com","ap-southeast-2.elasticbeanstalk.com","ap-southeast-3.elasticbeanstalk.com","ca-central-1.elasticbeanstalk.com","eu-central-1.elasticbeanstalk.com","eu-north-1.elasticbeanstalk.com","eu-south-1.elasticbeanstalk.com","eu-west-1.elasticbeanstalk.com","eu-west-2.elasticbeanstalk.com","eu-west-3.elasticbeanstalk.com","il-central-1.elasticbeanstalk.com","me-south-1.elasticbeanstalk.com","sa-east-1.elasticbeanstalk.com","us-east-1.elasticbeanstalk.com","us-east-2.elasticbeanstalk.com","us-gov-east-1.elasticbeanstalk.com","us-gov-west-1.elasticbeanstalk.com","us-west-1.elasticbeanstalk.com","us-west-2.elasticbeanstalk.com","*.elb.amazonaws.com.cn","*.elb.amazonaws.com","awsglobalaccelerator.com","*.private.repost.aws","eero.online","eero-stage.online","apigee.io","panel.dev","siiites.com","appspacehosted.com","appspaceusercontent.com","appudo.net","on-aptible.com","f5.si","arvanedge.ir","user.aseinet.ne.jp","gv.vc","d.gv.vc","user.party.eus","pimienta.org","poivron.org","potager.org","sweetpepper.org","myasustor.com","cdn.prod.atlassian-dev.net","translated.page","myfritz.link","myfritz.net","onavstack.net","*.awdev.ca","*.advisor.ws","ecommerce-shop.pl","b-data.io","balena-devices.com","base.ec","official.ec","buyshop.jp","fashionstore.jp","handcrafted.jp","kawaiishop.jp","supersale.jp","theshop.jp","shopselect.net","base.shop","beagleboard.io","*.beget.app","pages.gay","bnr.la","bitbucket.io","blackbaudcdn.net","of.je","bluebite.io","boomla.net","boutir.com","boxfuse.io","square7.ch","bplaced.com","bplaced.de","square7.de","bplaced.net","square7.net","*.s.brave.io","shop.brendly.hr","shop.brendly.rs","browsersafetymark.io","radio.am","radio.fm","uk0.bigv.io","dh.bytemark.co.uk","vm.bytemark.co.uk","cafjs.com","canva-apps.cn","*.my.canvasite.cn","canva-apps.com","*.my.canva.site","drr.ac","uwu.ai","carrd.co","crd.co","ju.mp","api.gov.uk","cdn77-storage.com","rsc.contentproxy9.cz","r.cdn77.net","cdn77-ssl.net","c.cdn77.org","rsc.cdn77.org","ssl.origin.cdn77-secure.org","za.bz","br.com","cn.com","de.com","eu.com","jpn.com","mex.com","ru.com","sa.com","uk.com","us.com","za.com","com.de","gb.net","hu.net","jp.net","se.net","uk.net","ae.org","com.se","cx.ua","discourse.group","discourse.team","clerk.app","clerkstage.app","*.lcl.dev","*.lclstage.dev","*.stg.dev","*.stgstage.dev","cleverapps.cc","*.services.clever-cloud.com","cleverapps.io","cleverapps.tech","clickrising.net","cloudns.asia","cloudns.be","cloud-ip.biz","cloudns.biz","cloudns.cc","cloudns.ch","cloudns.cl","cloudns.club","dnsabr.com","ip-ddns.com","cloudns.cx","cloudns.eu","cloudns.in","cloudns.info","ddns-ip.net","dns-cloud.net","dns-dynamic.net","cloudns.nz","cloudns.org","ip-dynamic.org","cloudns.ph","cloudns.pro","cloudns.pw","cloudns.us","c66.me","cloud66.ws","cloud66.zone","jdevcloud.com","wpdevcloud.com","cloudaccess.host","freesite.host","cloudaccess.net","*.cloudera.site","cf-ipfs.com","cloudflare-ipfs.com","trycloudflare.com","pages.dev","r2.dev","workers.dev","cloudflare.net","cdn.cloudflare.net","cdn.cloudflareanycast.net","cdn.cloudflarecn.net","cdn.cloudflareglobal.net","cust.cloudscale.ch","objects.lpg.cloudscale.ch","objects.rma.cloudscale.ch","wnext.app","cnpy.gdn","*.otap.co","co.ca","co.com","codeberg.page","csb.app","preview.csb.app","co.nl","co.no","webhosting.be","hosting-cluster.nl","ctfcloud.net","convex.site","ac.ru","edu.ru","gov.ru","int.ru","mil.ru","test.ru","dyn.cosidns.de","dnsupdater.de","dynamisches-dns.de","internet-dns.de","l-o-g-i-n.de","dynamic-dns.info","feste-ip.net","knx-server.net","static-access.net","craft.me","realm.cz","on.crisp.email","*.cryptonomic.net","curv.dev","cfolks.pl","cyon.link","cyon.site","platform0.app","fnwk.site","folionetwork.site","biz.dk","co.dk","firm.dk","reg.dk","store.dk","dyndns.dappnode.io","builtwithdark.com","darklang.io","demo.datadetect.com","instance.datadetect.com","edgestack.me","dattolocal.com","dattorelay.com","dattoweb.com","mydatto.com","dattolocal.net","mydatto.net","ddnss.de","dyn.ddnss.de","dyndns.ddnss.de","dyn-ip24.de","dyndns1.de","home-webserver.de","dyn.home-webserver.de","myhome-server.de","ddnss.org","debian.net","definima.io","definima.net","deno.dev","deno-staging.dev","dedyn.io","deta.app","deta.dev","dfirma.pl","dkonto.pl","you2.pl","ondigitalocean.app","*.digitaloceanspaces.com","us.kg","rss.my.id","diher.solutions","discordsays.com","discordsez.com","jozi.biz","dnshome.de","online.th","shop.th","drayddns.com","shoparena.pl","dreamhosters.com","durumis.com","mydrobo.com","drud.io","drud.us","duckdns.org","dy.fi","tunk.org","dyndns.biz","for-better.biz","for-more.biz","for-some.biz","for-the.biz","selfip.biz","webhop.biz","ftpaccess.cc","game-server.cc","myphotos.cc","scrapping.cc","blogdns.com","cechire.com","dnsalias.com","dnsdojo.com","doesntexist.com","dontexist.com","doomdns.com","dyn-o-saur.com","dynalias.com","dyndns-at-home.com","dyndns-at-work.com","dyndns-blog.com","dyndns-free.com","dyndns-home.com","dyndns-ip.com","dyndns-mail.com","dyndns-office.com","dyndns-pics.com","dyndns-remote.com","dyndns-server.com","dyndns-web.com","dyndns-wiki.com","dyndns-work.com","est-a-la-maison.com","est-a-la-masion.com","est-le-patron.com","est-mon-blogueur.com","from-ak.com","from-al.com","from-ar.com","from-ca.com","from-ct.com","from-dc.com","from-de.com","from-fl.com","from-ga.com","from-hi.com","from-ia.com","from-id.com","from-il.com","from-in.com","from-ks.com","from-ky.com","from-ma.com","from-md.com","from-mi.com","from-mn.com","from-mo.com","from-ms.com","from-mt.com","from-nc.com","from-nd.com","from-ne.com","from-nh.com","from-nj.com","from-nm.com","from-nv.com","from-oh.com","from-ok.com","from-or.com","from-pa.com","from-pr.com","from-ri.com","from-sc.com","from-sd.com","from-tn.com","from-tx.com","from-ut.com","from-va.com","from-vt.com","from-wa.com","from-wi.com","from-wv.com","from-wy.com","getmyip.com","gotdns.com","hobby-site.com","homelinux.com","homeunix.com","iamallama.com","is-a-anarchist.com","is-a-blogger.com","is-a-bookkeeper.com","is-a-bulls-fan.com","is-a-caterer.com","is-a-chef.com","is-a-conservative.com","is-a-cpa.com","is-a-cubicle-slave.com","is-a-democrat.com","is-a-designer.com","is-a-doctor.com","is-a-financialadvisor.com","is-a-geek.com","is-a-green.com","is-a-guru.com","is-a-hard-worker.com","is-a-hunter.com","is-a-landscaper.com","is-a-lawyer.com","is-a-liberal.com","is-a-libertarian.com","is-a-llama.com","is-a-musician.com","is-a-nascarfan.com","is-a-nurse.com","is-a-painter.com","is-a-personaltrainer.com","is-a-photographer.com","is-a-player.com","is-a-republican.com","is-a-rockstar.com","is-a-socialist.com","is-a-student.com","is-a-teacher.com","is-a-techie.com","is-a-therapist.com","is-an-accountant.com","is-an-actor.com","is-an-actress.com","is-an-anarchist.com","is-an-artist.com","is-an-engineer.com","is-an-entertainer.com","is-certified.com","is-gone.com","is-into-anime.com","is-into-cars.com","is-into-cartoons.com","is-into-games.com","is-leet.com","is-not-certified.com","is-slick.com","is-uberleet.com","is-with-theband.com","isa-geek.com","isa-hockeynut.com","issmarterthanyou.com","likes-pie.com","likescandy.com","neat-url.com","saves-the-whales.com","selfip.com","sells-for-less.com","sells-for-u.com","servebbs.com","simple-url.com","space-to-rent.com","teaches-yoga.com","writesthisblog.com","ath.cx","fuettertdasnetz.de","isteingeek.de","istmein.de","lebtimnetz.de","leitungsen.de","traeumtgerade.de","barrel-of-knowledge.info","barrell-of-knowledge.info","dyndns.info","for-our.info","groks-the.info","groks-this.info","here-for-more.info","knowsitall.info","selfip.info","webhop.info","forgot.her.name","forgot.his.name","at-band-camp.net","blogdns.net","broke-it.net","buyshouses.net","dnsalias.net","dnsdojo.net","does-it.net","dontexist.net","dynalias.net","dynathome.net","endofinternet.net","from-az.net","from-co.net","from-la.net","from-ny.net","gets-it.net","ham-radio-op.net","homeftp.net","homeip.net","homelinux.net","homeunix.net","in-the-band.net","is-a-chef.net","is-a-geek.net","isa-geek.net","kicks-ass.net","office-on-the.net","podzone.net","scrapper-site.net","selfip.net","sells-it.net","servebbs.net","serveftp.net","thruhere.net","webhop.net","merseine.nu","mine.nu","shacknet.nu","blogdns.org","blogsite.org","boldlygoingnowhere.org","dnsalias.org","dnsdojo.org","doesntexist.org","dontexist.org","doomdns.org","dvrdns.org","dynalias.org","dyndns.org","go.dyndns.org","home.dyndns.org","endofinternet.org","endoftheinternet.org","from-me.org","game-host.org","gotdns.org","hobby-site.org","homedns.org","homeftp.org","homelinux.org","homeunix.org","is-a-bruinsfan.org","is-a-candidate.org","is-a-celticsfan.org","is-a-chef.org","is-a-geek.org","is-a-knight.org","is-a-linux-user.org","is-a-patsfan.org","is-a-soxfan.org","is-found.org","is-lost.org","is-saved.org","is-very-bad.org","is-very-evil.org","is-very-good.org","is-very-nice.org","is-very-sweet.org","isa-geek.org","kicks-ass.org","misconfused.org","podzone.org","readmyblog.org","selfip.org","sellsyourhome.org","servebbs.org","serveftp.org","servegame.org","stuff-4-sale.org","webhop.org","better-than.tv","dyndns.tv","on-the-web.tv","worse-than.tv","is-by.us","land-4-sale.us","stuff-4-sale.us","dyndns.ws","mypets.ws","ddnsfree.com","ddnsgeek.com","giize.com","gleeze.com","kozow.com","loseyourip.com","ooguy.com","theworkpc.com","casacam.net","dynu.net","accesscam.org","camdvr.org","freeddns.org","mywire.org","webredirect.org","myddns.rocks","dynv6.net","e4.cz","easypanel.app","easypanel.host","*.ewp.live","twmail.cc","twmail.net","twmail.org","mymailer.com.tw","url.tw","at.emf.camp","rt.ht","elementor.cloud","elementor.cool","en-root.fr","mytuleap.com","tuleap-partners.com","encr.app","encoreapi.com","eu.encoway.cloud","eu.org","al.eu.org","asso.eu.org","at.eu.org","au.eu.org","be.eu.org","bg.eu.org","ca.eu.org","cd.eu.org","ch.eu.org","cn.eu.org","cy.eu.org","cz.eu.org","de.eu.org","dk.eu.org","edu.eu.org","ee.eu.org","es.eu.org","fi.eu.org","fr.eu.org","gr.eu.org","hr.eu.org","hu.eu.org","ie.eu.org","il.eu.org","in.eu.org","int.eu.org","is.eu.org","it.eu.org","jp.eu.org","kr.eu.org","lt.eu.org","lu.eu.org","lv.eu.org","me.eu.org","mk.eu.org","mt.eu.org","my.eu.org","net.eu.org","ng.eu.org","nl.eu.org","no.eu.org","nz.eu.org","pl.eu.org","pt.eu.org","ro.eu.org","ru.eu.org","se.eu.org","si.eu.org","sk.eu.org","tr.eu.org","uk.eu.org","us.eu.org","eurodir.ru","eu-1.evennode.com","eu-2.evennode.com","eu-3.evennode.com","eu-4.evennode.com","us-1.evennode.com","us-2.evennode.com","us-3.evennode.com","us-4.evennode.com","relay.evervault.app","relay.evervault.dev","expo.app","staging.expo.app","onfabrica.com","ru.net","adygeya.ru","bashkiria.ru","bir.ru","cbg.ru","com.ru","dagestan.ru","grozny.ru","kalmykia.ru","kustanai.ru","marine.ru","mordovia.ru","msk.ru","mytis.ru","nalchik.ru","nov.ru","pyatigorsk.ru","spb.ru","vladikavkaz.ru","vladimir.ru","abkhazia.su","adygeya.su","aktyubinsk.su","arkhangelsk.su","armenia.su","ashgabad.su","azerbaijan.su","balashov.su","bashkiria.su","bryansk.su","bukhara.su","chimkent.su","dagestan.su","east-kazakhstan.su","exnet.su","georgia.su","grozny.su","ivanovo.su","jambyl.su","kalmykia.su","kaluga.su","karacol.su","karaganda.su","karelia.su","khakassia.su","krasnodar.su","kurgan.su","kustanai.su","lenug.su","mangyshlak.su","mordovia.su","msk.su","murmansk.su","nalchik.su","navoi.su","north-kazakhstan.su","nov.su","obninsk.su","penza.su","pokrovsk.su","sochi.su","spb.su","tashkent.su","termez.su","togliatti.su","troitsk.su","tselinograd.su","tula.su","tuva.su","vladikavkaz.su","vladimir.su","vologda.su","channelsdvr.net","u.channelsdvr.net","edgecompute.app","fastly-edge.com","fastly-terrarium.com","freetls.fastly.net","map.fastly.net","a.prod.fastly.net","global.prod.fastly.net","a.ssl.fastly.net","b.ssl.fastly.net","global.ssl.fastly.net","fastlylb.net","map.fastlylb.net","*.user.fm","fastvps-server.com","fastvps.host","myfast.host","fastvps.site","myfast.space","conn.uk","copro.uk","hosp.uk","fedorainfracloud.org","fedorapeople.org","cloud.fedoraproject.org","app.os.fedoraproject.org","app.os.stg.fedoraproject.org","mydobiss.com","fh-muenster.io","filegear.me","firebaseapp.com","fldrv.com","flutterflow.app","fly.dev","shw.io","edgeapp.net","forgeblocks.com","id.forgerock.io","framer.ai","framer.app","framercanvas.com","framer.media","framer.photos","framer.website","framer.wiki","0e.vc","freebox-os.com","freeboxos.com","fbx-os.fr","fbxos.fr","freebox-os.fr","freeboxos.fr","freedesktop.org","freemyip.com","*.frusky.de","wien.funkfeuer.at","daemon.asia","dix.asia","mydns.bz","0am.jp","0g0.jp","0j0.jp","0t0.jp","mydns.jp","pgw.jp","wjg.jp","keyword-on.net","live-on.net","server-on.net","mydns.tw","mydns.vc","*.futurecms.at","*.ex.futurecms.at","*.in.futurecms.at","futurehosting.at","futuremailing.at","*.ex.ortsinfo.at","*.kunden.ortsinfo.at","*.statics.cloud","aliases121.com","campaign.gov.uk","service.gov.uk","independent-commission.uk","independent-inquest.uk","independent-inquiry.uk","independent-panel.uk","independent-review.uk","public-inquiry.uk","royal-commission.uk","gehirn.ne.jp","usercontent.jp","gentapps.com","gentlentapis.com","lab.ms","cdn-edges.net","localcert.net","localhostcert.net","gsj.bz","githubusercontent.com","githubpreview.dev","github.io","gitlab.io","gitapp.si","gitpage.si","glitch.me","nog.community","co.ro","shop.ro","lolipop.io","angry.jp","babyblue.jp","babymilk.jp","backdrop.jp","bambina.jp","bitter.jp","blush.jp","boo.jp","boy.jp","boyfriend.jp","but.jp","candypop.jp","capoo.jp","catfood.jp","cheap.jp","chicappa.jp","chillout.jp","chips.jp","chowder.jp","chu.jp","ciao.jp","cocotte.jp","coolblog.jp","cranky.jp","cutegirl.jp","daa.jp","deca.jp","deci.jp","digick.jp","egoism.jp","fakefur.jp","fem.jp","flier.jp","floppy.jp","fool.jp","frenchkiss.jp","girlfriend.jp","girly.jp","gloomy.jp","gonna.jp","greater.jp","hacca.jp","heavy.jp","her.jp","hiho.jp","hippy.jp","holy.jp","hungry.jp","icurus.jp","itigo.jp","jellybean.jp","kikirara.jp","kill.jp","kilo.jp","kuron.jp","littlestar.jp","lolipopmc.jp","lolitapunk.jp","lomo.jp","lovepop.jp","lovesick.jp","main.jp","mods.jp","mond.jp","mongolian.jp","moo.jp","namaste.jp","nikita.jp","nobushi.jp","noor.jp","oops.jp","parallel.jp","parasite.jp","pecori.jp","peewee.jp","penne.jp","pepper.jp","perma.jp","pigboat.jp","pinoko.jp","punyu.jp","pupu.jp","pussycat.jp","pya.jp","raindrop.jp","readymade.jp","sadist.jp","schoolbus.jp","secret.jp","staba.jp","stripper.jp","sub.jp","sunnyday.jp","thick.jp","tonkotsu.jp","under.jp","upper.jp","velvet.jp","verse.jp","versus.jp","vivian.jp","watson.jp","weblike.jp","whitesnow.jp","zombie.jp","heteml.net","graphic.design","goip.de","blogspot.ae","blogspot.al","blogspot.am","*.hosted.app","*.run.app","web.app","blogspot.com.ar","blogspot.co.at","blogspot.com.au","blogspot.ba","blogspot.be","blogspot.bg","blogspot.bj","blogspot.com.br","blogspot.com.by","blogspot.ca","blogspot.cf","blogspot.ch","blogspot.cl","blogspot.com.co","*.0emm.com","appspot.com","*.r.appspot.com","blogspot.com","codespot.com","googleapis.com","googlecode.com","pagespeedmobilizer.com","withgoogle.com","withyoutube.com","blogspot.cv","blogspot.com.cy","blogspot.cz","blogspot.de","*.gateway.dev","blogspot.dk","blogspot.com.ee","blogspot.com.eg","blogspot.com.es","blogspot.fi","blogspot.fr","cloud.goog","translate.goog","*.usercontent.goog","blogspot.gr","blogspot.hk","blogspot.hr","blogspot.hu","blogspot.co.id","blogspot.ie","blogspot.co.il","blogspot.in","blogspot.is","blogspot.it","blogspot.jp","blogspot.co.ke","blogspot.kr","blogspot.li","blogspot.lt","blogspot.lu","blogspot.md","blogspot.mk","blogspot.com.mt","blogspot.mx","blogspot.my","cloudfunctions.net","blogspot.com.ng","blogspot.nl","blogspot.no","blogspot.co.nz","blogspot.pe","blogspot.pt","blogspot.qa","blogspot.re","blogspot.ro","blogspot.rs","blogspot.ru","blogspot.se","blogspot.sg","blogspot.si","blogspot.sk","blogspot.sn","blogspot.td","blogspot.com.tr","blogspot.tw","blogspot.ug","blogspot.co.uk","blogspot.com.uy","blogspot.vn","blogspot.co.za","goupile.fr","pymnt.uk","cloudapps.digital","london.cloudapps.digital","gov.nl","grafana-dev.net","grayjayleagues.com","g\xfcnstigbestellen.de","g\xfcnstigliefern.de","fin.ci","free.hr","caa.li","ua.rs","conf.se","h\xe4kkinen.fi","hrsn.dev","hashbang.sh","hasura.app","hasura-app.io","hatenablog.com","hatenadiary.com","hateblo.jp","hatenablog.jp","hatenadiary.jp","hatenadiary.org","pages.it.hs-heilbronn.de","pages-research.it.hs-heilbronn.de","heiyu.space","helioho.st","heliohost.us","hepforge.org","herokuapp.com","herokussl.com","heyflow.page","heyflow.site","ravendb.cloud","ravendb.community","development.run","ravendb.run","homesklep.pl","*.kin.one","*.id.pub","*.kin.pub","secaas.hk","hoplix.shop","orx.biz","biz.gl","biz.ng","co.biz.ng","dl.biz.ng","go.biz.ng","lg.biz.ng","on.biz.ng","col.ng","firm.ng","gen.ng","ltd.ng","ngo.ng","plc.ng","ie.ua","hostyhosting.io","hf.space","static.hf.space","hypernode.io","iobb.net","co.cz","*.moonscale.io","moonscale.net","gr.com","iki.fi","ibxos.it","iliadboxos.it","smushcdn.com","wphostedmail.com","wpmucdn.com","tempurl.host","wpmudev.host","dyn-berlin.de","in-berlin.de","in-brb.de","in-butter.de","in-dsl.de","in-vpn.de","in-dsl.net","in-vpn.net","in-dsl.org","in-vpn.org","biz.at","info.at","info.cx","ac.leg.br","al.leg.br","am.leg.br","ap.leg.br","ba.leg.br","ce.leg.br","df.leg.br","es.leg.br","go.leg.br","ma.leg.br","mg.leg.br","ms.leg.br","mt.leg.br","pa.leg.br","pb.leg.br","pe.leg.br","pi.leg.br","pr.leg.br","rj.leg.br","rn.leg.br","ro.leg.br","rr.leg.br","rs.leg.br","sc.leg.br","se.leg.br","sp.leg.br","to.leg.br","pixolino.com","na4u.ru","apps-1and1.com","live-website.com","apps-1and1.net","websitebuilder.online","app-ionos.space","iopsys.se","*.dweb.link","ipifony.net","ir.md","is-a-good.dev","is-a.dev","iservschule.de","mein-iserv.de","schulplattform.de","schulserver.de","test-iserv.de","iserv.dev","mel.cloudlets.com.au","cloud.interhostsolutions.be","alp1.ae.flow.ch","appengine.flow.ch","es-1.axarnet.cloud","diadem.cloud","vip.jelastic.cloud","jele.cloud","it1.eur.aruba.jenv-aruba.cloud","it1.jenv-aruba.cloud","keliweb.cloud","cs.keliweb.cloud","oxa.cloud","tn.oxa.cloud","uk.oxa.cloud","primetel.cloud","uk.primetel.cloud","ca.reclaim.cloud","uk.reclaim.cloud","us.reclaim.cloud","ch.trendhosting.cloud","de.trendhosting.cloud","jele.club","dopaas.com","paas.hosted-by-previder.com","rag-cloud.hosteur.com","rag-cloud-ch.hosteur.com","jcloud.ik-server.com","jcloud-ver-jpc.ik-server.com","demo.jelastic.com","paas.massivegrid.com","jed.wafaicloud.com","ryd.wafaicloud.com","j.scaleforce.com.cy","jelastic.dogado.eu","fi.cloudplatform.fi","demo.datacenter.fi","paas.datacenter.fi","jele.host","mircloud.host","paas.beebyte.io","sekd1.beebyteapp.io","jele.io","jc.neen.it","jcloud.kz","cloudjiffy.net","fra1-de.cloudjiffy.net","west1-us.cloudjiffy.net","jls-sto1.elastx.net","jls-sto2.elastx.net","jls-sto3.elastx.net","fr-1.paas.massivegrid.net","lon-1.paas.massivegrid.net","lon-2.paas.massivegrid.net","ny-1.paas.massivegrid.net","ny-2.paas.massivegrid.net","sg-1.paas.massivegrid.net","jelastic.saveincloud.net","nordeste-idc.saveincloud.net","j.scaleforce.net","sdscloud.pl","unicloud.pl","mircloud.ru","enscaled.sg","jele.site","jelastic.team","orangecloud.tn","j.layershift.co.uk","phx.enscaled.us","mircloud.us","myjino.ru","*.hosting.myjino.ru","*.landing.myjino.ru","*.spectrum.myjino.ru","*.vps.myjino.ru","jotelulu.cloud","webadorsite.com","jouwweb.site","*.cns.joyent.com","*.triton.zone","js.org","kaas.gg","khplay.nl","kapsi.fi","ezproxy.kuleuven.be","kuleuven.cloud","keymachine.de","kinghost.net","uni5.net","knightpoint.systems","koobin.events","webthings.io","krellian.net","oya.to","git-repos.de","lcube-server.de","svn-repos.de","leadpages.co","lpages.co","lpusercontent.com","lelux.site","libp2p.direct","runcontainers.dev","co.business","co.education","co.events","co.financial","co.network","co.place","co.technology","linkyard-cloud.ch","linkyard.cloud","members.linode.com","*.nodebalancer.linode.com","*.linodeobjects.com","ip.linodeusercontent.com","we.bs","filegear-sg.me","ggff.net","*.user.localcert.dev","lodz.pl","pabianice.pl","plock.pl","sieradz.pl","skierniewice.pl","zgierz.pl","loginline.app","loginline.dev","loginline.io","loginline.services","loginline.site","lohmus.me","servers.run","krasnik.pl","leczna.pl","lubartow.pl","lublin.pl","poniatowa.pl","swidnik.pl","glug.org.uk","lug.org.uk","lugs.org.uk","barsy.bg","barsy.club","barsycenter.com","barsyonline.com","barsy.de","barsy.dev","barsy.eu","barsy.gr","barsy.in","barsy.info","barsy.io","barsy.me","barsy.menu","barsyonline.menu","barsy.mobi","barsy.net","barsy.online","barsy.org","barsy.pro","barsy.pub","barsy.ro","barsy.rs","barsy.shop","barsyonline.shop","barsy.site","barsy.store","barsy.support","barsy.uk","barsy.co.uk","barsyonline.co.uk","*.magentosite.cloud","hb.cldmail.ru","matlab.cloud","modelscape.com","mwcloudnonprod.com","polyspace.com","mayfirst.info","mayfirst.org","mazeplay.com","mcdir.me","mcdir.ru","vps.mcdir.ru","mcpre.ru","mediatech.by","mediatech.dev","hra.health","medusajs.app","miniserver.com","memset.net","messerli.app","atmeta.com","apps.fbsbx.com","*.cloud.metacentrum.cz","custom.metacentrum.cz","flt.cloud.muni.cz","usr.cloud.muni.cz","meteorapp.com","eu.meteorapp.com","co.pl","*.azurecontainer.io","azure-api.net","azure-mobile.net","azureedge.net","azurefd.net","azurestaticapps.net","1.azurestaticapps.net","2.azurestaticapps.net","3.azurestaticapps.net","4.azurestaticapps.net","5.azurestaticapps.net","6.azurestaticapps.net","7.azurestaticapps.net","centralus.azurestaticapps.net","eastasia.azurestaticapps.net","eastus2.azurestaticapps.net","westeurope.azurestaticapps.net","westus2.azurestaticapps.net","azurewebsites.net","cloudapp.net","trafficmanager.net","blob.core.windows.net","servicebus.windows.net","routingthecloud.com","sn.mynetname.net","routingthecloud.net","routingthecloud.org","csx.cc","mydbserver.com","webspaceconfig.de","mittwald.info","mittwaldserver.info","typo3server.info","project.space","modx.dev","bmoattachments.org","net.ru","org.ru","pp.ru","hostedpi.com","caracal.mythic-beasts.com","customer.mythic-beasts.com","fentiger.mythic-beasts.com","lynx.mythic-beasts.com","ocelot.mythic-beasts.com","oncilla.mythic-beasts.com","onza.mythic-beasts.com","sphinx.mythic-beasts.com","vs.mythic-beasts.com","x.mythic-beasts.com","yali.mythic-beasts.com","cust.retrosnub.co.uk","ui.nabu.casa","cloud.nospamproxy.com","netfy.app","netlify.app","4u.com","nfshost.com","ipfs.nftstorage.link","ngo.us","ngrok.app","ngrok-free.app","ngrok.dev","ngrok-free.dev","ngrok.io","ap.ngrok.io","au.ngrok.io","eu.ngrok.io","in.ngrok.io","jp.ngrok.io","sa.ngrok.io","us.ngrok.io","ngrok.pizza","ngrok.pro","torun.pl","nh-serv.co.uk","nimsite.uk","mmafan.biz","myftp.biz","no-ip.biz","no-ip.ca","fantasyleague.cc","gotdns.ch","3utilities.com","blogsyte.com","ciscofreak.com","damnserver.com","ddnsking.com","ditchyourip.com","dnsiskinky.com","dynns.com","geekgalaxy.com","health-carereform.com","homesecuritymac.com","homesecuritypc.com","myactivedirectory.com","mysecuritycamera.com","myvnc.com","net-freaks.com","onthewifi.com","point2this.com","quicksytes.com","securitytactics.com","servebeer.com","servecounterstrike.com","serveexchange.com","serveftp.com","servegame.com","servehalflife.com","servehttp.com","servehumour.com","serveirc.com","servemp3.com","servep2p.com","servepics.com","servequake.com","servesarcasm.com","stufftoread.com","unusualperson.com","workisboring.com","dvrcam.info","ilovecollege.info","no-ip.info","brasilia.me","ddns.me","dnsfor.me","hopto.me","loginto.me","noip.me","webhop.me","bounceme.net","ddns.net","eating-organic.net","mydissent.net","myeffect.net","mymediapc.net","mypsx.net","mysecuritycamera.net","nhlfan.net","no-ip.net","pgafan.net","privatizehealthinsurance.net","redirectme.net","serveblog.net","serveminecraft.net","sytes.net","cable-modem.org","collegefan.org","couchpotatofries.org","hopto.org","mlbfan.org","myftp.org","mysecuritycamera.org","nflfan.org","no-ip.org","read-books.org","ufcfan.org","zapto.org","no-ip.co.uk","golffan.us","noip.us","pointto.us","stage.nodeart.io","*.developer.app","noop.app","*.northflank.app","*.build.run","*.code.run","*.database.run","*.migration.run","noticeable.news","notion.site","dnsking.ch","mypi.co","n4t.co","001www.com","myiphost.com","forumz.info","soundcast.me","tcp4.me","dnsup.net","hicam.net","now-dns.net","ownip.net","vpndns.net","dynserv.org","now-dns.org","x443.pw","now-dns.top","ntdll.top","freeddns.us","nsupdate.info","nerdpol.ovh","nyc.mn","prvcy.page","obl.ong","observablehq.cloud","static.observableusercontent.com","omg.lol","cloudycluster.net","omniwe.site","123webseite.at","123website.be","simplesite.com.br","123website.ch","simplesite.com","123webseite.de","123hjemmeside.dk","123miweb.es","123kotisivu.fi","123siteweb.fr","simplesite.gr","123homepage.it","123website.lu","123website.nl","123hjemmeside.no","service.one","simplesite.pl","123paginaweb.pt","123minsida.se","is-a-fullstack.dev","is-cool.dev","is-not-a.dev","localplayer.dev","is-local.org","opensocial.site","opencraft.hosting","16-b.it","32-b.it","64-b.it","orsites.com","operaunite.com","*.customer-oci.com","*.oci.customer-oci.com","*.ocp.customer-oci.com","*.ocs.customer-oci.com","*.oraclecloudapps.com","*.oraclegovcloudapps.com","*.oraclegovcloudapps.uk","tech.orange","can.re","authgear-staging.com","authgearapps.com","skygearapp.com","outsystemscloud.com","*.hosting.ovh.net","*.webpaas.ovh.net","ownprovider.com","own.pm","*.owo.codes","ox.rs","oy.lc","pgfog.com","pagexl.com","gotpantheon.com","pantheonsite.io","*.paywhirl.com","*.xmit.co","xmit.dev","madethis.site","srv.us","gh.srv.us","gl.srv.us","lk3.ru","mypep.link","perspecta.cloud","on-web.fr","*.upsun.app","upsunapp.com","ent.platform.sh","eu.platform.sh","us.platform.sh","*.platformsh.site","*.tst.site","platter-app.com","platter-app.dev","platterp.us","pley.games","onporter.run","co.bn","postman-echo.com","pstmn.io","mock.pstmn.io","httpbin.org","prequalifyme.today","xen.prgmr.com","priv.at","protonet.io","chirurgiens-dentistes-en-france.fr","byen.site","pubtls.org","pythonanywhere.com","eu.pythonanywhere.com","qa2.com","qcx.io","*.sys.qcx.io","myqnapcloud.cn","alpha-myqnapcloud.com","dev-myqnapcloud.com","mycloudnas.com","mynascloud.com","myqnapcloud.com","qoto.io","qualifioapp.com","ladesk.com","qbuser.com","*.quipelements.com","vapor.cloud","vaporcloud.io","rackmaze.com","rackmaze.net","cloudsite.builders","myradweb.net","servername.us","web.in","in.net","myrdbx.io","site.rb-hosting.io","*.on-rancher.cloud","*.on-k3s.io","*.on-rio.io","ravpage.co.il","readthedocs-hosted.com","readthedocs.io","rhcloud.com","instances.spawn.cc","onrender.com","app.render.com","replit.app","id.replit.app","firewalledreplit.co","id.firewalledreplit.co","repl.co","id.repl.co","replit.dev","archer.replit.dev","bones.replit.dev","canary.replit.dev","global.replit.dev","hacker.replit.dev","id.replit.dev","janeway.replit.dev","kim.replit.dev","kira.replit.dev","kirk.replit.dev","odo.replit.dev","paris.replit.dev","picard.replit.dev","pike.replit.dev","prerelease.replit.dev","reed.replit.dev","riker.replit.dev","sisko.replit.dev","spock.replit.dev","staging.replit.dev","sulu.replit.dev","tarpit.replit.dev","teams.replit.dev","tucker.replit.dev","wesley.replit.dev","worf.replit.dev","repl.run","resindevice.io","devices.resinstaging.io","hzc.io","adimo.co.uk","itcouldbewor.se","aus.basketball","nz.basketball","git-pages.rit.edu","rocky.page","rub.de","ruhr-uni-bochum.de","io.noc.ruhr-uni-bochum.de",".",".",".",".",".",".",".",".",".",".","ras.ru","nyat.app","180r.com","dojin.com","sakuratan.com","sakuraweb.com","x0.com","2-d.jp","bona.jp","crap.jp","daynight.jp","eek.jp","flop.jp","halfmoon.jp","jeez.jp","matrix.jp","mimoza.jp","ivory.ne.jp","mail-box.ne.jp","mints.ne.jp","mokuren.ne.jp","opal.ne.jp","sakura.ne.jp","sumomo.ne.jp","topaz.ne.jp","netgamers.jp","nyanta.jp","o0o0.jp","rdy.jp","rgr.jp","rulez.jp","s3.isk01.sakurastorage.jp","s3.isk02.sakurastorage.jp","saloon.jp","sblo.jp","skr.jp","tank.jp","uh-oh.jp","undo.jp","rs.webaccel.jp","user.webaccel.jp","websozai.jp","xii.jp","squares.net","jpn.org","kirara.st","x0.to","from.tv","sakura.tv","*.builder.code.com","*.dev-builder.code.com","*.stg-builder.code.com","*.001.test.code-builder-stg.platform.salesforce.com","*.d.crm.dev","*.w.crm.dev","*.wa.crm.dev","*.wb.crm.dev","*.wc.crm.dev","*.wd.crm.dev","*.we.crm.dev","*.wf.crm.dev","sandcats.io","logoip.com","logoip.de","fr-par-1.baremetal.scw.cloud","fr-par-2.baremetal.scw.cloud","nl-ams-1.baremetal.scw.cloud","cockpit.fr-par.scw.cloud","fnc.fr-par.scw.cloud","functions.fnc.fr-par.scw.cloud","k8s.fr-par.scw.cloud","nodes.k8s.fr-par.scw.cloud","s3.fr-par.scw.cloud","s3-website.fr-par.scw.cloud","whm.fr-par.scw.cloud","priv.instances.scw.cloud","pub.instances.scw.cloud","k8s.scw.cloud","cockpit.nl-ams.scw.cloud","k8s.nl-ams.scw.cloud","nodes.k8s.nl-ams.scw.cloud","s3.nl-ams.scw.cloud","s3-website.nl-ams.scw.cloud","whm.nl-ams.scw.cloud","cockpit.pl-waw.scw.cloud","k8s.pl-waw.scw.cloud","nodes.k8s.pl-waw.scw.cloud","s3.pl-waw.scw.cloud","s3-website.pl-waw.scw.cloud","scalebook.scw.cloud","smartlabeling.scw.cloud","dedibox.fr","schokokeks.net","gov.scot","service.gov.scot","scrysec.com","client.scrypted.io","firewall-gateway.com","firewall-gateway.de","my-gateway.de","my-router.de","spdns.de","spdns.eu","firewall-gateway.net","my-firewall.org","myfirewall.org","spdns.org","seidat.net","sellfy.store","minisite.ms","senseering.net","servebolt.cloud","biz.ua","co.ua","pp.ua","as.sh.cn","sheezy.games","shiftedit.io","myshopblocks.com","myshopify.com","shopitsite.com","shopware.shop","shopware.store","mo-siemens.io","1kapp.com","appchizi.com","applinzi.com","sinaapp.com","vipsinaapp.com","siteleaf.net","small-web.org","aeroport.fr","avocat.fr","chambagri.fr","chirurgiens-dentistes.fr","experts-comptables.fr","medecin.fr","notaires.fr","pharmacien.fr","port.fr","veterinaire.fr","vp4.me","*.snowflake.app","*.privatelink.snowflake.app","streamlit.app","streamlitapp.com","try-snowplow.com","mafelo.net","playstation-cloud.com","srht.site","apps.lair.io","*.stolos.io","spacekit.io","ind.mom","customer.speedpartner.de","myspreadshop.at","myspreadshop.com.au","myspreadshop.be","myspreadshop.ca","myspreadshop.ch","myspreadshop.com","myspreadshop.de","myspreadshop.dk","myspreadshop.es","myspreadshop.fi","myspreadshop.fr","myspreadshop.ie","myspreadshop.it","myspreadshop.net","myspreadshop.nl","myspreadshop.no","myspreadshop.pl","myspreadshop.se","myspreadshop.co.uk","w-corp-staticblitz.com","w-credentialless-staticblitz.com","w-staticblitz.com","stackhero-network.com","runs.onstackit.cloud","stackit.gg","stackit.rocks","stackit.run","stackit.zone","musician.io","novecore.site","api.stdlib.com","feedback.ac","forms.ac","assessments.cx","calculators.cx","funnels.cx","paynow.cx","quizzes.cx","researched.cx","tests.cx","surveys.so","storebase.store","storipress.app","storj.farm","strapiapp.com","media.strapiapp.com","vps-host.net","atl.jelastic.vps-host.net","njs.jelastic.vps-host.net","ric.jelastic.vps-host.net","streak-link.com","streaklinks.com","streakusercontent.com","soc.srcf.net","user.srcf.net","utwente.io","temp-dns.com","supabase.co","supabase.in","supabase.net","syncloud.it","dscloud.biz","direct.quickconnect.cn","dsmynas.com","familyds.com","diskstation.me","dscloud.me","i234.me","myds.me","synology.me","dscloud.mobi","dsmynas.net","familyds.net","dsmynas.org","familyds.org","direct.quickconnect.to","vpnplus.to","mytabit.com","mytabit.co.il","tabitorder.co.il","taifun-dns.de","ts.net","*.c.ts.net","gda.pl","gdansk.pl","gdynia.pl","med.pl","sopot.pl","taveusercontent.com","p.tawk.email","p.tawkto.email","site.tb-hosting.com","edugit.io","s3.teckids.org","telebit.app","telebit.io","*.telebit.xyz","*.firenet.ch","*.svc.firenet.ch","reservd.com","thingdustdata.com","cust.dev.thingdust.io","reservd.dev.thingdust.io","cust.disrec.thingdust.io","reservd.disrec.thingdust.io","cust.prod.thingdust.io","cust.testing.thingdust.io","reservd.testing.thingdust.io","tickets.io","arvo.network","azimuth.network","tlon.network","torproject.net","pages.torproject.net","townnews-staging.com","12hp.at","2ix.at","4lima.at","lima-city.at","12hp.ch","2ix.ch","4lima.ch","lima-city.ch","trafficplex.cloud","de.cool","12hp.de","2ix.de","4lima.de","lima-city.de","1337.pictures","clan.rip","lima-city.rocks","webspace.rocks","lima.zone","*.transurl.be","*.transurl.eu","site.transip.me","*.transurl.nl","tuxfamily.org","dd-dns.de","dray-dns.de","draydns.de","dyn-vpn.de","dynvpn.de","mein-vigor.de","my-vigor.de","my-wan.de","syno-ds.de","synology-diskstation.de","synology-ds.de","diskstation.eu","diskstation.org","typedream.app","pro.typeform.com","*.uberspace.de","uber.space","hk.com","inc.hk","ltd.hk","hk.org","it.com","unison-services.cloud","virtual-user.de","virtualuser.de","name.pm","sch.tf","biz.wf","sch.wf","org.yt","rs.ba","bielsko.pl","upli.io","urown.cloud","dnsupdate.info","us.org","v.ua","express.val.run","web.val.run","vercel.app","v0.build","vercel.dev","vusercontent.net","now.sh","2038.io","router.management","v-info.info","voorloper.cloud","*.vultrobjects.com","wafflecell.com","webflow.io","webflowtest.io","*.webhare.dev","bookonline.app","hotelwithflight.com","reserve-online.com","reserve-online.net","cprapid.com","pleskns.com","wp2.host","pdns.page","plesk.page","wpsquared.site","*.wadl.top","remotewd.com","box.ca","pages.wiardweb.com","toolforge.org","wmcloud.org","wmflabs.org","wdh.app","panel.gg","daemon.panel.gg","wixsite.com","wixstudio.com","editorx.io","wixstudio.io","wix.run","messwithdns.com","woltlab-demo.com","myforum.community","community-pro.de","diskussionsbereich.de","community-pro.net","meinforum.net","affinitylottery.org.uk","raffleentry.org.uk","weeklylottery.org.uk","wpenginepowered.com","js.wpenginepowered.com","half.host","xnbay.com","u2.xnbay.com","u2-local.xnbay.com","cistron.nl","demon.nl","xs4all.space","yandexcloud.net","storage.yandexcloud.net","website.yandexcloud.net","official.academy","yolasite.com","yombo.me","ynh.fr","nohost.me","noho.st","za.net","za.org","zap.cloud","zeabur.app","bss.design","basicserver.io","virtualserver.io","enterprisecloud.nu"],rm=nm.reduce((pm,mm)=>{const _m=mm.replace(/^(\*\.|\!)/,""),ym=tm.toASCII(_m),Sm=mm.charAt(0);if(pm.has(ym))throw new Error(`Multiple rules found for ${mm} (${ym})`);return pm.set(ym,{rule:mm,suffix:_m,punySuffix:ym,wildcard:Sm==="*",exception:Sm==="!"}),pm},new Map),om=pm=>{const mm=tm.toASCII(pm).split(".");for(let _m=0;_m<mm.length;_m++){const ym=mm.slice(_m).join("."),Sm=rm.get(ym);if(Sm)return Sm}return null},im={DOMAIN_TOO_SHORT:"Domain name too short.",DOMAIN_TOO_LONG:"Domain name too long. It should be no more than 255 chars.",LABEL_STARTS_WITH_DASH:"Domain name label can not start with a dash.",LABEL_ENDS_WITH_DASH:"Domain name label can not end with a dash.",LABEL_TOO_LONG:"Domain name label should be at most 63 chars long.",LABEL_TOO_SHORT:"Domain name label should be at least 1 character long.",LABEL_INVALID_CHARS:"Domain name label can only contain alphanumeric characters or dashes."},am=pm=>{const mm=tm.toASCII(pm);if(mm.length<1)return"DOMAIN_TOO_SHORT";if(mm.length>255)return"DOMAIN_TOO_LONG";const _m=mm.split(".");let ym;for(let Sm=0;Sm<_m.length;++Sm){if(ym=_m[Sm],!ym.length)return"LABEL_TOO_SHORT";if(ym.length>63)return"LABEL_TOO_LONG";if(ym.charAt(0)==="-")return"LABEL_STARTS_WITH_DASH";if(ym.charAt(ym.length-1)==="-")return"LABEL_ENDS_WITH_DASH";if(!/^[a-z0-9\-_]+$/.test(ym))return"LABEL_INVALID_CHARS"}},sm=pm=>{if(typeof pm!="string")throw new TypeError("Domain name must be a string.");let mm=pm.slice(0).toLowerCase();mm.charAt(mm.length-1)==="."&&(mm=mm.slice(0,mm.length-1));const _m=am(mm);if(_m)return{input:pm,error:{message:im[_m],code:_m}};const ym={input:pm,tld:null,sld:null,domain:null,subdomain:null,listed:!1},Sm=mm.split(".");if(Sm[Sm.length-1]==="local")return ym;const jm=()=>(/xn--/.test(mm)&&(ym.domain&&(ym.domain=tm.toASCII(ym.domain)),ym.subdomain&&(ym.subdomain=tm.toASCII(ym.subdomain))),ym),Pm=om(mm);if(!Pm)return Sm.length<2?ym:(ym.tld=Sm.pop(),ym.sld=Sm.pop(),ym.domain=[ym.sld,ym.tld].join("."),Sm.length&&(ym.subdomain=Sm.pop()),jm());ym.listed=!0;const Bm=Pm.suffix.split("."),qm=Sm.slice(0,Sm.length-Bm.length);return Pm.exception&&qm.push(Bm.shift()),ym.tld=Bm.join("."),!qm.length||(Pm.wildcard&&(Bm.unshift(qm.pop()),ym.tld=Bm.join(".")),!qm.length)||(ym.sld=qm.pop(),ym.domain=[ym.sld,ym.tld].join("."),qm.length&&(ym.subdomain=qm.join("."))),jm()},cm=pm=>pm&&sm(pm).domain||null,hm=pm=>{const mm=sm(pm);return!!(mm.domain&&mm.listed)},fm={parse:sm,get:cm,isValid:hm};r.default=fm,r.errorCodes=im,r.get=cm,r.isValid=hm,r.parse=sm}(psl)),psl}var hasRequiredPubsuffixPsl;function requirePubsuffixPsl(){if(hasRequiredPubsuffixPsl)return pubsuffixPsl;hasRequiredPubsuffixPsl=1;const r=requirePsl(),s=["local","example","invalid","localhost","test"],sf=["localhost","invalid"];function Nf(ip,em={}){const tm=ip.split("."),nm=tm[tm.length-1],rm=!!em.allowSpecialUseDomain,om=!!em.ignoreError;if(rm&&s.includes(nm)){if(tm.length>1)return`${tm[tm.length-2]}.${nm}`;if(sf.includes(nm))return`${nm}`}if(!om&&s.includes(nm))throw new Error(`Cookie has domain set to the public suffix "${nm}" which is a special use domain. To allow this, configure your CookieJar with {allowSpecialUseDomain:true, rejectPublicSuffixes: false}.`);return r.get(ip)}return pubsuffixPsl.getPublicSuffix=Nf,pubsuffixPsl}var store={};var hasRequiredStore;function requireStore(){if(hasRequiredStore)return store;hasRequiredStore=1;class r{constructor(){this.synchronous=!1}findCookie(sf,Nf,ip,em){throw new Error("findCookie is not implemented")}findCookies(sf,Nf,ip,em){throw new Error("findCookies is not implemented")}putCookie(sf,Nf){throw new Error("putCookie is not implemented")}updateCookie(sf,Nf,ip){throw new Error("updateCookie is not implemented")}removeCookie(sf,Nf,ip,em){throw new Error("removeCookie is not implemented")}removeCookies(sf,Nf,ip){throw new Error("removeCookies is not implemented")}removeAllCookies(sf){throw new Error("removeAllCookies is not implemented")}getAllCookies(sf){throw new Error("getAllCookies is not implemented (therefore jar cannot be serialized)")}}return store.Store=r,store}var memstore={},universalify={},hasRequiredUniversalify;function requireUniversalify(){return hasRequiredUniversalify||(hasRequiredUniversalify=1,universalify.fromCallback=function(r){return Object.defineProperty(function(){if(typeof arguments[arguments.length-1]=="function")r.apply(this,arguments);else return new Promise((s,sf)=>{arguments[arguments.length]=(Nf,ip)=>{if(Nf)return sf(Nf);s(ip)},arguments.length++,r.apply(this,arguments)})},"name",{value:r.name})},universalify.fromPromise=function(r){return Object.defineProperty(function(){const s=arguments[arguments.length-1];if(typeof s!="function")return r.apply(this,arguments);delete arguments[arguments.length-1],arguments.length--,r.apply(this,arguments).then(sf=>s(null,sf),s)},"name",{value:r.name})}),universalify}var permuteDomain={};var hasRequiredPermuteDomain;function requirePermuteDomain(){if(hasRequiredPermuteDomain)return permuteDomain;hasRequiredPermuteDomain=1;const r=requirePubsuffixPsl();function s(sf,Nf){const ip=r.getPublicSuffix(sf,{allowSpecialUseDomain:Nf});if(!ip)return null;if(ip==sf)return[sf];sf.slice(-1)=="."&&(sf=sf.slice(0,-1));const tm=sf.slice(0,-(ip.length+1)).split(".").reverse();let nm=ip;const rm=[nm];for(;tm.length;)nm=`${tm.shift()}.${nm}`,rm.push(nm);return rm}return permuteDomain.permuteDomain=s,permuteDomain}var pathMatch={};var hasRequiredPathMatch;function requirePathMatch(){if(hasRequiredPathMatch)return pathMatch;hasRequiredPathMatch=1;function r(s,sf){return sf===s||s.indexOf(sf)===0&&(sf.substr(-1)==="/"||s.substr(sf.length,1)==="/")}return pathMatch.pathMatch=r,pathMatch}var utilHelper={},util={},types={},shams$1,hasRequiredShams$1;function requireShams$1(){return hasRequiredShams$1||(hasRequiredShams$1=1,shams$1=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var s={},sf=Symbol("test"),Nf=Object(sf);if(typeof sf=="string"||Object.prototype.toString.call(sf)!=="[object Symbol]"||Object.prototype.toString.call(Nf)!=="[object Symbol]")return!1;var ip=42;s[sf]=ip;for(var em in s)return!1;if(typeof Object.keys=="function"&&Object.keys(s).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(s).length!==0)return!1;var tm=Object.getOwnPropertySymbols(s);if(tm.length!==1||tm[0]!==sf||!Object.prototype.propertyIsEnumerable.call(s,sf))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var nm=(Object.getOwnPropertyDescriptor(s,sf));if(nm.value!==ip||nm.enumerable!==!0)return!1}return!0}),shams$1}var shams,hasRequiredShams;function requireShams(){if(hasRequiredShams)return shams;hasRequiredShams=1;var r=requireShams$1();return shams=function(){return r()&&!!Symbol.toStringTag},shams}var esObjectAtoms,hasRequiredEsObjectAtoms;function requireEsObjectAtoms(){return hasRequiredEsObjectAtoms||(hasRequiredEsObjectAtoms=1,esObjectAtoms=Object),esObjectAtoms}var esErrors,hasRequiredEsErrors;function requireEsErrors(){return hasRequiredEsErrors||(hasRequiredEsErrors=1,esErrors=Error),esErrors}var _eval,hasRequired_eval;function require_eval(){return hasRequired_eval||(hasRequired_eval=1,_eval=EvalError),_eval}var range$1,hasRequiredRange;function requireRange(){return hasRequiredRange||(hasRequiredRange=1,range$1=RangeError),range$1}var ref,hasRequiredRef;function requireRef(){return hasRequiredRef||(hasRequiredRef=1,ref=ReferenceError),ref}var syntax,hasRequiredSyntax;function requireSyntax(){return hasRequiredSyntax||(hasRequiredSyntax=1,syntax=SyntaxError),syntax}var type$1,hasRequiredType;function requireType(){return hasRequiredType||(hasRequiredType=1,type$1=TypeError),type$1}var uri,hasRequiredUri;function requireUri(){return hasRequiredUri||(hasRequiredUri=1,uri=URIError),uri}var abs,hasRequiredAbs;function requireAbs(){return hasRequiredAbs||(hasRequiredAbs=1,abs=Math.abs),abs}var floor,hasRequiredFloor;function requireFloor(){return hasRequiredFloor||(hasRequiredFloor=1,floor=Math.floor),floor}var max,hasRequiredMax;function requireMax(){return hasRequiredMax||(hasRequiredMax=1,max=Math.max),max}var min,hasRequiredMin;function requireMin(){return hasRequiredMin||(hasRequiredMin=1,min=Math.min),min}var pow$1,hasRequiredPow;function requirePow(){return hasRequiredPow||(hasRequiredPow=1,pow$1=Math.pow),pow$1}var round,hasRequiredRound;function requireRound(){return hasRequiredRound||(hasRequiredRound=1,round=Math.round),round}var _isNaN,hasRequired_isNaN;function require_isNaN(){return hasRequired_isNaN||(hasRequired_isNaN=1,_isNaN=Number.isNaN||function(s){return s!==s}),_isNaN}var sign$1,hasRequiredSign;function requireSign(){if(hasRequiredSign)return sign$1;hasRequiredSign=1;var r=require_isNaN();return sign$1=function(sf){return r(sf)||sf===0?sf:sf<0?-1:1},sign$1}var gOPD,hasRequiredGOPD;function requireGOPD(){return hasRequiredGOPD||(hasRequiredGOPD=1,gOPD=Object.getOwnPropertyDescriptor),gOPD}var gopd,hasRequiredGopd;function requireGopd(){if(hasRequiredGopd)return gopd;hasRequiredGopd=1;var r=requireGOPD();if(r)try{r([],"length")}catch{r=null}return gopd=r,gopd}var esDefineProperty,hasRequiredEsDefineProperty;function requireEsDefineProperty(){if(hasRequiredEsDefineProperty)return esDefineProperty;hasRequiredEsDefineProperty=1;var r=Object.defineProperty||!1;if(r)try{r({},"a",{value:1})}catch{r=!1}return esDefineProperty=r,esDefineProperty}var hasSymbols,hasRequiredHasSymbols;function requireHasSymbols(){if(hasRequiredHasSymbols)return hasSymbols;hasRequiredHasSymbols=1;var r=typeof Symbol<"u"&&Symbol,s=requireShams$1();return hasSymbols=function(){return typeof r!="function"||typeof Symbol!="function"||typeof r("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:s()},hasSymbols}var Reflect_getPrototypeOf,hasRequiredReflect_getPrototypeOf;function requireReflect_getPrototypeOf(){return hasRequiredReflect_getPrototypeOf||(hasRequiredReflect_getPrototypeOf=1,Reflect_getPrototypeOf=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),Reflect_getPrototypeOf}var Object_getPrototypeOf,hasRequiredObject_getPrototypeOf;function requireObject_getPrototypeOf(){if(hasRequiredObject_getPrototypeOf)return Object_getPrototypeOf;hasRequiredObject_getPrototypeOf=1;var r=requireEsObjectAtoms();return Object_getPrototypeOf=r.getPrototypeOf||null,Object_getPrototypeOf}var implementation,hasRequiredImplementation;function requireImplementation(){if(hasRequiredImplementation)return implementation;hasRequiredImplementation=1;var r="Function.prototype.bind called on incompatible ",s=Object.prototype.toString,sf=Math.max,Nf="[object Function]",ip=function(rm,om){for(var im=[],am=0;am<rm.length;am+=1)im[am]=rm[am];for(var sm=0;sm<om.length;sm+=1)im[sm+rm.length]=om[sm];return im},em=function(rm,om){for(var im=[],am=om,sm=0;am<rm.length;am+=1,sm+=1)im[sm]=rm[am];return im},tm=function(nm,rm){for(var om="",im=0;im<nm.length;im+=1)om+=nm[im],im+1<nm.length&&(om+=rm);return om};return implementation=function(rm){var om=this;if(typeof om!="function"||s.apply(om)!==Nf)throw new TypeError(r+om);for(var im=em(arguments,1),am,sm=function(){if(this instanceof am){var mm=om.apply(this,ip(im,arguments));return Object(mm)===mm?mm:this}return om.apply(rm,ip(im,arguments))},cm=sf(0,om.length-im.length),hm=[],fm=0;fm<cm;fm++)hm[fm]="$"+fm;if(am=Function("binder","return function ("+tm(hm,",")+"){ return binder.apply(this,arguments); }")(sm),om.prototype){var pm=function(){};pm.prototype=om.prototype,am.prototype=new pm,pm.prototype=null}return am},implementation}var functionBind,hasRequiredFunctionBind;function requireFunctionBind(){if(hasRequiredFunctionBind)return functionBind;hasRequiredFunctionBind=1;var r=requireImplementation();return functionBind=Function.prototype.bind||r,functionBind}var functionCall,hasRequiredFunctionCall;function requireFunctionCall(){return hasRequiredFunctionCall||(hasRequiredFunctionCall=1,functionCall=Function.prototype.call),functionCall}var functionApply,hasRequiredFunctionApply;function requireFunctionApply(){return hasRequiredFunctionApply||(hasRequiredFunctionApply=1,functionApply=Function.prototype.apply),functionApply}var reflectApply,hasRequiredReflectApply;function requireReflectApply(){return hasRequiredReflectApply||(hasRequiredReflectApply=1,reflectApply=typeof Reflect<"u"&&Reflect&&Reflect.apply),reflectApply}var actualApply,hasRequiredActualApply;function requireActualApply(){if(hasRequiredActualApply)return actualApply;hasRequiredActualApply=1;var r=requireFunctionBind(),s=requireFunctionApply(),sf=requireFunctionCall(),Nf=requireReflectApply();return actualApply=Nf||r.call(sf,s),actualApply}var callBindApplyHelpers,hasRequiredCallBindApplyHelpers;function requireCallBindApplyHelpers(){if(hasRequiredCallBindApplyHelpers)return callBindApplyHelpers;hasRequiredCallBindApplyHelpers=1;var r=requireFunctionBind(),s=requireType(),sf=requireFunctionCall(),Nf=requireActualApply();return callBindApplyHelpers=function(em){if(em.length<1||typeof em[0]!="function")throw new s("a function is required");return Nf(r,sf,em)},callBindApplyHelpers}var get,hasRequiredGet;function requireGet(){if(hasRequiredGet)return get;hasRequiredGet=1;var r=requireCallBindApplyHelpers(),s=requireGopd(),sf;try{sf=[].__proto__===Array.prototype}catch(tm){if(!tm||typeof tm!="object"||!("code"in tm)||tm.code!=="ERR_PROTO_ACCESS")throw tm}var Nf=!!sf&&s&&s(Object.prototype,"__proto__"),ip=Object,em=ip.getPrototypeOf;return get=Nf&&typeof Nf.get=="function"?r([Nf.get]):typeof em=="function"?(function(nm){return em(nm==null?nm:ip(nm))}):!1,get}var getProto,hasRequiredGetProto;function requireGetProto(){if(hasRequiredGetProto)return getProto;hasRequiredGetProto=1;var r=requireReflect_getPrototypeOf(),s=requireObject_getPrototypeOf(),sf=requireGet();return getProto=r?function(ip){return r(ip)}:s?function(ip){if(!ip||typeof ip!="object"&&typeof ip!="function")throw new TypeError("getProto: not an object");return s(ip)}:sf?function(ip){return sf(ip)}:null,getProto}var hasown,hasRequiredHasown;function requireHasown(){if(hasRequiredHasown)return hasown;hasRequiredHasown=1;var r=Function.prototype.call,s=Object.prototype.hasOwnProperty,sf=requireFunctionBind();return hasown=sf.call(r,s),hasown}var getIntrinsic,hasRequiredGetIntrinsic;function requireGetIntrinsic(){if(hasRequiredGetIntrinsic)return getIntrinsic;hasRequiredGetIntrinsic=1;var r,s=requireEsObjectAtoms(),sf=requireEsErrors(),Nf=require_eval(),ip=requireRange(),em=requireRef(),tm=requireSyntax(),nm=requireType(),rm=requireUri(),om=requireAbs(),im=requireFloor(),am=requireMax(),sm=requireMin(),cm=requirePow(),hm=requireRound(),fm=requireSign(),pm=Function,mm=function(Km){try{return pm('"use strict"; return ('+Km+").constructor;")()}catch{}},_m=requireGopd(),ym=requireEsDefineProperty(),Sm=function(){throw new nm},jm=_m?function(){try{return arguments.callee,Sm}catch{try{return _m(arguments,"callee").get}catch{return Sm}}}():Sm,Pm=requireHasSymbols()(),Bm=requireGetProto(),qm=requireObject_getPrototypeOf(),Rm=requireReflect_getPrototypeOf(),Dm=requireFunctionApply(),Um=requireFunctionCall(),Lm={},Im=typeof Uint8Array>"u"||!Bm?r:Bm(Uint8Array),dm={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?r:ArrayBuffer,"%ArrayIteratorPrototype%":Pm&&Bm?Bm([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":Lm,"%AsyncGenerator%":Lm,"%AsyncGeneratorFunction%":Lm,"%AsyncIteratorPrototype%":Lm,"%Atomics%":typeof Atomics>"u"?r:Atomics,"%BigInt%":typeof BigInt>"u"?r:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?r:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":sf,"%eval%":eval,"%EvalError%":Nf,"%Float16Array%":typeof Float16Array>"u"?r:Float16Array,"%Float32Array%":typeof Float32Array>"u"?r:Float32Array,"%Float64Array%":typeof Float64Array>"u"?r:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?r:FinalizationRegistry,"%Function%":pm,"%GeneratorFunction%":Lm,"%Int8Array%":typeof Int8Array>"u"?r:Int8Array,"%Int16Array%":typeof Int16Array>"u"?r:Int16Array,"%Int32Array%":typeof Int32Array>"u"?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Pm&&Bm?Bm(Bm([][Symbol.iterator]())):r,"%JSON%":typeof JSON=="object"?JSON:r,"%Map%":typeof Map>"u"?r:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Pm||!Bm?r:Bm((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":s,"%Object.getOwnPropertyDescriptor%":_m,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?r:Promise,"%Proxy%":typeof Proxy>"u"?r:Proxy,"%RangeError%":ip,"%ReferenceError%":em,"%Reflect%":typeof Reflect>"u"?r:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?r:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Pm||!Bm?r:Bm((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Pm&&Bm?Bm(""[Symbol.iterator]()):r,"%Symbol%":Pm?Symbol:r,"%SyntaxError%":tm,"%ThrowTypeError%":jm,"%TypedArray%":Im,"%TypeError%":nm,"%Uint8Array%":typeof Uint8Array>"u"?r:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?r:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?r:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?r:Uint32Array,"%URIError%":rm,"%WeakMap%":typeof WeakMap>"u"?r:WeakMap,"%WeakRef%":typeof WeakRef>"u"?r:WeakRef,"%WeakSet%":typeof WeakSet>"u"?r:WeakSet,"%Function.prototype.call%":Um,"%Function.prototype.apply%":Dm,"%Object.defineProperty%":ym,"%Object.getPrototypeOf%":qm,"%Math.abs%":om,"%Math.floor%":im,"%Math.max%":am,"%Math.min%":sm,"%Math.pow%":cm,"%Math.round%":hm,"%Math.sign%":fm,"%Reflect.getPrototypeOf%":Rm};if(Bm)try{null.error}catch(Km){var gm=Bm(Bm(Km));dm["%Error.prototype%"]=gm}var km=function Km(Zm){var Vm;if(Zm==="%AsyncFunction%")Vm=mm("async function () {}");else if(Zm==="%GeneratorFunction%")Vm=mm("function* () {}");else if(Zm==="%AsyncGeneratorFunction%")Vm=mm("async function* () {}");else if(Zm==="%AsyncGenerator%"){var zm=Km("%AsyncGeneratorFunction%");zm&&(Vm=zm.prototype)}else if(Zm==="%AsyncIteratorPrototype%"){var Wm=Km("%AsyncGenerator%");Wm&&Bm&&(Vm=Bm(Wm.prototype))}return dm[Zm]=Vm,Vm},Mm={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},bm=requireFunctionBind(),Em=requireHasown(),$m=bm.call(Um,Array.prototype.concat),Am=bm.call(Dm,Array.prototype.splice),lm=bm.call(Um,String.prototype.replace),um=bm.call(Um,String.prototype.slice),wm=bm.call(Um,RegExp.prototype.exec),xm=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Tm=/\\(\\)?/g,Om=function(Zm){var Vm=um(Zm,0,1),zm=um(Zm,-1);if(Vm==="%"&&zm!=="%")throw new tm("invalid intrinsic syntax, expected closing `%`");if(zm==="%"&&Vm!=="%")throw new tm("invalid intrinsic syntax, expected opening `%`");var Wm=[];return lm(Zm,xm,function(Ym,Qm,mg,bg){Wm[Wm.length]=mg?lm(bg,Tm,"$1"):Qm||Ym}),Wm},Hm=function(Zm,Vm){var zm=Zm,Wm;if(Em(Mm,zm)&&(Wm=Mm[zm],zm="%"+Wm[0]+"%"),Em(dm,zm)){var Ym=dm[zm];if(Ym===Lm&&(Ym=km(zm)),typeof Ym>"u"&&!Vm)throw new nm("intrinsic "+Zm+" exists, but is not available. Please file an issue!");return{alias:Wm,name:zm,value:Ym}}throw new tm("intrinsic "+Zm+" does not exist!")};return getIntrinsic=function(Zm,Vm){if(typeof Zm!="string"||Zm.length===0)throw new nm("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof Vm!="boolean")throw new nm('"allowMissing" argument must be a boolean');if(wm(/^%?[^%]*%?$/,Zm)===null)throw new tm("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var zm=Om(Zm),Wm=zm.length>0?zm[0]:"",Ym=Hm("%"+Wm+"%",Vm),Qm=Ym.name,mg=Ym.value,bg=!1,vg=Ym.alias;vg&&(Wm=vg[0],Am(zm,$m([0,1],vg)));for(var Xm=1,Eg=!0;Xm<zm.length;Xm+=1){var _g=zm[Xm],Ag=um(_g,0,1),kg=um(_g,-1);if((Ag==='"'||Ag==="'"||Ag==="`"||kg==='"'||kg==="'"||kg==="`")&&Ag!==kg)throw new tm("property names with quotes must have matching quotes");if((_g==="constructor"||!Eg)&&(bg=!0),Wm+="."+_g,Qm="%"+Wm+"%",Em(dm,Qm))mg=dm[Qm];else if(mg!=null){if(!(_g in mg)){if(!Vm)throw new nm("base intrinsic for "+Zm+" exists, but the property is not available.");return}if(_m&&Xm+1>=zm.length){var xg=_m(mg,_g);Eg=!!xg,Eg&&"get"in xg&&!("originalValue"in xg.get)?mg=xg.get:mg=mg[_g]}else Eg=Em(mg,_g),mg=mg[_g];Eg&&!bg&&(dm[Qm]=mg)}}return mg},getIntrinsic}var callBound,hasRequiredCallBound;function requireCallBound(){if(hasRequiredCallBound)return callBound;hasRequiredCallBound=1;var r=requireGetIntrinsic(),s=requireCallBindApplyHelpers(),sf=s([r("%String.prototype.indexOf%")]);return callBound=function(ip,em){var tm=(r(ip,!!em));return typeof tm=="function"&&sf(ip,".prototype.")>-1?s([tm]):tm},callBound}var isArguments,hasRequiredIsArguments;function requireIsArguments(){if(hasRequiredIsArguments)return isArguments;hasRequiredIsArguments=1;var r=requireShams()(),s=requireCallBound(),sf=s("Object.prototype.toString"),Nf=function(nm){return r&&nm&&typeof nm=="object"&&Symbol.toStringTag in nm?!1:sf(nm)==="[object Arguments]"},ip=function(nm){return Nf(nm)?!0:nm!==null&&typeof nm=="object"&&"length"in nm&&typeof nm.length=="number"&&nm.length>=0&&sf(nm)!=="[object Array]"&&"callee"in nm&&sf(nm.callee)==="[object Function]"},em=function(){return Nf(arguments)}();return Nf.isLegacyArguments=ip,isArguments=em?Nf:ip,isArguments}var isRegex,hasRequiredIsRegex;function requireIsRegex(){if(hasRequiredIsRegex)return isRegex;hasRequiredIsRegex=1;var r=requireCallBound(),s=requireShams()(),sf=requireHasown(),Nf=requireGopd(),ip;if(s){var em=r("RegExp.prototype.exec"),tm={},nm=function(){throw tm},rm={toString:nm,valueOf:nm};typeof Symbol.toPrimitive=="symbol"&&(rm[Symbol.toPrimitive]=nm),ip=function(sm){if(!sm||typeof sm!="object")return!1;var cm=(Nf(sm,"lastIndex")),hm=cm&&sf(cm,"value");if(!hm)return!1;try{em(sm,rm)}catch(fm){return fm===tm}}}else{var om=r("Object.prototype.toString"),im="[object RegExp]";ip=function(sm){return!sm||typeof sm!="object"&&typeof sm!="function"?!1:om(sm)===im}}return isRegex=ip,isRegex}var safeRegexTest,hasRequiredSafeRegexTest;function requireSafeRegexTest(){if(hasRequiredSafeRegexTest)return safeRegexTest;hasRequiredSafeRegexTest=1;var r=requireCallBound(),s=requireIsRegex(),sf=r("RegExp.prototype.exec"),Nf=requireType();return safeRegexTest=function(em){if(!s(em))throw new Nf("`regex` must be a RegExp");return function(nm){return sf(em,nm)!==null}},safeRegexTest}var isGeneratorFunction,hasRequiredIsGeneratorFunction;function requireIsGeneratorFunction(){if(hasRequiredIsGeneratorFunction)return isGeneratorFunction;hasRequiredIsGeneratorFunction=1;var r=requireCallBound(),s=requireSafeRegexTest(),sf=s(/^\s*(?:function)?\*/),Nf=requireShams()(),ip=requireGetProto(),em=r("Object.prototype.toString"),tm=r("Function.prototype.toString"),nm=function(){if(!Nf)return!1;try{return Function("return function*() {}")()}catch{}},rm;return isGeneratorFunction=function(im){if(typeof im!="function")return!1;if(sf(tm(im)))return!0;if(!Nf){var am=em(im);return am==="[object GeneratorFunction]"}if(!ip)return!1;if(typeof rm>"u"){var sm=nm();rm=sm?(ip(sm)):!1}return ip(im)===rm},isGeneratorFunction}var isCallable,hasRequiredIsCallable;function requireIsCallable(){if(hasRequiredIsCallable)return isCallable;hasRequiredIsCallable=1;var r=Function.prototype.toString,s=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,sf,Nf;if(typeof s=="function"&&typeof Object.defineProperty=="function")try{sf=Object.defineProperty({},"length",{get:function(){throw Nf}}),Nf={},s(function(){throw 42},null,sf)}catch(_m){_m!==Nf&&(s=null)}else s=null;var ip=/^\s*class\b/,em=function(ym){try{var Sm=r.call(ym);return ip.test(Sm)}catch{return!1}},tm=function(ym){try{return em(ym)?!1:(r.call(ym),!0)}catch{return!1}},nm=Object.prototype.toString,rm="[object Object]",om="[object Function]",im="[object GeneratorFunction]",am="[object HTMLAllCollection]",sm="[object HTML document.all class]",cm="[object HTMLCollection]",hm=typeof Symbol=="function"&&!!Symbol.toStringTag,fm=!(0 in[,]),pm=function(){return!1};if(typeof document=="object"){var mm=document.all;nm.call(mm)===nm.call(document.all)&&(pm=function(ym){if((fm||!ym)&&(typeof ym>"u"||typeof ym=="object"))try{var Sm=nm.call(ym);return(Sm===am||Sm===sm||Sm===cm||Sm===rm)&&ym("")==null}catch{}return!1})}return isCallable=s?function(ym){if(pm(ym))return!0;if(!ym||typeof ym!="function"&&typeof ym!="object")return!1;try{s(ym,null,sf)}catch(Sm){if(Sm!==Nf)return!1}return!em(ym)&&tm(ym)}:function(ym){if(pm(ym))return!0;if(!ym||typeof ym!="function"&&typeof ym!="object")return!1;if(hm)return tm(ym);if(em(ym))return!1;var Sm=nm.call(ym);return Sm!==om&&Sm!==im&&!/^\[object HTML/.test(Sm)?!1:tm(ym)},isCallable}var forEach,hasRequiredForEach;function requireForEach(){if(hasRequiredForEach)return forEach;hasRequiredForEach=1;var r=requireIsCallable(),s=Object.prototype.toString,sf=Object.prototype.hasOwnProperty,Nf=function(rm,om,im){for(var am=0,sm=rm.length;am<sm;am++)sf.call(rm,am)&&(im==null?om(rm[am],am,rm):om.call(im,rm[am],am,rm))},ip=function(rm,om,im){for(var am=0,sm=rm.length;am<sm;am++)im==null?om(rm.charAt(am),am,rm):om.call(im,rm.charAt(am),am,rm)},em=function(rm,om,im){for(var am in rm)sf.call(rm,am)&&(im==null?om(rm[am],am,rm):om.call(im,rm[am],am,rm))};function tm(nm){return s.call(nm)==="[object Array]"}return forEach=function(rm,om,im){if(!r(om))throw new TypeError("iterator must be a function");var am;arguments.length>=3&&(am=im),tm(rm)?Nf(rm,om,am):typeof rm=="string"?ip(rm,om,am):em(rm,om,am)},forEach}var possibleTypedArrayNames,hasRequiredPossibleTypedArrayNames;function requirePossibleTypedArrayNames(){return hasRequiredPossibleTypedArrayNames||(hasRequiredPossibleTypedArrayNames=1,possibleTypedArrayNames=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),possibleTypedArrayNames}var availableTypedArrays,hasRequiredAvailableTypedArrays;function requireAvailableTypedArrays(){if(hasRequiredAvailableTypedArrays)return availableTypedArrays;hasRequiredAvailableTypedArrays=1;var r=requirePossibleTypedArrayNames(),s=globalThis;return availableTypedArrays=function(){for(var Nf=[],ip=0;ip<r.length;ip++)typeof s[r[ip]]=="function"&&(Nf[Nf.length]=r[ip]);return Nf},availableTypedArrays}var callBind={exports:{}},defineDataProperty,hasRequiredDefineDataProperty;function requireDefineDataProperty(){if(hasRequiredDefineDataProperty)return defineDataProperty;hasRequiredDefineDataProperty=1;var r=requireEsDefineProperty(),s=requireSyntax(),sf=requireType(),Nf=requireGopd();return defineDataProperty=function(em,tm,nm){if(!em||typeof em!="object"&&typeof em!="function")throw new sf("`obj` must be an object or a function`");if(typeof tm!="string"&&typeof tm!="symbol")throw new sf("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new sf("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new sf("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new sf("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new sf("`loose`, if provided, must be a boolean");var rm=arguments.length>3?arguments[3]:null,om=arguments.length>4?arguments[4]:null,im=arguments.length>5?arguments[5]:null,am=arguments.length>6?arguments[6]:!1,sm=!!Nf&&Nf(em,tm);if(r)r(em,tm,{configurable:im===null&&sm?sm.configurable:!im,enumerable:rm===null&&sm?sm.enumerable:!rm,value:nm,writable:om===null&&sm?sm.writable:!om});else if(am||!rm&&!om&&!im)em[tm]=nm;else throw new s("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},defineDataProperty}var hasPropertyDescriptors_1,hasRequiredHasPropertyDescriptors;function requireHasPropertyDescriptors(){if(hasRequiredHasPropertyDescriptors)return hasPropertyDescriptors_1;hasRequiredHasPropertyDescriptors=1;var r=requireEsDefineProperty(),s=function(){return!!r};return s.hasArrayLengthDefineBug=function(){if(!r)return null;try{return r([],"length",{value:1}).length!==1}catch{return!0}},hasPropertyDescriptors_1=s,hasPropertyDescriptors_1}var setFunctionLength,hasRequiredSetFunctionLength;function requireSetFunctionLength(){if(hasRequiredSetFunctionLength)return setFunctionLength;hasRequiredSetFunctionLength=1;var r=requireGetIntrinsic(),s=requireDefineDataProperty(),sf=requireHasPropertyDescriptors()(),Nf=requireGopd(),ip=requireType(),em=r("%Math.floor%");return setFunctionLength=function(nm,rm){if(typeof nm!="function")throw new ip("`fn` is not a function");if(typeof rm!="number"||rm<0||rm>0xffffffff||em(rm)!==rm)throw new ip("`length` must be a positive 32-bit integer");var om=arguments.length>2&&!!arguments[2],im=!0,am=!0;if("length"in nm&&Nf){var sm=Nf(nm,"length");sm&&!sm.configurable&&(im=!1),sm&&!sm.writable&&(am=!1)}return(im||am||!om)&&(sf?s(nm,"length",rm,!0,!0):s(nm,"length",rm)),nm},setFunctionLength}var applyBind,hasRequiredApplyBind;function requireApplyBind(){if(hasRequiredApplyBind)return applyBind;hasRequiredApplyBind=1;var r=requireFunctionBind(),s=requireFunctionApply(),sf=requireActualApply();return applyBind=function(){return sf(r,s,arguments)},applyBind}var hasRequiredCallBind;function requireCallBind(){return hasRequiredCallBind||(hasRequiredCallBind=1,function(r){var s=requireSetFunctionLength(),sf=requireEsDefineProperty(),Nf=requireCallBindApplyHelpers(),ip=requireApplyBind();r.exports=function(tm){var nm=Nf(arguments),rm=tm.length-(arguments.length-1);return s(nm,1+(rm>0?rm:0),!0)},sf?sf(r.exports,"apply",{value:ip}):r.exports.apply=ip}(callBind)),callBind.exports}var whichTypedArray,hasRequiredWhichTypedArray;function requireWhichTypedArray(){if(hasRequiredWhichTypedArray)return whichTypedArray;hasRequiredWhichTypedArray=1;var r=requireForEach(),s=requireAvailableTypedArrays(),sf=requireCallBind(),Nf=requireCallBound(),ip=requireGopd(),em=requireGetProto(),tm=Nf("Object.prototype.toString"),nm=requireShams()(),rm=globalThis,om=s(),im=Nf("String.prototype.slice"),am=Nf("Array.prototype.indexOf",!0)||function(pm,mm){for(var _m=0;_m<pm.length;_m+=1)if(pm[_m]===mm)return _m;return-1},sm={__proto__:null};nm&&ip&&em?r(om,function(fm){var pm=new rm[fm];if(Symbol.toStringTag in pm&&em){var mm=em(pm),_m=ip(mm,Symbol.toStringTag);if(!_m&&mm){var ym=em(mm);_m=ip(ym,Symbol.toStringTag)}sm["$"+fm]=sf(_m.get)}}):r(om,function(fm){var pm=new rm[fm],mm=pm.slice||pm.set;mm&&(sm["$"+fm]=sf(mm))});var cm=function(pm){var mm=!1;return r(sm,function(_m,ym){if(!mm)try{"$"+_m(pm)===ym&&(mm=im(ym,1))}catch{}}),mm},hm=function(pm){var mm=!1;return r(sm,function(_m,ym){if(!mm)try{_m(pm),mm=im(ym,1)}catch{}}),mm};return whichTypedArray=function(pm){if(!pm||typeof pm!="object")return!1;if(!nm){var mm=im(tm(pm),8,-1);return am(om,mm)>-1?mm:mm!=="Object"?!1:hm(pm)}return ip?cm(pm):null},whichTypedArray}var isTypedArray,hasRequiredIsTypedArray;function requireIsTypedArray(){if(hasRequiredIsTypedArray)return isTypedArray;hasRequiredIsTypedArray=1;var r=requireWhichTypedArray();return isTypedArray=function(sf){return!!r(sf)},isTypedArray}var hasRequiredTypes;function requireTypes(){return hasRequiredTypes||(hasRequiredTypes=1,function(r){var s=requireIsArguments(),sf=requireIsGeneratorFunction(),Nf=requireWhichTypedArray(),ip=requireIsTypedArray();function em(Xm){return Xm.call.bind(Xm)}var tm=typeof BigInt<"u",nm=typeof Symbol<"u",rm=em(Object.prototype.toString),om=em(Number.prototype.valueOf),im=em(String.prototype.valueOf),am=em(Boolean.prototype.valueOf);if(tm)var sm=em(BigInt.prototype.valueOf);if(nm)var cm=em(Symbol.prototype.valueOf);function hm(Xm,Eg){if(typeof Xm!="object")return!1;try{return Eg(Xm),!0}catch{return!1}}r.isArgumentsObject=s,r.isGeneratorFunction=sf,r.isTypedArray=ip;function fm(Xm){return typeof Promise<"u"&&Xm instanceof Promise||Xm!==null&&typeof Xm=="object"&&typeof Xm.then=="function"&&typeof Xm.catch=="function"}r.isPromise=fm;function pm(Xm){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(Xm):ip(Xm)||um(Xm)}r.isArrayBufferView=pm;function mm(Xm){return Nf(Xm)==="Uint8Array"}r.isUint8Array=mm;function _m(Xm){return Nf(Xm)==="Uint8ClampedArray"}r.isUint8ClampedArray=_m;function ym(Xm){return Nf(Xm)==="Uint16Array"}r.isUint16Array=ym;function Sm(Xm){return Nf(Xm)==="Uint32Array"}r.isUint32Array=Sm;function jm(Xm){return Nf(Xm)==="Int8Array"}r.isInt8Array=jm;function Pm(Xm){return Nf(Xm)==="Int16Array"}r.isInt16Array=Pm;function Bm(Xm){return Nf(Xm)==="Int32Array"}r.isInt32Array=Bm;function qm(Xm){return Nf(Xm)==="Float32Array"}r.isFloat32Array=qm;function Rm(Xm){return Nf(Xm)==="Float64Array"}r.isFloat64Array=Rm;function Dm(Xm){return Nf(Xm)==="BigInt64Array"}r.isBigInt64Array=Dm;function Um(Xm){return Nf(Xm)==="BigUint64Array"}r.isBigUint64Array=Um;function Lm(Xm){return rm(Xm)==="[object Map]"}Lm.working=typeof Map<"u"&&Lm(new Map);function Im(Xm){return typeof Map>"u"?!1:Lm.working?Lm(Xm):Xm instanceof Map}r.isMap=Im;function dm(Xm){return rm(Xm)==="[object Set]"}dm.working=typeof Set<"u"&&dm(new Set);function gm(Xm){return typeof Set>"u"?!1:dm.working?dm(Xm):Xm instanceof Set}r.isSet=gm;function km(Xm){return rm(Xm)==="[object WeakMap]"}km.working=typeof WeakMap<"u"&&km(new WeakMap);function Mm(Xm){return typeof WeakMap>"u"?!1:km.working?km(Xm):Xm instanceof WeakMap}r.isWeakMap=Mm;function bm(Xm){return rm(Xm)==="[object WeakSet]"}bm.working=typeof WeakSet<"u"&&bm(new WeakSet);function Em(Xm){return bm(Xm)}r.isWeakSet=Em;function $m(Xm){return rm(Xm)==="[object ArrayBuffer]"}$m.working=typeof ArrayBuffer<"u"&&$m(new ArrayBuffer);function Am(Xm){return typeof ArrayBuffer>"u"?!1:$m.working?$m(Xm):Xm instanceof ArrayBuffer}r.isArrayBuffer=Am;function lm(Xm){return rm(Xm)==="[object DataView]"}lm.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&lm(new DataView(new ArrayBuffer(1),0,1));function um(Xm){return typeof DataView>"u"?!1:lm.working?lm(Xm):Xm instanceof DataView}r.isDataView=um;var wm=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function xm(Xm){return rm(Xm)==="[object SharedArrayBuffer]"}function Tm(Xm){return typeof wm>"u"?!1:(typeof xm.working>"u"&&(xm.working=xm(new wm)),xm.working?xm(Xm):Xm instanceof wm)}r.isSharedArrayBuffer=Tm;function Om(Xm){return rm(Xm)==="[object AsyncFunction]"}r.isAsyncFunction=Om;function Hm(Xm){return rm(Xm)==="[object Map Iterator]"}r.isMapIterator=Hm;function Km(Xm){return rm(Xm)==="[object Set Iterator]"}r.isSetIterator=Km;function Zm(Xm){return rm(Xm)==="[object Generator]"}r.isGeneratorObject=Zm;function Vm(Xm){return rm(Xm)==="[object WebAssembly.Module]"}r.isWebAssemblyCompiledModule=Vm;function zm(Xm){return hm(Xm,om)}r.isNumberObject=zm;function Wm(Xm){return hm(Xm,im)}r.isStringObject=Wm;function Ym(Xm){return hm(Xm,am)}r.isBooleanObject=Ym;function Qm(Xm){return tm&&hm(Xm,sm)}r.isBigIntObject=Qm;function mg(Xm){return nm&&hm(Xm,cm)}r.isSymbolObject=mg;function bg(Xm){return zm(Xm)||Wm(Xm)||Ym(Xm)||Qm(Xm)||mg(Xm)}r.isBoxedPrimitive=bg;function vg(Xm){return typeof Uint8Array<"u"&&(Am(Xm)||Tm(Xm))}r.isAnyArrayBuffer=vg,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(Xm){Object.defineProperty(r,Xm,{enumerable:!1,value:function(){throw new Error(Xm+" is not supported in userland")}})})}(types)),types}var isBufferBrowser,hasRequiredIsBufferBrowser;function requireIsBufferBrowser(){return hasRequiredIsBufferBrowser||(hasRequiredIsBufferBrowser=1,isBufferBrowser=function(s){return s&&typeof s=="object"&&typeof s.copy=="function"&&typeof s.fill=="function"&&typeof s.readUInt8=="function"}),isBufferBrowser}var inherits_browser={exports:{}},hasRequiredInherits_browser;function requireInherits_browser(){return hasRequiredInherits_browser||(hasRequiredInherits_browser=1,typeof Object.create=="function"?inherits_browser.exports=function(s,sf){sf&&(s.super_=sf,s.prototype=Object.create(sf.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser.exports=function(s,sf){if(sf){s.super_=sf;var Nf=function(){};Nf.prototype=sf.prototype,s.prototype=new Nf,s.prototype.constructor=s}}),inherits_browser.exports}var hasRequiredUtil;function requireUtil(){return hasRequiredUtil||(hasRequiredUtil=1,function(r){var s=Object.getOwnPropertyDescriptors||function(um){for(var wm=Object.keys(um),xm={},Tm=0;Tm<wm.length;Tm++)xm[wm[Tm]]=Object.getOwnPropertyDescriptor(um,wm[Tm]);return xm},sf=/%[sdj%]/g;r.format=function(lm){if(!jm(lm)){for(var um=[],wm=0;wm<arguments.length;wm++)um.push(tm(arguments[wm]));return um.join(" ")}for(var wm=1,xm=arguments,Tm=xm.length,Om=String(lm).replace(sf,function(Km){if(Km==="%%")return"%";if(wm>=Tm)return Km;switch(Km){case"%s":return String(xm[wm++]);case"%d":return Number(xm[wm++]);case"%j":try{return JSON.stringify(xm[wm++])}catch{return"[Circular]"}default:return Km}}),Hm=xm[wm];wm<Tm;Hm=xm[++wm])_m(Hm)||!Rm(Hm)?Om+=" "+Hm:Om+=" "+tm(Hm);return Om},r.deprecate=function(lm,um){if(typeof process<"u"&&process.noDeprecation===!0)return lm;if(typeof process>"u")return function(){return r.deprecate(lm,um).apply(this,arguments)};var wm=!1;function xm(){if(!wm){if(process.throwDeprecation)throw new Error(um);process.traceDeprecation?console.trace(um):console.error(um),wm=!0}return lm.apply(this,arguments)}return xm};var Nf={},ip=/^$/;if(process.env.NODE_DEBUG){var em=process.env.NODE_DEBUG;em=em.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),ip=new RegExp("^"+em+"$","i")}r.debuglog=function(lm){if(lm=lm.toUpperCase(),!Nf[lm])if(ip.test(lm)){var um=process.pid;Nf[lm]=function(){var wm=r.format.apply(r,arguments);console.error("%s %d: %s",lm,um,wm)}}else Nf[lm]=function(){};return Nf[lm]};function tm(lm,um){var wm={seen:[],stylize:rm};return arguments.length>=3&&(wm.depth=arguments[2]),arguments.length>=4&&(wm.colors=arguments[3]),mm(um)?wm.showHidden=um:um&&r._extend(wm,um),Bm(wm.showHidden)&&(wm.showHidden=!1),Bm(wm.depth)&&(wm.depth=2),Bm(wm.colors)&&(wm.colors=!1),Bm(wm.customInspect)&&(wm.customInspect=!0),wm.colors&&(wm.stylize=nm),im(wm,lm,wm.depth)}r.inspect=tm,tm.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},tm.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function nm(lm,um){var wm=tm.styles[um];return wm?"\x1b["+tm.colors[wm][0]+"m"+lm+"\x1b["+tm.colors[wm][1]+"m":lm}function rm(lm,um){return lm}function om(lm){var um={};return lm.forEach(function(wm,xm){um[wm]=!0}),um}function im(lm,um,wm){if(lm.customInspect&&um&&Lm(um.inspect)&&um.inspect!==r.inspect&&!(um.constructor&&um.constructor.prototype===um)){var xm=um.inspect(wm,lm);return jm(xm)||(xm=im(lm,xm,wm)),xm}var Tm=am(lm,um);if(Tm)return Tm;var Om=Object.keys(um),Hm=om(Om);if(lm.showHidden&&(Om=Object.getOwnPropertyNames(um)),Um(um)&&(Om.indexOf("message")>=0||Om.indexOf("description")>=0))return sm(um);if(Om.length===0){if(Lm(um)){var Km=um.name?": "+um.name:"";return lm.stylize("[Function"+Km+"]","special")}if(qm(um))return lm.stylize(RegExp.prototype.toString.call(um),"regexp");if(Dm(um))return lm.stylize(Date.prototype.toString.call(um),"date");if(Um(um))return sm(um)}var Zm="",Vm=!1,zm=["{","}"];if(pm(um)&&(Vm=!0,zm=["[","]"]),Lm(um)){var Wm=um.name?": "+um.name:"";Zm=" [Function"+Wm+"]"}if(qm(um)&&(Zm=" "+RegExp.prototype.toString.call(um)),Dm(um)&&(Zm=" "+Date.prototype.toUTCString.call(um)),Um(um)&&(Zm=" "+sm(um)),Om.length===0&&(!Vm||um.length==0))return zm[0]+Zm+zm[1];if(wm<0)return qm(um)?lm.stylize(RegExp.prototype.toString.call(um),"regexp"):lm.stylize("[Object]","special");lm.seen.push(um);var Ym;return Vm?Ym=cm(lm,um,wm,Hm,Om):Ym=Om.map(function(Qm){return hm(lm,um,wm,Hm,Qm,Vm)}),lm.seen.pop(),fm(Ym,Zm,zm)}function am(lm,um){if(Bm(um))return lm.stylize("undefined","undefined");if(jm(um)){var wm="'"+JSON.stringify(um).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return lm.stylize(wm,"string")}if(Sm(um))return lm.stylize(""+um,"number");if(mm(um))return lm.stylize(""+um,"boolean");if(_m(um))return lm.stylize("null","null")}function sm(lm){return"["+Error.prototype.toString.call(lm)+"]"}function cm(lm,um,wm,xm,Tm){for(var Om=[],Hm=0,Km=um.length;Hm<Km;++Hm)bm(um,String(Hm))?Om.push(hm(lm,um,wm,xm,String(Hm),!0)):Om.push("");return Tm.forEach(function(Zm){Zm.match(/^\d+$/)||Om.push(hm(lm,um,wm,xm,Zm,!0))}),Om}function hm(lm,um,wm,xm,Tm,Om){var Hm,Km,Zm;if(Zm=Object.getOwnPropertyDescriptor(um,Tm)||{value:um[Tm]},Zm.get?Zm.set?Km=lm.stylize("[Getter/Setter]","special"):Km=lm.stylize("[Getter]","special"):Zm.set&&(Km=lm.stylize("[Setter]","special")),bm(xm,Tm)||(Hm="["+Tm+"]"),Km||(lm.seen.indexOf(Zm.value)<0?(_m(wm)?Km=im(lm,Zm.value,null):Km=im(lm,Zm.value,wm-1),Km.indexOf(`
`)>-1&&(Om?Km=Km.split(`
`).map(function(Vm){return"  "+Vm}).join(`
`).slice(2):Km=`
`+Km.split(`
`).map(function(Vm){return"   "+Vm}).join(`
`))):Km=lm.stylize("[Circular]","special")),Bm(Hm)){if(Om&&Tm.match(/^\d+$/))return Km;Hm=JSON.stringify(""+Tm),Hm.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Hm=Hm.slice(1,-1),Hm=lm.stylize(Hm,"name")):(Hm=Hm.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Hm=lm.stylize(Hm,"string"))}return Hm+": "+Km}function fm(lm,um,wm){var xm=lm.reduce(function(Tm,Om){return Om.indexOf(`
`)>=0,Tm+Om.replace(/\u001b\[\d\d?m/g,"").length+1},0);return xm>60?wm[0]+(um===""?"":um+`
 `)+" "+lm.join(`,
  `)+" "+wm[1]:wm[0]+um+" "+lm.join(", ")+" "+wm[1]}r.types=requireTypes();function pm(lm){return Array.isArray(lm)}r.isArray=pm;function mm(lm){return typeof lm=="boolean"}r.isBoolean=mm;function _m(lm){return lm===null}r.isNull=_m;function ym(lm){return lm==null}r.isNullOrUndefined=ym;function Sm(lm){return typeof lm=="number"}r.isNumber=Sm;function jm(lm){return typeof lm=="string"}r.isString=jm;function Pm(lm){return typeof lm=="symbol"}r.isSymbol=Pm;function Bm(lm){return lm===void 0}r.isUndefined=Bm;function qm(lm){return Rm(lm)&&dm(lm)==="[object RegExp]"}r.isRegExp=qm,r.types.isRegExp=qm;function Rm(lm){return typeof lm=="object"&&lm!==null}r.isObject=Rm;function Dm(lm){return Rm(lm)&&dm(lm)==="[object Date]"}r.isDate=Dm,r.types.isDate=Dm;function Um(lm){return Rm(lm)&&(dm(lm)==="[object Error]"||lm instanceof Error)}r.isError=Um,r.types.isNativeError=Um;function Lm(lm){return typeof lm=="function"}r.isFunction=Lm;function Im(lm){return lm===null||typeof lm=="boolean"||typeof lm=="number"||typeof lm=="string"||typeof lm=="symbol"||typeof lm>"u"}r.isPrimitive=Im,r.isBuffer=requireIsBufferBrowser();function dm(lm){return Object.prototype.toString.call(lm)}function gm(lm){return lm<10?"0"+lm.toString(10):lm.toString(10)}var km=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Mm(){var lm=new Date,um=[gm(lm.getHours()),gm(lm.getMinutes()),gm(lm.getSeconds())].join(":");return[lm.getDate(),km[lm.getMonth()],um].join(" ")}r.log=function(){console.log("%s - %s",Mm(),r.format.apply(r,arguments))},r.inherits=requireInherits_browser(),r._extend=function(lm,um){if(!um||!Rm(um))return lm;for(var wm=Object.keys(um),xm=wm.length;xm--;)lm[wm[xm]]=um[wm[xm]];return lm};function bm(lm,um){return Object.prototype.hasOwnProperty.call(lm,um)}var Em=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;r.promisify=function(um){if(typeof um!="function")throw new TypeError('The "original" argument must be of type Function');if(Em&&um[Em]){var wm=um[Em];if(typeof wm!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(wm,Em,{value:wm,enumerable:!1,writable:!1,configurable:!0}),wm}function wm(){for(var xm,Tm,Om=new Promise(function(Zm,Vm){xm=Zm,Tm=Vm}),Hm=[],Km=0;Km<arguments.length;Km++)Hm.push(arguments[Km]);Hm.push(function(Zm,Vm){Zm?Tm(Zm):xm(Vm)});try{um.apply(this,Hm)}catch(Zm){Tm(Zm)}return Om}return Object.setPrototypeOf(wm,Object.getPrototypeOf(um)),Em&&Object.defineProperty(wm,Em,{value:wm,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(wm,s(um))},r.promisify.custom=Em;function $m(lm,um){if(!lm){var wm=new Error("Promise was rejected with a falsy value");wm.reason=lm,lm=wm}return um(lm)}function Am(lm){if(typeof lm!="function")throw new TypeError('The "original" argument must be of type Function');function um(){for(var wm=[],xm=0;xm<arguments.length;xm++)wm.push(arguments[xm]);var Tm=wm.pop();if(typeof Tm!="function")throw new TypeError("The last argument must be of type Function");var Om=this,Hm=function(){return Tm.apply(Om,arguments)};lm.apply(this,wm).then(function(Km){process.nextTick(Hm.bind(null,null,Km))},function(Km){process.nextTick($m.bind(null,Km,Hm))})}return Object.setPrototypeOf(um,Object.getPrototypeOf(lm)),Object.defineProperties(um,s(lm)),um}r.callbackify=Am}(util)),util}var hasRequiredUtilHelper;function requireUtilHelper(){if(hasRequiredUtilHelper)return utilHelper;hasRequiredUtilHelper=1;function r(){try{return requireUtil()}catch{return null}}function s(){return Symbol.for("nodejs.util.inspect.custom")}function sf(Nf){const em=(Nf.requireUtil||r)();return em?em.inspect.custom:null}return utilHelper.getUtilInspect=function(ip,em={}){const nm=(em.requireUtil||r)();return function(om,im,am){return nm?nm.inspect(om,im,am):ip(om)}},utilHelper.getCustomInspectSymbol=function(ip={}){return(ip.lookupCustomInspectSymbol||s)()||sf(ip)},utilHelper}var hasRequiredMemstore;function requireMemstore(){if(hasRequiredMemstore)return memstore;hasRequiredMemstore=1;const{fromCallback:r}=requireUniversalify(),s=requireStore().Store,sf=requirePermuteDomain().permuteDomain,Nf=requirePathMatch().pathMatch,{getCustomInspectSymbol:ip,getUtilInspect:em}=requireUtilHelper();class tm extends s{constructor(){super(),this.synchronous=!0,this.idx=Object.create(null);const am=ip();am&&(this[am]=this.inspect)}inspect(){return`{ idx: ${{inspect:em(nm)}.inspect(this.idx,!1,2)} }`}findCookie(am,sm,cm,hm){return!this.idx[am]||!this.idx[am][sm]?hm(null,void 0):hm(null,this.idx[am][sm][cm]||null)}findCookies(am,sm,cm,hm){const fm=[];if(typeof cm=="function"&&(hm=cm,cm=!0),!am)return hm(null,[]);let pm;sm?pm=function(Sm){Object.keys(Sm).forEach(jm=>{if(Nf(sm,jm)){const Pm=Sm[jm];for(const Bm in Pm)fm.push(Pm[Bm])}})}:pm=function(Sm){for(const jm in Sm){const Pm=Sm[jm];for(const Bm in Pm)fm.push(Pm[Bm])}};const mm=sf(am,cm)||[am],_m=this.idx;mm.forEach(ym=>{const Sm=_m[ym];Sm&&pm(Sm)}),hm(null,fm)}putCookie(am,sm){this.idx[am.domain]||(this.idx[am.domain]=Object.create(null)),this.idx[am.domain][am.path]||(this.idx[am.domain][am.path]=Object.create(null)),this.idx[am.domain][am.path][am.key]=am,sm(null)}updateCookie(am,sm,cm){this.putCookie(sm,cm)}removeCookie(am,sm,cm,hm){this.idx[am]&&this.idx[am][sm]&&this.idx[am][sm][cm]&&delete this.idx[am][sm][cm],hm(null)}removeCookies(am,sm,cm){return this.idx[am]&&(sm?delete this.idx[am][sm]:delete this.idx[am]),cm(null)}removeAllCookies(am){return this.idx=Object.create(null),am(null)}getAllCookies(am){const sm=[],cm=this.idx;Object.keys(cm).forEach(fm=>{Object.keys(cm[fm]).forEach(mm=>{Object.keys(cm[fm][mm]).forEach(ym=>{ym!==null&&sm.push(cm[fm][mm][ym])})})}),sm.sort((fm,pm)=>(fm.creationIndex||0)-(pm.creationIndex||0)),am(null,sm)}}["findCookie","findCookies","putCookie","updateCookie","removeCookie","removeCookies","removeAllCookies","getAllCookies"].forEach(im=>{tm.prototype[im]=r(tm.prototype[im])}),memstore.MemoryCookieStore=tm;function nm(im){const am=Object.keys(im);if(am.length===0)return"[Object: null prototype] {}";let sm=`[Object: null prototype] {
`;return Object.keys(im).forEach((cm,hm)=>{sm+=rm(cm,im[cm]),hm<am.length-1&&(sm+=","),sm+=`
`}),sm+="}",sm}function rm(im,am){const sm="  ";let cm=`${sm}'${im}': [Object: null prototype] {
`;return Object.keys(am).forEach((hm,fm,pm)=>{cm+=om(hm,am[hm]),fm<pm.length-1&&(cm+=","),cm+=`
`}),cm+=`${sm}}`,cm}function om(im,am){const sm="    ";let cm=`${sm}'${im}': [Object: null prototype] {
`;return Object.keys(am).forEach((hm,fm,pm)=>{const mm=am[hm];cm+=`      ${hm}: ${mm.inspect()}`,fm<pm.length-1&&(cm+=","),cm+=`
`}),cm+=`${sm}}`,cm}return memstore.inspectFallback=nm,memstore}var validators={},hasRequiredValidators;function requireValidators(){if(hasRequiredValidators)return validators;hasRequiredValidators=1;const r=Object.prototype.toString;function s(sm){return typeof sm=="function"}function sf(sm){return em(sm)&&sm!==""}function Nf(sm){return nm(sm,Date)&&om(sm.getTime())}function ip(sm){return sm===""||sm instanceof String&&sm.toString()===""}function em(sm){return typeof sm=="string"||sm instanceof String}function tm(sm){return r.call(sm)==="[object Object]"}function nm(sm,cm){try{return sm instanceof cm}catch{return!1}}function rm(sm){return sf(sm)||tm(sm)&&"hostname"in sm&&"pathname"in sm&&"protocol"in sm||nm(sm,URL)}function om(sm){return typeof sm=="number"&&sm%1===0}function im(sm,cm,hm){if(s(cm)||(hm=cm,cm=null),tm(hm)||(hm={Error:"Failed Check"}),!sm)if(cm)cm(new am(hm));else throw new am(hm)}class am extends Error{constructor(...cm){super(...cm)}}return validators.ParameterError=am,validators.isFunction=s,validators.isNonEmptyString=sf,validators.isDate=Nf,validators.isEmptyString=ip,validators.isString=em,validators.isObject=tm,validators.isUrlStringOrObject=rm,validators.validate=im,validators}var version$3,hasRequiredVersion;function requireVersion(){return hasRequiredVersion||(hasRequiredVersion=1,version$3="4.1.4"),version$3}var hasRequiredCookie;function requireCookie(){if(hasRequiredCookie)return cookie$1;hasRequiredCookie=1;const r=require$$0$2,s=requireUrlParse(),sf=requirePubsuffixPsl(),Nf=requireStore().Store,ip=requireMemstore().MemoryCookieStore,em=requirePathMatch().pathMatch,tm=requireValidators(),nm=requireVersion(),{fromCallback:rm}=requireUniversalify(),{getCustomInspectSymbol:om}=requireUtilHelper(),im=/^[\x21\x23-\x2B\x2D-\x3A\x3C-\x5B\x5D-\x7E]+$/,am=/[\x00-\x1F]/,sm=[`
`,"\r","\0"],cm=/[\x20-\x3A\x3C-\x7E]+/,hm=/[\x09\x20-\x2F\x3B-\x40\x5B-\x60\x7B-\x7E]/,fm={jan:0,feb:1,mar:2,apr:3,may:4,jun:5,jul:6,aug:7,sep:8,oct:9,nov:10,dec:11},pm=2147483647e3,mm=0,_m='Invalid sameSiteContext option for getCookies(); expected one of "strict", "lax", or "none"';function ym(Vm){tm.validate(tm.isNonEmptyString(Vm),Vm);const zm=String(Vm).toLowerCase();return zm==="none"||zm==="lax"||zm==="strict"?zm:null}const Sm=Object.freeze({SILENT:"silent",STRICT:"strict",DISABLED:"unsafe-disabled"}),jm=/(?:^(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}$)|(?:^(?:(?:[a-f\d]{1,4}:){7}(?:[a-f\d]{1,4}|:)|(?:[a-f\d]{1,4}:){6}(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|:[a-f\d]{1,4}|:)|(?:[a-f\d]{1,4}:){5}(?::(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-f\d]{1,4}){1,2}|:)|(?:[a-f\d]{1,4}:){4}(?:(?::[a-f\d]{1,4}){0,1}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-f\d]{1,4}){1,3}|:)|(?:[a-f\d]{1,4}:){3}(?:(?::[a-f\d]{1,4}){0,2}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-f\d]{1,4}){1,4}|:)|(?:[a-f\d]{1,4}:){2}(?:(?::[a-f\d]{1,4}){0,3}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-f\d]{1,4}){1,5}|:)|(?:[a-f\d]{1,4}:){1}(?:(?::[a-f\d]{1,4}){0,4}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-f\d]{1,4}){1,6}|:)|(?::(?:(?::[a-f\d]{1,4}){0,5}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-f\d]{1,4}){1,7}|:)))$)/,Pm=`
\\[?(?:
(?:[a-fA-F\\d]{1,4}:){7}(?:[a-fA-F\\d]{1,4}|:)|
(?:[a-fA-F\\d]{1,4}:){6}(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|:[a-fA-F\\d]{1,4}|:)|
(?:[a-fA-F\\d]{1,4}:){5}(?::(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,2}|:)|
(?:[a-fA-F\\d]{1,4}:){4}(?:(?::[a-fA-F\\d]{1,4}){0,1}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,3}|:)|
(?:[a-fA-F\\d]{1,4}:){3}(?:(?::[a-fA-F\\d]{1,4}){0,2}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,4}|:)|
(?:[a-fA-F\\d]{1,4}:){2}(?:(?::[a-fA-F\\d]{1,4}){0,3}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,5}|:)|
(?:[a-fA-F\\d]{1,4}:){1}(?:(?::[a-fA-F\\d]{1,4}){0,4}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,6}|:)|
(?::(?:(?::[a-fA-F\\d]{1,4}){0,5}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,7}|:))
)(?:%[0-9a-zA-Z]{1,})?\\]?
`.replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),Bm=new RegExp(`^${Pm}$`);function qm(Vm,zm,Wm,Ym){let Qm=0;for(;Qm<Vm.length;){const mg=Vm.charCodeAt(Qm);if(mg<=47||mg>=58)break;Qm++}return Qm<zm||Qm>Wm||!Ym&&Qm!=Vm.length?null:parseInt(Vm.substr(0,Qm),10)}function Rm(Vm){const zm=Vm.split(":"),Wm=[0,0,0];if(zm.length!==3)return null;for(let Ym=0;Ym<3;Ym++){const Qm=Ym==2,mg=qm(zm[Ym],1,2,Qm);if(mg===null)return null;Wm[Ym]=mg}return Wm}function Dm(Vm){Vm=String(Vm).substr(0,3).toLowerCase();const zm=fm[Vm];return zm>=0?zm:null}function Um(Vm){if(!Vm)return;const zm=Vm.split(hm);if(!zm)return;let Wm=null,Ym=null,Qm=null,mg=null,bg=null,vg=null;for(let Xm=0;Xm<zm.length;Xm++){const Eg=zm[Xm].trim();if(!Eg.length)continue;let _g;if(Qm===null&&(_g=Rm(Eg),_g)){Wm=_g[0],Ym=_g[1],Qm=_g[2];continue}if(mg===null&&(_g=qm(Eg,1,2,!0),_g!==null)){mg=_g;continue}if(bg===null&&(_g=Dm(Eg),_g!==null)){bg=_g;continue}vg===null&&(_g=qm(Eg,2,4,!0),_g!==null&&(vg=_g,vg>=70&&vg<=99?vg+=1900:vg>=0&&vg<=69&&(vg+=2e3)))}if(!(mg===null||bg===null||vg===null||Qm===null||mg<1||mg>31||vg<1601||Wm>23||Ym>59||Qm>59))return new Date(Date.UTC(vg,bg,mg,Wm,Ym,Qm))}function Lm(Vm){return tm.validate(tm.isDate(Vm),Vm),Vm.toUTCString()}function Im(Vm){return Vm==null?null:(Vm=Vm.trim().replace(/^\./,""),Bm.test(Vm)&&(Vm=Vm.replace("[","").replace("]","")),r&&/[^\u0001-\u007f]/.test(Vm)&&(Vm=r.toASCII(Vm)),Vm.toLowerCase())}function dm(Vm,zm,Wm){if(Vm==null||zm==null)return null;if(Wm!==!1&&(Vm=Im(Vm),zm=Im(zm)),Vm==zm)return!0;const Ym=Vm.lastIndexOf(zm);return!(Ym<=0||Vm.length!==zm.length+Ym||Vm.substr(Ym-1,1)!=="."||jm.test(Vm))}function gm(Vm){if(!Vm||Vm.substr(0,1)!=="/")return"/";if(Vm==="/")return Vm;const zm=Vm.lastIndexOf("/");return zm===0?"/":Vm.slice(0,zm)}function km(Vm){if(tm.isEmptyString(Vm))return Vm;for(let zm=0;zm<sm.length;zm++){const Wm=Vm.indexOf(sm[zm]);Wm!==-1&&(Vm=Vm.substr(0,Wm))}return Vm}function Mm(Vm,zm){Vm=km(Vm),tm.validate(tm.isString(Vm),Vm);let Wm=Vm.indexOf("=");if(zm)Wm===0&&(Vm=Vm.substr(1),Wm=Vm.indexOf("="));else if(Wm<=0)return;let Ym,Qm;if(Wm<=0?(Ym="",Qm=Vm.trim()):(Ym=Vm.substr(0,Wm).trim(),Qm=Vm.substr(Wm+1).trim()),am.test(Ym)||am.test(Qm))return;const mg=new Om;return mg.key=Ym,mg.value=Qm,mg}function bm(Vm,zm){if((!zm||typeof zm!="object")&&(zm={}),tm.isEmptyString(Vm)||!tm.isString(Vm))return null;Vm=Vm.trim();const Wm=Vm.indexOf(";"),Ym=Wm===-1?Vm:Vm.substr(0,Wm),Qm=Mm(Ym,!!zm.loose);if(!Qm)return;if(Wm===-1)return Qm;const mg=Vm.slice(Wm+1).trim();if(mg.length===0)return Qm;const bg=mg.split(";");for(;bg.length;){const vg=bg.shift().trim();if(vg.length===0)continue;const Xm=vg.indexOf("=");let Eg,_g;switch(Xm===-1?(Eg=vg,_g=null):(Eg=vg.substr(0,Xm),_g=vg.substr(Xm+1)),Eg=Eg.trim().toLowerCase(),_g&&(_g=_g.trim()),Eg){case"expires":if(_g){const kg=Um(_g);kg&&(Qm.expires=kg)}break;case"max-age":if(_g&&/^-?[0-9]+$/.test(_g)){const kg=parseInt(_g,10);Qm.setMaxAge(kg)}break;case"domain":if(_g){const kg=_g.trim().replace(/^\./,"");kg&&(Qm.domain=kg.toLowerCase())}break;case"path":Qm.path=_g&&_g[0]==="/"?_g:null;break;case"secure":Qm.secure=!0;break;case"httponly":Qm.httpOnly=!0;break;case"samesite":switch(_g?_g.toLowerCase():""){case"strict":Qm.sameSite="strict";break;case"lax":Qm.sameSite="lax";break;case"none":Qm.sameSite="none";break;default:Qm.sameSite=void 0;break}break;default:Qm.extensions=Qm.extensions||[],Qm.extensions.push(vg);break}}return Qm}function Em(Vm){return tm.validate(tm.isObject(Vm),Vm),!Vm.key.startsWith("__Secure-")||Vm.secure}function $m(Vm){return tm.validate(tm.isObject(Vm)),!Vm.key.startsWith("__Host-")||Vm.secure&&Vm.hostOnly&&Vm.path!=null&&Vm.path==="/"}function Am(Vm){let zm;try{zm=JSON.parse(Vm)}catch(Wm){return Wm}return zm}function lm(Vm){if(!Vm||tm.isEmptyString(Vm))return null;let zm;if(typeof Vm=="string"){if(zm=Am(Vm),zm instanceof Error)return null}else zm=Vm;const Wm=new Om;for(let Ym=0;Ym<Om.serializableProperties.length;Ym++){const Qm=Om.serializableProperties[Ym];zm[Qm]===void 0||zm[Qm]===Tm[Qm]||(Qm==="expires"||Qm==="creation"||Qm==="lastAccessed"?zm[Qm]===null?Wm[Qm]=null:Wm[Qm]=zm[Qm]=="Infinity"?"Infinity":new Date(zm[Qm]):Wm[Qm]=zm[Qm])}return Wm}function um(Vm,zm){tm.validate(tm.isObject(Vm),Vm),tm.validate(tm.isObject(zm),zm);let Wm=0;const Ym=Vm.path?Vm.path.length:0;if(Wm=(zm.path?zm.path.length:0)-Ym,Wm!==0)return Wm;const mg=Vm.creation?Vm.creation.getTime():pm,bg=zm.creation?zm.creation.getTime():pm;return Wm=mg-bg,Wm!==0||(Wm=Vm.creationIndex-zm.creationIndex),Wm}function wm(Vm){if(tm.validate(tm.isString(Vm)),Vm==="/")return["/"];const zm=[Vm];for(;Vm.length>1;){const Wm=Vm.lastIndexOf("/");if(Wm===0)break;Vm=Vm.substr(0,Wm),zm.push(Vm)}return zm.push("/"),zm}function xm(Vm){if(Vm instanceof Object)return Vm;try{Vm=decodeURI(Vm)}catch{}return s(Vm)}const Tm={key:"",value:"",expires:"Infinity",maxAge:null,domain:null,path:null,secure:!1,httpOnly:!1,extensions:null,hostOnly:null,pathIsDefault:null,creation:null,lastAccessed:null,sameSite:void 0};class Om{constructor(zm={}){const Wm=om();Wm&&(this[Wm]=this.inspect),Object.assign(this,Tm,zm),this.creation=this.creation||new Date,Object.defineProperty(this,"creationIndex",{configurable:!1,enumerable:!1,writable:!0,value:++Om.cookiesCreated})}inspect(){const zm=Date.now(),Wm=this.hostOnly!=null?this.hostOnly:"?",Ym=this.creation?`${zm-this.creation.getTime()}ms`:"?",Qm=this.lastAccessed?`${zm-this.lastAccessed.getTime()}ms`:"?";return`Cookie="${this.toString()}; hostOnly=${Wm}; aAge=${Qm}; cAge=${Ym}"`}toJSON(){const zm={};for(const Wm of Om.serializableProperties)this[Wm]!==Tm[Wm]&&(Wm==="expires"||Wm==="creation"||Wm==="lastAccessed"?this[Wm]===null?zm[Wm]=null:zm[Wm]=this[Wm]=="Infinity"?"Infinity":this[Wm].toISOString():Wm==="maxAge"?this[Wm]!==null&&(zm[Wm]=this[Wm]==1/0||this[Wm]==-1/0?this[Wm].toString():this[Wm]):this[Wm]!==Tm[Wm]&&(zm[Wm]=this[Wm]));return zm}clone(){return lm(this.toJSON())}validate(){if(!im.test(this.value)||this.expires!=1/0&&!(this.expires instanceof Date)&&!Um(this.expires)||this.maxAge!=null&&this.maxAge<=0||this.path!=null&&!cm.test(this.path))return!1;const zm=this.cdomain();return!(zm&&(zm.match(/\.$/)||sf.getPublicSuffix(zm)==null))}setExpires(zm){zm instanceof Date?this.expires=zm:this.expires=Um(zm)||"Infinity"}setMaxAge(zm){zm===1/0||zm===-1/0?this.maxAge=zm.toString():this.maxAge=zm}cookieString(){let zm=this.value;return zm==null&&(zm=""),this.key===""?zm:`${this.key}=${zm}`}toString(){let zm=this.cookieString();if(this.expires!=1/0&&(this.expires instanceof Date?zm+=`; Expires=${Lm(this.expires)}`:zm+=`; Expires=${this.expires}`),this.maxAge!=null&&this.maxAge!=1/0&&(zm+=`; Max-Age=${this.maxAge}`),this.domain&&!this.hostOnly&&(zm+=`; Domain=${this.domain}`),this.path&&(zm+=`; Path=${this.path}`),this.secure&&(zm+="; Secure"),this.httpOnly&&(zm+="; HttpOnly"),this.sameSite&&this.sameSite!=="none"){const Wm=Om.sameSiteCanonical[this.sameSite.toLowerCase()];zm+=`; SameSite=${Wm||this.sameSite}`}return this.extensions&&this.extensions.forEach(Wm=>{zm+=`; ${Wm}`}),zm}TTL(zm){if(this.maxAge!=null)return this.maxAge<=0?0:this.maxAge*1e3;let Wm=this.expires;return Wm!=1/0?(Wm instanceof Date||(Wm=Um(Wm)||1/0),Wm==1/0?1/0:Wm.getTime()-(zm||Date.now())):1/0}expiryTime(zm){if(this.maxAge!=null){const Wm=zm||this.creation||new Date,Ym=this.maxAge<=0?-1/0:this.maxAge*1e3;return Wm.getTime()+Ym}return this.expires==1/0?1/0:this.expires.getTime()}expiryDate(zm){const Wm=this.expiryTime(zm);return Wm==1/0?new Date(pm):Wm==-1/0?new Date(mm):new Date(Wm)}isPersistent(){return this.maxAge!=null||this.expires!=1/0}canonicalizedDomain(){return this.domain==null?null:Im(this.domain)}cdomain(){return this.canonicalizedDomain()}}Om.cookiesCreated=0,Om.parse=bm,Om.fromJSON=lm,Om.serializableProperties=Object.keys(Tm),Om.sameSiteLevel={strict:3,lax:2,none:1},Om.sameSiteCanonical={strict:"Strict",lax:"Lax"};function Hm(Vm){if(Vm!=null){const zm=Vm.toLowerCase();switch(zm){case Sm.STRICT:case Sm.SILENT:case Sm.DISABLED:return zm}}return Sm.SILENT}class Km{constructor(zm,Wm={rejectPublicSuffixes:!0}){typeof Wm=="boolean"&&(Wm={rejectPublicSuffixes:Wm}),tm.validate(tm.isObject(Wm),Wm),this.rejectPublicSuffixes=Wm.rejectPublicSuffixes,this.enableLooseMode=!!Wm.looseMode,this.allowSpecialUseDomain=typeof Wm.allowSpecialUseDomain=="boolean"?Wm.allowSpecialUseDomain:!0,this.store=zm||new ip,this.prefixSecurity=Hm(Wm.prefixSecurity),this._cloneSync=Zm("clone"),this._importCookiesSync=Zm("_importCookies"),this.getCookiesSync=Zm("getCookies"),this.getCookieStringSync=Zm("getCookieString"),this.getSetCookieStringsSync=Zm("getSetCookieStrings"),this.removeAllCookiesSync=Zm("removeAllCookies"),this.setCookieSync=Zm("setCookie"),this.serializeSync=Zm("serialize")}setCookie(zm,Wm,Ym,Qm){tm.validate(tm.isUrlStringOrObject(Wm),Qm,Ym);let mg;if(tm.isFunction(Wm))return Qm=Wm,Qm(new Error("No URL was specified"));const bg=xm(Wm);if(tm.isFunction(Ym)&&(Qm=Ym,Ym={}),tm.validate(tm.isFunction(Qm),Qm),!tm.isNonEmptyString(zm)&&!tm.isObject(zm)&&zm instanceof String&&zm.length==0)return Qm(null);const vg=Im(bg.hostname),Xm=Ym.loose||this.enableLooseMode;let Eg=null;if(Ym.sameSiteContext&&(Eg=ym(Ym.sameSiteContext),!Eg))return Qm(new Error(_m));if(typeof zm=="string"||zm instanceof String){if(zm=Om.parse(zm,{loose:Xm}),!zm)return mg=new Error("Cookie failed to parse"),Qm(Ym.ignoreError?null:mg)}else if(!(zm instanceof Om))return mg=new Error("First argument to setCookie must be a Cookie object or string"),Qm(Ym.ignoreError?null:mg);const _g=Ym.now||new Date;if(this.rejectPublicSuffixes&&zm.domain&&sf.getPublicSuffix(zm.cdomain(),{allowSpecialUseDomain:this.allowSpecialUseDomain,ignoreError:Ym.ignoreError})==null&&!Bm.test(zm.domain))return mg=new Error("Cookie has domain set to a public suffix"),Qm(Ym.ignoreError?null:mg);if(zm.domain){if(!dm(vg,zm.cdomain(),!1))return mg=new Error(`Cookie not in this host's domain. Cookie:${zm.cdomain()} Request:${vg}`),Qm(Ym.ignoreError?null:mg);zm.hostOnly==null&&(zm.hostOnly=!1)}else zm.hostOnly=!0,zm.domain=vg;if((!zm.path||zm.path[0]!=="/")&&(zm.path=gm(bg.pathname),zm.pathIsDefault=!0),Ym.http===!1&&zm.httpOnly)return mg=new Error("Cookie is HttpOnly and this isn't an HTTP API"),Qm(Ym.ignoreError?null:mg);if(zm.sameSite!=="none"&&zm.sameSite!==void 0&&Eg&&Eg==="none")return mg=new Error("Cookie is SameSite but this is a cross-origin request"),Qm(Ym.ignoreError?null:mg);const Ag=this.prefixSecurity===Sm.SILENT;if(!(this.prefixSecurity===Sm.DISABLED)){let Sg=!1,Fm;if(Em(zm)?$m(zm)||(Sg=!0,Fm="Cookie has __Host prefix but either Secure or HostOnly attribute is not set or Path is not '/'"):(Sg=!0,Fm="Cookie has __Secure prefix but Secure attribute is not set"),Sg)return Qm(Ym.ignoreError||Ag?null:new Error(Fm))}const xg=this.store;xg.updateCookie||(xg.updateCookie=function(Sg,Fm,Cm){this.putCookie(Fm,Cm)});function Cg(Sg,Fm){if(Sg)return Qm(Sg);const Cm=function(Nm){if(Nm)return Qm(Nm);Qm(null,zm)};if(Fm){if(Ym.http===!1&&Fm.httpOnly)return Sg=new Error("old Cookie is HttpOnly and this isn't an HTTP API"),Qm(Ym.ignoreError?null:Sg);zm.creation=Fm.creation,zm.creationIndex=Fm.creationIndex,zm.lastAccessed=_g,xg.updateCookie(Fm,zm,Cm)}else zm.creation=zm.lastAccessed=_g,xg.putCookie(zm,Cm)}xg.findCookie(zm.domain,zm.path,zm.key,Cg)}getCookies(zm,Wm,Ym){tm.validate(tm.isUrlStringOrObject(zm),Ym,zm);const Qm=xm(zm);tm.isFunction(Wm)&&(Ym=Wm,Wm={}),tm.validate(tm.isObject(Wm),Ym,Wm),tm.validate(tm.isFunction(Ym),Ym);const mg=Im(Qm.hostname),bg=Qm.pathname||"/";let vg=Wm.secure;vg==null&&Qm.protocol&&(Qm.protocol=="https:"||Qm.protocol=="wss:")&&(vg=!0);let Xm=0;if(Wm.sameSiteContext){const Sg=ym(Wm.sameSiteContext);if(Xm=Om.sameSiteLevel[Sg],!Xm)return Ym(new Error(_m))}let Eg=Wm.http;Eg==null&&(Eg=!0);const _g=Wm.now||Date.now(),Ag=Wm.expire!==!1,kg=!!Wm.allPaths,xg=this.store;function Cg(Sg){if(Sg.hostOnly){if(Sg.domain!=mg)return!1}else if(!dm(mg,Sg.domain,!1))return!1;return!kg&&!em(bg,Sg.path)||Sg.secure&&!vg||Sg.httpOnly&&!Eg||Xm&&Om.sameSiteLevel[Sg.sameSite||"none"]>Xm?!1:Ag&&Sg.expiryTime()<=_g?(xg.removeCookie(Sg.domain,Sg.path,Sg.key,()=>{}),!1):!0}xg.findCookies(mg,kg?null:bg,this.allowSpecialUseDomain,(Sg,Fm)=>{if(Sg)return Ym(Sg);Fm=Fm.filter(Cg),Wm.sort!==!1&&(Fm=Fm.sort(um));const Cm=new Date;for(const Nm of Fm)Nm.lastAccessed=Cm;Ym(null,Fm)})}getCookieString(...zm){const Wm=zm.pop();tm.validate(tm.isFunction(Wm),Wm);const Ym=function(Qm,mg){Qm?Wm(Qm):Wm(null,mg.sort(um).map(bg=>bg.cookieString()).join("; "))};zm.push(Ym),this.getCookies.apply(this,zm)}getSetCookieStrings(...zm){const Wm=zm.pop();tm.validate(tm.isFunction(Wm),Wm);const Ym=function(Qm,mg){Qm?Wm(Qm):Wm(null,mg.map(bg=>bg.toString()))};zm.push(Ym),this.getCookies.apply(this,zm)}serialize(zm){tm.validate(tm.isFunction(zm),zm);let Wm=this.store.constructor.name;tm.isObject(Wm)&&(Wm=null);const Ym={version:`tough-cookie@${nm}`,storeType:Wm,rejectPublicSuffixes:!!this.rejectPublicSuffixes,enableLooseMode:!!this.enableLooseMode,allowSpecialUseDomain:!!this.allowSpecialUseDomain,prefixSecurity:Hm(this.prefixSecurity),cookies:[]};if(!(this.store.getAllCookies&&typeof this.store.getAllCookies=="function"))return zm(new Error("store does not support getAllCookies and cannot be serialized"));this.store.getAllCookies((Qm,mg)=>Qm?zm(Qm):(Ym.cookies=mg.map(bg=>(bg=bg instanceof Om?bg.toJSON():bg,delete bg.creationIndex,bg)),zm(null,Ym)))}toJSON(){return this.serializeSync()}_importCookies(zm,Wm){let Ym=zm.cookies;if(!Ym||!Array.isArray(Ym))return Wm(new Error("serialized jar has no cookies array"));Ym=Ym.slice();const Qm=mg=>{if(mg)return Wm(mg);if(!Ym.length)return Wm(mg,this);let bg;try{bg=lm(Ym.shift())}catch(vg){return Wm(vg)}if(bg===null)return Qm(null);this.store.putCookie(bg,Qm)};Qm()}clone(zm,Wm){arguments.length===1&&(Wm=zm,zm=null),this.serialize((Ym,Qm)=>{if(Ym)return Wm(Ym);Km.deserialize(Qm,zm,Wm)})}cloneSync(zm){if(arguments.length===0)return this._cloneSync();if(!zm.synchronous)throw new Error("CookieJar clone destination store is not synchronous; use async API instead.");return this._cloneSync(zm)}removeAllCookies(zm){tm.validate(tm.isFunction(zm),zm);const Wm=this.store;if(typeof Wm.removeAllCookies=="function"&&Wm.removeAllCookies!==Nf.prototype.removeAllCookies)return Wm.removeAllCookies(zm);Wm.getAllCookies((Ym,Qm)=>{if(Ym)return zm(Ym);if(Qm.length===0)return zm(null);let mg=0;const bg=[];function vg(Xm){if(Xm&&bg.push(Xm),mg++,mg===Qm.length)return zm(bg.length?bg[0]:null)}Qm.forEach(Xm=>{Wm.removeCookie(Xm.domain,Xm.path,Xm.key,vg)})})}static deserialize(zm,Wm,Ym){arguments.length!==3&&(Ym=Wm,Wm=null),tm.validate(tm.isFunction(Ym),Ym);let Qm;if(typeof zm=="string"){if(Qm=Am(zm),Qm instanceof Error)return Ym(Qm)}else Qm=zm;const mg=new Km(Wm,{rejectPublicSuffixes:Qm.rejectPublicSuffixes,looseMode:Qm.enableLooseMode,allowSpecialUseDomain:Qm.allowSpecialUseDomain,prefixSecurity:Qm.prefixSecurity});mg._importCookies(Qm,bg=>{if(bg)return Ym(bg);Ym(null,mg)})}static deserializeSync(zm,Wm){const Ym=typeof zm=="string"?JSON.parse(zm):zm,Qm=new Km(Wm,{rejectPublicSuffixes:Ym.rejectPublicSuffixes,looseMode:Ym.enableLooseMode});if(!Qm.store.synchronous)throw new Error("CookieJar store is not synchronous; use async API instead.");return Qm._importCookiesSync(Ym),Qm}}Km.fromJSON=Km.deserializeSync,["_importCookies","clone","getCookies","getCookieString","getSetCookieStrings","removeAllCookies","serialize","setCookie"].forEach(Vm=>{Km.prototype[Vm]=rm(Km.prototype[Vm])}),Km.deserialize=rm(Km.deserialize);function Zm(Vm){return function(...zm){if(!this.store.synchronous)throw new Error("CookieJar store is not synchronous; use async API instead.");let Wm,Ym;if(this[Vm](...zm,(Qm,mg)=>{Wm=Qm,Ym=mg}),Wm)throw Wm;return Ym}}return cookie$1.version=nm,cookie$1.CookieJar=Km,cookie$1.Cookie=Om,cookie$1.Store=Nf,cookie$1.MemoryCookieStore=ip,cookie$1.parseDate=Um,cookie$1.formatDate=Lm,cookie$1.parse=bm,cookie$1.fromJSON=lm,cookie$1.domainMatch=dm,cookie$1.defaultPath=gm,cookie$1.pathMatch=em,cookie$1.getPublicSuffix=sf.getPublicSuffix,cookie$1.cookieCompare=um,cookie$1.permuteDomain=requirePermuteDomain().permuteDomain,cookie$1.permutePath=wm,cookie$1.canonicalDomain=Im,cookie$1.PrefixSecurityEnum=Sm,cookie$1.ParameterError=tm.ParameterError,cookie$1}var cookieExports=requireCookie();const cookie=getDefaultExportFromCjs(cookieExports),tough=_mergeNamespaces({__proto__:null,default:cookie},[cookieExports]);var setCookie={exports:{}},hasRequiredSetCookie;function requireSetCookie(){if(hasRequiredSetCookie)return setCookie.exports;hasRequiredSetCookie=1;var r={decodeValues:!0,map:!1,silent:!1};function s(tm){return typeof tm=="string"&&!!tm.trim()}function sf(tm,nm){var rm=tm.split(";").filter(s),om=rm.shift(),im=Nf(om),am=im.name,sm=im.value;nm=nm?Object.assign({},r,nm):r;try{sm=nm.decodeValues?decodeURIComponent(sm):sm}catch(hm){console.error("set-cookie-parser encountered an error while decoding a cookie with value '"+sm+"'. Set options.decodeValues to false to disable this feature.",hm)}var cm={name:am,value:sm};return rm.forEach(function(hm){var fm=hm.split("="),pm=fm.shift().trimLeft().toLowerCase(),mm=fm.join("=");pm==="expires"?cm.expires=new Date(mm):pm==="max-age"?cm.maxAge=parseInt(mm,10):pm==="secure"?cm.secure=!0:pm==="httponly"?cm.httpOnly=!0:pm==="samesite"?cm.sameSite=mm:pm==="partitioned"?cm.partitioned=!0:cm[pm]=mm}),cm}function Nf(tm){var nm="",rm="",om=tm.split("=");return om.length>1?(nm=om.shift(),rm=om.join("=")):rm=tm,{name:nm,value:rm}}function ip(tm,nm){if(nm=nm?Object.assign({},r,nm):r,!tm)return nm.map?{}:[];if(tm.headers)if(typeof tm.headers.getSetCookie=="function")tm=tm.headers.getSetCookie();else if(tm.headers["set-cookie"])tm=tm.headers["set-cookie"];else{var rm=tm.headers[Object.keys(tm.headers).find(function(im){return im.toLowerCase()==="set-cookie"})];!rm&&tm.headers.cookie&&!nm.silent&&console.warn("Warning: set-cookie-parser appears to have been called on a request object. It is designed to parse Set-Cookie headers from responses, not Cookie headers from requests. Set the option {silent: true} to suppress this warning."),tm=rm}if(Array.isArray(tm)||(tm=[tm]),nm.map){var om={};return tm.filter(s).reduce(function(im,am){var sm=sf(am,nm);return im[sm.name]=sm,im},om)}else return tm.filter(s).map(function(im){return sf(im,nm)})}function em(tm){if(Array.isArray(tm))return tm;if(typeof tm!="string")return[];var nm=[],rm=0,om,im,am,sm,cm;function hm(){for(;rm<tm.length&&/\s/.test(tm.charAt(rm));)rm+=1;return rm<tm.length}function fm(){return im=tm.charAt(rm),im!=="="&&im!==";"&&im!==","}for(;rm<tm.length;){for(om=rm,cm=!1;hm();)if(im=tm.charAt(rm),im===","){for(am=rm,rm+=1,hm(),sm=rm;rm<tm.length&&fm();)rm+=1;rm<tm.length&&tm.charAt(rm)==="="?(cm=!0,rm=sm,nm.push(tm.substring(om,am)),om=rm):rm=am+1}else rm+=1;(!cm||rm>=tm.length)&&nm.push(tm.substring(om,tm.length))}return nm}return setCookie.exports=ip,setCookie.exports.parse=ip,setCookie.exports.parseString=sf,setCookie.exports.splitCookiesString=em,setCookie.exports}var setCookieExports=requireSetCookie();function isDomainOrSubdomain(r,s){const sf=new URL(s).hostname,Nf=new URL(r).hostname;return sf===Nf||sf.endsWith(`.${Nf}`)}const referrerPolicy=new Set(["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"]);function parseReferrerPolicy(r){const s=r.split(/[,\s]+/);let sf="";for(const Nf of s)Nf!==""&&referrerPolicy.has(Nf)&&(sf=Nf);return sf}function doNothing(r,s){}function callDeleteMethod(r,s){r.headers.delete(s)}function deleteFromObject(r,s){const sf=r.headers;for(const Nf of Object.keys(sf))Nf.toLowerCase()===s&&delete sf[Nf]}function identifyDeleteHeader(r){return r.headers==null?doNothing:typeof r.headers.delete=="function"?callDeleteMethod:deleteFromObject}const redirectStatus=new Set([301,302,303,307,308]);function isRedirect(r){return redirectStatus.has(r)}async function handleRedirect(r,s,sf){switch(s.redirect??"follow"){case"error":throw new TypeError(`URI requested responded with a redirect and redirect mode is set to error: ${sf.url}`);case"manual":return sf;case"follow":break;default:throw new TypeError(`Invalid redirect option: ${s.redirect}`)}const Nf=sf.headers.get("location");if(Nf===null)return sf;const ip=sf.url,em=new URL(Nf,ip).toString(),tm=s.redirectCount??0,nm=s.maxRedirect??20;if(tm>=nm)throw new TypeError(`Reached maximum redirect of ${nm} for URL: ${ip}`);s={...s,redirectCount:tm+1};const rm=identifyDeleteHeader(s);if(!isDomainOrSubdomain(ip,em))for(const am of["authorization","www-authenticate","cookie","cookie2"])rm(s,am);const om=s.body,im=s.body;if(sf.status!==303&&s.body!=null&&(typeof om.pipe=="function"||typeof im.pipeTo=="function"))throw new TypeError("Cannot follow redirect with body being a readable stream");return(sf.status===303||(sf.status===301||sf.status===302)&&s.method==="POST")&&(s.method="GET",s.body=void 0,rm(s,"content-length")),sf.headers.has("referrer-policy")&&(s.referrerPolicy=parseReferrerPolicy(sf.headers.get("referrer-policy"))),await r(em,s)}function addCookiesToRequest(r,s,sf){if(sf==="")return s;const Nf=r,ip=s.headers;return Nf.headers&&typeof Nf.headers.append=="function"?Nf.headers.append("cookie",sf):ip&&typeof ip.append=="function"?ip.append("cookie",sf):s={...s,headers:{...s.headers,cookie:sf}},s}function getCookiesFromResponse(r){const s=r.headers;if(typeof s.getAll=="function")return s.getAll("set-cookie");if(typeof s.raw=="function"){const Nf=s.raw();return Array.isArray(Nf["set-cookie"])?Nf["set-cookie"]:[]}const sf=r.headers.get("set-cookie");return sf!==null?setCookieExports.splitCookiesString(sf):[]}function fetchCookie(r,s,sf=!0){const Nf=r,ip=s??new cookieExports.CookieJar;async function em(tm,nm){const rm=nm??{};nm={...nm,redirect:"manual"};const om=typeof tm=="string"?tm:tm.url??tm.href,im=await ip.getCookieString(om);nm=addCookiesToRequest(tm,nm,im);const am=await Nf(tm,nm),sm=getCookiesFromResponse(am);return await Promise.all(sm.map(async cm=>await ip.setCookie(cm,am.url,{ignoreError:sf}))),(nm.redirectCount??0)>0&&Object.defineProperty(am,"redirected",{value:!0}),isRedirect(am.status)?await handleRedirect(em,rm,am):am}return em.toughCookie=tough,em}fetchCookie.toughCookie=tough;var g$3=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof globalThis<"u"&&globalThis||{},support={searchParams:"URLSearchParams"in g$3,iterable:"Symbol"in g$3&&"iterator"in Symbol,blob:"FileReader"in g$3&&"Blob"in g$3&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in g$3,arrayBuffer:"ArrayBuffer"in g$3};function isDataView(r){return r&&DataView.prototype.isPrototypeOf(r)}if(support.arrayBuffer)var viewClasses=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],isArrayBufferView=ArrayBuffer.isView||function(r){return r&&viewClasses.indexOf(Object.prototype.toString.call(r))>-1};function normalizeName(r){if(typeof r!="string"&&(r=String(r)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(r)||r==="")throw new TypeError('Invalid character in header field name: "'+r+'"');return r.toLowerCase()}function normalizeValue(r){return typeof r!="string"&&(r=String(r)),r}function iteratorFor(r){var s={next:function(){var sf=r.shift();return{done:sf===void 0,value:sf}}};return support.iterable&&(s[Symbol.iterator]=function(){return s}),s}function Headers$1(r){this.map={},r instanceof Headers$1?r.forEach(function(s,sf){this.append(sf,s)},this):Array.isArray(r)?r.forEach(function(s){if(s.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+s.length);this.append(s[0],s[1])},this):r&&Object.getOwnPropertyNames(r).forEach(function(s){this.append(s,r[s])},this)}Headers$1.prototype.append=function(r,s){r=normalizeName(r),s=normalizeValue(s);var sf=this.map[r];this.map[r]=sf?sf+", "+s:s};Headers$1.prototype.delete=function(r){delete this.map[normalizeName(r)]};Headers$1.prototype.get=function(r){return r=normalizeName(r),this.has(r)?this.map[r]:null};Headers$1.prototype.has=function(r){return this.map.hasOwnProperty(normalizeName(r))};Headers$1.prototype.set=function(r,s){this.map[normalizeName(r)]=normalizeValue(s)};Headers$1.prototype.forEach=function(r,s){for(var sf in this.map)this.map.hasOwnProperty(sf)&&r.call(s,this.map[sf],sf,this)};Headers$1.prototype.keys=function(){var r=[];return this.forEach(function(s,sf){r.push(sf)}),iteratorFor(r)};Headers$1.prototype.values=function(){var r=[];return this.forEach(function(s){r.push(s)}),iteratorFor(r)};Headers$1.prototype.entries=function(){var r=[];return this.forEach(function(s,sf){r.push([sf,s])}),iteratorFor(r)};support.iterable&&(Headers$1.prototype[Symbol.iterator]=Headers$1.prototype.entries);function consumed(r){if(!r._noBody){if(r.bodyUsed)return Promise.reject(new TypeError("Already read"));r.bodyUsed=!0}}function fileReaderReady(r){return new Promise(function(s,sf){r.onload=function(){s(r.result)},r.onerror=function(){sf(r.error)}})}function readBlobAsArrayBuffer(r){var s=new FileReader,sf=fileReaderReady(s);return s.readAsArrayBuffer(r),sf}function readBlobAsText(r){var s=new FileReader,sf=fileReaderReady(s),Nf=/charset=([A-Za-z0-9_-]+)/.exec(r.type),ip=Nf?Nf[1]:"utf-8";return s.readAsText(r,ip),sf}function readArrayBufferAsText(r){for(var s=new Uint8Array(r),sf=new Array(s.length),Nf=0;Nf<s.length;Nf++)sf[Nf]=String.fromCharCode(s[Nf]);return sf.join("")}function bufferClone(r){if(r.slice)return r.slice(0);var s=new Uint8Array(r.byteLength);return s.set(new Uint8Array(r)),s.buffer}function Body(){return this.bodyUsed=!1,this._initBody=function(r){this.bodyUsed=this.bodyUsed,this._bodyInit=r,r?typeof r=="string"?this._bodyText=r:support.blob&&Blob.prototype.isPrototypeOf(r)?this._bodyBlob=r:support.formData&&FormData.prototype.isPrototypeOf(r)?this._bodyFormData=r:support.searchParams&&URLSearchParams.prototype.isPrototypeOf(r)?this._bodyText=r.toString():support.arrayBuffer&&support.blob&&isDataView(r)?(this._bodyArrayBuffer=bufferClone(r.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):support.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(r)||isArrayBufferView(r))?this._bodyArrayBuffer=bufferClone(r):this._bodyText=r=Object.prototype.toString.call(r):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof r=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):support.searchParams&&URLSearchParams.prototype.isPrototypeOf(r)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},support.blob&&(this.blob=function(){var r=consumed(this);if(r)return r;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var r=consumed(this);return r||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(support.blob)return this.blob().then(readBlobAsArrayBuffer);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var r=consumed(this);if(r)return r;if(this._bodyBlob)return readBlobAsText(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},support.formData&&(this.formData=function(){return this.text().then(decode$2)}),this.json=function(){return this.text().then(JSON.parse)},this}var methods=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function normalizeMethod(r){var s=r.toUpperCase();return methods.indexOf(s)>-1?s:r}function Request$1(r,s){if(!(this instanceof Request$1))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');s=s||{};var sf=s.body;if(r instanceof Request$1){if(r.bodyUsed)throw new TypeError("Already read");this.url=r.url,this.credentials=r.credentials,s.headers||(this.headers=new Headers$1(r.headers)),this.method=r.method,this.mode=r.mode,this.signal=r.signal,!sf&&r._bodyInit!=null&&(sf=r._bodyInit,r.bodyUsed=!0)}else this.url=String(r);if(this.credentials=s.credentials||this.credentials||"same-origin",(s.headers||!this.headers)&&(this.headers=new Headers$1(s.headers)),this.method=normalizeMethod(s.method||this.method||"GET"),this.mode=s.mode||this.mode||null,this.signal=s.signal||this.signal||function(){if("AbortController"in g$3){var em=new AbortController;return em.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&sf)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(sf),(this.method==="GET"||this.method==="HEAD")&&(s.cache==="no-store"||s.cache==="no-cache")){var Nf=/([?&])_=[^&]*/;if(Nf.test(this.url))this.url=this.url.replace(Nf,"$1_="+(new Date).getTime());else{var ip=/\?/;this.url+=(ip.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}Request$1.prototype.clone=function(){return new Request$1(this,{body:this._bodyInit})};function decode$2(r){var s=new FormData;return r.trim().split("&").forEach(function(sf){if(sf){var Nf=sf.split("="),ip=Nf.shift().replace(/\+/g," "),em=Nf.join("=").replace(/\+/g," ");s.append(decodeURIComponent(ip),decodeURIComponent(em))}}),s}function parseHeaders(r){var s=new Headers$1,sf=r.replace(/\r?\n[\t ]+/g," ");return sf.split("\r").map(function(Nf){return Nf.indexOf(`
`)===0?Nf.substr(1,Nf.length):Nf}).forEach(function(Nf){var ip=Nf.split(":"),em=ip.shift().trim();if(em){var tm=ip.join(":").trim();try{s.append(em,tm)}catch(nm){console.warn("Response "+nm.message)}}}),s}Body.call(Request$1.prototype);function Response$1(r,s){if(!(this instanceof Response$1))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(s||(s={}),this.type="default",this.status=s.status===void 0?200:s.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=s.statusText===void 0?"":""+s.statusText,this.headers=new Headers$1(s.headers),this.url=s.url||"",this._initBody(r)}Body.call(Response$1.prototype);Response$1.prototype.clone=function(){return new Response$1(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Headers$1(this.headers),url:this.url})};Response$1.error=function(){var r=new Response$1(null,{status:200,statusText:""});return r.ok=!1,r.status=0,r.type="error",r};var redirectStatuses=[301,302,303,307,308];Response$1.redirect=function(r,s){if(redirectStatuses.indexOf(s)===-1)throw new RangeError("Invalid status code");return new Response$1(null,{status:s,headers:{location:r}})};var DOMException=g$3.DOMException;try{new DOMException}catch{DOMException=function(s,sf){this.message=s,this.name=sf;var Nf=Error(s);this.stack=Nf.stack},DOMException.prototype=Object.create(Error.prototype),DOMException.prototype.constructor=DOMException}function fetch$1(r,s){return new Promise(function(sf,Nf){var ip=new Request$1(r,s);if(ip.signal&&ip.signal.aborted)return Nf(new DOMException("Aborted","AbortError"));var em=new XMLHttpRequest;function tm(){em.abort()}em.onload=function(){var om={statusText:em.statusText,headers:parseHeaders(em.getAllResponseHeaders()||"")};ip.url.indexOf("file://")===0&&(em.status<200||em.status>599)?om.status=200:om.status=em.status,om.url="responseURL"in em?em.responseURL:om.headers.get("X-Request-URL");var im="response"in em?em.response:em.responseText;setTimeout(function(){sf(new Response$1(im,om))},0)},em.onerror=function(){setTimeout(function(){Nf(new TypeError("Network request failed"))},0)},em.ontimeout=function(){setTimeout(function(){Nf(new TypeError("Network request timed out"))},0)},em.onabort=function(){setTimeout(function(){Nf(new DOMException("Aborted","AbortError"))},0)};function nm(om){try{return om===""&&g$3.location.href?g$3.location.href:om}catch{return om}}if(em.open(ip.method,nm(ip.url),!0),ip.credentials==="include"?em.withCredentials=!0:ip.credentials==="omit"&&(em.withCredentials=!1),"responseType"in em&&(support.blob?em.responseType="blob":support.arrayBuffer&&(em.responseType="arraybuffer")),s&&typeof s.headers=="object"&&!(s.headers instanceof Headers$1||g$3.Headers&&s.headers instanceof g$3.Headers)){var rm=[];Object.getOwnPropertyNames(s.headers).forEach(function(om){rm.push(normalizeName(om)),em.setRequestHeader(om,normalizeValue(s.headers[om]))}),ip.headers.forEach(function(om,im){rm.indexOf(im)===-1&&em.setRequestHeader(im,om)})}else ip.headers.forEach(function(om,im){em.setRequestHeader(im,om)});ip.signal&&(ip.signal.addEventListener("abort",tm),em.onreadystatechange=function(){em.readyState===4&&ip.signal.removeEventListener("abort",tm)}),em.send(typeof ip._bodyInit>"u"?null:ip._bodyInit)})}fetch$1.polyfill=!0;g$3.fetch||(g$3.fetch=fetch$1,g$3.Headers=Headers$1,g$3.Request=Request$1,g$3.Response=Response$1);var fetchNpmBrowserify,hasRequiredFetchNpmBrowserify;function requireFetchNpmBrowserify(){return hasRequiredFetchNpmBrowserify||(hasRequiredFetchNpmBrowserify=1,fetchNpmBrowserify=self.fetch.bind(self)),fetchNpmBrowserify}var fetchNpmBrowserifyExports=requireFetchNpmBrowserify();const isomorphicFetch=getDefaultExportFromCjs(fetchNpmBrowserifyExports),copyProps=(r,s,sf=[])=>{const Nf=Object.getOwnPropertyDescriptors(s);for(let ip of sf)delete Nf[ip];Object.defineProperties(r,Nf)},protoChain=(r,s=[r])=>{const sf=Object.getPrototypeOf(r);return sf===null?s:protoChain(sf,[...s,sf])},nearestCommonProto=(...r)=>{if(r.length===0)return;let s;const sf=r.map(Nf=>protoChain(Nf));for(;sf.every(Nf=>Nf.length>0);){const Nf=sf.map(em=>em.pop()),ip=Nf[0];if(Nf.every(em=>em===ip))s=ip;else break}return s},hardMixProtos=(r,s,sf=[])=>{var Nf;const ip=(Nf=nearestCommonProto(...r))!==null&&Nf!==void 0?Nf:Object.prototype,em=Object.create(ip),tm=protoChain(ip);for(let nm of r){let rm=protoChain(nm);for(let om=rm.length-1;om>=0;om--){let im=rm[om];tm.indexOf(im)===-1&&(copyProps(em,im,["constructor",...sf]),tm.push(im))}}return em.constructor=s,em},unique=r=>r.filter((s,sf)=>r.indexOf(s)==sf),mixins=new WeakMap,getMixinsForClass=r=>mixins.get(r),registerMixins=(r,s)=>mixins.set(r,s),mergeObjectsOfDecorators=(r,s)=>{var sf,Nf;const ip=unique([...Object.getOwnPropertyNames(r),...Object.getOwnPropertyNames(s)]),em={};for(let tm of ip)em[tm]=unique([...(sf=r?.[tm])!==null&&sf!==void 0?sf:[],...(Nf=s?.[tm])!==null&&Nf!==void 0?Nf:[]]);return em},mergePropertyAndMethodDecorators=(r,s)=>{var sf,Nf,ip,em;return{property:mergeObjectsOfDecorators((sf=r?.property)!==null&&sf!==void 0?sf:{},(Nf=s?.property)!==null&&Nf!==void 0?Nf:{}),method:mergeObjectsOfDecorators((ip=r?.method)!==null&&ip!==void 0?ip:{},(em=s?.method)!==null&&em!==void 0?em:{})}},mergeDecorators=(r,s)=>{var sf,Nf,ip,em,tm,nm;return{class:unique([...(sf=r?.class)!==null&&sf!==void 0?sf:[],...(Nf=s?.class)!==null&&Nf!==void 0?Nf:[]]),static:mergePropertyAndMethodDecorators((ip=r?.static)!==null&&ip!==void 0?ip:{},(em=s?.static)!==null&&em!==void 0?em:{}),instance:mergePropertyAndMethodDecorators((tm=r?.instance)!==null&&tm!==void 0?tm:{},(nm=s?.instance)!==null&&nm!==void 0?nm:{})}},decorators=new Map,findAllConstituentClasses=(...r)=>{var s;const sf=new Set,Nf=new Set([...r]);for(;Nf.size>0;)for(let ip of Nf){const em=protoChain(ip.prototype).map(om=>om.constructor),tm=(s=getMixinsForClass(ip))!==null&&s!==void 0?s:[],rm=[...em,...tm].filter(om=>!sf.has(om));for(let om of rm)Nf.add(om);sf.add(ip),Nf.delete(ip)}return[...sf]},deepDecoratorSearch=(...r)=>{const s=findAllConstituentClasses(...r).map(sf=>decorators.get(sf)).filter(sf=>!!sf);return s.length==0?{}:s.length==1?s[0]:s.reduce((sf,Nf)=>mergeDecorators(sf,Nf))};function Mixin(...r){var s,sf,Nf;const ip=r.map(nm=>nm.prototype);function em(...nm){for(const rm of r)copyProps(this,new rm(...nm))}em.prototype=hardMixProtos(ip,em),Object.setPrototypeOf(em,hardMixProtos(r,null,["prototype"]));let tm=em;{const nm=deepDecoratorSearch(...r);for(let rm of(s=nm?.class)!==null&&s!==void 0?s:[]){const om=rm(tm);om&&(tm=om)}applyPropAndMethodDecorators((sf=nm?.static)!==null&&sf!==void 0?sf:{},tm),applyPropAndMethodDecorators((Nf=nm?.instance)!==null&&Nf!==void 0?Nf:{},tm.prototype)}return registerMixins(tm,r),tm}const applyPropAndMethodDecorators=(r,s)=>{const sf=r.property,Nf=r.method;if(sf)for(let ip in sf)for(let em of sf[ip])em(s,ip);if(Nf)for(let ip in Nf)for(let em of Nf[ip])em(s,ip,Object.getOwnPropertyDescriptor(s,ip))};let __defProp,__getOwnPropDesc,__getOwnPropNames,__hasOwnProp,__export,__copyProps,__reExport;__defProp=Object.defineProperty;__getOwnPropDesc=Object.getOwnPropertyDescriptor;__getOwnPropNames=Object.getOwnPropertyNames;__hasOwnProp=Object.prototype.hasOwnProperty;__export=(r,s)=>{for(var sf in s)__defProp(r,sf,{get:s[sf],enumerable:!0})};__copyProps=(r,s,sf,Nf)=>{if(s&&typeof s=="object"||typeof s=="function")for(let ip of __getOwnPropNames(s))!__hasOwnProp.call(r,ip)&&ip!==sf&&__defProp(r,ip,{get:()=>s[ip],enumerable:!(Nf=__getOwnPropDesc(s,ip))||Nf.enumerable});return r};__reExport=(r,s,sf)=>(__copyProps(r,s,"default"),sf);constants_exports={};__export(constants_exports,{ADDR_BOUND:()=>ADDR_BOUND,API_VERSION:()=>API_VERSION,BaseUrl:()=>BaseUrl,DEFAULT_GLOBAL_CONFIG:()=>DEFAULT_GLOBAL_CONFIG,FeeMarginPercentage:()=>FeeMarginPercentage,HARDENING_4BYTES:()=>HARDENING_4BYTES,HARDENING_BYTE:()=>HARDENING_BYTE,IS_BROWSER:()=>IS_BROWSER,MASK_250:()=>MASK_250,MASK_31:()=>MASK_31,MAX_STORAGE_ITEM_SIZE:()=>MAX_STORAGE_ITEM_SIZE,NetworkName:()=>NetworkName,OutsideExecutionCallerAny:()=>OutsideExecutionCallerAny,PRIME:()=>PRIME,RANGE_FELT:()=>RANGE_FELT,RANGE_I128:()=>RANGE_I128,RANGE_U128:()=>RANGE_U128,RPC_DEFAULT_VERSION:()=>RPC_DEFAULT_VERSION,RPC_NODES:()=>RPC_NODES,SNIP9_V1_INTERFACE_ID:()=>SNIP9_V1_INTERFACE_ID,SNIP9_V2_INTERFACE_ID:()=>SNIP9_V2_INTERFACE_ID,SYSTEM_MESSAGES:()=>SYSTEM_MESSAGES,StarknetChainId:()=>StarknetChainId,TEXT_TO_FELT_MAX_LEN:()=>TEXT_TO_FELT_MAX_LEN,TRANSACTION_VERSION:()=>api_exports.ETransactionVersion,TransactionHashPrefix:()=>TransactionHashPrefix,UDC:()=>UDC,ZERO:()=>ZERO});var api_exports={};__export(api_exports,{JRPC:()=>jsonrpc_exports,RPCSPEC06:()=>rpcspec_0_6_exports,RPCSPEC07:()=>starknet_types_07_star});var jsonrpc_exports={},rpcspec_0_6_exports={};__export(rpcspec_0_6_exports,{EBlockTag:()=>EBlockTag,EDAMode:()=>EDAMode,EDataAvailabilityMode:()=>EDataAvailabilityMode,ESimulationFlag:()=>ESimulationFlag,ETransactionExecutionStatus:()=>ETransactionExecutionStatus,ETransactionFinalityStatus:()=>ETransactionFinalityStatus,ETransactionStatus:()=>ETransactionStatus,ETransactionType:()=>ETransactionType,ETransactionVersion:()=>ETransactionVersion,ETransactionVersion2:()=>ETransactionVersion2,ETransactionVersion3:()=>ETransactionVersion3,Errors:()=>errors_exports,SPEC:()=>components_exports});var errors_exports={},components_exports={},ETransactionType={DECLARE:"DECLARE",DEPLOY:"DEPLOY",DEPLOY_ACCOUNT:"DEPLOY_ACCOUNT",INVOKE:"INVOKE",L1_HANDLER:"L1_HANDLER"},ESimulationFlag={SKIP_VALIDATE:"SKIP_VALIDATE",SKIP_FEE_CHARGE:"SKIP_FEE_CHARGE"},ETransactionStatus={RECEIVED:"RECEIVED",REJECTED:"REJECTED",ACCEPTED_ON_L2:"ACCEPTED_ON_L2",ACCEPTED_ON_L1:"ACCEPTED_ON_L1"},ETransactionFinalityStatus={ACCEPTED_ON_L2:"ACCEPTED_ON_L2",ACCEPTED_ON_L1:"ACCEPTED_ON_L1"},ETransactionExecutionStatus={SUCCEEDED:"SUCCEEDED",REVERTED:"REVERTED"},EBlockTag={PENDING:"pending",LATEST:"latest"},EDataAvailabilityMode={L1:"L1",L2:"L2"},EDAMode={L1:0,L2:1},ETransactionVersion={V0:"0x0",V1:"0x1",V2:"0x2",V3:"0x3",F0:"0x100000000000000000000000000000000",F1:"0x100000000000000000000000000000001",F2:"0x100000000000000000000000000000002",F3:"0x100000000000000000000000000000003"},ETransactionVersion2={V0:"0x0",V1:"0x1",V2:"0x2",F0:"0x100000000000000000000000000000000",F1:"0x100000000000000000000000000000001",F2:"0x100000000000000000000000000000002"},ETransactionVersion3={V3:"0x3",F3:"0x100000000000000000000000000000003"};__reExport(api_exports,starknet_types_07_star);var encode_exports={};__export(encode_exports,{IS_BROWSER:()=>IS_BROWSER,addHexPrefix:()=>addHexPrefix,arrayBufferToString:()=>arrayBufferToString,atobUniversal:()=>atobUniversal,btoaUniversal:()=>btoaUniversal,buf2hex:()=>buf2hex,calcByteLength:()=>calcByteLength,concatenateArrayBuffer:()=>concatenateArrayBuffer,padLeft:()=>padLeft,pascalToSnake:()=>pascalToSnake,removeHexPrefix:()=>removeHexPrefix,sanitizeBytes:()=>sanitizeBytes,sanitizeHex:()=>sanitizeHex,stringToArrayBuffer:()=>stringToArrayBuffer,utf8ToArray:()=>utf8ToArray});var IS_BROWSER=typeof window<"u",STRING_ZERO="0";function arrayBufferToString(r){return new Uint8Array(r).reduce((s,sf)=>s+String.fromCharCode(sf),"")}function utf8ToArray(r){return new TextEncoder().encode(r)}function stringToArrayBuffer(r){return utf8ToArray(r)}function atobUniversal(r){return base64.decode(r)}function btoaUniversal(r){return base64.encode(new Uint8Array(r))}function buf2hex(r){return r.reduce((s,sf)=>s+sf.toString(16).padStart(2,"0"),"")}function removeHexPrefix(r){return r.replace(/^0x/i,"")}function addHexPrefix(r){return`0x${removeHexPrefix(r)}`}function padString(r,s,sf,Nf=STRING_ZERO){const ip=s-r.length;let em=r;return ip>0&&(em=Nf.repeat(ip)+r),em}function padLeft(r,s,sf=STRING_ZERO){return padString(r,s,!0,sf)}function calcByteLength(r,s=8){const{length:sf}=r,Nf=sf%s;return Nf?(sf-Nf)/s*s+s:sf}function sanitizeBytes(r,s=8,sf=STRING_ZERO){return padLeft(r,calcByteLength(r,s),sf)}function sanitizeHex(r){const s=removeHexPrefix(r),sf=sanitizeBytes(s,2);return sf&&addHexPrefix(sf)}var pascalToSnake=r=>/[a-z]/.test(r)?r.split(/(?=[A-Z])/).join("_").toUpperCase():r;function concatenateArrayBuffer(r){const s=r.reduce((ip,em)=>ip+em.byteLength,0),sf=new Uint8Array(s);let Nf=0;return r.forEach(ip=>{sf.set(ip,Nf),Nf+=ip.byteLength}),sf}var TEXT_TO_FELT_MAX_LEN=31,ZERO=0n,MASK_250=2n**250n-1n,MASK_31=2n**31n-1n,API_VERSION=ZERO,PRIME=2n**251n+17n*2n**192n+1n,MAX_STORAGE_ITEM_SIZE=256n,ADDR_BOUND=2n**251n-MAX_STORAGE_ITEM_SIZE,range=(r,s)=>({min:r,max:s}),RANGE_FELT=range(ZERO,PRIME-1n),RANGE_I128=range(-(2n**127n),2n**127n-1n),RANGE_U128=range(ZERO,2n**128n-1n),BaseUrl=(r=>(r.SN_MAIN="https://alpha-mainnet.starknet.io",r.SN_SEPOLIA="https://alpha-sepolia.starknet.io",r))(BaseUrl||{}),NetworkName=(r=>(r.SN_MAIN="SN_MAIN",r.SN_SEPOLIA="SN_SEPOLIA",r))(NetworkName||{}),StarknetChainId=(r=>(r.SN_MAIN="0x534e5f4d41494e",r.SN_SEPOLIA="0x534e5f5345504f4c4941",r))(StarknetChainId||{}),TransactionHashPrefix=(r=>(r.DECLARE="0x6465636c617265",r.DEPLOY="0x6465706c6f79",r.DEPLOY_ACCOUNT="0x6465706c6f795f6163636f756e74",r.INVOKE="0x696e766f6b65",r.L1_HANDLER="0x6c315f68616e646c6572",r))(TransactionHashPrefix||{}),FeeMarginPercentage=(r=>(r[r.L1_BOUND_MAX_AMOUNT=50]="L1_BOUND_MAX_AMOUNT",r[r.L1_BOUND_MAX_PRICE_PER_UNIT=50]="L1_BOUND_MAX_PRICE_PER_UNIT",r[r.MAX_FEE=50]="MAX_FEE",r))(FeeMarginPercentage||{}),UDC={ADDRESS:"0x041a78e741e5af2fec34b695679bc6891742439f7afb8484ecd7766661ad02bf",ENTRYPOINT:"deployContract"},RPC_DEFAULT_VERSION="v0_7",RPC_NODES={SN_MAIN:[`https://starknet-mainnet.public.blastapi.io/rpc/${RPC_DEFAULT_VERSION}`,`https://free-rpc.nethermind.io/mainnet-juno/${RPC_DEFAULT_VERSION}`],SN_SEPOLIA:[`https://starknet-sepolia.public.blastapi.io/rpc/${RPC_DEFAULT_VERSION}`,`https://free-rpc.nethermind.io/sepolia-juno/${RPC_DEFAULT_VERSION}`]},OutsideExecutionCallerAny="0x414e595f43414c4c4552",SNIP9_V1_INTERFACE_ID="0x68cfd18b92d1907b8ba3cc324900277f5a3622099431ea85dd8089255e4181",SNIP9_V2_INTERFACE_ID="0x1d1144bb2138366ff28d8e9ab57456b1d332ac42196230c3a602003c89872",HARDENING_BYTE=128,HARDENING_4BYTES=2147483648n,DEFAULT_GLOBAL_CONFIG={legacyMode:!1,logLevel:"INFO",accountTxVersion:api_exports.ETransactionVersion.V2},SYSTEM_MESSAGES={legacyTxWarningMessage:`You are using a deprecated transaction version (V0,V1,V2)!
Update to the latest V3 transactions!`},rpc_0_6_exports={};__export(rpc_0_6_exports,{RpcChannel:()=>RpcChannel});var json_exports={};__export(json_exports,{parse:()=>parse2,parseAlwaysAsBig:()=>parseAlwaysAsBig,stringify:()=>stringify2,stringifyAlwaysAsBig:()=>stringifyAlwaysAsBig});var parseIntAsNumberOrBigInt=r=>{if(!isInteger(r))return parseFloat(r);const s=parseInt(r,10);return Number.isSafeInteger(s)?s:BigInt(r)},parse2=r=>parse$2(String(r),void 0,parseIntAsNumberOrBigInt),parseAlwaysAsBig=r=>parse$2(String(r),void 0,parseNumberAndBigInt),stringify2=(r,s,sf,Nf)=>stringify$2(r,s,sf,Nf),stringifyAlwaysAsBig=stringify2,errorCodes={FAILED_TO_RECEIVE_TXN:1,NO_TRACE_AVAILABLE:10,CONTRACT_NOT_FOUND:20,BLOCK_NOT_FOUND:24,INVALID_TXN_INDEX:27,CLASS_HASH_NOT_FOUND:28,TXN_HASH_NOT_FOUND:29,PAGE_SIZE_TOO_BIG:31,NO_BLOCKS:32,INVALID_CONTINUATION_TOKEN:33,TOO_MANY_KEYS_IN_FILTER:34,CONTRACT_ERROR:40,TRANSACTION_EXECUTION_ERROR:41,CLASS_ALREADY_DECLARED:51,INVALID_TRANSACTION_NONCE:52,INSUFFICIENT_MAX_FEE:53,INSUFFICIENT_ACCOUNT_BALANCE:54,VALIDATION_FAILURE:55,COMPILATION_FAILED:56,CONTRACT_CLASS_SIZE_IS_TOO_LARGE:57,NON_ACCOUNT:58,DUPLICATE_TX:59,COMPILED_CLASS_HASH_MISMATCH:60,UNSUPPORTED_TX_VERSION:61,UNSUPPORTED_CONTRACT_CLASS_VERSION:62,UNEXPECTED_ERROR:63},rpc_default=errorCodes;function fixStack(r,s=r.constructor){const{captureStackTrace:sf}=Error;sf&&sf(r,s)}function fixProto(r,s){const{setPrototypeOf:sf}=Object;sf?sf(r,s):r.__proto__=s}var CustomError=class extends Error{name;constructor(r){super(r),Object.defineProperty(this,"name",{value:new.target.name,enumerable:!1,configurable:!0}),fixProto(this,new.target.prototype),fixStack(this)}},LibraryError=class extends CustomError{},RpcError=class extends LibraryError{constructor(r,s,sf){super(`RPC: ${s} with params ${stringify2(sf,null,2)}

      ${r.code}: ${r.message}: ${stringify2(r.data)}`),this.baseError=r,this.request={method:s,params:sf}}request;get code(){return this.baseError.code}isType(r){return rpc_default[r]===this.code}},types_exports={};__export(types_exports,{BlockStatus:()=>BlockStatus,BlockTag:()=>BlockTag,ETH_ADDRESS:()=>ETH_ADDRESS,EntryPointType:()=>EntryPointType,Literal:()=>Literal,NON_ZERO_PREFIX:()=>NON_ZERO_PREFIX,OutsideExecutionTypesV1:()=>OutsideExecutionTypesV1,OutsideExecutionTypesV2:()=>OutsideExecutionTypesV2,OutsideExecutionVersion:()=>OutsideExecutionVersion,RPC:()=>api_exports,TransactionExecutionStatus:()=>TransactionExecutionStatus,TransactionFinalityStatus:()=>TransactionFinalityStatus,TransactionStatus:()=>TransactionStatus,TransactionType:()=>TransactionType,TypedDataRevision:()=>TypedDataRevision,Uint:()=>Uint,ValidateType:()=>ValidateType});var EntryPointType={EXTERNAL:"EXTERNAL",L1_HANDLER:"L1_HANDLER",CONSTRUCTOR:"CONSTRUCTOR"},TransactionType={DECLARE:"DECLARE",DEPLOY:"DEPLOY",DEPLOY_ACCOUNT:"DEPLOY_ACCOUNT",INVOKE:"INVOKE_FUNCTION"},TransactionStatus={NOT_RECEIVED:"NOT_RECEIVED",RECEIVED:"RECEIVED",ACCEPTED_ON_L2:"ACCEPTED_ON_L2",ACCEPTED_ON_L1:"ACCEPTED_ON_L1",REJECTED:"REJECTED",REVERTED:"REVERTED"},TransactionFinalityStatus={NOT_RECEIVED:"NOT_RECEIVED",RECEIVED:"RECEIVED",ACCEPTED_ON_L2:"ACCEPTED_ON_L2",ACCEPTED_ON_L1:"ACCEPTED_ON_L1"},TransactionExecutionStatus={REJECTED:"REJECTED",REVERTED:"REVERTED",SUCCEEDED:"SUCCEEDED"},BlockStatus={PENDING:"PENDING",ACCEPTED_ON_L1:"ACCEPTED_ON_L1",ACCEPTED_ON_L2:"ACCEPTED_ON_L2",REJECTED:"REJECTED"},BlockTag={PENDING:"pending",LATEST:"latest"},ValidateType={DEPLOY:"DEPLOY",CALL:"CALL",INVOKE:"INVOKE"},Uint={u8:"core::integer::u8",u16:"core::integer::u16",u32:"core::integer::u32",u64:"core::integer::u64",u128:"core::integer::u128",u256:"core::integer::u256",u512:"core::integer::u512"},Literal={ClassHash:"core::starknet::class_hash::ClassHash",ContractAddress:"core::starknet::contract_address::ContractAddress",Secp256k1Point:"core::starknet::secp256k1::Secp256k1Point",U96:"core::internal::bounded_int::BoundedInt::<0, 79228162514264337593543950335>"},ETH_ADDRESS="core::starknet::eth_address::EthAddress",NON_ZERO_PREFIX="core::zeroable::NonZero::",OutsideExecutionTypesV1={StarkNetDomain:[{name:"name",type:"felt"},{name:"version",type:"felt"},{name:"chainId",type:"felt"}],OutsideExecution:[{name:"caller",type:"felt"},{name:"nonce",type:"felt"},{name:"execute_after",type:"felt"},{name:"execute_before",type:"felt"},{name:"calls_len",type:"felt"},{name:"calls",type:"OutsideCall*"}],OutsideCall:[{name:"to",type:"felt"},{name:"selector",type:"felt"},{name:"calldata_len",type:"felt"},{name:"calldata",type:"felt*"}]},OutsideExecutionTypesV2={StarknetDomain:[{name:"name",type:"shortstring"},{name:"version",type:"shortstring"},{name:"chainId",type:"shortstring"},{name:"revision",type:"shortstring"}],OutsideExecution:[{name:"Caller",type:"ContractAddress"},{name:"Nonce",type:"felt"},{name:"Execute After",type:"u128"},{name:"Execute Before",type:"u128"},{name:"Calls",type:"Call*"}],Call:[{name:"To",type:"ContractAddress"},{name:"Selector",type:"selector"},{name:"Calldata",type:"felt*"}]},OutsideExecutionVersion=(r=>(r.UNSUPPORTED="0",r.V1="1",r.V2="2",r))(OutsideExecutionVersion||{}),BatchClient=class{nodeUrl;headers;interval;requestId=0;pendingRequests={};batchPromises={};delayTimer;delayPromise;delayPromiseResolve;baseFetch;constructor(r){this.nodeUrl=r.nodeUrl,this.headers=r.headers,this.interval=r.interval,this.baseFetch=r.baseFetch}async wait(){return(!this.delayPromise||!this.delayPromiseResolve)&&(this.delayPromise=new Promise(r=>{this.delayPromiseResolve=r})),this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=void 0),this.delayTimer=setTimeout(()=>{this.delayPromiseResolve&&(this.delayPromiseResolve(),this.delayPromise=void 0,this.delayPromiseResolve=void 0)},this.interval),this.delayPromise}addPendingRequest(r,s,sf){const Nf={id:sf??`batched_${this.requestId+=1}`,jsonrpc:"2.0",method:r,params:s??void 0};return this.pendingRequests[Nf.id]=Nf,Nf.id}async sendBatch(r){return(await this.baseFetch(this.nodeUrl,{method:"POST",body:stringify2(r),headers:this.headers})).json()}async fetch(r,s,sf){const Nf=this.addPendingRequest(r,s,sf);await this.wait();const ip=this.pendingRequests;if(this.pendingRequests={},!this.batchPromises[Nf]){const nm=this.sendBatch(Object.values(ip));Object.keys(ip).forEach(rm=>{this.batchPromises[rm]=nm})}const em=await this.batchPromises[Nf];delete this.batchPromises[Nf];const tm=em.find(nm=>nm.id===Nf);if(!tm)throw new Error(`Couldn't find the result for the request. Method: ${r}`);return tm}};function assert$4(r,s){if(!r)throw new Error(s||"Assertion failure")}var num_exports={};__export(num_exports,{addPercent:()=>addPercent,assertInRange:()=>assertInRange,bigNumberishArrayToDecimalStringArray:()=>bigNumberishArrayToDecimalStringArray,bigNumberishArrayToHexadecimalStringArray:()=>bigNumberishArrayToHexadecimalStringArray,cleanHex:()=>cleanHex,getDecimalString:()=>getDecimalString,getHexString:()=>getHexString,getHexStringArray:()=>getHexStringArray,hexToBytes:()=>hexToBytes$1,hexToDecimalString:()=>hexToDecimalString,isBigNumberish:()=>isBigNumberish,isHex:()=>isHex,isStringWholeNumber:()=>isStringWholeNumber,stringToSha256ToArrayBuff4:()=>stringToSha256ToArrayBuff4,toBigInt:()=>toBigInt,toCairoBool:()=>toCairoBool,toHex:()=>toHex,toHex64:()=>toHex64,toHexString:()=>toHexString,toStorageKey:()=>toStorageKey});var isUndefined=r=>typeof r>"u"||r===void 0;function isNumber(r){return typeof r=="number"}function isBoolean(r){return typeof r=="boolean"}function isBigInt(r){return typeof r=="bigint"}function isString(r){return typeof r=="string"}function isObject$3(r){return!!r&&typeof r=="object"&&!Array.isArray(r)}function isHex(r){return/^0x[0-9a-f]*$/i.test(r)}function toBigInt(r){return BigInt(r)}function toHex(r){return addHexPrefix(toBigInt(r).toString(16))}var toHexString=toHex;function toStorageKey(r){return addHexPrefix(toBigInt(r).toString(16).padStart(64,"0"))}function toHex64(r){const s=addHexPrefix(toBigInt(r).toString(16).padStart(64,"0"));if(s.length!==66)throw TypeError("number is too big for hex 0x(64) representation");return s}function hexToDecimalString(r){return BigInt(addHexPrefix(r)).toString(10)}function cleanHex(r){return r.toLowerCase().replace(/^(0x)0+/,"$1")}function assertInRange(r,s,sf,Nf=""){const ip=Nf===""?"invalid length":`invalid ${Nf} length`,em=BigInt(r),tm=BigInt(s),nm=BigInt(sf);assert$4(em>=tm&&em<=nm,`Message not signable, ${ip}.`)}function bigNumberishArrayToDecimalStringArray(r){return r.map(s=>toBigInt(s).toString(10))}function bigNumberishArrayToHexadecimalStringArray(r){return r.map(s=>toHex(s))}function isStringWholeNumber(r){return/^\d+$/.test(r)}function getDecimalString(r){if(isHex(r))return hexToDecimalString(r);if(isStringWholeNumber(r))return r;throw new Error(`${r} needs to be a hex-string or whole-number-string`)}function getHexString(r){if(isHex(r))return r;if(isStringWholeNumber(r))return toHexString(r);throw new Error(`${r} needs to be a hex-string or whole-number-string`)}function getHexStringArray(r){return r.map(getHexString)}function toCairoBool(r){return(+r).toString()}function hexToBytes$1(r){if(!isHex(r))throw new Error(`${r} needs to be a hex-string`);let s=removeHexPrefix(r);return s.length%2!==0&&(s=`0${s}`),hexToBytes$2(s)}function addPercent(r,s){const sf=BigInt(r);return sf+sf*BigInt(s)/100n}function stringToSha256ToArrayBuff4(r){const sf=(Nf=>Number(Nf&MASK_31))(BigInt(addHexPrefix(buf2hex(sha256$1(r)))));return hexToBytes$1(toHex(sf))}function isBigNumberish(r){return isNumber(r)||isBigInt(r)||isString(r)&&(isHex(r)||isStringWholeNumber(r))}var selector_exports={};__export(selector_exports,{getL2MessageHash:()=>getL2MessageHash,getSelector:()=>getSelector,getSelectorFromName:()=>getSelectorFromName,keccakBn:()=>keccakBn,solidityUint256PackedKeccak256:()=>solidityUint256PackedKeccak256,starknetKeccak:()=>starknetKeccak});function keccakBn(r){const s=removeHexPrefix(toHex(BigInt(r))),sf=s.length%2===0?s:`0${s}`;return addHexPrefix(keccak(hexToBytes$1(addHexPrefix(sf))).toString(16))}function keccakHex(r){return addHexPrefix(keccak(utf8ToArray(r)).toString(16))}function starknetKeccak(r){return BigInt(keccakHex(r))&MASK_250}function getSelectorFromName(r){return toHex(starknetKeccak(r))}function getSelector(r){return isNumber(r)||isBigInt(r)?toHex(r):isHex(r)?r:isStringWholeNumber(r)?toHex(r):getSelectorFromName(r)}function solidityUint256PackedKeccak256(r){const s=addHexPrefix(r.reduce((sf,Nf)=>sf+removeHexPrefix(toHex(Nf)).padStart(64,"0"),""));return addHexPrefix(bytesToHex$1(keccak_256(hexToBytes$1(s))))}function getL2MessageHash(r,s,sf,Nf,ip){return solidityUint256PackedKeccak256([r,s,ip,sf,Nf.length,...Nf])}var shortString_exports={};__export(shortString_exports,{decodeShortString:()=>decodeShortString,encodeShortString:()=>encodeShortString,isASCII:()=>isASCII,isDecimalString:()=>isDecimalString,isLongText:()=>isLongText,isShortString:()=>isShortString,isShortText:()=>isShortText,isText:()=>isText,splitLongString:()=>splitLongString});function isASCII(r){return/^[\x00-\x7F]*$/.test(r)}function isShortString(r){return r.length<=TEXT_TO_FELT_MAX_LEN}function isDecimalString(r){return/^[0-9]*$/i.test(r)}function isText(r){return isString(r)&&!isHex(r)&&!isStringWholeNumber(r)}var isShortText=r=>isText(r)&&isShortString(r),isLongText=r=>isText(r)&&!isShortString(r);function splitLongString(r){const s=RegExp(`[^]{1,${TEXT_TO_FELT_MAX_LEN}}`,"g");return r.match(s)||[]}function encodeShortString(r){if(!isASCII(r))throw new Error(`${r} is not an ASCII string`);if(!isShortString(r))throw new Error(`${r} is too long`);return addHexPrefix(r.replace(/./g,s=>s.charCodeAt(0).toString(16)))}function decodeShortString(r){if(!isASCII(r))throw new Error(`${r} is not an ASCII string`);if(isHex(r))return removeHexPrefix(r).replace(/.{2}/g,s=>String.fromCharCode(parseInt(s,16)));if(isDecimalString(r))return decodeShortString("0X".concat(BigInt(r).toString(16)));throw new Error(`${r} is not Hex or decimal`)}var byteArray_exports={};__export(byteArray_exports,{byteArrayFromString:()=>byteArrayFromString,stringFromByteArray:()=>stringFromByteArray});function stringFromByteArray(r){const s=BigInt(r.pending_word)===0n?"":decodeShortString(toHex(r.pending_word));return r.data.reduce((sf,Nf)=>{const ip=BigInt(Nf)===0n?"":decodeShortString(toHex(Nf));return sf+ip},"")+s}function byteArrayFromString(r){const s=splitLongString(r),sf=s[s.length-1],Nf=s.map(encodeShortString),[ip,em]=sf===void 0||sf.length===31?["0x00",0]:[Nf.pop(),sf.length];return{data:Nf.length===0?[]:Nf,pending_word:ip,pending_word_len:em}}var cairo_exports={};__export(cairo_exports,{felt:()=>felt,getAbiContractVersion:()=>getAbiContractVersion,getArrayType:()=>getArrayType,isCairo1Abi:()=>isCairo1Abi,isCairo1Type:()=>isCairo1Type,isLen:()=>isLen,isTypeArray:()=>isTypeArray,isTypeBool:()=>isTypeBool,isTypeByteArray:()=>isTypeByteArray,isTypeBytes31:()=>isTypeBytes31,isTypeContractAddress:()=>isTypeContractAddress,isTypeEnum:()=>isTypeEnum,isTypeEthAddress:()=>isTypeEthAddress,isTypeFelt:()=>isTypeFelt,isTypeLiteral:()=>isTypeLiteral,isTypeNamedTuple:()=>isTypeNamedTuple,isTypeNonZero:()=>isTypeNonZero,isTypeOption:()=>isTypeOption,isTypeResult:()=>isTypeResult,isTypeSecp256k1Point:()=>isTypeSecp256k1Point,isTypeStruct:()=>isTypeStruct,isTypeTuple:()=>isTypeTuple,isTypeU96:()=>isTypeU96,isTypeUint:()=>isTypeUint,isTypeUint256:()=>isTypeUint256,tuple:()=>tuple$1,uint256:()=>uint256,uint512:()=>uint512});function CairoFelt(r){if(isBigInt(r)||Number.isInteger(r))return r.toString();if(isString(r)){if(isHex(r))return BigInt(r).toString();if(isText(r)){if(!isShortString(r))throw new Error(`${r} is a long string > 31 chars. Please split it into an array of short strings.`);return BigInt(encodeShortString(r)).toString()}if(isStringWholeNumber(r))return r}if(isBoolean(r))return`${+r}`;throw new Error(`${r} can't be computed by felt()`)}var UINT_128_MAX=(1n<<128n)-1n,UINT_256_MAX=(1n<<256n)-1n,UINT_256_MIN=0n,UINT_256_LOW_MAX=0xffffffffffffffffffffffffffffffffn,UINT_256_HIGH_MAX=0xffffffffffffffffffffffffffffffffn,UINT_256_LOW_MIN=0n,UINT_256_HIGH_MIN=0n,CairoUint256=class Xg{low;high;static abiSelector="core::integer::u256";constructor(...s){if(typeof s[0]=="object"&&s.length===1&&"low"in s[0]&&"high"in s[0]){const sf=Xg.validateProps(s[0].low,s[0].high);this.low=sf.low,this.high=sf.high}else if(s.length===1){const sf=Xg.validate(s[0]);this.low=sf&UINT_128_MAX,this.high=sf>>128n}else if(s.length===2){const sf=Xg.validateProps(s[0],s[1]);this.low=sf.low,this.high=sf.high}else throw Error("Incorrect constructor parameters")}static validate(s){const sf=BigInt(s);if(sf<UINT_256_MIN)throw Error("bigNumberish is smaller than UINT_256_MIN");if(sf>UINT_256_MAX)throw new Error("bigNumberish is bigger than UINT_256_MAX");return sf}static validateProps(s,sf){const Nf=BigInt(s),ip=BigInt(sf);if(Nf<UINT_256_LOW_MIN||Nf>UINT_256_LOW_MAX)throw new Error("low is out of range UINT_256_LOW_MIN - UINT_256_LOW_MAX");if(ip<UINT_256_HIGH_MIN||ip>UINT_256_HIGH_MAX)throw new Error("high is out of range UINT_256_HIGH_MIN - UINT_256_HIGH_MAX");return{low:Nf,high:ip}}static is(s){try{Xg.validate(s)}catch{return!1}return!0}static isAbiType(s){return s===Xg.abiSelector}toBigInt(){return(this.high<<128n)+this.low}toUint256HexString(){return{low:addHexPrefix(this.low.toString(16)),high:addHexPrefix(this.high.toString(16))}}toUint256DecimalString(){return{low:this.low.toString(10),high:this.high.toString(10)}}toApiRequest(){return[CairoFelt(this.low),CairoFelt(this.high)]}},UINT_512_MAX=(1n<<512n)-1n,UINT_512_MIN=0n,UINT_128_MIN=0n,CairoUint512=class Jg{limb0;limb1;limb2;limb3;static abiSelector="core::integer::u512";constructor(...s){if(typeof s[0]=="object"&&s.length===1&&"limb0"in s[0]&&"limb1"in s[0]&&"limb2"in s[0]&&"limb3"in s[0]){const sf=Jg.validateProps(s[0].limb0,s[0].limb1,s[0].limb2,s[0].limb3);this.limb0=sf.limb0,this.limb1=sf.limb1,this.limb2=sf.limb2,this.limb3=sf.limb3}else if(s.length===1){const sf=Jg.validate(s[0]);this.limb0=sf&UINT_128_MAX,this.limb1=(sf&UINT_128_MAX<<128n)>>128n,this.limb2=(sf&UINT_128_MAX<<256n)>>256n,this.limb3=sf>>384n}else if(s.length===4){const sf=Jg.validateProps(s[0],s[1],s[2],s[3]);this.limb0=sf.limb0,this.limb1=sf.limb1,this.limb2=sf.limb2,this.limb3=sf.limb3}else throw Error("Incorrect Uint512 constructor parameters")}static validate(s){const sf=BigInt(s);if(sf<UINT_512_MIN)throw Error("bigNumberish is smaller than UINT_512_MIN.");if(sf>UINT_512_MAX)throw Error("bigNumberish is bigger than UINT_512_MAX.");return sf}static validateProps(s,sf,Nf,ip){const em=BigInt(s),tm=BigInt(sf),nm=BigInt(Nf),rm=BigInt(ip);return[em,tm,nm,rm].forEach((om,im)=>{if(om<UINT_128_MIN||om>UINT_128_MAX)throw Error(`limb${im} is not in the range of a u128 number`)}),{limb0:em,limb1:tm,limb2:nm,limb3:rm}}static is(s){try{Jg.validate(s)}catch{return!1}return!0}static isAbiType(s){return s===Jg.abiSelector}toBigInt(){return(this.limb3<<384n)+(this.limb2<<256n)+(this.limb1<<128n)+this.limb0}toUint512HexString(){return{limb0:addHexPrefix(this.limb0.toString(16)),limb1:addHexPrefix(this.limb1.toString(16)),limb2:addHexPrefix(this.limb2.toString(16)),limb3:addHexPrefix(this.limb3.toString(16))}}toUint512DecimalString(){return{limb0:this.limb0.toString(10),limb1:this.limb1.toString(10),limb2:this.limb2.toString(10),limb3:this.limb3.toString(10)}}toApiRequest(){return[CairoFelt(this.limb0),CairoFelt(this.limb1),CairoFelt(this.limb2),CairoFelt(this.limb3)]}},isLen=r=>/_len$/.test(r),isTypeFelt=r=>r==="felt"||r==="core::felt252",isTypeArray=r=>/\*/.test(r)||r.startsWith("core::array::Array::")||r.startsWith("core::array::Span::"),isTypeTuple=r=>/^\(.*\)$/i.test(r),isTypeNamedTuple=r=>/\(.*\)/i.test(r)&&r.includes(":"),isTypeStruct=(r,s)=>r in s,isTypeEnum=(r,s)=>r in s,isTypeOption=r=>r.startsWith("core::option::Option::"),isTypeResult=r=>r.startsWith("core::result::Result::"),isTypeUint=r=>Object.values(Uint).includes(r),isTypeUint256=r=>CairoUint256.isAbiType(r),isTypeLiteral=r=>Object.values(Literal).includes(r),isTypeBool=r=>r==="core::bool",isTypeContractAddress=r=>r===Literal.ContractAddress,isTypeEthAddress=r=>r===ETH_ADDRESS,isTypeBytes31=r=>r==="core::bytes_31::bytes31",isTypeByteArray=r=>r==="core::byte_array::ByteArray",isTypeU96=r=>r==="core::internal::bounded_int::BoundedInt::<0, 79228162514264337593543950335>",isTypeSecp256k1Point=r=>r===Literal.Secp256k1Point,isCairo1Type=r=>r.includes("::"),getArrayType=r=>isCairo1Type(r)?r.substring(r.indexOf("<")+1,r.lastIndexOf(">")):r.replace("*","");function isCairo1Abi(r){const{cairo:s}=getAbiContractVersion(r);if(s===void 0)throw Error("Unable to determine Cairo version");return s==="1"}function isTypeNonZero(r){return r.startsWith(NON_ZERO_PREFIX)}function getAbiContractVersion(r){if(r.find(Nf=>Nf.type==="interface"))return{cairo:"1",compiler:"2"};const s=r.find(Nf=>(Nf.type==="function"||Nf.type==="constructor")&&(Nf.inputs.length||Nf.outputs.length));if(!s)return{cairo:void 0,compiler:void 0};const sf=s.inputs.length?s.inputs:s.outputs;return isCairo1Type(sf[0].type)?{cairo:"1",compiler:"1"}:{cairo:"0",compiler:"0"}}var uint256=r=>new CairoUint256(r).toUint256DecimalString(),uint512=r=>new CairoUint512(r).toUint512DecimalString(),tuple$1=(...r)=>({...r});function felt(r){return CairoFelt(r)}var CairoCustomEnum=class{variant;constructor(r){const s=Object.values(r);if(s.length===0)throw new Error("This Enum must have at least 1 variant");if(s.filter(Nf=>!isUndefined(Nf)).length!==1)throw new Error("This Enum must have exactly one active variant");this.variant=r}unwrap(){return Object.values(this.variant).find(s=>!isUndefined(s))}activeVariant(){const s=Object.entries(this.variant).find(sf=>!isUndefined(sf[1]));return isUndefined(s)?"":s[0]}},CairoOptionVariant={Some:0,None:1},CairoOption=class{Some;None;constructor(r,s){if(!(r in Object.values(CairoOptionVariant)))throw new Error("Wrong variant! It should be CairoOptionVariant.Some or .None.");if(r===CairoOptionVariant.Some){if(isUndefined(s))throw new Error('The creation of a Cairo Option with "Some" variant needs a content as input.');this.Some=s,this.None=void 0}else this.Some=void 0,this.None=!0}unwrap(){return this.None?void 0:this.Some}isSome(){return!isUndefined(this.Some)}isNone(){return this.None===!0}},CairoResultVariant={Ok:0,Err:1},CairoResult=class{Ok;Err;constructor(r,s){if(!(r in Object.values(CairoResultVariant)))throw new Error("Wrong variant! It should be CairoResultVariant.Ok or .Err.");r===CairoResultVariant.Ok?(this.Ok=s,this.Err=void 0):(this.Ok=void 0,this.Err=s)}unwrap(){if(!isUndefined(this.Ok))return this.Ok;if(!isUndefined(this.Err))return this.Err;throw new Error("Both Result.Ok and .Err are undefined. Not authorized.")}isOk(){return!isUndefined(this.Ok)}isErr(){return!isUndefined(this.Err)}},guard={isBN:(r,s,sf)=>{if(!isBigInt(r[sf]))throw new Error(`Data and formatter mismatch on ${sf}:${s[sf]}, expected response data ${sf}:${r[sf]} to be BN instead it is ${typeof r[sf]}`)},unknown:(r,s,sf)=>{throw new Error(`Unhandled formatter type on ${sf}:${s[sf]} for data ${sf}:${r[sf]}`)}};function formatter(r,s,sf){return Object.entries(r).reduce((Nf,[ip,em])=>{const tm=sf??s[ip];if(!(ip in s)&&!sf)return Nf[ip]=em,Nf;if(tm==="string"){if(Array.isArray(r[ip])){const nm=formatter(r[ip],r[ip].map(rm=>tm));return Nf[ip]=Object.values(nm).join(""),Nf}return guard.isBN(r,s,ip),Nf[ip]=decodeShortString(em),Nf}if(tm==="number")return guard.isBN(r,s,ip),Nf[ip]=Number(em),Nf;if(typeof tm=="function")return Nf[ip]=tm(em),Nf;if(Array.isArray(tm)){const nm=formatter(r[ip],tm,tm[0]);return Nf[ip]=Object.values(nm),Nf}return isObject$3(tm)?(Nf[ip]=formatter(r[ip],tm),Nf):(guard.unknown(r,s,ip),Nf)},{})}var AbiParser1=class{abi;constructor(r){this.abi=r}methodInputsLength(r){return r.inputs.reduce((s,sf)=>isLen(sf.name)?s:s+1,0)}getMethod(r){return this.abi.find(s=>s.name===r)}getLegacyFormat(){return this.abi}},AbiParser2=class{abi;constructor(r){this.abi=r}methodInputsLength(r){return r.inputs.length}getMethod(r){return this.abi.find(sf=>sf.type==="interface")?.items?.find(sf=>sf.name===r)}getLegacyFormat(){return this.abi.flatMap(r=>r.type==="interface"?r.items:r)}};function createAbiParser(r){const s=getAbiVersion(r);if(s===0||s===1)return new AbiParser1(r);if(s===2)return new AbiParser2(r);throw Error(`Unsupported ABI version ${s}`)}function getAbiVersion(r){return r.find(s=>s.type==="interface")?2:isCairo1Abi(r)?1:0}function isNoConstructorValid(r,s,sf){return r==="constructor"&&!sf&&!s.length}function parseNamedTuple(r){const s=r.substring(0,r.indexOf(":")),sf=r.substring(s.length+1);return{name:s,type:sf}}function parseSubTuple(r){if(!r.includes("("))return{subTuple:[],result:r};const s=[];let sf="",Nf=0;for(;Nf<r.length;){if(r[Nf]==="("){let ip=1;const em=Nf;for(Nf++;ip;)r[Nf]===")"&&ip--,r[Nf]==="("&&ip++,Nf++;s.push(r.substring(em,Nf)),sf+=" ",Nf--}else sf+=r[Nf];Nf++}return{subTuple:s,result:sf}}function extractCairo0Tuple(r){const s=r.replace(/\s/g,"").slice(1,-1),{subTuple:sf,result:Nf}=parseSubTuple(s);let ip=Nf.split(",").map(em=>sf.length?em.replace(" ",sf.shift()):em);return isTypeNamedTuple(r)&&(ip=ip.reduce((em,tm)=>em.concat(parseNamedTuple(tm)),[])),ip}function getClosureOffset(r,s,sf){for(let Nf=0,ip=0;Nf<r.length;Nf++)if(r[Nf]===s)ip++;else if(r[Nf]===sf&&--ip===0)return Nf;return Number.POSITIVE_INFINITY}function extractCairo1Tuple(r){const s=r.slice(1,-1),sf=[];let Nf=0,ip;for(;Nf<s.length;){switch(!0){case s[Nf]==="(":{ip=Nf+getClosureOffset(s.slice(Nf),"(",")")+1;break}case(s.startsWith("core::result::Result::<",Nf)||s.startsWith("core::array::Array::<",Nf)||s.startsWith("core::option::Option::<",Nf)):{ip=Nf+getClosureOffset(s.slice(Nf),"<",">")+1;break}default:{const em=s.indexOf(",",Nf);ip=em!==-1?em:Number.POSITIVE_INFINITY}}sf.push(s.slice(Nf,ip)),Nf=ip+2}return sf}function extractTupleMemberTypes(r){return isCairo1Type(r)?extractCairo1Tuple(r):extractCairo0Tuple(r)}var CairoFixedArray=class Qg{content;arrayType;constructor(s,sf){assert$4(Qg.isTypeFixedArray(sf),`The type ${sf} is not a Cairo fixed array. Needs [type; length].`);try{Qg.getFixedArrayType(sf)}catch{throw new Error(`The type ${sf} do not includes any content type. Needs [type; length].`)}try{Qg.getFixedArraySize(sf)}catch{throw new Error(`The type ${sf} type do not includes any length. Needs [type; length].`)}assert$4(Qg.getFixedArraySize(sf)===s.length,`The ABI type ${sf} is expecting ${Qg.getFixedArraySize(sf)} items. ${s.length} items provided.`),this.content=s,this.arrayType=sf}static getFixedArraySize(s){const sf=s.match(/(?<=; )\d+(?=\])/);if(sf===null)throw new Error(`ABI type ${s} do not includes a valid number after ';' character.`);return Number(sf[0])}getFixedArraySize(){return Qg.getFixedArraySize(this.arrayType)}static getFixedArrayType=s=>{const sf=s.match(/(?<=\[).+(?=;)/);if(sf===null)throw new Error(`ABI type ${s} do not includes a valid type of data.`);return sf[0]};getFixedArrayType(){return Qg.getFixedArrayType(this.arrayType)}static compile(s){return s.reduce((sf,Nf,ip)=>(sf[ip]=Nf,sf),{})}compile(){return Qg.compile(this.content)}static isTypeFixedArray(s){return/^\[.*;\s.*\]$/.test(s)&&/(?<=\[).+(?=;)/.test(s)&&/(?<=; )\d+(?=\])/.test(s)}};function errorU256(r){return Error(`Your object includes the property : ${r}, containing an Uint256 object without the 'low' and 'high' keys.`)}function errorU512(r){return Error(`Your object includes the property : ${r}, containing an Uint512 object without the 'limb0' to 'limb3' keys.`)}function orderPropsByAbi(r,s,sf,Nf){const ip=(am,sm)=>{if(CairoFixedArray.isTypeFixedArray(sm))return nm(am,sm);if(isTypeArray(sm))return tm(am,sm);if(isTypeEnum(sm,Nf)){const cm=Nf[sm];return om(am,cm)}if(isTypeTuple(sm))return rm(am,sm);if(isTypeEthAddress(sm)||isTypeNonZero(sm)||isTypeByteArray(sm)||isTypeU96(sm)||isTypeSecp256k1Point(sm))return am;if(CairoUint256.isAbiType(sm)){const cm=am;if(typeof cm!="object")return cm;if(!("low"in cm&&"high"in cm))throw errorU256(sm);return{low:cm.low,high:cm.high}}if(CairoUint512.isAbiType(sm)){const cm=am;if(typeof cm!="object")return cm;if(!["limb0","limb1","limb2","limb3"].every(hm=>hm in cm))throw errorU512(sm);return{limb0:cm.limb0,limb1:cm.limb1,limb2:cm.limb2,limb3:cm.limb3}}if(isTypeStruct(sm,sf)){const cm=sf[sm].members;return em(am,cm)}return am},em=(am,sm)=>sm.reduce((hm,fm)=>{const pm=mm=>Object.defineProperty(hm,fm.name,{enumerable:!0,value:mm??am[fm.name]});if(am[fm.name]==="undefined"&&(isCairo1Type(fm.type)||!isLen(fm.name)))throw Error(`Your object needs a property with key : ${fm.name} .`);return pm(ip(am[fm.name],fm.type)),hm},{});function tm(am,sm){const cm=getArrayType(sm);return isString(am)?am:am.map(hm=>ip(hm,cm))}function nm(am,sm){const cm=CairoFixedArray.getFixedArrayType(sm),hm=CairoFixedArray.getFixedArraySize(sm);if(Array.isArray(am)){if(hm!==am.length)throw new Error(`ABI type ${sm}: array provided do not includes  ${hm} items. ${am.length} items provided.`);return am.map(fm=>ip(fm,cm))}if(hm!==Object.keys(am).length)throw new Error(`ABI type ${sm}: object provided do not includes  ${hm} properties. ${Object.keys(am).length} items provided.`);return ip(am,cm)}function rm(am,sm){return extractTupleMemberTypes(sm).reduce((fm,pm,mm)=>{const _m=Object.keys(am),ym=jm=>Object.defineProperty(fm,mm.toString(),{enumerable:!0,value:jm??am[_m[mm]]}),Sm=pm?.type?pm.type:pm;return ym(ip(am[_m[mm]],Sm)),fm},{})}const om=(am,sm)=>{if(isTypeResult(sm.name)){const pm=am,mm=sm.name.substring(sm.name.indexOf("<")+1,sm.name.lastIndexOf(",")),_m=sm.name.substring(sm.name.indexOf(",")+1,sm.name.lastIndexOf(">"));return pm.isOk()?new CairoResult(CairoResultVariant.Ok,ip(am.unwrap(),mm)):new CairoResult(CairoResultVariant.Err,ip(am.unwrap(),_m))}if(isTypeOption(sm.name)){const pm=am,mm=sm.name.substring(sm.name.indexOf("<")+1,sm.name.lastIndexOf(">"));return pm.isSome()?new CairoOption(CairoOptionVariant.Some,ip(pm.unwrap(),mm)):new CairoOption(CairoOptionVariant.None,{})}const cm=am,fm=Object.entries(cm.variant).map(pm=>{if(isUndefined(pm[1]))return pm;const mm=sm.type.substring(sm.type.lastIndexOf("<")+1,sm.type.lastIndexOf(">"));return mm==="()"?pm:[pm[0],ip(cm.unwrap(),mm)]});return new CairoCustomEnum(Object.fromEntries(fm))};return s.reduce((am,sm)=>{const cm=hm=>Object.defineProperty(am,sm.name,{enumerable:!0,value:hm});return isLen(sm.name)&&!isCairo1Type(sm.type)||cm(ip(r[sm.name],sm.type)),am},{})}function parseBaseTypes(r,s){switch(!0){case CairoUint256.isAbiType(r):return new CairoUint256(s).toApiRequest();case CairoUint512.isAbiType(r):return new CairoUint512(s).toApiRequest();case isTypeBytes31(r):return encodeShortString(s.toString());case isTypeSecp256k1Point(r):{const sf=removeHexPrefix(toHex(s)).padStart(128,"0"),Nf=uint256(addHexPrefix(sf.slice(-64))),ip=uint256(addHexPrefix(sf.slice(0,-64)));return[felt(ip.low),felt(ip.high),felt(Nf.low),felt(Nf.high)]}default:return felt(s)}}function parseTuple(r,s){const sf=extractTupleMemberTypes(s),Nf=Object.values(r);if(Nf.length!==sf.length)throw Error(`ParseTuple: provided and expected abi tuple size do not match.
      provided: ${Nf}
      expected: ${sf}`);return sf.map((ip,em)=>({element:Nf[em],type:ip.type??ip}))}function parseByteArray(r){const s=byteArrayFromString(r);return[s.data.length.toString(),...s.data.map(sf=>sf.toString()),s.pending_word.toString(),s.pending_word_len.toString()]}function parseCalldataValue(r,s,sf,Nf){if(r===void 0)throw Error(`Missing parameter for type ${s}`);if(CairoFixedArray.isTypeFixedArray(s)){const ip=CairoFixedArray.getFixedArrayType(s);let em=[];if(Array.isArray(r))em=new CairoFixedArray(r,s).content;else if(typeof r=="object")em=Object.values(r),assert$4(em.length===CairoFixedArray.getFixedArraySize(s),`ABI type ${s}: object provided do not includes  ${CairoFixedArray.getFixedArraySize(s)} items. ${em.length} items provided.`);else throw new Error(`ABI type ${s}: not an Array representing a cairo.fixedArray() provided.`);return em.reduce((tm,nm)=>tm.concat(parseCalldataValue(nm,ip,sf,Nf)),[])}if(Array.isArray(r)){const ip=[];ip.push(felt(r.length));const em=getArrayType(s);return r.reduce((tm,nm)=>tm.concat(parseCalldataValue(nm,em,sf,Nf)),ip)}if(sf[s]&&sf[s].members.length){if(CairoUint256.isAbiType(s))return new CairoUint256(r).toApiRequest();if(CairoUint512.isAbiType(s))return new CairoUint512(r).toApiRequest();if(isTypeEthAddress(s))return parseBaseTypes(s,r);if(isTypeByteArray(s))return parseByteArray(r);const{members:ip}=sf[s],em=r;return ip.reduce((tm,nm)=>tm.concat(parseCalldataValue(em[nm.name],nm.type,sf,Nf)),[])}if(isTypeTuple(s))return parseTuple(r,s).reduce((em,tm)=>{const nm=parseCalldataValue(tm.element,tm.type,sf,Nf);return em.concat(nm)},[]);if(CairoUint256.isAbiType(s))return new CairoUint256(r).toApiRequest();if(CairoUint512.isAbiType(s))return new CairoUint512(r).toApiRequest();if(isTypeEnum(s,Nf)){const{variants:ip}=Nf[s];if(isTypeOption(s)){const am=r;if(am.isSome()){const sm=ip.find(fm=>fm.name==="Some");if(isUndefined(sm))throw Error("Error in abi : Option has no 'Some' variant.");const cm=sm.type;if(cm==="()")return CairoOptionVariant.Some.toString();const hm=parseCalldataValue(am.unwrap(),cm,sf,Nf);return Array.isArray(hm)?[CairoOptionVariant.Some.toString(),...hm]:[CairoOptionVariant.Some.toString(),hm]}return CairoOptionVariant.None.toString()}if(isTypeResult(s)){const am=r;if(am.isOk()){const fm=ip.find(_m=>_m.name==="Ok");if(isUndefined(fm))throw Error("Error in abi : Result has no 'Ok' variant.");const pm=fm.type;if(pm==="()")return CairoResultVariant.Ok.toString();const mm=parseCalldataValue(am.unwrap(),pm,sf,Nf);return Array.isArray(mm)?[CairoResultVariant.Ok.toString(),...mm]:[CairoResultVariant.Ok.toString(),mm]}const sm=ip.find(fm=>fm.name==="Err");if(isUndefined(sm))throw Error("Error in abi : Result has no 'Err' variant.");const cm=sm.type;if(cm==="()")return CairoResultVariant.Err.toString();const hm=parseCalldataValue(am.unwrap(),cm,sf,Nf);return Array.isArray(hm)?[CairoResultVariant.Err.toString(),...hm]:[CairoResultVariant.Err.toString(),hm]}const em=r,tm=em.activeVariant(),nm=ip.find(am=>am.name===tm);if(isUndefined(nm))throw Error(`Not find in abi : Enum has no '${tm}' variant.`);const rm=nm.type,om=ip.findIndex(am=>am.name===tm);if(rm==="()")return om.toString();const im=parseCalldataValue(em.unwrap(),rm,sf,Nf);return Array.isArray(im)?[om.toString(),...im]:[om.toString(),im]}if(isTypeNonZero(s))return parseBaseTypes(getArrayType(s),r);if(typeof r=="object")throw Error(`Parameter ${r} do not align with abi parameter ${s}`);return parseBaseTypes(s,r)}function parseCalldataField(r,s,sf,Nf){const{name:ip,type:em}=s;let{value:tm}=r.next();switch(!0){case CairoFixedArray.isTypeFixedArray(em):if(!Array.isArray(tm)&&typeof tm!="object")throw Error(`ABI expected parameter ${ip} to be an array or an object, got ${tm}`);return parseCalldataValue(tm,s.type,sf,Nf);case isTypeArray(em):if(!Array.isArray(tm)&&!isText(tm))throw Error(`ABI expected parameter ${ip} to be array or long string, got ${tm}`);return isString(tm)&&(tm=splitLongString(tm)),parseCalldataValue(tm,s.type,sf,Nf);case isTypeNonZero(em):return parseBaseTypes(getArrayType(em),tm);case isTypeEthAddress(em):return parseBaseTypes(em,tm);case(isTypeStruct(em,sf)||isTypeTuple(em)||CairoUint256.isAbiType(em)):return parseCalldataValue(tm,em,sf,Nf);case isTypeEnum(em,Nf):return parseCalldataValue(tm,em,sf,Nf);default:return parseBaseTypes(em,tm)}}function parseBaseTypes2(r,s){let sf;switch(!0){case isTypeBool(r):return sf=s.next().value,!!BigInt(sf);case CairoUint256.isAbiType(r):const Nf=s.next().value,ip=s.next().value;return new CairoUint256(Nf,ip).toBigInt();case CairoUint512.isAbiType(r):const em=s.next().value,tm=s.next().value,nm=s.next().value,rm=s.next().value;return new CairoUint512(em,tm,nm,rm).toBigInt();case isTypeEthAddress(r):return sf=s.next().value,BigInt(sf);case isTypeBytes31(r):return sf=s.next().value,decodeShortString(sf);case isTypeSecp256k1Point(r):const om=removeHexPrefix(s.next().value).padStart(32,"0"),im=removeHexPrefix(s.next().value).padStart(32,"0"),am=removeHexPrefix(s.next().value).padStart(32,"0"),sm=removeHexPrefix(s.next().value).padStart(32,"0");return BigInt(addHexPrefix(im+om+sm+am));default:return sf=s.next().value,BigInt(sf)}}function parseResponseValue(r,s,sf,Nf){if(s.type==="()")return{};if(CairoUint256.isAbiType(s.type)){const ip=r.next().value,em=r.next().value;return new CairoUint256(ip,em).toBigInt()}if(CairoUint512.isAbiType(s.type)){const ip=r.next().value,em=r.next().value,tm=r.next().value,nm=r.next().value;return new CairoUint512(ip,em,tm,nm).toBigInt()}if(isTypeByteArray(s.type)){const ip=[],em=BigInt(r.next().value);for(;ip.length<em;)ip.push(toHex(r.next().value));const tm=toHex(r.next().value);return BigInt(r.next().value),stringFromByteArray({data:ip,pending_word:tm})}if(CairoFixedArray.isTypeFixedArray(s.type)){const ip=[],em={type:CairoFixedArray.getFixedArrayType(s.type)},tm=CairoFixedArray.getFixedArraySize(s.type);for(;ip.length<tm;)ip.push(parseResponseValue(r,em,sf,Nf));return ip}if(isTypeArray(s.type)){const ip=[],em={type:getArrayType(s.type)},tm=BigInt(r.next().value);for(;ip.length<tm;)ip.push(parseResponseValue(r,em,sf,Nf));return ip}if(isTypeNonZero(s.type)){const ip={type:getArrayType(s.type)};return parseResponseValue(r,ip,sf,Nf)}if(sf&&s.type in sf&&sf[s.type])return isTypeEthAddress(s.type)?parseBaseTypes2(s.type,r):sf[s.type].members.reduce((ip,em)=>(ip[em.name]=parseResponseValue(r,em,sf,Nf),ip),{});if(Nf&&s.type in Nf&&Nf[s.type]){const ip=Number(r.next().value),em=Nf[s.type].variants.reduce((nm,rm,om)=>om===ip?(nm[rm.name]=parseResponseValue(r,{type:rm.type},sf,Nf),nm):(nm[rm.name]=void 0,nm),{});if(s.type.startsWith("core::option::Option")){const nm=ip===CairoOptionVariant.Some?em.Some:void 0;return new CairoOption(ip,nm)}if(s.type.startsWith("core::result::Result")){let nm;return ip===CairoResultVariant.Ok?nm=em.Ok:nm=em.Err,new CairoResult(ip,nm)}return new CairoCustomEnum(em)}if(isTypeTuple(s.type))return extractTupleMemberTypes(s.type).reduce((em,tm,nm)=>{const rm=tm?.name?tm.name:nm,im={type:tm?.type?tm.type:tm};return em[rm]=parseResponseValue(r,im,sf,Nf),em},{});if(isTypeArray(s.type)){const ip=[],em={type:getArrayType(s.type)},tm=BigInt(r.next().value);for(;ip.length<tm;)ip.push(parseResponseValue(r,em,sf,Nf));return ip}return parseBaseTypes2(s.type,r)}function responseParser(r,s,sf,Nf,ip){const{name:em,type:tm}=s;let nm;switch(!0){case isLen(em):return nm=r.next().value,BigInt(nm);case(sf&&tm in sf||isTypeTuple(tm)):return parseResponseValue(r,s,sf,Nf);case(Nf&&isTypeEnum(tm,Nf)):return parseResponseValue(r,s,sf,Nf);case CairoFixedArray.isTypeFixedArray(tm):return parseResponseValue(r,s,sf,Nf);case isTypeArray(tm):if(isCairo1Type(tm))return parseResponseValue(r,s,sf,Nf);const rm=[];if(ip&&ip[`${em}_len`]){const om=ip[`${em}_len`];for(;rm.length<om;)rm.push(parseResponseValue(r,{type:s.type.replace("*","")},sf,Nf))}return rm;case isTypeNonZero(tm):return parseResponseValue(r,s,sf,Nf);default:return parseBaseTypes2(tm,r)}}var validateFelt=(r,s)=>{if(assert$4(isString(r)||isNumber(r)||isBigInt(r),`Validate: arg ${s.name} should be a felt typed as (String, Number or BigInt)`),isString(r)&&!isHex(r))return;const sf=BigInt(r.toString(10));assert$4(sf>=0n&&sf<=2n**252n-1n,`Validate: arg ${s.name} cairo typed ${s.type} should be in range [0, 2^252-1]`)},validateBytes31=(r,s)=>{assert$4(isString(r),`Validate: arg ${s.name} should be a string.`),assert$4(r.length<32,`Validate: arg ${s.name} cairo typed ${s.type} should be a string of less than 32 characters.`)},validateByteArray=(r,s)=>{assert$4(isString(r),`Validate: arg ${s.name} should be a string.`)},validateUint=(r,s)=>{isNumber(r)&&assert$4(r<=Number.MAX_SAFE_INTEGER,"Validation: Parameter is too large to be typed as Number use (BigInt or String)"),assert$4(isString(r)||isNumber(r)||isBigInt(r)||isObject$3(r)&&"low"in r&&"high"in r||isObject$3(r)&&["limb0","limb1","limb2","limb3"].every(Nf=>Nf in r),`Validate: arg ${s.name} of cairo type ${s.type} should be type (String, Number or BigInt), but is ${typeof r} ${r}.`);let sf;switch(s.type){case Uint.u256:sf=new CairoUint256(r).toBigInt();break;case Uint.u512:sf=new CairoUint512(r).toBigInt();break;default:sf=toBigInt(r)}switch(s.type){case Uint.u8:assert$4(sf>=0n&&sf<=255n,`Validate: arg ${s.name} cairo typed ${s.type} should be in range [0 - 255]`);break;case Uint.u16:assert$4(sf>=0n&&sf<=65535n,`Validate: arg ${s.name} cairo typed ${s.type} should be in range [0, 65535]`);break;case Uint.u32:assert$4(sf>=0n&&sf<=4294967295n,`Validate: arg ${s.name} cairo typed ${s.type} should be in range [0, 4294967295]`);break;case Uint.u64:assert$4(sf>=0n&&sf<=2n**64n-1n,`Validate: arg ${s.name} cairo typed ${s.type} should be in range [0, 2^64-1]`);break;case Uint.u128:assert$4(sf>=0n&&sf<=2n**128n-1n,`Validate: arg ${s.name} cairo typed ${s.type} should be in range [0, 2^128-1]`);break;case Uint.u256:assert$4(sf>=0n&&sf<=2n**256n-1n,`Validate: arg ${s.name} is ${s.type} should be in range 0 - 2^256-1`);break;case Uint.u512:assert$4(CairoUint512.is(sf),`Validate: arg ${s.name} is ${s.type} should be in range 0 - 2^512-1`);break;case Literal.ClassHash:assert$4(sf>=0n&&sf<=2n**252n-1n,`Validate: arg ${s.name} cairo typed ${s.type} should be in range [0, 2^252-1]`);break;case Literal.ContractAddress:assert$4(sf>=0n&&sf<=2n**252n-1n,`Validate: arg ${s.name} cairo typed ${s.type} should be in range [0, 2^252-1]`);break;case Literal.Secp256k1Point:{assert$4(sf>=0n&&sf<=2n**512n-1n,`Validate: arg ${s.name} must be ${s.type} : a 512 bits number.`);break}case Literal.U96:{assert$4(sf>=0n&&sf<=2n**96n-1n,`Validate: arg ${s.name} must be ${s.type} : a 96 bits number.`);break}}},validateBool=(r,s)=>{assert$4(isBoolean(r),`Validate: arg ${s.name} of cairo type ${s.type} should be type (Boolean)`)},validateStruct=(r,s,sf)=>{if(s.type===Uint.u256||s.type===Uint.u512){validateUint(r,s);return}if(isTypeEthAddress(s.type)){assert$4(!isObject$3(r),`EthAddress type is waiting a BigNumberish. Got "${r}"`);const Nf=BigInt(r.toString(10));assert$4(Nf>=0n&&Nf<=2n**160n-1n,`Validate: arg ${s.name} cairo typed ${s.type} should be in range [0, 2^160-1]`);return}assert$4(isObject$3(r),`Validate: arg ${s.name} is cairo type struct (${s.type}), and should be defined as a js object (not array)`),sf[s.type].members.forEach(({name:Nf})=>{assert$4(Object.keys(r).includes(Nf),`Validate: arg ${s.name} should have a property ${Nf}`)})},validateEnum=(r,s)=>{assert$4(isObject$3(r),`Validate: arg ${s.name} is cairo type Enum (${s.type}), and should be defined as a js object (not array)`);const sf=Object.getOwnPropertyNames(Object.getPrototypeOf(r)),Nf=[...Object.getOwnPropertyNames(r),...sf];if(!(isTypeOption(s.type)&&Nf.includes("isSome")&&Nf.includes("isNone"))&&!(isTypeResult(s.type)&&Nf.includes("isOk")&&Nf.includes("isErr"))&&!(Nf.includes("variant")&&Nf.includes("activeVariant")))throw new Error(`Validate Enum: argument ${s.name}, type ${s.type}, value received "${r}", is not an Enum.`)},validateTuple=(r,s)=>{assert$4(isObject$3(r),`Validate: arg ${s.name} should be a tuple (defined as object)`)},validateArray=(r,s,sf,Nf)=>{const ip=isTypeArray(s.type),em=ip?getArrayType(s.type):CairoFixedArray.getFixedArrayType(s.type);if(ip&&isTypeFelt(em)&&isLongText(r))return;let tm=[];if(ip)assert$4(Array.isArray(r),`Validate: arg ${s.name} should be an Array`),tm=r;else switch(!0){case Array.isArray(r):tm=r;break;case typeof r=="object":tm=Object.values(r);break;default:throw new Error(`Validate: arg ${s.name} should be an Array or an object.`)}switch(!0){case isTypeFelt(em):tm.forEach(nm=>validateFelt(nm,s));break;case isTypeTuple(em):tm.forEach(nm=>validateTuple(nm,{name:s.name}));break;case isTypeArray(em):tm.forEach(nm=>validateArray(nm,{name:"",type:em},sf,Nf));break;case isTypeStruct(em,sf):tm.forEach(nm=>validateStruct(nm,{name:s.name,type:em},sf));break;case isTypeEnum(em,Nf):tm.forEach(nm=>validateEnum(nm,{name:s.name,type:em}));break;case(isTypeUint(em)||isTypeLiteral(em)):tm.forEach(nm=>validateUint(nm,{name:"",type:em}));break;case isTypeBool(em):tm.forEach(nm=>validateBool(nm,s));break;default:throw new Error(`Validate Unhandled: argument ${s.name}, type ${s.type}, value ${tm}`)}},validateNonZero=(r,s)=>{const sf=getArrayType(s.type);switch(assert$4(isTypeUint(sf)&&sf!==CairoUint512.abiSelector||isTypeFelt(sf),`Validate: ${s.name} type is not authorized for NonZero type.`),!0){case isTypeFelt(sf):validateFelt(r,s),assert$4(BigInt(r.toString(10))>0,"Validate: value 0 is not authorized in NonZero felt252 type.");break;case isTypeUint(sf):switch(validateUint(r,{name:"",type:sf}),sf){case Uint.u256:assert$4(new CairoUint256(r).toBigInt()>0,"Validate: value 0 is not authorized in NonZero uint256 type.");break;default:assert$4(toBigInt(r)>0,"Validate: value 0 is not authorized in NonZero uint type.")}break;default:throw new Error(`Validate Unhandled: argument ${s.name}, type ${s.type}, value "${r}"`)}};function validateFields(r,s,sf,Nf){r.inputs.reduce((ip,em)=>{const tm=s[ip];switch(!0){case isLen(em.name):return ip;case isTypeFelt(em.type):validateFelt(tm,em);break;case isTypeBytes31(em.type):validateBytes31(tm,em);break;case(isTypeUint(em.type)||isTypeLiteral(em.type)):validateUint(tm,em);break;case isTypeBool(em.type):validateBool(tm,em);break;case isTypeByteArray(em.type):validateByteArray(tm,em);break;case(isTypeArray(em.type)||CairoFixedArray.isTypeFixedArray(em.type)):validateArray(tm,em,sf,Nf);break;case isTypeStruct(em.type,sf):validateStruct(tm,em,sf);break;case isTypeEnum(em.type,Nf):validateEnum(tm,em);break;case isTypeTuple(em.type):validateTuple(tm,em);break;case isTypeNonZero(em.type):validateNonZero(tm,em);break;default:throw new Error(`Validate Unhandled: argument ${em.name}, type ${em.type}, value ${tm}`)}return ip+1},0)}var CallData=class ty{abi;parser;structs;enums;constructor(s){this.structs=ty.getAbiStruct(s),this.enums=ty.getAbiEnum(s),this.parser=createAbiParser(s),this.abi=this.parser.getLegacyFormat()}validate(s,sf,Nf=[]){if(s!==ValidateType.DEPLOY){const tm=this.abi.filter(nm=>{if(nm.type!=="function")return!1;const rm=nm.stateMutability==="view"||nm.state_mutability==="view";return s===ValidateType.INVOKE?!rm:rm}).map(nm=>nm.name);assert$4(tm.includes(sf),`${s===ValidateType.INVOKE?"invocable":"viewable"} method not found in abi`)}const ip=this.abi.find(tm=>s===ValidateType.DEPLOY?tm.name===sf&&tm.type==="constructor":tm.name===sf&&tm.type==="function");if(isNoConstructorValid(sf,Nf,ip))return;const em=this.parser.methodInputsLength(ip);if(Nf.length!==em)throw Error(`Invalid number of arguments, expected ${em} arguments, but got ${Nf.length}`);validateFields(ip,Nf,this.structs,this.enums)}compile(s,sf){const Nf=this.abi.find(nm=>nm.name===s);if(isNoConstructorValid(s,sf,Nf))return[];let ip;if(Array.isArray(sf))ip=sf;else{const nm=orderPropsByAbi(sf,Nf.inputs,this.structs,this.enums);ip=Object.values(nm),validateFields(Nf,ip,this.structs,this.enums)}const em=ip[Symbol.iterator](),tm=Nf.inputs.reduce((nm,rm)=>isLen(rm.name)&&!isCairo1Type(rm.type)?nm:nm.concat(parseCalldataField(em,rm,this.structs,this.enums)),[]);return Object.defineProperty(tm,"__compiled__",{enumerable:!1,writable:!1,value:!0}),tm}static compile(s){const sf=ip=>{const em=(nm,rm=".")=>{const om=Array.isArray(nm)?[nm.length.toString(),...nm]:nm;return Object.entries(om).flatMap(([im,am])=>{let sm=am;im==="entrypoint"?sm=getSelectorFromName(sm):isLongText(sm)&&(sm=byteArrayFromString(sm));const cm=Array.isArray(om)&&im==="0"?"$$len":im;if(isBigInt(sm))return[[`${rm}${cm}`,felt(sm)]];if(Object(sm)===sm){const hm=Object.getOwnPropertyNames(Object.getPrototypeOf(sm)),fm=[...Object.getOwnPropertyNames(sm),...hm];if(fm.includes("isSome")&&fm.includes("isNone")){const pm=sm,mm=pm.isSome()?CairoOptionVariant.Some:CairoOptionVariant.None;return pm.isSome()?em({0:mm,1:pm.unwrap()},`${rm}${cm}.`):[[`${rm}${cm}`,felt(mm)]]}if(fm.includes("isOk")&&fm.includes("isErr")){const pm=sm,mm=pm.isOk()?CairoResultVariant.Ok:CairoResultVariant.Err;return em({0:mm,1:pm.unwrap()},`${rm}${cm}.`)}if(fm.includes("variant")&&fm.includes("activeVariant")){const pm=sm,mm=pm.activeVariant(),ym=Object.keys(pm.variant).findIndex(Sm=>Sm===mm);return typeof pm.unwrap()=="object"&&Object.keys(pm.unwrap()).length===0?[[`${rm}${cm}`,felt(ym)]]:em({0:ym,1:pm.unwrap()},`${rm}${cm}.`)}return em(sm,`${rm}${cm}.`)}return[[`${rm}${cm}`,felt(sm)]]})};return Object.fromEntries(em(ip))};let Nf;if(Array.isArray(s)){const ip={...s},em=sf(ip);Nf=Object.values(em)}else{const ip=sf(s);Nf=Object.values(ip)}return Object.defineProperty(Nf,"__compiled__",{enumerable:!1,writable:!1,value:!0}),Nf}parse(s,sf){const{outputs:Nf}=this.abi.find(tm=>tm.name===s),ip=sf.flat()[Symbol.iterator](),em=Nf.flat().reduce((tm,nm,rm)=>{const om=nm.name??rm;return tm[om]=responseParser(ip,nm,this.structs,this.enums,tm),tm[om]&&tm[`${om}_len`]&&delete tm[`${om}_len`],tm},{});return Object.keys(em).length===1&&0 in em?em[0]:em}format(s,sf,Nf){const ip=this.parse(s,sf);return formatter(ip,Nf)}static getAbiStruct(s){return s.filter(sf=>sf.type==="struct").reduce((sf,Nf)=>({...sf,[Nf.name]:Nf}),{})}static getAbiEnum(s){const sf=s.filter(Nf=>Nf.type==="enum").reduce((Nf,ip)=>({...Nf,[ip.name]:ip}),{});return delete sf["core::bool"],sf}static toCalldata(s=[]){return ty.compile(s)}static toHex(s=[]){return ty.compile(s).map(Nf=>toHex(Nf))}decodeParameters(s,sf){const Nf=Array.isArray(s)?s:[s],ip=sf.flat()[Symbol.iterator](),em=Nf.map(tm=>responseParser(ip,{name:"",type:tm},this.structs,this.enums));return em.length===1?em[0]:em}},hash_exports={};__export(hash_exports,{calculateContractAddressFromHash:()=>calculateContractAddressFromHash,calculateDeclareTransactionHash:()=>calculateDeclareTransactionHash3,calculateDeployAccountTransactionHash:()=>calculateDeployAccountTransactionHash3,calculateInvokeTransactionHash:()=>calculateInvokeTransactionHash2,calculateL2MessageTxHash:()=>calculateL2MessageTxHash,computeCompiledClassHash:()=>computeCompiledClassHash,computeContractClassHash:()=>computeContractClassHash,computeHashOnElements:()=>computeHashOnElements2,computeHintedClassHash:()=>computeHintedClassHash,computeLegacyContractClassHash:()=>computeLegacyContractClassHash,computePedersenHash:()=>computePedersenHash,computePedersenHashOnElements:()=>computePedersenHashOnElements,computePoseidonHash:()=>computePoseidonHash,computePoseidonHashOnElements:()=>computePoseidonHashOnElements,computeSierraContractClassHash:()=>computeSierraContractClassHash,formatSpaces:()=>formatSpaces,getL2MessageHash:()=>getL2MessageHash,getSelector:()=>getSelector,getSelectorFromName:()=>getSelectorFromName,hashByteCodeSegments:()=>hashByteCodeSegments,keccakBn:()=>keccakBn,poseidon:()=>poseidon$1,solidityUint256PackedKeccak256:()=>solidityUint256PackedKeccak256,starknetKeccak:()=>starknetKeccak});var v2_exports={};__export(v2_exports,{calculateDeclareTransactionHash:()=>calculateDeclareTransactionHash,calculateDeployAccountTransactionHash:()=>calculateDeployAccountTransactionHash,calculateL2MessageTxHash:()=>calculateL2MessageTxHash,calculateTransactionHash:()=>calculateTransactionHash,calculateTransactionHashCommon:()=>calculateTransactionHashCommon,computeHashOnElements:()=>computeHashOnElements});var ec_exports={};__export(ec_exports,{starkCurve:()=>starkCurve,weierstrass:()=>weierstrass$2});function computeHashOnElements(r){return[...r,r.length].reduce((s,sf)=>pedersen(toBigInt(s),toBigInt(sf)),0).toString()}function calculateTransactionHashCommon(r,s,sf,Nf,ip,em,tm,nm=[]){const rm=computeHashOnElements(ip),om=[r,s,sf,Nf,rm,em,tm,...nm];return computeHashOnElements(om)}function calculateDeclareTransactionHash(r,s,sf,Nf,ip,em,tm){return calculateTransactionHashCommon("0x6465636c617265",sf,s,0,[r],Nf,ip,[em,...tm?[tm]:[]])}function calculateDeployAccountTransactionHash(r,s,sf,Nf,ip,em,tm,nm){const rm=[s,Nf,...sf];return calculateTransactionHashCommon("0x6465706c6f795f6163636f756e74",ip,r,0,rm,em,tm,[nm])}function calculateTransactionHash(r,s,sf,Nf,ip,em){return calculateTransactionHashCommon("0x696e766f6b65",s,r,0,sf,Nf,ip,[em])}function calculateL2MessageTxHash(r,s,sf,Nf,ip,em){const tm=[r,...Nf];return calculateTransactionHashCommon("0x6c315f68616e646c6572",0,s,getSelector(sf),tm,0,ip,[em])}var v3_exports={};__export(v3_exports,{calculateDeclareTransactionHash:()=>calculateDeclareTransactionHash2,calculateDeployAccountTransactionHash:()=>calculateDeployAccountTransactionHash2,calculateInvokeTransactionHash:()=>calculateInvokeTransactionHash,calculateTransactionHashCommon:()=>calculateTransactionHashCommon2,encodeResourceBoundsL1:()=>encodeResourceBoundsL1,encodeResourceBoundsL2:()=>encodeResourceBoundsL2,hashDAMode:()=>hashDAMode,hashFeeField:()=>hashFeeField});var AToBI=r=>r.map(s=>BigInt(s)),DATA_AVAILABILITY_MODE_BITS=32n,MAX_AMOUNT_BITS=64n,MAX_PRICE_PER_UNIT_BITS=128n,RESOURCE_VALUE_OFFSET=MAX_AMOUNT_BITS+MAX_PRICE_PER_UNIT_BITS,L1_GAS_NAME=BigInt(encodeShortString("L1_GAS")),L2_GAS_NAME=BigInt(encodeShortString("L2_GAS"));function hashDAMode(r,s){return(BigInt(r)<<DATA_AVAILABILITY_MODE_BITS)+BigInt(s)}function encodeResourceBoundsL1(r){return(L1_GAS_NAME<<RESOURCE_VALUE_OFFSET)+(BigInt(r.l1_gas.max_amount)<<MAX_PRICE_PER_UNIT_BITS)+BigInt(r.l1_gas.max_price_per_unit)}function encodeResourceBoundsL2(r){return(L2_GAS_NAME<<RESOURCE_VALUE_OFFSET)+(BigInt(r.l2_gas.max_amount)<<MAX_PRICE_PER_UNIT_BITS)+BigInt(r.l2_gas.max_price_per_unit)}function hashFeeField(r,s){const sf=encodeResourceBoundsL1(s),Nf=encodeResourceBoundsL2(s);return poseidonHashMany([BigInt(r),sf,Nf])}function calculateTransactionHashCommon2(r,s,sf,Nf,ip,em,tm,nm,rm,om,im=[]){const am=hashFeeField(em,om),sm=hashDAMode(nm,rm),cm=AToBI([r,s,sf,am,poseidonHashMany(AToBI(tm)),Nf,ip,sm,...AToBI(im)]);return toHex(poseidonHashMany(cm))}function calculateDeployAccountTransactionHash2(r,s,sf,Nf,ip,em,tm,nm,rm,om,im,am){return calculateTransactionHashCommon2("0x6465706c6f795f6163636f756e74",ip,r,em,tm,im,am,nm,rm,om,[poseidonHashMany(AToBI(sf)),s,Nf])}function calculateDeclareTransactionHash2(r,s,sf,Nf,ip,em,tm,nm,rm,om,im,am){return calculateTransactionHashCommon2("0x6465636c617265",Nf,sf,ip,em,im,AToBI(am),nm,rm,om,[poseidonHashMany(AToBI(tm)),r,s])}function calculateInvokeTransactionHash(r,s,sf,Nf,ip,em,tm,nm,rm,om,im){return calculateTransactionHashCommon2("0x696e766f6b65",s,r,Nf,ip,om,im,tm,nm,rm,[poseidonHashMany(AToBI(em)),poseidonHashMany(AToBI(sf))])}function isV3InvokeTx(r){return[api_exports.ETransactionVersion.V3,api_exports.ETransactionVersion.F3].includes(r.version)}function calculateInvokeTransactionHash2(r){return isV3InvokeTx(r)?calculateInvokeTransactionHash(r.senderAddress,r.version,r.compiledCalldata,r.chainId,r.nonce,r.accountDeploymentData,r.nonceDataAvailabilityMode,r.feeDataAvailabilityMode,r.resourceBounds,r.tip,r.paymasterData):calculateTransactionHash(r.senderAddress,r.version,r.compiledCalldata,r.maxFee,r.chainId,r.nonce)}function isV3DeclareTx(r){return[api_exports.ETransactionVersion.V3,api_exports.ETransactionVersion.F3].includes(r.version)}function calculateDeclareTransactionHash3(r){return isV3DeclareTx(r)?calculateDeclareTransactionHash2(r.classHash,r.compiledClassHash,r.senderAddress,r.version,r.chainId,r.nonce,r.accountDeploymentData,r.nonceDataAvailabilityMode,r.feeDataAvailabilityMode,r.resourceBounds,r.tip,r.paymasterData):calculateDeclareTransactionHash(r.classHash,r.senderAddress,r.version,r.maxFee,r.chainId,r.nonce,r.compiledClassHash)}function isV3DeployAccountTx(r){return[api_exports.ETransactionVersion.V3,api_exports.ETransactionVersion.F3].includes(r.version)}function calculateDeployAccountTransactionHash3(r){return isV3DeployAccountTx(r)?calculateDeployAccountTransactionHash2(r.contractAddress,r.classHash,r.compiledConstructorCalldata,r.salt,r.version,r.chainId,r.nonce,r.nonceDataAvailabilityMode,r.feeDataAvailabilityMode,r.resourceBounds,r.tip,r.paymasterData):calculateDeployAccountTransactionHash(r.contractAddress,r.classHash,r.constructorCalldata,r.salt,r.version,r.maxFee,r.chainId,r.nonce)}function computePedersenHash(r,s){return pedersen(BigInt(r),BigInt(s))}function computePoseidonHash(r,s){return toHex(poseidonHash(BigInt(r),BigInt(s)))}function computeHashOnElements2(r){return[...r,r.length].reduce((s,sf)=>pedersen(BigInt(s),BigInt(sf)),0).toString()}var computePedersenHashOnElements=computeHashOnElements2;function computePoseidonHashOnElements(r){return toHex(poseidonHashMany(r.map(s=>BigInt(s))))}function calculateContractAddressFromHash(r,s,sf,Nf){const ip=CallData.compile(sf),em=computeHashOnElements2(ip),tm=felt("0x535441524b4e45545f434f4e54524143545f41444452455353"),nm=computeHashOnElements2([tm,Nf,r,s,em]);return toHex(BigInt(nm)%ADDR_BOUND)}function nullSkipReplacer(r,s){return r==="attributes"||r==="accessible_scopes"?Array.isArray(s)&&s.length===0?void 0:s:r==="debug_info"?null:s===null?void 0:s}function formatSpaces(r){let s=!1;const sf=[];for(const Nf of r)Nf==='"'&&!(sf.length>0&&sf.slice(-1)[0]==="\\")&&(s=!s),s?sf.push(Nf):sf.push(Nf===":"?": ":Nf===","?", ":Nf);return sf.join("")}function computeHintedClassHash(r){const{abi:s,program:sf}=r,ip=formatSpaces(stringify2({abi:s,program:sf},nullSkipReplacer));return addHexPrefix(keccak(utf8ToArray(ip)).toString(16))}function computeLegacyContractClassHash(r){const s=isString(r)?parse2(r):r,sf=toHex(API_VERSION),Nf=computeHashOnElements2(s.entry_points_by_type.EXTERNAL.flatMap(om=>[om.selector,om.offset])),ip=computeHashOnElements2(s.entry_points_by_type.L1_HANDLER.flatMap(om=>[om.selector,om.offset])),em=computeHashOnElements2(s.entry_points_by_type.CONSTRUCTOR.flatMap(om=>[om.selector,om.offset])),tm=computeHashOnElements2(s.program.builtins.map(om=>encodeShortString(om))),nm=computeHintedClassHash(s),rm=computeHashOnElements2(s.program.data);return computeHashOnElements2([sf,Nf,ip,em,tm,nm,rm])}function hashBuiltins(r){return poseidonHashMany(r.flatMap(s=>BigInt(encodeShortString(s))))}function hashEntryPoint(r){const s=r.flatMap(sf=>[BigInt(sf.selector),BigInt(sf.offset),hashBuiltins(sf.builtins)]);return poseidonHashMany(s)}function hashByteCodeSegments(r){const s=r.bytecode.map(em=>BigInt(em)),sf=r.bytecode_segment_lengths??[];let Nf=0;const ip=sf.flatMap(em=>{const tm=s.slice(Nf,Nf+=em);return[BigInt(em),poseidonHashMany(tm)]});return 1n+poseidonHashMany(ip)}function computeCompiledClassHash(r){const sf=BigInt(encodeShortString("COMPILED_CLASS_V1")),Nf=hashEntryPoint(r.entry_points_by_type.EXTERNAL),ip=hashEntryPoint(r.entry_points_by_type.L1_HANDLER),em=hashEntryPoint(r.entry_points_by_type.CONSTRUCTOR),tm=r.bytecode_segment_lengths?hashByteCodeSegments(r):poseidonHashMany(r.bytecode.map(nm=>BigInt(nm)));return toHex(poseidonHashMany([sf,Nf,ip,em,tm]))}function hashEntryPointSierra(r){const s=r.flatMap(sf=>[BigInt(sf.selector),BigInt(sf.function_idx)]);return poseidonHashMany(s)}function hashAbi(r){const s=formatSpaces(stringify2(r.abi,null));return BigInt(addHexPrefix(keccak(utf8ToArray(s)).toString(16)))}function computeSierraContractClassHash(r){const sf=BigInt(encodeShortString("CONTRACT_CLASS_V0.1.0")),Nf=hashEntryPointSierra(r.entry_points_by_type.EXTERNAL),ip=hashEntryPointSierra(r.entry_points_by_type.L1_HANDLER),em=hashEntryPointSierra(r.entry_points_by_type.CONSTRUCTOR),tm=hashAbi(r),nm=poseidonHashMany(r.sierra_program.map(rm=>BigInt(rm)));return toHex(poseidonHashMany([sf,Nf,ip,em,tm,nm]))}function computeContractClassHash(r){const s=isString(r)?parse2(r):r;return"sierra_program"in s?computeSierraContractClassHash(s):computeLegacyContractClassHash(s)}var stark_exports={};__export(stark_exports,{compressProgram:()=>compressProgram,decompressProgram:()=>decompressProgram,estimateFeeToBounds:()=>estimateFeeToBounds,estimatedFeeToMaxFee:()=>estimatedFeeToMaxFee,formatSignature:()=>formatSignature,getFullPublicKey:()=>getFullPublicKey,intDAM:()=>intDAM,makeAddress:()=>makeAddress,randomAddress:()=>randomAddress,reduceV2:()=>reduceV2,signatureToDecimalArray:()=>signatureToDecimalArray,signatureToHexArray:()=>signatureToHexArray,toFeeVersion:()=>toFeeVersion,toTransactionVersion:()=>toTransactionVersion,v3Details:()=>v3Details});function compressProgram(r){const s=isString(r)?r:stringify2(r),sf=gzip_1(s);return btoaUniversal(sf)}function decompressProgram(r){if(Array.isArray(r))return r;const s=arrayBufferToString(ungzip_1(atobUniversal(r)));return parse2(s)}function randomAddress(){const r=utils.randomPrivateKey();return getStarkKey(r)}function makeAddress(r){return addHexPrefix(r).toLowerCase()}function formatSignature(r){if(!r)throw Error("formatSignature: provided signature is undefined");if(Array.isArray(r))return r.map(s=>toHex(s));try{const{r:s,s:sf}=r;return[toHex(s),toHex(sf)]}catch{throw new Error("Signature need to be weierstrass.SignatureType or an array for custom")}}function signatureToDecimalArray(r){return bigNumberishArrayToDecimalStringArray(formatSignature(r))}function signatureToHexArray(r){return bigNumberishArrayToHexadecimalStringArray(formatSignature(r))}function estimatedFeeToMaxFee(r,s=50){return addPercent(r,s)}function estimateFeeToBounds(r,s=50,sf=50){if(isBigInt(r))return{l2_gas:{max_amount:"0x0",max_price_per_unit:"0x0"},l1_gas:{max_amount:"0x0",max_price_per_unit:"0x0"}};if(isUndefined(r.gas_consumed)||isUndefined(r.gas_price))throw Error("estimateFeeToBounds: estimate is undefined");const Nf=r.data_gas_consumed!==void 0&&r.data_gas_price!==void 0?toHex(addPercent(BigInt(r.overall_fee)/BigInt(r.gas_price),s)):toHex(addPercent(r.gas_consumed,s)),ip=toHex(addPercent(r.gas_price,sf));return{l2_gas:{max_amount:"0x0",max_price_per_unit:"0x0"},l1_gas:{max_amount:Nf,max_price_per_unit:ip}}}function intDAM(r){if(r===api_exports.EDataAvailabilityMode.L1)return api_exports.EDAMode.L1;if(r===api_exports.EDataAvailabilityMode.L2)return api_exports.EDAMode.L2;throw Error("EDAM conversion")}function toTransactionVersion(r,s){const sf=s?toHex(s):void 0,Nf=toHex(r);if(s&&!Object.values(api_exports.ETransactionVersion).includes(sf))throw Error(`providedVersion ${s} is not ETransactionVersion`);if(!Object.values(api_exports.ETransactionVersion).includes(Nf))throw Error(`defaultVersion ${r} is not ETransactionVersion`);return s?sf:Nf}function toFeeVersion(r){if(!r)return;const s=toHex(r);if(s===api_exports.ETransactionVersion.V0)return api_exports.ETransactionVersion.F0;if(s===api_exports.ETransactionVersion.V1)return api_exports.ETransactionVersion.F1;if(s===api_exports.ETransactionVersion.V2)return api_exports.ETransactionVersion.F2;if(s===api_exports.ETransactionVersion.V3)return api_exports.ETransactionVersion.F3;throw Error(`toFeeVersion: ${s} is not supported`)}function v3Details(r){return{tip:r.tip||0,paymasterData:r.paymasterData||[],accountDeploymentData:r.accountDeploymentData||[],nonceDataAvailabilityMode:r.nonceDataAvailabilityMode||api_exports.EDataAvailabilityMode.L1,feeDataAvailabilityMode:r.feeDataAvailabilityMode||api_exports.EDataAvailabilityMode.L1,resourceBounds:r.resourceBounds??estimateFeeToBounds(ZERO)}}function reduceV2(r){return r===api_exports.ETransactionVersion.F2?api_exports.ETransactionVersion.F1:r===api_exports.ETransactionVersion.V2?api_exports.ETransactionVersion.V1:r}function getFullPublicKey(r){const s=toHex(r);return addHexPrefix(buf2hex(getPublicKey(s,!1)))}function isSierra(r){return"sierra_program"in(isString(r)?parse2(r):r)}function extractContractHashes(r){const s={...r};if(isSierra(r.contract)&&(!r.compiledClassHash&&r.casm&&(s.compiledClassHash=computeCompiledClassHash(r.casm)),!s.compiledClassHash))throw new Error("Extract compiledClassHash failed, provide (CairoAssembly).casm file or compiledClassHash");if(s.classHash=r.classHash??computeContractClassHash(r.contract),!s.classHash)throw new Error("Extract classHash failed, provide (CompiledContract).json file or classHash");return s}var eth_exports={};__export(eth_exports,{ethRandomPrivateKey:()=>ethRandomPrivateKey,validateAndParseEthAddress:()=>validateAndParseEthAddress});function ethRandomPrivateKey(){return sanitizeHex(buf2hex(secp256k1$1.utils.randomPrivateKey()))}function validateAndParseEthAddress(r){assertInRange(r,ZERO,2n**160n-1n,"Ethereum Address ");const s=addHexPrefix(removeHexPrefix(toHex(r)).padStart(40,"0"));return assert$4(!!s.match(/^(0x)?[0-9a-f]{40}$/),"Invalid Ethereum Address Format"),s}var fetchPonyfill_default=IS_BROWSER&&window.fetch.bind(window)||!isUndefined(globalThis)&&fetchCookie(globalThis.fetch)||isomorphicFetch,provider_exports={};__export(provider_exports,{Block:()=>Block,createSierraContractClass:()=>createSierraContractClass,getDefaultNodeUrl:()=>getDefaultNodeUrl,isPendingBlock:()=>isPendingBlock,isPendingStateUpdate:()=>isPendingStateUpdate,isPendingTransaction:()=>isPendingTransaction,isV3Tx:()=>isV3Tx,isVersion:()=>isVersion,parseContract:()=>parseContract,validBlockTags:()=>validBlockTags,wait:()=>wait});var Configuration=class ny{static instance;config;constructor(){this.initialize()}initialize(){this.config={...DEFAULT_GLOBAL_CONFIG}}static getInstance(){return ny.instance||(ny.instance=new ny),ny.instance}get(s,sf){return this.config[s]??sf}set(s,sf){this.config[s]=sf}update(s){this.config={...this.config,...s}}getAll(){return{...this.config}}reset(){this.initialize()}delete(s){delete this.config[s]}hasKey(s){return s in this.config}},config=Configuration.getInstance(),LogLevelIndex={DEBUG:5,INFO:4,WARN:3,ERROR:2,FATAL:1,OFF:0},Logger$1=class ry{static instance;config;constructor(){this.config=config}static getInstance(){return ry.instance||(ry.instance=new ry),ry.instance}getTimestamp(){return(new Date).toISOString()}shouldLog(s){const sf=this.config.get("logLevel","INFO");return s<=LogLevelIndex[sf]}formatMessage(s){const{level:sf,message:Nf,timestamp:ip,data:em}=s;let tm=`[${ip}] ${sf}: ${Nf}`;if(em)try{tm+=`
${JSON.stringify(em,null,2)}`}catch(nm){tm+=`
[JSON.stringify Error/Circular]: ${nm}`}return tm}log(s,sf,Nf){if(!this.shouldLog(LogLevelIndex[s]))return;const ip={level:s,message:sf,timestamp:this.getTimestamp(),data:Nf},em=this.formatMessage(ip);switch(s){case"DEBUG":console.debug(em);break;case"INFO":console.info(em);break;case"WARN":console.warn(em);break;case"ERROR":case"FATAL":console.error(em);break;case"OFF":break;default:console.log(em);break}}debug(s,sf){this.log("DEBUG",s,sf)}info(s,sf){this.log("INFO",s,sf)}warn(s,sf){this.log("WARN",s,sf)}error(s,sf){this.log("ERROR",s,sf)}fatal(s,sf){this.log("FATAL",s,sf)}setLogLevel(s){this.config.set("logLevel",s)}getLogLevel(){return this.config.get("logLevel","INFO")}getEnabledLogLevels(){return Object.keys(LogLevelIndex).filter(s=>this.shouldLog(LogLevelIndex[s])&&s!=="OFF")}},logger=Logger$1.getInstance();function wait(r){return new Promise(s=>{setTimeout(s,r)})}function createSierraContractClass(r){const s={...r};return delete s.sierra_program_debug_info,s.abi=formatSpaces(stringify2(r.abi)),s.sierra_program=formatSpaces(stringify2(r.sierra_program)),s.sierra_program=compressProgram(s.sierra_program),s}function parseContract(r){const s=isString(r)?parse2(r):r;return isSierra(r)?createSierraContractClass(s):{...s,..."program"in s&&{program:compressProgram(s.program)}}}var getDefaultNodeUrl=(r,s=!1)=>{s||logger.info("Using default public node url, please provide nodeUrl in provider options!");const sf=RPC_NODES[r??"SN_SEPOLIA"],Nf=Math.floor(Math.random()*sf.length);return sf[Nf]},validBlockTags=Object.values(BlockTag),Block=class{hash=null;number=null;tag=null;setIdentifier(r){if(isString(r))if(isDecimalString(r))this.number=parseInt(r,10);else if(isHex(r))this.hash=r;else if(validBlockTags.includes(r))this.tag=r;else throw TypeError(`Block identifier unmanaged: ${r}`);else isBigInt(r)?this.hash=toHex(r):isNumber(r)?this.number=r:this.tag=BlockTag.PENDING;if(isNumber(this.number)&&this.number<0)throw TypeError(`Block number (${this.number}) can't be negative`)}constructor(r){this.setIdentifier(r)}get queryIdentifier(){return this.number!==null?`blockNumber=${this.number}`:this.hash!==null?`blockHash=${this.hash}`:`blockNumber=${this.tag}`}get identifier(){return this.number!==null?{block_number:this.number}:this.hash!==null?{block_hash:this.hash}:this.tag}set identifier(r){this.setIdentifier(r)}valueOf=()=>this.number;toString=()=>this.hash};function isV3Tx(r){const s=r.version?toHex(r.version):api_exports.ETransactionVersion.V3;return s===api_exports.ETransactionVersion.V3||s===api_exports.ETransactionVersion.F3}function isVersion(r,s){const[sf,Nf]=r.split("."),[ip,em]=s.split(".");return sf===ip&&Nf===em}function isPendingBlock(r){return r.status==="PENDING"}function isPendingTransaction(r){return!("block_hash"in r)}function isPendingStateUpdate(r){return!("block_hash"in r)}var transaction_exports={};__export(transaction_exports,{buildUDCCall:()=>buildUDCCall,fromCallsToExecuteCalldata:()=>fromCallsToExecuteCalldata,fromCallsToExecuteCalldataWithNonce:()=>fromCallsToExecuteCalldataWithNonce,fromCallsToExecuteCalldata_cairo1:()=>fromCallsToExecuteCalldata_cairo1,getExecuteCalldata:()=>getExecuteCalldata,getVersionsByType:()=>getVersionsByType,transformCallsToMulticallArrays:()=>transformCallsToMulticallArrays,transformCallsToMulticallArrays_cairo1:()=>transformCallsToMulticallArrays_cairo1});var transformCallsToMulticallArrays=r=>{const s=[],sf=[];return r.forEach(Nf=>{const ip=CallData.compile(Nf.calldata||[]);s.push({to:toBigInt(Nf.contractAddress).toString(10),selector:toBigInt(getSelectorFromName(Nf.entrypoint)).toString(10),data_offset:sf.length.toString(),data_len:ip.length.toString()}),sf.push(...ip)}),{callArray:s,calldata:CallData.compile({calldata:sf})}},fromCallsToExecuteCalldata=r=>{const{callArray:s,calldata:sf}=transformCallsToMulticallArrays(r);return[...CallData.compile({callArray:s}),...sf]},fromCallsToExecuteCalldataWithNonce=(r,s)=>[...fromCallsToExecuteCalldata(r),toBigInt(s).toString()],transformCallsToMulticallArrays_cairo1=r=>r.map(sf=>({to:toBigInt(sf.contractAddress).toString(10),selector:toBigInt(getSelectorFromName(sf.entrypoint)).toString(10),calldata:CallData.compile(sf.calldata||[])})),fromCallsToExecuteCalldata_cairo1=r=>{const s=r.map(sf=>({contractAddress:sf.contractAddress,entrypoint:sf.entrypoint,calldata:Array.isArray(sf.calldata)&&"__compiled__"in sf.calldata?sf.calldata:CallData.compile(sf.calldata)}));return CallData.compile({orderCalls:s})},getExecuteCalldata=(r,s="0")=>s==="1"?fromCallsToExecuteCalldata_cairo1(r):fromCallsToExecuteCalldata(r);function buildUDCCall(r,s){const sf=[].concat(r).map(Nf=>{const{classHash:ip,salt:em,unique:tm=!0,constructorCalldata:nm=[]}=Nf,rm=CallData.compile(nm),om=em??randomAddress();return{call:{contractAddress:UDC.ADDRESS,entrypoint:UDC.ENTRYPOINT,calldata:[ip,om,toCairoBool(tm),rm.length,...rm]},address:calculateContractAddressFromHash(tm?pedersen(s,om):om,ip,rm,tm?UDC.ADDRESS:0)}});return{calls:sf.map(Nf=>Nf.call),addresses:sf.map(Nf=>Nf.address)}}function getVersionsByType(r){return r==="fee"?{v1:api_exports.ETransactionVersion.F1,v2:api_exports.ETransactionVersion.F2,v3:api_exports.ETransactionVersion.F3}:{v1:api_exports.ETransactionVersion.V1,v2:api_exports.ETransactionVersion.V2,v3:api_exports.ETransactionVersion.V3}}var defaultOptions$1={headers:{"Content-Type":"application/json"},blockIdentifier:BlockTag.PENDING,retries:200},RpcChannel=class{nodeUrl;headers;requestId;blockIdentifier;retries;waitMode;chainId;specVersion;transactionRetryIntervalFallback;batchClient;baseFetch;constructor(r){const{baseFetch:s,batch:sf,blockIdentifier:Nf,chainId:ip,headers:em,nodeUrl:tm,retries:nm,specVersion:rm,transactionRetryIntervalFallback:om,waitMode:im}=r||{};Object.values(NetworkName).includes(tm)?this.nodeUrl=getDefaultNodeUrl(tm,r?.default):tm?this.nodeUrl=tm:this.nodeUrl=getDefaultNodeUrl(void 0,r?.default),this.baseFetch=s??fetchPonyfill_default,this.blockIdentifier=Nf??defaultOptions$1.blockIdentifier,this.chainId=ip,this.headers={...defaultOptions$1.headers,...em},this.retries=nm??defaultOptions$1.retries,this.specVersion=rm,this.transactionRetryIntervalFallback=om,this.waitMode=im??!1,this.requestId=0,typeof sf=="number"&&(this.batchClient=new BatchClient({nodeUrl:this.nodeUrl,headers:this.headers,interval:sf,baseFetch:this.baseFetch}))}get transactionRetryIntervalDefault(){return this.transactionRetryIntervalFallback??5e3}setChainId(r){this.chainId=r}fetch(r,s,sf=0){const Nf={id:sf,jsonrpc:"2.0",method:r,...s&&{params:s}};return this.baseFetch(this.nodeUrl,{method:"POST",body:stringify2(Nf),headers:this.headers})}errorHandler(r,s,sf,Nf){if(sf)throw new RpcError(sf,r,s);if(Nf instanceof LibraryError)throw Nf;if(Nf)throw Error(Nf.message)}async fetchEndpoint(r,s){try{if(this.batchClient){const{error:em,result:tm}=await this.batchClient.fetch(r,s,this.requestId+=1);return this.errorHandler(r,s,em),tm}const sf=await this.fetch(r,s,this.requestId+=1),{error:Nf,result:ip}=await sf.json();return this.errorHandler(r,s,Nf),ip}catch(sf){throw this.errorHandler(r,s,sf?.response?.data,sf),sf}}async getChainId(){return this.chainId??=await this.fetchEndpoint("starknet_chainId"),this.chainId}async getSpecVersion(){return this.specVersion??=await this.fetchEndpoint("starknet_specVersion"),this.specVersion}getNonceForAddress(r,s=this.blockIdentifier){const sf=toHex(r),Nf=new Block(s).identifier;return this.fetchEndpoint("starknet_getNonce",{contract_address:sf,block_id:Nf})}getBlockLatestAccepted(){return this.fetchEndpoint("starknet_blockHashAndNumber")}getBlockNumber(){return this.fetchEndpoint("starknet_blockNumber")}getBlockWithTxHashes(r=this.blockIdentifier){const s=new Block(r).identifier;return this.fetchEndpoint("starknet_getBlockWithTxHashes",{block_id:s})}getBlockWithTxs(r=this.blockIdentifier){const s=new Block(r).identifier;return this.fetchEndpoint("starknet_getBlockWithTxs",{block_id:s})}getBlockStateUpdate(r=this.blockIdentifier){const s=new Block(r).identifier;return this.fetchEndpoint("starknet_getStateUpdate",{block_id:s})}getBlockTransactionsTraces(r=this.blockIdentifier){const s=new Block(r).identifier;return this.fetchEndpoint("starknet_traceBlockTransactions",{block_id:s})}getBlockTransactionCount(r=this.blockIdentifier){const s=new Block(r).identifier;return this.fetchEndpoint("starknet_getBlockTransactionCount",{block_id:s})}getTransactionByHash(r){const s=toHex(r);return this.fetchEndpoint("starknet_getTransactionByHash",{transaction_hash:s})}getTransactionByBlockIdAndIndex(r,s){const sf=new Block(r).identifier;return this.fetchEndpoint("starknet_getTransactionByBlockIdAndIndex",{block_id:sf,index:s})}getTransactionReceipt(r){const s=toHex(r);return this.fetchEndpoint("starknet_getTransactionReceipt",{transaction_hash:s})}getTransactionTrace(r){const s=toHex(r);return this.fetchEndpoint("starknet_traceTransaction",{transaction_hash:s})}getTransactionStatus(r){const s=toHex(r);return this.fetchEndpoint("starknet_getTransactionStatus",{transaction_hash:s})}simulateTransaction(r,s={}){const{blockIdentifier:sf=this.blockIdentifier,skipValidate:Nf=!0,skipFeeCharge:ip=!0}=s,em=new Block(sf).identifier,tm=[];return Nf&&tm.push(rpcspec_0_6_exports.ESimulationFlag.SKIP_VALIDATE),ip&&tm.push(rpcspec_0_6_exports.ESimulationFlag.SKIP_FEE_CHARGE),this.fetchEndpoint("starknet_simulateTransactions",{block_id:em,transactions:r.map(nm=>this.buildTransaction(nm)),simulation_flags:tm})}async waitForTransaction(r,s){const sf=toHex(r);let{retries:Nf}=this,ip=!1,em=!1;const tm=s?.retryInterval??this.transactionRetryIntervalDefault,nm=s?.errorStates??[rpcspec_0_6_exports.ETransactionStatus.REJECTED],rm=s?.successStates??[rpcspec_0_6_exports.ETransactionExecutionStatus.SUCCEEDED,rpcspec_0_6_exports.ETransactionStatus.ACCEPTED_ON_L2,rpcspec_0_6_exports.ETransactionStatus.ACCEPTED_ON_L1];let om;for(;!ip;){await wait(tm);try{om=await this.getTransactionStatus(sf);const am=om.execution_status,sm=om.finality_status;if(!sm)throw new Error("waiting for transaction status");if(nm.includes(am)||nm.includes(sm)){const cm=`${am}: ${sm}`,hm=new Error(cm);throw hm.response=om,em=!0,hm}else(rm.includes(am)||rm.includes(sm))&&(ip=!0)}catch(am){if(am instanceof Error&&em)throw am;if(Nf<=0)throw new Error(`waitForTransaction timed-out with retries ${this.retries}`)}Nf-=1}let im=null;for(;im===null;){try{im=await this.getTransactionReceipt(sf)}catch{if(Nf<=0)throw new Error(`waitForTransaction timed-out with retries ${this.retries}`)}Nf-=1,await wait(tm)}return im}getStorageAt(r,s,sf=this.blockIdentifier){const Nf=toHex(r),ip=toStorageKey(s),em=new Block(sf).identifier;return this.fetchEndpoint("starknet_getStorageAt",{contract_address:Nf,key:ip,block_id:em})}getClassHashAt(r,s=this.blockIdentifier){const sf=toHex(r),Nf=new Block(s).identifier;return this.fetchEndpoint("starknet_getClassHashAt",{block_id:Nf,contract_address:sf})}getClass(r,s=this.blockIdentifier){const sf=toHex(r),Nf=new Block(s).identifier;return this.fetchEndpoint("starknet_getClass",{class_hash:sf,block_id:Nf})}getClassAt(r,s=this.blockIdentifier){const sf=toHex(r),Nf=new Block(s).identifier;return this.fetchEndpoint("starknet_getClassAt",{block_id:Nf,contract_address:sf})}async getEstimateFee(r,{blockIdentifier:s=this.blockIdentifier,skipValidate:sf=!0}){const Nf=new Block(s).identifier;let ip={};return isVersion("0.5",await this.getSpecVersion())||(ip={simulation_flags:sf?[rpcspec_0_6_exports.ESimulationFlag.SKIP_VALIDATE]:[]}),this.fetchEndpoint("starknet_estimateFee",{request:r.map(em=>this.buildTransaction(em,"fee")),block_id:Nf,...ip})}async invoke(r,s){let sf;return isV3Tx(s)?sf=this.fetchEndpoint("starknet_addInvokeTransaction",{invoke_transaction:{type:rpcspec_0_6_exports.ETransactionType.INVOKE,sender_address:r.contractAddress,calldata:CallData.toHex(r.calldata),version:rpcspec_0_6_exports.ETransactionVersion.V3,signature:signatureToHexArray(r.signature),nonce:toHex(s.nonce),resource_bounds:s.resourceBounds,tip:toHex(s.tip),paymaster_data:s.paymasterData.map(Nf=>toHex(Nf)),account_deployment_data:s.accountDeploymentData.map(Nf=>toHex(Nf)),nonce_data_availability_mode:s.nonceDataAvailabilityMode,fee_data_availability_mode:s.feeDataAvailabilityMode}}):(sf=this.fetchEndpoint("starknet_addInvokeTransaction",{invoke_transaction:{sender_address:r.contractAddress,calldata:CallData.toHex(r.calldata),type:rpcspec_0_6_exports.ETransactionType.INVOKE,max_fee:toHex(s.maxFee||0),version:rpcspec_0_6_exports.ETransactionVersion.V1,signature:signatureToHexArray(r.signature),nonce:toHex(s.nonce)}}),logger.warn(SYSTEM_MESSAGES.legacyTxWarningMessage,{version:rpcspec_0_6_exports.ETransactionVersion.V1,type:rpcspec_0_6_exports.ETransactionType.INVOKE})),this.waitMode?this.waitForTransaction((await sf).transaction_hash):sf}async declare({contract:r,signature:s,senderAddress:sf,compiledClassHash:Nf},ip){let em;if(!isSierra(r)&&!isV3Tx(ip))em=this.fetchEndpoint("starknet_addDeclareTransaction",{declare_transaction:{type:rpcspec_0_6_exports.ETransactionType.DECLARE,contract_class:{program:r.program,entry_points_by_type:r.entry_points_by_type,abi:r.abi},version:rpcspec_0_6_exports.ETransactionVersion.V1,max_fee:toHex(ip.maxFee||0),signature:signatureToHexArray(s),sender_address:sf,nonce:toHex(ip.nonce)}}),logger.warn(SYSTEM_MESSAGES.legacyTxWarningMessage,{version:rpcspec_0_6_exports.ETransactionVersion.V1,type:rpcspec_0_6_exports.ETransactionType.DECLARE});else if(isSierra(r)&&!isV3Tx(ip))em=this.fetchEndpoint("starknet_addDeclareTransaction",{declare_transaction:{type:rpcspec_0_6_exports.ETransactionType.DECLARE,contract_class:{sierra_program:decompressProgram(r.sierra_program),contract_class_version:r.contract_class_version,entry_points_by_type:r.entry_points_by_type,abi:r.abi},compiled_class_hash:Nf||"",version:rpcspec_0_6_exports.ETransactionVersion.V2,max_fee:toHex(ip.maxFee||0),signature:signatureToHexArray(s),sender_address:sf,nonce:toHex(ip.nonce)}}),logger.warn(SYSTEM_MESSAGES.legacyTxWarningMessage,{version:rpcspec_0_6_exports.ETransactionVersion.V2,type:rpcspec_0_6_exports.ETransactionType.DECLARE});else if(isSierra(r)&&isV3Tx(ip))em=this.fetchEndpoint("starknet_addDeclareTransaction",{declare_transaction:{type:rpcspec_0_6_exports.ETransactionType.DECLARE,sender_address:sf,compiled_class_hash:Nf||"",version:rpcspec_0_6_exports.ETransactionVersion.V3,signature:signatureToHexArray(s),nonce:toHex(ip.nonce),contract_class:{sierra_program:decompressProgram(r.sierra_program),contract_class_version:r.contract_class_version,entry_points_by_type:r.entry_points_by_type,abi:r.abi},resource_bounds:ip.resourceBounds,tip:toHex(ip.tip),paymaster_data:ip.paymasterData.map(tm=>toHex(tm)),account_deployment_data:ip.accountDeploymentData.map(tm=>toHex(tm)),nonce_data_availability_mode:ip.nonceDataAvailabilityMode,fee_data_availability_mode:ip.feeDataAvailabilityMode}});else throw Error("declare unspotted parameters");return this.waitMode?this.waitForTransaction((await em).transaction_hash):em}async deployAccount({classHash:r,constructorCalldata:s,addressSalt:sf,signature:Nf},ip){let em;return isV3Tx(ip)?em=this.fetchEndpoint("starknet_addDeployAccountTransaction",{deploy_account_transaction:{type:rpcspec_0_6_exports.ETransactionType.DEPLOY_ACCOUNT,version:rpcspec_0_6_exports.ETransactionVersion.V3,signature:signatureToHexArray(Nf),nonce:toHex(ip.nonce),contract_address_salt:toHex(sf||0),constructor_calldata:CallData.toHex(s||[]),class_hash:toHex(r),resource_bounds:ip.resourceBounds,tip:toHex(ip.tip),paymaster_data:ip.paymasterData.map(tm=>toHex(tm)),nonce_data_availability_mode:ip.nonceDataAvailabilityMode,fee_data_availability_mode:ip.feeDataAvailabilityMode}}):(em=this.fetchEndpoint("starknet_addDeployAccountTransaction",{deploy_account_transaction:{constructor_calldata:CallData.toHex(s||[]),class_hash:toHex(r),contract_address_salt:toHex(sf||0),type:rpcspec_0_6_exports.ETransactionType.DEPLOY_ACCOUNT,max_fee:toHex(ip.maxFee||0),version:rpcspec_0_6_exports.ETransactionVersion.V1,signature:signatureToHexArray(Nf),nonce:toHex(ip.nonce)}}),logger.warn(SYSTEM_MESSAGES.legacyTxWarningMessage,{version:rpcspec_0_6_exports.ETransactionVersion.V1,type:rpcspec_0_6_exports.ETransactionType.DEPLOY_ACCOUNT})),this.waitMode?this.waitForTransaction((await em).transaction_hash):em}callContract(r,s=this.blockIdentifier){const sf=new Block(s).identifier;return this.fetchEndpoint("starknet_call",{request:{contract_address:r.contractAddress,entry_point_selector:getSelectorFromName(r.entrypoint),calldata:CallData.toHex(r.calldata)},block_id:sf})}estimateMessageFee(r,s=this.blockIdentifier){const{from_address:sf,to_address:Nf,entry_point_selector:ip,payload:em}=r,tm={from_address:validateAndParseEthAddress(sf),to_address:toHex(Nf),entry_point_selector:getSelector(ip),payload:getHexStringArray(em)},nm=new Block(s).identifier;return this.fetchEndpoint("starknet_estimateMessageFee",{message:tm,block_id:nm})}getSyncingStats(){return this.fetchEndpoint("starknet_syncing")}getEvents(r){return this.fetchEndpoint("starknet_getEvents",{filter:r})}buildTransaction(r,s){const sf=getVersionsByType(s);let Nf;if(isV3Tx(r)?Nf={signature:signatureToHexArray(r.signature),nonce:toHex(r.nonce),resource_bounds:r.resourceBounds,tip:toHex(r.tip),paymaster_data:r.paymasterData.map(ip=>toHex(ip)),nonce_data_availability_mode:r.nonceDataAvailabilityMode,fee_data_availability_mode:r.feeDataAvailabilityMode,account_deployment_data:r.accountDeploymentData.map(ip=>toHex(ip))}:(Nf={signature:signatureToHexArray(r.signature),nonce:toHex(r.nonce),max_fee:toHex(r.maxFee||0)},logger.warn(SYSTEM_MESSAGES.legacyTxWarningMessage,{version:r.version,type:r.type})),r.type===TransactionType.INVOKE)return{type:rpcspec_0_6_exports.ETransactionType.INVOKE,sender_address:r.contractAddress,calldata:CallData.toHex(r.calldata),version:toHex(r.version||sf.v3),...Nf};if(r.type===TransactionType.DECLARE)return isSierra(r.contract)?{type:r.type,contract_class:{...r.contract,sierra_program:decompressProgram(r.contract.sierra_program)},compiled_class_hash:r.compiledClassHash||"",sender_address:r.senderAddress,version:toHex(r.version||sf.v3),...Nf}:{type:r.type,contract_class:r.contract,sender_address:r.senderAddress,version:toHex(r.version||sf.v1),...Nf};if(r.type===TransactionType.DEPLOY_ACCOUNT){const{account_deployment_data:ip,...em}=Nf;return{type:r.type,constructor_calldata:CallData.toHex(r.constructorCalldata||[]),class_hash:toHex(r.classHash),contract_address_salt:toHex(r.addressSalt||0),version:toHex(r.version||sf.v3),...em}}throw Error("RPC buildTransaction received unknown TransactionType")}},rpc_0_7_exports={};__export(rpc_0_7_exports,{RpcChannel:()=>RpcChannel2});var defaultOptions2={headers:{"Content-Type":"application/json"},blockIdentifier:BlockTag.PENDING,retries:200},RpcChannel2=class{nodeUrl;headers;requestId;blockIdentifier;retries;waitMode;chainId;specVersion;transactionRetryIntervalFallback;batchClient;baseFetch;constructor(r){const{baseFetch:s,batch:sf,blockIdentifier:Nf,chainId:ip,headers:em,nodeUrl:tm,retries:nm,specVersion:rm,transactionRetryIntervalFallback:om,waitMode:im}=r||{};Object.values(NetworkName).includes(tm)?this.nodeUrl=getDefaultNodeUrl(tm,r?.default):tm?this.nodeUrl=tm:this.nodeUrl=getDefaultNodeUrl(void 0,r?.default),this.baseFetch=s??fetchPonyfill_default,this.blockIdentifier=Nf??defaultOptions2.blockIdentifier,this.chainId=ip,this.headers={...defaultOptions2.headers,...em},this.retries=nm??defaultOptions2.retries,this.specVersion=rm,this.transactionRetryIntervalFallback=om,this.waitMode=im??!1,this.requestId=0,typeof sf=="number"&&(this.batchClient=new BatchClient({nodeUrl:this.nodeUrl,headers:this.headers,interval:sf,baseFetch:this.baseFetch}))}get transactionRetryIntervalDefault(){return this.transactionRetryIntervalFallback??5e3}setChainId(r){this.chainId=r}fetch(r,s,sf=0){const Nf={id:sf,jsonrpc:"2.0",method:r,...s&&{params:s}};return this.baseFetch(this.nodeUrl,{method:"POST",body:stringify2(Nf),headers:this.headers})}errorHandler(r,s,sf,Nf){if(sf)throw new RpcError(sf,r,s);if(Nf instanceof LibraryError)throw Nf;if(Nf)throw Error(Nf.message)}async fetchEndpoint(r,s){try{if(this.batchClient){const{error:em,result:tm}=await this.batchClient.fetch(r,s,this.requestId+=1);return this.errorHandler(r,s,em),tm}const sf=await this.fetch(r,s,this.requestId+=1),{error:Nf,result:ip}=await sf.json();return this.errorHandler(r,s,Nf),ip}catch(sf){throw this.errorHandler(r,s,sf?.response?.data,sf),sf}}async getChainId(){return this.chainId??=await this.fetchEndpoint("starknet_chainId"),this.chainId}async getSpecVersion(){return this.specVersion??=await this.fetchEndpoint("starknet_specVersion"),this.specVersion}getNonceForAddress(r,s=this.blockIdentifier){const sf=toHex(r),Nf=new Block(s).identifier;return this.fetchEndpoint("starknet_getNonce",{contract_address:sf,block_id:Nf})}getBlockLatestAccepted(){return this.fetchEndpoint("starknet_blockHashAndNumber")}getBlockNumber(){return this.fetchEndpoint("starknet_blockNumber")}getBlockWithTxHashes(r=this.blockIdentifier){const s=new Block(r).identifier;return this.fetchEndpoint("starknet_getBlockWithTxHashes",{block_id:s})}getBlockWithTxs(r=this.blockIdentifier){const s=new Block(r).identifier;return this.fetchEndpoint("starknet_getBlockWithTxs",{block_id:s})}getBlockWithReceipts(r=this.blockIdentifier){const s=new Block(r).identifier;return this.fetchEndpoint("starknet_getBlockWithReceipts",{block_id:s})}getBlockStateUpdate(r=this.blockIdentifier){const s=new Block(r).identifier;return this.fetchEndpoint("starknet_getStateUpdate",{block_id:s})}getBlockTransactionsTraces(r=this.blockIdentifier){const s=new Block(r).identifier;return this.fetchEndpoint("starknet_traceBlockTransactions",{block_id:s})}getBlockTransactionCount(r=this.blockIdentifier){const s=new Block(r).identifier;return this.fetchEndpoint("starknet_getBlockTransactionCount",{block_id:s})}getTransactionByHash(r){const s=toHex(r);return this.fetchEndpoint("starknet_getTransactionByHash",{transaction_hash:s})}getTransactionByBlockIdAndIndex(r,s){const sf=new Block(r).identifier;return this.fetchEndpoint("starknet_getTransactionByBlockIdAndIndex",{block_id:sf,index:s})}getTransactionReceipt(r){const s=toHex(r);return this.fetchEndpoint("starknet_getTransactionReceipt",{transaction_hash:s})}getTransactionTrace(r){const s=toHex(r);return this.fetchEndpoint("starknet_traceTransaction",{transaction_hash:s})}getTransactionStatus(r){const s=toHex(r);return this.fetchEndpoint("starknet_getTransactionStatus",{transaction_hash:s})}simulateTransaction(r,s={}){const{blockIdentifier:sf=this.blockIdentifier,skipValidate:Nf=!0,skipFeeCharge:ip=!0}=s,em=new Block(sf).identifier,tm=[];return Nf&&tm.push(ESimulationFlag$1.SKIP_VALIDATE),ip&&tm.push(ESimulationFlag$1.SKIP_FEE_CHARGE),this.fetchEndpoint("starknet_simulateTransactions",{block_id:em,transactions:r.map(nm=>this.buildTransaction(nm)),simulation_flags:tm})}async waitForTransaction(r,s){const sf=toHex(r);let{retries:Nf}=this,ip=!1,em=!1;const tm=s?.retryInterval??this.transactionRetryIntervalDefault,nm=s?.errorStates??[ETransactionStatus$1.REJECTED],rm=s?.successStates??[ETransactionExecutionStatus$1.SUCCEEDED,ETransactionStatus$1.ACCEPTED_ON_L2,ETransactionStatus$1.ACCEPTED_ON_L1];let om;for(;!ip;){await wait(tm);try{om=await this.getTransactionStatus(sf);const am=om.execution_status,sm=om.finality_status;if(!sm)throw new Error("waiting for transaction status");if(nm.includes(am)||nm.includes(sm)){const cm=`${am}: ${sm}`,hm=new Error(cm);throw hm.response=om,em=!0,hm}else(rm.includes(am)||rm.includes(sm))&&(ip=!0)}catch(am){if(am instanceof Error&&em)throw am;if(Nf<=0)throw new Error(`waitForTransaction timed-out with retries ${this.retries}`)}Nf-=1}let im=null;for(;im===null;){try{im=await this.getTransactionReceipt(sf)}catch{if(Nf<=0)throw new Error(`waitForTransaction timed-out with retries ${this.retries}`)}Nf-=1,await wait(tm)}return im}getStorageAt(r,s,sf=this.blockIdentifier){const Nf=toHex(r),ip=toStorageKey(s),em=new Block(sf).identifier;return this.fetchEndpoint("starknet_getStorageAt",{contract_address:Nf,key:ip,block_id:em})}getClassHashAt(r,s=this.blockIdentifier){const sf=toHex(r),Nf=new Block(s).identifier;return this.fetchEndpoint("starknet_getClassHashAt",{block_id:Nf,contract_address:sf})}getClass(r,s=this.blockIdentifier){const sf=toHex(r),Nf=new Block(s).identifier;return this.fetchEndpoint("starknet_getClass",{class_hash:sf,block_id:Nf})}getClassAt(r,s=this.blockIdentifier){const sf=toHex(r),Nf=new Block(s).identifier;return this.fetchEndpoint("starknet_getClassAt",{block_id:Nf,contract_address:sf})}async getEstimateFee(r,{blockIdentifier:s=this.blockIdentifier,skipValidate:sf=!0}){const Nf=new Block(s).identifier;let ip={};return isVersion("0.5",await this.getSpecVersion())||(ip={simulation_flags:sf?[ESimulationFlag$1.SKIP_VALIDATE]:[]}),this.fetchEndpoint("starknet_estimateFee",{request:r.map(em=>this.buildTransaction(em,"fee")),block_id:Nf,...ip})}async invoke(r,s){let sf;return isV3Tx(s)?sf=this.fetchEndpoint("starknet_addInvokeTransaction",{invoke_transaction:{type:ETransactionType$1.INVOKE,sender_address:r.contractAddress,calldata:CallData.toHex(r.calldata),version:ETransactionVersion$1.V3,signature:signatureToHexArray(r.signature),nonce:toHex(s.nonce),resource_bounds:s.resourceBounds,tip:toHex(s.tip),paymaster_data:s.paymasterData.map(Nf=>toHex(Nf)),account_deployment_data:s.accountDeploymentData.map(Nf=>toHex(Nf)),nonce_data_availability_mode:s.nonceDataAvailabilityMode,fee_data_availability_mode:s.feeDataAvailabilityMode}}):(sf=this.fetchEndpoint("starknet_addInvokeTransaction",{invoke_transaction:{sender_address:r.contractAddress,calldata:CallData.toHex(r.calldata),type:ETransactionType$1.INVOKE,max_fee:toHex(s.maxFee||0),version:ETransactionVersion$1.V1,signature:signatureToHexArray(r.signature),nonce:toHex(s.nonce)}}),logger.warn(SYSTEM_MESSAGES.legacyTxWarningMessage,{version:ETransactionVersion$1.V1,type:ETransactionType$1.INVOKE})),this.waitMode?this.waitForTransaction((await sf).transaction_hash):sf}async declare({contract:r,signature:s,senderAddress:sf,compiledClassHash:Nf},ip){let em;if(!isSierra(r)&&!isV3Tx(ip))em=this.fetchEndpoint("starknet_addDeclareTransaction",{declare_transaction:{type:ETransactionType$1.DECLARE,contract_class:{program:r.program,entry_points_by_type:r.entry_points_by_type,abi:r.abi},version:ETransactionVersion$1.V1,max_fee:toHex(ip.maxFee||0),signature:signatureToHexArray(s),sender_address:sf,nonce:toHex(ip.nonce)}}),logger.warn(SYSTEM_MESSAGES.legacyTxWarningMessage,{version:ETransactionVersion$1.V1,type:ETransactionType$1.DECLARE});else if(isSierra(r)&&!isV3Tx(ip))em=this.fetchEndpoint("starknet_addDeclareTransaction",{declare_transaction:{type:ETransactionType$1.DECLARE,contract_class:{sierra_program:decompressProgram(r.sierra_program),contract_class_version:r.contract_class_version,entry_points_by_type:r.entry_points_by_type,abi:r.abi},compiled_class_hash:Nf||"",version:ETransactionVersion$1.V2,max_fee:toHex(ip.maxFee||0),signature:signatureToHexArray(s),sender_address:sf,nonce:toHex(ip.nonce)}}),logger.warn(SYSTEM_MESSAGES.legacyTxWarningMessage,{version:ETransactionVersion$1.V2,type:ETransactionType$1.DECLARE});else if(isSierra(r)&&isV3Tx(ip))em=this.fetchEndpoint("starknet_addDeclareTransaction",{declare_transaction:{type:ETransactionType$1.DECLARE,sender_address:sf,compiled_class_hash:Nf||"",version:ETransactionVersion$1.V3,signature:signatureToHexArray(s),nonce:toHex(ip.nonce),contract_class:{sierra_program:decompressProgram(r.sierra_program),contract_class_version:r.contract_class_version,entry_points_by_type:r.entry_points_by_type,abi:r.abi},resource_bounds:ip.resourceBounds,tip:toHex(ip.tip),paymaster_data:ip.paymasterData.map(tm=>toHex(tm)),account_deployment_data:ip.accountDeploymentData.map(tm=>toHex(tm)),nonce_data_availability_mode:ip.nonceDataAvailabilityMode,fee_data_availability_mode:ip.feeDataAvailabilityMode}});else throw Error("declare unspotted parameters");return this.waitMode?this.waitForTransaction((await em).transaction_hash):em}async deployAccount({classHash:r,constructorCalldata:s,addressSalt:sf,signature:Nf},ip){let em;return isV3Tx(ip)?em=this.fetchEndpoint("starknet_addDeployAccountTransaction",{deploy_account_transaction:{type:ETransactionType$1.DEPLOY_ACCOUNT,version:ETransactionVersion$1.V3,signature:signatureToHexArray(Nf),nonce:toHex(ip.nonce),contract_address_salt:toHex(sf||0),constructor_calldata:CallData.toHex(s||[]),class_hash:toHex(r),resource_bounds:ip.resourceBounds,tip:toHex(ip.tip),paymaster_data:ip.paymasterData.map(tm=>toHex(tm)),nonce_data_availability_mode:ip.nonceDataAvailabilityMode,fee_data_availability_mode:ip.feeDataAvailabilityMode}}):(em=this.fetchEndpoint("starknet_addDeployAccountTransaction",{deploy_account_transaction:{constructor_calldata:CallData.toHex(s||[]),class_hash:toHex(r),contract_address_salt:toHex(sf||0),type:ETransactionType$1.DEPLOY_ACCOUNT,max_fee:toHex(ip.maxFee||0),version:ETransactionVersion$1.V1,signature:signatureToHexArray(Nf),nonce:toHex(ip.nonce)}}),logger.warn(SYSTEM_MESSAGES.legacyTxWarningMessage,{version:ETransactionVersion$1.V1,type:ETransactionType$1.DEPLOY_ACCOUNT})),this.waitMode?this.waitForTransaction((await em).transaction_hash):em}callContract(r,s=this.blockIdentifier){const sf=new Block(s).identifier;return this.fetchEndpoint("starknet_call",{request:{contract_address:r.contractAddress,entry_point_selector:getSelectorFromName(r.entrypoint),calldata:CallData.toHex(r.calldata)},block_id:sf})}estimateMessageFee(r,s=this.blockIdentifier){const{from_address:sf,to_address:Nf,entry_point_selector:ip,payload:em}=r,tm={from_address:validateAndParseEthAddress(sf),to_address:toHex(Nf),entry_point_selector:getSelector(ip),payload:getHexStringArray(em)},nm=new Block(s).identifier;return this.fetchEndpoint("starknet_estimateMessageFee",{message:tm,block_id:nm})}getSyncingStats(){return this.fetchEndpoint("starknet_syncing")}getEvents(r){return this.fetchEndpoint("starknet_getEvents",{filter:r})}buildTransaction(r,s){const sf=getVersionsByType(s);let Nf;if(isV3Tx(r)?Nf={signature:signatureToHexArray(r.signature),nonce:toHex(r.nonce),resource_bounds:r.resourceBounds,tip:toHex(r.tip),paymaster_data:r.paymasterData.map(ip=>toHex(ip)),nonce_data_availability_mode:r.nonceDataAvailabilityMode,fee_data_availability_mode:r.feeDataAvailabilityMode,account_deployment_data:r.accountDeploymentData.map(ip=>toHex(ip))}:(Nf={signature:signatureToHexArray(r.signature),nonce:toHex(r.nonce),max_fee:toHex(r.maxFee||0)},logger.warn(SYSTEM_MESSAGES.legacyTxWarningMessage,{version:r.version,type:r.type})),r.type===TransactionType.INVOKE)return{type:ETransactionType$1.INVOKE,sender_address:r.contractAddress,calldata:CallData.toHex(r.calldata),version:toHex(r.version||sf.v3),...Nf};if(r.type===TransactionType.DECLARE)return isSierra(r.contract)?{type:r.type,contract_class:{...r.contract,sierra_program:decompressProgram(r.contract.sierra_program)},compiled_class_hash:r.compiledClassHash||"",sender_address:r.senderAddress,version:toHex(r.version||sf.v3),...Nf}:{type:r.type,contract_class:r.contract,sender_address:r.senderAddress,version:toHex(r.version||sf.v1),...Nf};if(r.type===TransactionType.DEPLOY_ACCOUNT){const{account_deployment_data:ip,...em}=Nf;return{type:r.type,constructor_calldata:CallData.toHex(r.constructorCalldata||[]),class_hash:toHex(r.classHash),contract_address_salt:toHex(r.addressSalt||0),version:toHex(r.version||sf.v3),...em}}throw Error("RPC buildTransaction received unknown TransactionType")}},RPCResponseParser=class{margin;constructor(r){this.margin=r}estimatedFeeToMaxFee(r){return estimatedFeeToMaxFee(r,this.margin?.maxFee)}estimateFeeToBounds(r){return estimateFeeToBounds(r,this.margin?.l1BoundMaxAmount,this.margin?.l1BoundMaxPricePerUnit)}parseGetBlockResponse(r){return{status:"PENDING",...r}}parseTransactionReceipt(r){return"actual_fee"in r&&isString(r.actual_fee)?{...r,actual_fee:{amount:r.actual_fee,unit:"FRI"}}:r}parseFeeEstimateResponse(r){const s=r[0];return{overall_fee:toBigInt(s.overall_fee),gas_consumed:toBigInt(s.gas_consumed),gas_price:toBigInt(s.gas_price),unit:s.unit,suggestedMaxFee:this.estimatedFeeToMaxFee(s.overall_fee),resourceBounds:this.estimateFeeToBounds(s),data_gas_consumed:s.data_gas_consumed?toBigInt(s.data_gas_consumed):0n,data_gas_price:s.data_gas_price?toBigInt(s.data_gas_price):0n}}parseFeeEstimateBulkResponse(r){return r.map(s=>({overall_fee:toBigInt(s.overall_fee),gas_consumed:toBigInt(s.gas_consumed),gas_price:toBigInt(s.gas_price),unit:s.unit,suggestedMaxFee:this.estimatedFeeToMaxFee(s.overall_fee),resourceBounds:this.estimateFeeToBounds(s),data_gas_consumed:s.data_gas_consumed?toBigInt(s.data_gas_consumed):0n,data_gas_price:s.data_gas_price?toBigInt(s.data_gas_price):0n}))}parseSimulateTransactionResponse(r){return r.map(s=>({...s,suggestedMaxFee:this.estimatedFeeToMaxFee(s.fee_estimation.overall_fee),resourceBounds:this.estimateFeeToBounds(s.fee_estimation)}))}parseContractClassResponse(r){return{...r,abi:isString(r.abi)?JSON.parse(r.abi):r.abi}}parseL1GasPriceResponse(r){return r.l1_gas_price.price_in_wei}},ReceiptTx=class sy{statusReceipt;value;constructor(s){[this.statusReceipt,this.value]=sy.isSuccess(s)?["success",s]:sy.isReverted(s)?["reverted",s]:sy.isRejected(s)?["rejected",s]:["error",new Error("Unknown response type")];for(const[sf]of Object.entries(this))Object.defineProperty(this,sf,{enumerable:!1});for(const[sf,Nf]of Object.entries(s))Object.defineProperty(this,sf,{enumerable:!0,writable:!1,value:Nf})}match(s){return this.statusReceipt in s?s[this.statusReceipt](this.value):s._()}isSuccess(){return this.statusReceipt==="success"}isReverted(){return this.statusReceipt==="reverted"}isRejected(){return this.statusReceipt==="rejected"}isError(){return this.statusReceipt==="error"}static isSuccess(s){return s.execution_status===TransactionExecutionStatus.SUCCEEDED}static isReverted(s){return s.execution_status===TransactionExecutionStatus.REVERTED}static isRejected(s){return s.status===TransactionExecutionStatus.REJECTED}},typedData_exports={};__export(typedData_exports,{TypedDataRevision:()=>TypedDataRevision,encodeData:()=>encodeData,encodeType:()=>encodeType,encodeValue:()=>encodeValue,getDependencies:()=>getDependencies,getMessageHash:()=>getMessageHash,getStructHash:()=>getStructHash,getTypeHash:()=>getTypeHash,isMerkleTreeType:()=>isMerkleTreeType,prepareSelector:()=>prepareSelector,validateTypedData:()=>validateTypedData,verifyMessage:()=>verifyMessage});var merkle_exports={};__export(merkle_exports,{MerkleTree:()=>MerkleTree,proofMerklePath:()=>proofMerklePath});var MerkleTree=class cy{leaves;branches=[];root;hashMethod;constructor(s,sf=computePedersenHash){this.hashMethod=sf,this.leaves=s,this.root=this.build(s)}build(s){if(s.length===1)return s[0];s.length!==this.leaves.length&&this.branches.push(s);const sf=[];for(let Nf=0;Nf<s.length;Nf+=2)Nf+1===s.length?sf.push(cy.hash(s[Nf],"0x0",this.hashMethod)):sf.push(cy.hash(s[Nf],s[Nf+1],this.hashMethod));return this.build(sf)}static hash(s,sf,Nf=computePedersenHash){const[ip,em]=[BigInt(s),BigInt(sf)].sort((tm,nm)=>tm>=nm?1:-1);return Nf(ip,em)}getProof(s,sf=this.leaves,Nf=[]){const ip=sf.indexOf(s);if(ip===-1)throw new Error("leaf not found");if(sf.length===1)return Nf;const em=ip%2===0,tm=(em?sf[ip+1]:sf[ip-1])??"0x0",nm=[...Nf,tm],rm=this.leaves.length===sf.length?-1:this.branches.findIndex(im=>im.length===sf.length),om=this.branches[rm+1]??[this.root];return this.getProof(cy.hash(em?s:tm,em?tm:s,this.hashMethod),om,nm)}};function proofMerklePath(r,s,sf,Nf=computePedersenHash){if(sf.length===0)return r===s;const[ip,...em]=sf;return proofMerklePath(r,MerkleTree.hash(s,ip,Nf),em,Nf)}var presetTypes={u256:JSON.parse('[{ "name": "low", "type": "u128" }, { "name": "high", "type": "u128" }]'),TokenAmount:JSON.parse('[{ "name": "token_address", "type": "ContractAddress" }, { "name": "amount", "type": "u256" }]'),NftId:JSON.parse('[{ "name": "collection_address", "type": "ContractAddress" }, { "name": "token_id", "type": "u256" }]')},revisionConfiguration={[TypedDataRevision.ACTIVE]:{domain:"StarknetDomain",hashMethod:computePoseidonHashOnElements,hashMerkleMethod:computePoseidonHash,escapeTypeString:r=>`"${r}"`,presetTypes},[TypedDataRevision.LEGACY]:{domain:"StarkNetDomain",hashMethod:computePedersenHashOnElements,hashMerkleMethod:computePedersenHash,escapeTypeString:r=>r,presetTypes:{}}};function assertRange(r,s,{min:sf,max:Nf}){const ip=BigInt(r);assert$4(ip>=sf&&ip<=Nf,`${ip} (${s}) is out of bounds [${sf}, ${Nf}]`)}function identifyRevision({types:r,domain:s}){if(revisionConfiguration[TypedDataRevision.ACTIVE].domain in r&&s.revision===TypedDataRevision.ACTIVE)return TypedDataRevision.ACTIVE;if(revisionConfiguration[TypedDataRevision.LEGACY].domain in r&&(s.revision??TypedDataRevision.LEGACY)===TypedDataRevision.LEGACY)return TypedDataRevision.LEGACY}function getHex(r){try{return toHex(r)}catch{if(isString(r))return toHex(encodeShortString(r));throw new Error(`Invalid BigNumberish: ${r}`)}}function validateTypedData(r){const s=r;return!!(s.message&&s.primaryType&&s.types&&identifyRevision(s))}function prepareSelector(r){return isHex(r)?r:getSelectorFromName(r)}function isMerkleTreeType(r){return r.type==="merkletree"}function getDependencies(r,s,sf=[],Nf="",ip=TypedDataRevision.LEGACY){let em=[s];return s[s.length-1]==="*"?em=[s.slice(0,-1)]:ip===TypedDataRevision.ACTIVE&&(s==="enum"?em=[Nf]:s.match(/^\(.*\)$/)&&(em=s.slice(1,-1).split(",").map(tm=>tm[tm.length-1]==="*"?tm.slice(0,-1):tm))),em.filter(tm=>!sf.includes(tm)&&r[tm]).reduce((tm,nm)=>[...tm,...[nm,...r[nm].reduce((rm,om)=>[...rm,...getDependencies(r,om.type,rm,om.contains,ip).filter(im=>!rm.includes(im))],[])].filter(rm=>!tm.includes(rm))],[])}function getMerkleTreeType(r,s){if(s.parent&&s.key){const Nf=r[s.parent].find(em=>em.name===s.key);if(!isMerkleTreeType(Nf))throw new Error(`${s.key} is not a merkle tree`);if(Nf.contains.endsWith("*"))throw new Error(`Merkle tree contain property must not be an array but was given ${s.key}`);return Nf.contains}return"raw"}function encodeType(r,s,sf=TypedDataRevision.LEGACY){const Nf=sf===TypedDataRevision.ACTIVE?{...r,...revisionConfiguration[sf].presetTypes}:r,[ip,...em]=getDependencies(Nf,s,void 0,void 0,sf),tm=ip?[ip,...em.sort()]:[],nm=revisionConfiguration[sf].escapeTypeString;return tm.map(rm=>{const om=Nf[rm].map(im=>{const am=im.type==="enum"&&sf===TypedDataRevision.ACTIVE?im.contains:im.type,sm=am.match(/^\(.*\)$/)?`(${am.slice(1,-1).split(",").map(cm=>cm&&nm(cm)).join(",")})`:nm(am);return`${nm(im.name)}:${sm}`});return`${nm(rm)}(${om})`}).join("")}function getTypeHash(r,s,sf=TypedDataRevision.LEGACY){return getSelectorFromName(encodeType(r,s,sf))}function encodeValue(r,s,sf,Nf={},ip=TypedDataRevision.LEGACY){if(r[s])return[s,getStructHash(r,s,sf,ip)];if(revisionConfiguration[ip].presetTypes[s])return[s,getStructHash(revisionConfiguration[ip].presetTypes,s,sf,ip)];if(s.endsWith("*")){const em=sf.map(tm=>encodeValue(r,s.slice(0,-1),tm,void 0,ip)[1]);return[s,revisionConfiguration[ip].hashMethod(em)]}switch(s){case"enum":{if(ip===TypedDataRevision.ACTIVE){const[em,tm]=Object.entries(sf)[0],nm=r[Nf.parent].find(sm=>sm.name===Nf.key),rm=r[nm.contains],om=rm.find(sm=>sm.name===em),im=rm.indexOf(om),am=om.type.slice(1,-1).split(",").map((sm,cm)=>{if(!sm)return sm;const hm=tm[cm];return encodeValue(r,sm,hm,void 0,ip)[1]});return[s,revisionConfiguration[ip].hashMethod([im,...am])]}return[s,getHex(sf)]}case"merkletree":{const em=getMerkleTreeType(r,Nf),tm=sf.map(rm=>encodeValue(r,em,rm,void 0,ip)[1]),{root:nm}=new MerkleTree(tm,revisionConfiguration[ip].hashMerkleMethod);return["felt",nm]}case"selector":return["felt",prepareSelector(sf)];case"string":{if(ip===TypedDataRevision.ACTIVE){const em=byteArrayFromString(sf),tm=[em.data.length,...em.data,em.pending_word,em.pending_word_len];return[s,revisionConfiguration[ip].hashMethod(tm)]}return[s,getHex(sf)]}case"i128":{if(ip===TypedDataRevision.ACTIVE){const em=BigInt(sf);return assertRange(em,s,RANGE_I128),[s,getHex(em<0n?PRIME+em:em)]}return[s,getHex(sf)]}case"timestamp":case"u128":return ip===TypedDataRevision.ACTIVE&&assertRange(sf,s,RANGE_U128),[s,getHex(sf)];case"felt":case"shortstring":return ip===TypedDataRevision.ACTIVE&&assertRange(getHex(sf),s,RANGE_FELT),[s,getHex(sf)];case"ClassHash":case"ContractAddress":return ip===TypedDataRevision.ACTIVE&&assertRange(sf,s,RANGE_FELT),[s,getHex(sf)];case"bool":return ip===TypedDataRevision.ACTIVE&&assert$4(isBoolean(sf),`Type mismatch for ${s} ${sf}`),[s,getHex(sf)];default:{if(ip===TypedDataRevision.ACTIVE)throw new Error(`Unsupported type: ${s}`);return[s,getHex(sf)]}}}function encodeData(r,s,sf,Nf=TypedDataRevision.LEGACY){const ip=r[s]??revisionConfiguration[Nf].presetTypes[s],[em,tm]=ip.reduce(([nm,rm],om)=>{if(sf[om.name]===void 0||sf[om.name]===null&&om.type!=="enum")throw new Error(`Cannot encode data: missing data for '${om.name}'`);const im=sf[om.name],am={parent:s,key:om.name},[sm,cm]=encodeValue(r,om.type,im,am,Nf);return[[...nm,sm],[...rm,cm]]},[["felt"],[getTypeHash(r,s,Nf)]]);return[em,tm]}function getStructHash(r,s,sf,Nf=TypedDataRevision.LEGACY){return revisionConfiguration[Nf].hashMethod(encodeData(r,s,sf,Nf)[1])}function getMessageHash(r,s){if(!validateTypedData(r))throw new Error("Typed data does not match JSON schema");const sf=identifyRevision(r),{domain:Nf,hashMethod:ip}=revisionConfiguration[sf],em=[encodeShortString("StarkNet Message"),getStructHash(r.types,Nf,r.domain,sf),s,getStructHash(r.types,r.primaryType,r.message,sf)];return ip(em)}function verifyMessage(r,s,sf,Nf){const ip=validateTypedData(r);if(!isBigNumberish(r)&&!ip)throw new Error("message has a wrong format.");if(ip&&Nf===void 0)throw new Error("When providing a TypedData in message parameter, the accountAddress parameter has to be provided.");if(ip&&!isBigNumberish(Nf))throw new Error("accountAddress shall be a BigNumberish");const em=ip?getMessageHash(r,Nf):toHex(r),tm=Array.isArray(s)?new Signature$1(BigInt(s[0]),BigInt(s[1])):s,nm=toHex(sf);return verify$1(tm,em,nm)}var RpcProvider=class{responseParser;channel;constructor(r){r&&"channel"in r?(this.channel=r.channel,this.responseParser="responseParser"in r?r.responseParser:new RPCResponseParser):(this.channel=new RpcChannel2({...r,waitMode:!1}),this.responseParser=new RPCResponseParser(r?.feeMarginPercentage))}fetch(r,s,sf=0){return this.channel.fetch(r,s,sf)}async getChainId(){return this.channel.getChainId()}async getSpecVersion(){return this.channel.getSpecVersion()}async getNonceForAddress(r,s){return this.channel.getNonceForAddress(r,s)}async getBlock(r){return this.channel.getBlockWithTxHashes(r).then(this.responseParser.parseGetBlockResponse)}async getBlockLatestAccepted(){return this.channel.getBlockLatestAccepted()}async getBlockNumber(){return this.channel.getBlockNumber()}async getBlockWithTxHashes(r){return this.channel.getBlockWithTxHashes(r)}async getBlockWithTxs(r){return this.channel.getBlockWithTxs(r)}async waitForBlock(r="pending",s=5e3){if(r===BlockTag.LATEST)return;const sf=await this.getBlockNumber(),Nf=r===BlockTag.PENDING?sf+1:Number(toHex(r));if(Nf<=sf)return;const{retries:ip}=this.channel;let em=ip,tm=!1;for(;!tm;)if(await this.getBlockNumber()===Nf?tm=!0:await wait(s),em-=1,em<=0)throw new Error(`waitForBlock() timed-out after ${ip} tries.`)}async getL1GasPrice(r){return this.channel.getBlockWithTxHashes(r).then(this.responseParser.parseL1GasPriceResponse)}async getL1MessageHash(r){const s=await this.channel.getTransactionByHash(r);assert$4(s.type==="L1_HANDLER","This L2 transaction is not a L1 message.");const{calldata:sf,contract_address:Nf,entry_point_selector:ip,nonce:em}=s,tm=[sf[0],Nf,em,ip,sf.length-1,...sf.slice(1)];return solidityUint256PackedKeccak256(tm)}async getBlockWithReceipts(r){if(this.channel instanceof rpc_0_6_exports.RpcChannel)throw new LibraryError("Unsupported method for RPC version");return this.channel.getBlockWithReceipts(r)}getStateUpdate=this.getBlockStateUpdate;async getBlockStateUpdate(r){return this.channel.getBlockStateUpdate(r)}async getBlockTransactionsTraces(r){return this.channel.getBlockTransactionsTraces(r)}async getBlockTransactionCount(r){return this.channel.getBlockTransactionCount(r)}async getPendingTransactions(){const{transactions:r}=await this.getBlockWithTxHashes(BlockTag.PENDING).then(this.responseParser.parseGetBlockResponse);return Promise.all(r.map(s=>this.getTransactionByHash(s)))}async getTransaction(r){return this.channel.getTransactionByHash(r)}async getTransactionByHash(r){return this.channel.getTransactionByHash(r)}async getTransactionByBlockIdAndIndex(r,s){return this.channel.getTransactionByBlockIdAndIndex(r,s)}async getTransactionReceipt(r){const s=await this.channel.getTransactionReceipt(r),sf=this.responseParser.parseTransactionReceipt(s);return new ReceiptTx(sf)}async getTransactionTrace(r){return this.channel.getTransactionTrace(r)}async getTransactionStatus(r){return this.channel.getTransactionStatus(r)}async getSimulateTransaction(r,s){return this.channel.simulateTransaction(r,s).then(sf=>this.responseParser.parseSimulateTransactionResponse(sf))}async waitForTransaction(r,s){const sf=await this.channel.waitForTransaction(r,s);return new ReceiptTx(sf)}async getStorageAt(r,s,sf){return this.channel.getStorageAt(r,s,sf)}async getClassHashAt(r,s){return this.channel.getClassHashAt(r,s)}async getClassByHash(r){return this.getClass(r)}async getClass(r,s){return this.channel.getClass(r,s).then(this.responseParser.parseContractClassResponse)}async getClassAt(r,s){return this.channel.getClassAt(r,s).then(this.responseParser.parseContractClassResponse)}async getContractVersion(r,s,{blockIdentifier:sf=this.channel.blockIdentifier,compiler:Nf=!0}={}){let ip;if(r)ip=await this.getClassAt(r,sf);else if(s)ip=await this.getClass(s,sf);else throw Error("getContractVersion require contractAddress or classHash");return isSierra(ip)?Nf?{cairo:"1",compiler:getAbiContractVersion(ip.abi).compiler}:{cairo:"1",compiler:void 0}:{cairo:"0",compiler:"0"}}async getEstimateFee(r,s,sf,Nf){return this.getInvokeEstimateFee(r,s,sf,Nf)}async getInvokeEstimateFee(r,s,sf,Nf){return this.channel.getEstimateFee([{type:TransactionType.INVOKE,...r,...s}],{blockIdentifier:sf,skipValidate:Nf}).then(ip=>this.responseParser.parseFeeEstimateResponse(ip))}async getDeclareEstimateFee(r,s,sf,Nf){return this.channel.getEstimateFee([{type:TransactionType.DECLARE,...r,...s}],{blockIdentifier:sf,skipValidate:Nf}).then(ip=>this.responseParser.parseFeeEstimateResponse(ip))}async getDeployAccountEstimateFee(r,s,sf,Nf){return this.channel.getEstimateFee([{type:TransactionType.DEPLOY_ACCOUNT,...r,...s}],{blockIdentifier:sf,skipValidate:Nf}).then(ip=>this.responseParser.parseFeeEstimateResponse(ip))}async getEstimateFeeBulk(r,s){return this.channel.getEstimateFee(r,s).then(sf=>this.responseParser.parseFeeEstimateBulkResponse(sf))}async invokeFunction(r,s){return this.channel.invoke(r,s)}async declareContract(r,s){return this.channel.declare(r,s)}async deployAccountContract(r,s){return this.channel.deployAccount(r,s)}async callContract(r,s){return this.channel.callContract(r,s)}async estimateMessageFee(r,s){return this.channel.estimateMessageFee(r,s)}async getSyncingStats(){return this.channel.getSyncingStats()}async getEvents(r){return this.channel.getEvents(r)}async verifyMessageInStarknet(r,s,sf,Nf,ip){const em=validateTypedData(r);if(!isBigNumberish(r)&&!em)throw new Error("message has a wrong format.");if(!isBigNumberish(sf))throw new Error("accountAddress shall be a BigNumberish");const tm=em?getMessageHash(r,sf):toHex(r),nm=Nf?[Nf]:["isValidSignature","is_valid_signature"],rm=ip||{okResponse:[],nokResponse:["0x0","0x00"],error:["argent/invalid-signature","is invalid, with respect to the public key","INVALID_SIG"]};let om;for(const im of nm)try{const am=await this.callContract({contractAddress:toHex(sf),entrypoint:im,calldata:CallData.compile({hash:toBigInt(tm).toString(),signature:formatSignature(s)})});if(rm.nokResponse.includes(am[0].toString()))return!1;if(rm.okResponse.length===0||rm.okResponse.includes(am[0].toString()))return!0;throw Error("signatureVerificationResponse Error: response is not part of known responses")}catch(am){if(rm.error.some(sm=>am.message.includes(sm)))return!1;om=am}throw Error(`Signature verification Error: ${om}`)}async isClassDeclared(r,s){let sf;if(!r.classHash&&"contract"in r)sf=extractContractHashes(r).classHash;else if(r.classHash)sf=r.classHash;else throw Error("contractClassIdentifier type not satisfied");try{return await this.getClass(sf,s) instanceof Object}catch(Nf){if(Nf instanceof LibraryError)return!1;throw Nf}}async prepareInvocations(r){const s=[];for(const sf of r)sf.type===TransactionType.DECLARE?await this.isClassDeclared("payload"in sf?sf.payload:sf)||s.unshift(sf):s.push(sf);return s}},starknetId_exports={};__export(starknetId_exports,{StarknetIdContract:()=>StarknetIdContract,StarknetIdIdentityContract:()=>StarknetIdIdentityContract,StarknetIdMulticallContract:()=>StarknetIdMulticallContract,StarknetIdPfpContract:()=>StarknetIdPfpContract,StarknetIdPopContract:()=>StarknetIdPopContract,StarknetIdVerifierContract:()=>StarknetIdVerifierContract,dynamicCallData:()=>dynamicCallData,dynamicFelt:()=>dynamicFelt,execution:()=>execution,getStarknetIdContract:()=>getStarknetIdContract,getStarknetIdIdentityContract:()=>getStarknetIdIdentityContract,getStarknetIdMulticallContract:()=>getStarknetIdMulticallContract,getStarknetIdPfpContract:()=>getStarknetIdPfpContract,getStarknetIdPopContract:()=>getStarknetIdPopContract,getStarknetIdVerifierContract:()=>getStarknetIdVerifierContract,isStarkDomain:()=>isStarkDomain,useDecoded:()=>useDecoded,useEncoded:()=>useEncoded});var basicAlphabet="abcdefghijklmnopqrstuvwxyz0123456789-",basicSizePlusOne=BigInt(basicAlphabet.length+1),bigAlphabet="",basicAlphabetSize=BigInt(basicAlphabet.length),bigAlphabetSize=BigInt(bigAlphabet.length),bigAlphabetSizePlusOne=BigInt(bigAlphabet.length+1);function extractStars(r){let s=0;for(;r.endsWith(bigAlphabet[bigAlphabet.length-1]);)r=r.substring(0,r.length-1),s+=1;return[r,s]}function useDecoded(r){let s="";return r.forEach(sf=>{for(;sf!==ZERO;){const em=sf%basicSizePlusOne;if(sf/=basicSizePlusOne,em===BigInt(basicAlphabet.length)){const tm=sf/bigAlphabetSizePlusOne;if(tm===ZERO){const nm=sf%bigAlphabetSizePlusOne;sf=tm,nm===ZERO?s+=basicAlphabet[0]:s+=bigAlphabet[Number(nm)-1]}else{const nm=sf%bigAlphabetSize;s+=bigAlphabet[Number(nm)],sf/=bigAlphabetSize}}else s+=basicAlphabet[Number(em)]}const[Nf,ip]=extractStars(s);ip&&(s=Nf+(ip%2===0?bigAlphabet[bigAlphabet.length-1].repeat(ip/2-1)+bigAlphabet[0]+basicAlphabet[1]:bigAlphabet[bigAlphabet.length-1].repeat((ip-1)/2+1))),s+="."}),s&&s.concat("stark")}function useEncoded(r){let s=BigInt(0),sf=BigInt(1);if(r.endsWith(bigAlphabet[0]+basicAlphabet[1])){const[Nf,ip]=extractStars(r.substring(0,r.length-2));r=Nf+bigAlphabet[bigAlphabet.length-1].repeat(2*(ip+1))}else{const[Nf,ip]=extractStars(r);ip&&(r=Nf+bigAlphabet[bigAlphabet.length-1].repeat(1+2*(ip-1)))}for(let Nf=0;Nf<r.length;Nf+=1){const ip=r[Nf],em=basicAlphabet.indexOf(ip),tm=BigInt(basicAlphabet.indexOf(ip));if(em!==-1)Nf===r.length-1&&r[Nf]===basicAlphabet[0]?(s+=sf*basicAlphabetSize,sf*=basicSizePlusOne,sf*=basicSizePlusOne):(s+=sf*tm,sf*=basicSizePlusOne);else if(bigAlphabet.indexOf(ip)!==-1){s+=sf*basicAlphabetSize,sf*=basicSizePlusOne;const nm=(Nf===r.length-1?1:0)+bigAlphabet.indexOf(ip);s+=sf*BigInt(nm),sf*=bigAlphabetSize}}return s}var StarknetIdContract={MAINNET:"0x6ac597f8116f886fa1c97a23fa4e08299975ecaf6b598873ca6792b9bbfb678",TESTNET_SEPOLIA:"0x154bc2e1af9260b9e66af0e9c46fc757ff893b3ff6a85718a810baf1474"};function getStarknetIdContract(r){switch(r){case"0x534e5f4d41494e":return StarknetIdContract.MAINNET;case"0x534e5f5345504f4c4941":return StarknetIdContract.TESTNET_SEPOLIA;default:throw new Error("Starknet.id is not yet deployed on this network")}}var StarknetIdIdentityContract={MAINNET:"0x05dbdedc203e92749e2e746e2d40a768d966bd243df04a6b712e222bc040a9af",TESTNET_SEPOLIA:"0x3697660a0981d734780731949ecb2b4a38d6a58fc41629ed611e8defda"};function getStarknetIdIdentityContract(r){switch(r){case"0x534e5f4d41494e":return StarknetIdIdentityContract.MAINNET;case"0x534e5f5345504f4c4941":return StarknetIdIdentityContract.TESTNET_SEPOLIA;default:throw new Error("Starknet.id verifier contract is not yet deployed on this network")}}var StarknetIdMulticallContract="0x034ffb8f4452df7a613a0210824d6414dbadcddce6c6e19bf4ddc9e22ce5f970";function getStarknetIdMulticallContract(r){switch(r){case"0x534e5f4d41494e":return StarknetIdMulticallContract;case"0x534e5f5345504f4c4941":return StarknetIdMulticallContract;default:throw new Error("Starknet.id multicall contract is not yet deployed on this network")}}var StarknetIdVerifierContract={MAINNET:"0x07d14dfd8ee95b41fce179170d88ba1f0d5a512e13aeb232f19cfeec0a88f8bf",TESTNET_SEPOLIA:"0x60B94fEDe525f815AE5E8377A463e121C787cCCf3a36358Aa9B18c12c4D566"};function getStarknetIdVerifierContract(r){switch(r){case"0x534e5f4d41494e":return StarknetIdVerifierContract.MAINNET;case"0x534e5f5345504f4c4941":return StarknetIdVerifierContract.TESTNET_SEPOLIA;default:throw new Error("Starknet.id verifier contract is not yet deployed on this network")}}var StarknetIdPfpContract={MAINNET:"0x070aaa20ec4a46da57c932d9fd89ca5e6bb9ca3188d3df361a32306aff7d59c7",TESTNET_SEPOLIA:"0x9e7bdb8dabd02ea8cfc23b1d1c5278e46490f193f87516ed5ff2dfec02"};function getStarknetIdPfpContract(r){switch(r){case"0x534e5f4d41494e":return StarknetIdPfpContract.MAINNET;case"0x534e5f5345504f4c4941":return StarknetIdPfpContract.TESTNET_SEPOLIA;default:throw new Error("Starknet.id profile picture verifier contract is not yet deployed on this network")}}var StarknetIdPopContract={MAINNET:"0x0293eb2ba9862f762bd3036586d5755a782bd22e6f5028320f1d0405fd47bff4",TESTNET_SEPOLIA:"0x15ae88ae054caa74090b89025c1595683f12edf7a4ed2ad0274de3e1d4a"};function getStarknetIdPopContract(r){switch(r){case"0x534e5f4d41494e":return StarknetIdPopContract.MAINNET;case"0x534e5f5345504f4c4941":return StarknetIdPopContract.TESTNET_SEPOLIA;default:throw new Error("Starknet.id proof of personhood verifier contract is not yet deployed on this network")}}function execution(r,s=void 0,sf=void 0){return new CairoCustomEnum({Static:r,IfEqual:s?tuple$1(s[0],s[1],s[2]):void 0,IfNotEqual:sf?tuple$1(sf[0],sf[1],sf[2]):void 0})}function dynamicFelt(r,s=void 0){return new CairoCustomEnum({Hardcoded:r,Reference:s?tuple$1(s[0],s[1]):void 0})}function dynamicCallData(r,s=void 0,sf=void 0){return new CairoCustomEnum({Hardcoded:r,Reference:s?tuple$1(s[0],s[1]):void 0,ArrayReference:sf?tuple$1(sf[0],sf[1]):void 0})}function isStarkDomain(r){return/^(?:[a-z0-9-]{1,48}(?:[a-z0-9-]{1,48}[a-z0-9-])?\.)*[a-z0-9-]{1,48}\.stark$/.test(r)}let StarknetId;StarknetId=class ly{async getStarkName(s,sf){return ly.getStarkName(this,s,sf)}async getAddressFromStarkName(s,sf){return ly.getAddressFromStarkName(this,s,sf)}async getStarkProfile(s,sf,Nf,ip,em,tm,nm){return ly.getStarkProfile(this,s,sf,Nf,ip,em,tm,nm)}static async getStarkName(s,sf,Nf){const ip=await s.getChainId(),em=Nf??getStarknetIdContract(ip);try{const nm=(await s.callContract({contractAddress:em,entrypoint:"address_to_domain",calldata:CallData.compile({address:sf,hint:[]})})).map(om=>BigInt(om)).slice(1),rm=useDecoded(nm);if(!rm)throw Error("Starkname not found");return rm}catch(tm){throw tm instanceof Error&&tm.message==="Starkname not found"?tm:Error("Could not get stark name")}}static async getAddressFromStarkName(s,sf,Nf){const ip=sf.endsWith(".stark")?sf:`${sf}.stark`;if(!isStarkDomain(ip))throw new Error("Invalid domain, must be a valid .stark domain");const em=await s.getChainId(),tm=Nf??getStarknetIdContract(em);try{const nm=ip.replace(".stark","").split(".").map(om=>useEncoded(om).toString(10));return(await s.callContract({contractAddress:tm,entrypoint:"domain_to_address",calldata:CallData.compile({domain:nm,hint:[]})}))[0]}catch{throw Error("Could not get address from stark name")}}static async getStarkProfile(s,sf,Nf,ip,em,tm,nm,rm){const om=await s.getChainId(),im=Nf??getStarknetIdContract(om),am=ip??getStarknetIdIdentityContract(om),sm=em??getStarknetIdVerifierContract(om),cm=tm??getStarknetIdPfpContract(om),hm=nm??getStarknetIdPopContract(om),fm=rm??getStarknetIdMulticallContract(om);try{const pm=[{execution:execution({}),to:dynamicCallData(im),selector:dynamicCallData(getSelectorFromName("address_to_domain")),calldata:[dynamicCallData(sf),dynamicCallData("0")]},{execution:execution({}),to:dynamicFelt(im),selector:dynamicFelt(getSelectorFromName("domain_to_id")),calldata:[dynamicCallData(void 0,void 0,[0,0])]},{execution:execution({}),to:dynamicFelt(am),selector:dynamicFelt(getSelectorFromName("get_verifier_data")),calldata:[dynamicCallData(void 0,[1,0]),dynamicCallData(encodeShortString("twitter")),dynamicCallData(sm),dynamicCallData("0")]},{execution:execution({}),to:dynamicFelt(am),selector:dynamicFelt(getSelectorFromName("get_verifier_data")),calldata:[dynamicCallData(void 0,[1,0]),dynamicCallData(encodeShortString("github")),dynamicCallData(sm),dynamicCallData("0")]},{execution:execution({}),to:dynamicFelt(am),selector:dynamicFelt(getSelectorFromName("get_verifier_data")),calldata:[dynamicCallData(void 0,[1,0]),dynamicCallData(encodeShortString("discord")),dynamicCallData(sm),dynamicCallData("0")]},{execution:execution({}),to:dynamicFelt(am),selector:dynamicFelt(getSelectorFromName("get_verifier_data")),calldata:[dynamicCallData(void 0,[1,0]),dynamicCallData(encodeShortString("proof_of_personhood")),dynamicCallData(hm),dynamicCallData("0")]},{execution:execution({}),to:dynamicFelt(am),selector:dynamicFelt(getSelectorFromName("get_verifier_data")),calldata:[dynamicCallData(void 0,[1,0]),dynamicCallData(encodeShortString("nft_pp_contract")),dynamicCallData(cm),dynamicCallData("0")]},{execution:execution({}),to:dynamicFelt(am),selector:dynamicFelt(getSelectorFromName("get_extended_verifier_data")),calldata:[dynamicCallData(void 0,[1,0]),dynamicCallData(encodeShortString("nft_pp_id")),dynamicCallData("2"),dynamicCallData(cm),dynamicCallData("0")]},{execution:execution(void 0,void 0,[6,0,0]),to:dynamicFelt(void 0,[6,0]),selector:dynamicFelt(getSelectorFromName("tokenURI")),calldata:[dynamicCallData(void 0,[7,1]),dynamicCallData(void 0,[7,2])]}],mm=await s.callContract({contractAddress:fm,entrypoint:"aggregate",calldata:CallData.compile({calls:pm})});if(Array.isArray(mm)){const _m=parseInt(mm[0],16),ym=[];let Sm=1;for(let Lm=0;Lm<_m&&Sm<mm.length;Lm+=1){const Im=parseInt(mm[Sm],16);Sm+=1;const dm=mm.slice(Sm,Sm+Im);ym.push(dm),Sm+=Im}const jm=useDecoded(ym[0].slice(1).map(Lm=>BigInt(Lm))),Pm=ym[2][0]!=="0x0"?BigInt(ym[2][0]).toString():void 0,Bm=ym[3][0]!=="0x0"?BigInt(ym[3][0]).toString():void 0,qm=ym[4][0]!=="0x0"?BigInt(ym[4][0]).toString():void 0,Rm=ym[5][0]==="0x1",Um=(mm[0]==="0x9"?ym[8].slice(1).map(Lm=>decodeShortString(Lm)).join(""):void 0)||`https://starknet.id/api/identicons/${BigInt(ym[1][0]).toString()}`;return{name:jm,twitter:Pm,github:Bm,discord:qm,proofOfPersonhood:Rm,profilePicture:Um}}throw Error("Error while calling aggregate function")}catch(pm){throw pm instanceof Error?pm:Error("Could not get user stark profile data from address")}}};RpcProvider2=class extends Mixin(RpcProvider,StarknetId){};new RpcProvider({default:!0});var Signer=class{pk;constructor(r=utils.randomPrivateKey()){this.pk=r instanceof Uint8Array?buf2hex(r):toHex(r)}async getPubKey(){return getStarkKey(this.pk)}async signMessage(r,s){const sf=getMessageHash(r,s);return this.signRaw(sf)}async signTransaction(r,s){const sf=getExecuteCalldata(r,s.cairoVersion);let Nf;if(Object.values(api_exports.ETransactionVersion2).includes(s.version)){const ip=s;Nf=calculateInvokeTransactionHash2({...ip,senderAddress:ip.walletAddress,compiledCalldata:sf,version:ip.version})}else if(Object.values(api_exports.ETransactionVersion3).includes(s.version)){const ip=s;Nf=calculateInvokeTransactionHash2({...ip,senderAddress:ip.walletAddress,compiledCalldata:sf,version:ip.version,nonceDataAvailabilityMode:intDAM(ip.nonceDataAvailabilityMode),feeDataAvailabilityMode:intDAM(ip.feeDataAvailabilityMode)})}else throw Error("unsupported signTransaction version");return this.signRaw(Nf)}async signDeployAccountTransaction(r){const s=CallData.compile(r.constructorCalldata);let sf;if(Object.values(api_exports.ETransactionVersion2).includes(r.version)){const Nf=r;sf=calculateDeployAccountTransactionHash3({...Nf,salt:Nf.addressSalt,constructorCalldata:s,version:Nf.version})}else if(Object.values(api_exports.ETransactionVersion3).includes(r.version)){const Nf=r;sf=calculateDeployAccountTransactionHash3({...Nf,salt:Nf.addressSalt,compiledConstructorCalldata:s,version:Nf.version,nonceDataAvailabilityMode:intDAM(Nf.nonceDataAvailabilityMode),feeDataAvailabilityMode:intDAM(Nf.feeDataAvailabilityMode)})}else throw Error("unsupported signDeployAccountTransaction version");return this.signRaw(sf)}async signDeclareTransaction(r){let s;if(Object.values(api_exports.ETransactionVersion2).includes(r.version)){const sf=r;s=calculateDeclareTransactionHash3({...sf,version:sf.version})}else if(Object.values(api_exports.ETransactionVersion3).includes(r.version)){const sf=r;s=calculateDeclareTransactionHash3({...sf,version:sf.version,nonceDataAvailabilityMode:intDAM(sf.nonceDataAvailabilityMode),feeDataAvailabilityMode:intDAM(sf.feeDataAvailabilityMode)})}else throw Error("unsupported signDeclareTransaction version");return this.signRaw(s)}async signRaw(r){return sign$2(r,this.pk)}},uint256_exports={};__export(uint256_exports,{UINT_128_MAX:()=>UINT_128_MAX,UINT_256_MAX:()=>UINT_256_MAX,bnToUint256:()=>bnToUint256,isUint256:()=>isUint256,uint256ToBN:()=>uint256ToBN});function uint256ToBN(r){return new CairoUint256(r).toBigInt()}function isUint256(r){return CairoUint256.is(r)}function bnToUint256(r){return new CairoUint256(r).toUint256HexString()}function addAddressPadding(r){const s=toHex(addHexPrefix(r.toString())),sf=removeHexPrefix(s).padStart(64,"0");return addHexPrefix(sf)}function validateAndParseAddress(r){const s=addAddressPadding(r);if(!s.match(/^(0x)?[0-9a-fA-F]{64}$/))throw new Error("Invalid Address Format");return assertInRange(s,ZERO,ADDR_BOUND-1n,"Starknet Address"),s}function getChecksumAddress(r){const s=removeHexPrefix(validateAndParseAddress(r)).toLowerCase().split(""),sf=removeHexPrefix(keccakBn(r)),Nf=hexToBytes$2(sf.padStart(64,"0"));for(let ip=0;ip<s.length;ip+=2)Nf[ip>>1]>>4>=8&&(s[ip]=s[ip].toUpperCase()),(Nf[ip>>1]&15)>=8&&(s[ip+1]=s[ip+1].toUpperCase());return addHexPrefix(s.join(""))}var events_exports={};__export(events_exports,{getAbiEvents:()=>getAbiEvents,isAbiEvent:()=>isAbiEvent,parseEvents:()=>parseEvents,parseUDCEvent:()=>parseUDCEvent});function isAbiEvent(r){return r.type==="event"}function getCairo0AbiEvents(r){return r.filter(s=>s.type==="event").reduce((s,sf)=>{const Nf=sf.name,ip={...sf};return ip.name=Nf,{...s,[addHexPrefix(keccak(utf8ToArray(Nf)).toString(16))]:ip}},{})}function getCairo1AbiEvents(r){const s=r.filter(ip=>isAbiEvent(ip)&&ip.kind==="struct"),sf=r.filter(ip=>isAbiEvent(ip)&&ip.kind==="enum");return s.reduce((ip,em)=>{let tm=[],{name:nm}=em,rm=!1;const om=sm=>sm.type===nm;for(;;){const sm=sf.find(hm=>hm.variants.some(om));if(isUndefined(sm))break;const cm=sm.variants.find(om);tm.unshift(cm.name),cm.kind==="flat"&&(rm=!0),nm=sm.name}if(tm.length===0)throw new Error("inconsistency in ABI events definition.");rm&&(tm=[tm[tm.length-1]]);const im=tm.pop();let am={[addHexPrefix(keccak(utf8ToArray(im)).toString(16))]:em};for(;tm.length>0;)am={[addHexPrefix(keccak(utf8ToArray(tm.pop())).toString(16))]:am};return am={...am},mergeAbiEvents(ip,am)},{})}function getAbiEvents(r){return isCairo1Abi(r)?getCairo1AbiEvents(r):getCairo0AbiEvents(r)}function mergeAbiEvents(r,s){const sf={...r};return isObject$3(r)&&isObject$3(s)&&Object.keys(s).forEach(Nf=>{isObject$3(s[Nf])?Nf in r?sf[Nf]=mergeAbiEvents(r[Nf],s[Nf]):Object.assign(sf,{[Nf]:s[Nf]}):Object.assign(sf,{[Nf]:s[Nf]})}),sf}function parseEvents(r,s,sf,Nf){return r.flat().reduce((em,tm)=>{let nm=s[tm.keys.shift()??0];if(!nm)return em;for(;!nm.name;){const cm=tm.keys.shift();assert$4(!!cm,'Not enough data in "keys" property of this event.'),nm=nm[cm]}const rm={};rm[nm.name]={};const om=tm.keys[Symbol.iterator](),im=tm.data[Symbol.iterator](),am=nm.members?.filter(cm=>cm.kind==="key")||nm.keys,sm=nm.members?.filter(cm=>cm.kind==="data")||nm.data;return am.forEach(cm=>{rm[nm.name][cm.name]=responseParser(om,cm,sf,Nf,rm[nm.name])}),sm.forEach(cm=>{rm[nm.name][cm.name]=responseParser(im,cm,sf,Nf,rm[nm.name])}),"block_hash"in tm&&(rm.block_hash=tm.block_hash),"block_number"in tm&&(rm.block_number=tm.block_number),"transaction_hash"in tm&&(rm.transaction_hash=tm.transaction_hash),em.push(rm),em},[])}function parseUDCEvent(r){if(!r.events?.length)throw new Error("UDC emitted event is empty");const s=r.events.find(sf=>cleanHex(sf.from_address)===cleanHex(UDC.ADDRESS))||{data:[]};return{transaction_hash:r.transaction_hash,contract_address:s.data[0],address:s.data[0],deployer:s.data[1],unique:s.data[2],classHash:s.data[3],calldata_len:s.data[4],calldata:s.data.slice(5,5+parseInt(s.data[4],16)),salt:s.data[s.data.length-1]}}var outsideExecution_exports={};__export(outsideExecution_exports,{buildExecuteFromOutsideCall:()=>buildExecuteFromOutsideCall,buildExecuteFromOutsideCallData:()=>buildExecuteFromOutsideCallData,getOutsideCall:()=>getOutsideCall,getTypedData:()=>getTypedData});function getOutsideCall(r){const s=r.calldata??[],sf=Array.isArray(s)?s:CallData.compile(s);return{to:r.contractAddress,selector:getSelectorFromName(r.entrypoint),calldata:sf}}function callToTypedData(r,s){const sf=getOutsideCall(r);return s==="1"?{...sf,calldata_len:sf.calldata.length,calldata:sf.calldata}:{To:sf.to,Selector:sf.selector,Calldata:sf.calldata}}function getDomain(r,s){return{name:"Account.execute_from_outside",version:s,chainId:r,...s==="2"?{revision:"1"}:{}}}function getTypedData(r,s,sf,Nf,ip){return ip==="1"?{types:OutsideExecutionTypesV1,primaryType:"OutsideExecution",domain:getDomain(r,ip),message:{...s,nonce:sf,calls_len:Nf.length,calls:Nf.map(em=>callToTypedData(em,ip))}}:{types:OutsideExecutionTypesV2,primaryType:"OutsideExecution",domain:getDomain(r,ip),message:{Caller:s.caller,Nonce:sf,"Execute After":s.execute_after,"Execute Before":s.execute_before,Calls:Nf.map(em=>callToTypedData(em,ip))}}}function buildExecuteFromOutsideCallData(r){const s=r.outsideExecution,sf=formatSignature(r.signature);return CallData.compile({outside_execution:s,signature:sf})}function buildExecuteFromOutsideCall(r){return(Array.isArray(r)?r:[r]).map(Nf=>{let ip;if(Nf.version==="1")ip="execute_from_outside";else if(Nf.version==="2")ip="execute_from_outside_v2";else throw new Error("Unsupported OutsideExecution version");return{contractAddress:toHex(Nf.signerAddress),entrypoint:ip,calldata:buildExecuteFromOutsideCallData(Nf)}})}var src5_exports={};__export(src5_exports,{supportsInterface:()=>supportsInterface});async function supportsInterface(r,s,sf){const Nf={contractAddress:toHex(s),entrypoint:"supports_interface",calldata:[toHex(sf)]};try{const ip=await r.callContract(Nf);return BigInt(ip[0])!==0n}catch{return!1}}let connect_exports;Account=class extends RpcProvider2{signer;address;cairoVersion;transactionVersion;constructor(r,s,sf,Nf,ip=config.get("accountTxVersion")){super(r),this.address=s.toLowerCase(),this.signer=isString(sf)||sf instanceof Uint8Array?new Signer(sf):sf,Nf&&(this.cairoVersion=Nf.toString()),this.transactionVersion=ip}getPreferredVersion(r,s){return this.transactionVersion===api_exports.ETransactionVersion.V3?s:this.transactionVersion===api_exports.ETransactionVersion.V2?r:api_exports.ETransactionVersion.V3}async getNonce(r){return super.getNonceForAddress(this.address,r)}async getNonceSafe(r){try{return toBigInt(r??await this.getNonce())}catch{return 0n}}async getCairoVersion(r){if(!this.cairoVersion){const{cairo:s}=r?await super.getContractVersion(void 0,r):await super.getContractVersion(this.address);this.cairoVersion=s}return this.cairoVersion}async estimateFee(r,s={}){return this.estimateInvokeFee(r,s)}async estimateInvokeFee(r,s={}){const{nonce:sf,blockIdentifier:Nf,version:ip,skipValidate:em=!0}=s,tm=Array.isArray(r)?r:[r],nm=toBigInt(sf??await this.getNonce()),rm=toTransactionVersion(this.getPreferredVersion(api_exports.ETransactionVersion.F1,api_exports.ETransactionVersion.F3),toFeeVersion(ip)),om=await this.getChainId(),im={...v3Details(s),walletAddress:this.address,nonce:nm,maxFee:ZERO,version:rm,chainId:om,cairoVersion:await this.getCairoVersion(),skipValidate:em},am=await this.buildInvocation(tm,im);return super.getInvokeEstimateFee({...am},{...v3Details(s),version:rm,nonce:nm},Nf,s.skipValidate)}async estimateDeclareFee(r,s={}){const{blockIdentifier:sf,nonce:Nf,version:ip,skipValidate:em=!0}=s,tm=toBigInt(Nf??await this.getNonce()),nm=toTransactionVersion(isSierra(r.contract)?this.getPreferredVersion(api_exports.ETransactionVersion.F2,api_exports.ETransactionVersion.F3):api_exports.ETransactionVersion.F1,toFeeVersion(ip)),rm=await this.getChainId(),om=await this.buildDeclarePayload(r,{...v3Details(s),nonce:tm,chainId:rm,version:nm,walletAddress:this.address,maxFee:ZERO,cairoVersion:void 0,skipValidate:em});return super.getDeclareEstimateFee(om,{...v3Details(s),version:nm,nonce:tm},sf,s.skipValidate)}async estimateAccountDeployFee({classHash:r,addressSalt:s=0,constructorCalldata:sf=[],contractAddress:Nf},ip={}){const{blockIdentifier:em,version:tm,skipValidate:nm=!0}=ip,rm=toTransactionVersion(this.getPreferredVersion(api_exports.ETransactionVersion.F1,api_exports.ETransactionVersion.F3),toFeeVersion(tm)),om=ZERO,im=await this.getChainId(),am=await this.buildAccountDeployPayload({classHash:r,addressSalt:s,constructorCalldata:sf,contractAddress:Nf},{...v3Details(ip),nonce:om,chainId:im,version:rm,walletAddress:this.address,maxFee:ZERO,cairoVersion:void 0,skipValidate:nm});return super.getDeployAccountEstimateFee({...am},{...v3Details(ip),version:rm,nonce:om},em,ip.skipValidate)}async estimateDeployFee(r,s={}){const sf=this.buildUDCContractPayload(r);return this.estimateInvokeFee(sf,s)}async estimateFeeBulk(r,s={}){if(!r.length)throw TypeError("Invocations should be non-empty array");const{nonce:sf,blockIdentifier:Nf,version:ip,skipValidate:em}=s,tm=await this.accountInvocationsFactory(r,{...v3Details(s),versions:[api_exports.ETransactionVersion.F1,toTransactionVersion(this.getPreferredVersion(api_exports.ETransactionVersion.F2,api_exports.ETransactionVersion.F3),ip)],nonce:sf,blockIdentifier:Nf,skipValidate:em});return super.getEstimateFeeBulk(tm,{blockIdentifier:Nf,skipValidate:em})}async simulateTransaction(r,s={}){if(!r.length)throw TypeError("Invocations should be non-empty array");const{nonce:sf,blockIdentifier:Nf,skipValidate:ip=!0,skipExecute:em,version:tm}=s,nm=await this.accountInvocationsFactory(r,{...v3Details(s),versions:[api_exports.ETransactionVersion.V1,toTransactionVersion(this.getPreferredVersion(api_exports.ETransactionVersion.V2,api_exports.ETransactionVersion.V3),tm)],nonce:sf,blockIdentifier:Nf,skipValidate:ip});return super.getSimulateTransaction(nm,{blockIdentifier:Nf,skipValidate:ip,skipExecute:em})}async execute(r,s,sf={}){const Nf=s===void 0||Array.isArray(s)?sf:s,ip=Array.isArray(r)?r:[r],em=toBigInt(Nf.nonce??await this.getNonce()),tm=toTransactionVersion(this.getPreferredVersion(api_exports.ETransactionVersion.V1,api_exports.ETransactionVersion.V3),Nf.version),nm=await this.getUniversalSuggestedFee(tm,{type:TransactionType.INVOKE,payload:r},{...Nf,version:tm}),rm=await this.getChainId(),om={...v3Details(Nf),resourceBounds:nm.resourceBounds,walletAddress:this.address,nonce:em,maxFee:nm.maxFee,version:tm,chainId:rm,cairoVersion:await this.getCairoVersion()},im=await this.signer.signTransaction(ip,om),am=getExecuteCalldata(ip,await this.getCairoVersion());return this.invokeFunction({contractAddress:this.address,calldata:am,signature:im},{...v3Details(Nf),resourceBounds:nm.resourceBounds,nonce:em,maxFee:nm.maxFee,version:tm})}async declareIfNot(r,s={}){const sf=extractContractHashes(r);try{await this.getClassByHash(sf.classHash)}catch{return this.declare(r,s)}return{transaction_hash:"",class_hash:sf.classHash}}async declare(r,s={}){const sf=extractContractHashes(r),{nonce:Nf,version:ip}=s,em=toTransactionVersion(isSierra(r.contract)?this.getPreferredVersion(api_exports.ETransactionVersion.V2,api_exports.ETransactionVersion.V3):api_exports.ETransactionVersion.V1,ip),tm=await this.getUniversalSuggestedFee(em,{type:TransactionType.DECLARE,payload:sf},{...s,version:em}),nm={...v3Details(s),resourceBounds:tm.resourceBounds,maxFee:tm.maxFee,nonce:toBigInt(Nf??await this.getNonce()),version:em,chainId:await this.getChainId(),walletAddress:this.address,cairoVersion:void 0},rm=await this.buildDeclarePayload(sf,nm);return this.declareContract(rm,nm)}async deploy(r,s={}){const{calls:sf,addresses:Nf}=buildUDCCall(r,this.address);return{...await this.execute(sf,void 0,s),contract_address:Nf}}async deployContract(r,s={}){const sf=await this.deploy(r,s),Nf=await this.waitForTransaction(sf.transaction_hash);return parseUDCEvent(Nf)}async declareAndDeploy(r,s={}){const{constructorCalldata:sf,salt:Nf,unique:ip}=r;let em=await this.declareIfNot(r,s);if(em.transaction_hash!==""){const nm=await this.waitForTransaction(em.transaction_hash);em={...em,...nm}}const tm=await this.deployContract({classHash:em.class_hash,salt:Nf,unique:ip,constructorCalldata:sf},s);return{declare:{...em},deploy:tm}}deploySelf=this.deployAccount;async deployAccount({classHash:r,constructorCalldata:s=[],addressSalt:sf=0,contractAddress:Nf},ip={}){const em=toTransactionVersion(this.getPreferredVersion(api_exports.ETransactionVersion.V1,api_exports.ETransactionVersion.V3),ip.version),tm=ZERO,nm=await this.getChainId(),rm=CallData.compile(s),om=Nf??calculateContractAddressFromHash(sf,r,rm,0),im=await this.getUniversalSuggestedFee(em,{type:TransactionType.DEPLOY_ACCOUNT,payload:{classHash:r,constructorCalldata:rm,addressSalt:sf,contractAddress:om}},ip),am=await this.signer.signDeployAccountTransaction({...v3Details(ip),classHash:r,constructorCalldata:rm,contractAddress:om,addressSalt:sf,chainId:nm,resourceBounds:im.resourceBounds,maxFee:im.maxFee,version:em,nonce:tm});return this.deployAccountContract({classHash:r,addressSalt:sf,constructorCalldata:s,signature:am},{...v3Details(ip),nonce:tm,resourceBounds:im.resourceBounds,maxFee:im.maxFee,version:em})}async signMessage(r){return this.signer.signMessage(r,this.address)}async hashMessage(r){return getMessageHash(r,this.address)}async verifyMessageHash(r,s,sf,Nf){return this.verifyMessageInStarknet(r,s,this.address,sf,Nf)}async verifyMessage(r,s,sf,Nf){return this.verifyMessageInStarknet(r,s,this.address,sf,Nf)}async getSnip9Version(){return await supportsInterface(this,this.address,SNIP9_V2_INTERFACE_ID)?"2":await supportsInterface(this,this.address,SNIP9_V1_INTERFACE_ID)?"1":"0"}async isValidSnip9Nonce(r){try{const s={contractAddress:this.address,entrypoint:"is_valid_outside_execution_nonce",calldata:[toHex(r)]},sf=await this.callContract(s);return BigInt(sf[0])!==0n}catch(s){throw new Error(`Failed to check if nonce is valid: ${s}`)}}async getSnip9Nonce(){const r=randomAddress();return await this.isValidSnip9Nonce(r)?r:this.getSnip9Nonce()}async getOutsideTransaction(r,s,sf,Nf){if(!isHex(r.caller)&&r.caller!=="ANY_CALLER")throw new Error(`The caller ${r.caller} is not valid.`);const ip=isHex(r.caller)?r.caller:OutsideExecutionCallerAny,em=Array.isArray(s)?s:[s],tm=sf??await this.getSnip9Version();if(!tm)throw new Error("This account is not handling outside transactions.");const nm=Nf?toHex(Nf):await this.getSnip9Nonce(),rm=getTypedData(await this.getChainId(),{caller:ip,execute_after:r.execute_after,execute_before:r.execute_before},nm,em,tm),om=await this.signMessage(rm);return{outsideExecution:{caller:ip,nonce:nm,execute_after:r.execute_after,execute_before:r.execute_before,calls:em.map(getOutsideCall)},signature:om,signerAddress:this.address,version:tm}}async executeFromOutside(r,s){const sf=buildExecuteFromOutsideCall(r);return this.execute(sf,s)}async getUniversalSuggestedFee(r,{type:s,payload:sf},Nf){let ip=0,em=estimateFeeToBounds(ZERO);return r===api_exports.ETransactionVersion.V3?em=Nf.resourceBounds??(await this.getSuggestedFee({type:s,payload:sf},Nf)).resourceBounds:ip=Nf.maxFee??(await this.getSuggestedFee({type:s,payload:sf},Nf)).suggestedMaxFee,{maxFee:ip,resourceBounds:em}}async getSuggestedFee({type:r,payload:s},sf){switch(r){case TransactionType.INVOKE:return this.estimateInvokeFee(s,sf);case TransactionType.DECLARE:return this.estimateDeclareFee(s,sf);case TransactionType.DEPLOY_ACCOUNT:return this.estimateAccountDeployFee(s,sf);case TransactionType.DEPLOY:return this.estimateDeployFee(s,sf);default:return{gas_consumed:0n,gas_price:0n,overall_fee:ZERO,unit:"FRI",suggestedMaxFee:ZERO,resourceBounds:estimateFeeToBounds(ZERO),data_gas_consumed:0n,data_gas_price:0n}}}async buildInvocation(r,s){const sf=getExecuteCalldata(r,await this.getCairoVersion()),Nf=s.skipValidate?[]:await this.signer.signTransaction(r,s);return{...v3Details(s),contractAddress:this.address,calldata:sf,signature:Nf}}async buildDeclarePayload(r,s){const{classHash:sf,contract:Nf,compiledClassHash:ip}=extractContractHashes(r),em=parseContract(Nf);if(isUndefined(ip)&&(s.version===api_exports.ETransactionVersion3.F3||s.version===api_exports.ETransactionVersion3.V3))throw Error("V3 Transaction work with Cairo1 Contracts and require compiledClassHash");const tm=s.skipValidate?[]:await this.signer.signDeclareTransaction({...s,...v3Details(s),classHash:sf,compiledClassHash:ip,senderAddress:s.walletAddress});return{senderAddress:s.walletAddress,signature:tm,contract:em,compiledClassHash:ip}}async buildAccountDeployPayload({classHash:r,addressSalt:s=0,constructorCalldata:sf=[],contractAddress:Nf},ip){const em=CallData.compile(sf),tm=Nf??calculateContractAddressFromHash(s,r,em,0),nm=ip.skipValidate?[]:await this.signer.signDeployAccountTransaction({...ip,...v3Details(ip),classHash:r,contractAddress:tm,addressSalt:s,constructorCalldata:em});return{...v3Details(ip),classHash:r,addressSalt:s,constructorCalldata:em,signature:nm}}buildUDCContractPayload(r){return[].concat(r).map(sf=>{const{classHash:Nf,salt:ip="0",unique:em=!0,constructorCalldata:tm=[]}=sf,nm=CallData.compile(tm);return{contractAddress:UDC.ADDRESS,entrypoint:UDC.ENTRYPOINT,calldata:[Nf,ip,toCairoBool(em),nm.length,...nm]}})}async accountInvocationsFactory(r,s){const{nonce:sf,blockIdentifier:Nf,skipValidate:ip=!0}=s,em=await this.getNonceSafe(sf),tm=await this.getChainId(),nm=s.versions.map(im=>toTransactionVersion(im)),rm="payload"in r[0]?r[0].payload:r[0],om=r[0].type===TransactionType.DEPLOY_ACCOUNT?await this.getCairoVersion(rm.classHash):await this.getCairoVersion();return Promise.all([].concat(r).map(async(im,am)=>{const sm="payload"in im?im.payload:im,cm={...v3Details(s),walletAddress:this.address,nonce:toBigInt(Number(em)+am),maxFee:ZERO,chainId:tm,cairoVersion:om,version:"",skipValidate:ip},hm={type:im.type,nonce:toBigInt(Number(em)+am),blockIdentifier:Nf,version:""};if(im.type===TransactionType.INVOKE){const fm=reduceV2(nm[1]);cm.version=fm,hm.version=fm;const pm=await this.buildInvocation([].concat(sm),cm);return{...hm,...pm,...cm}}if(im.type===TransactionType.DEPLOY){const fm=reduceV2(nm[1]);cm.version=fm,hm.version=fm;const pm=this.buildUDCContractPayload(sm),mm=await this.buildInvocation(pm,cm);return{...hm,...mm,...cm,type:TransactionType.INVOKE}}if(im.type===TransactionType.DECLARE){const fm=isSierra(sm.contract)?nm[1]:nm[0];cm.version=fm,hm.version=fm;const pm=await this.buildDeclarePayload(sm,cm);return{...hm,...pm,...cm}}if(im.type===TransactionType.DEPLOY_ACCOUNT){const fm=reduceV2(nm[1]);cm.version=fm,hm.version=fm;const pm=await this.buildAccountDeployPayload(sm,cm);return{...hm,...pm,...cm}}throw Error(`accountInvocationsFactory: unsupported transaction type: ${im}`)}))}async getStarkName(r=this.address,s){return super.getStarkName(r,s)}};connect_exports={};__export(connect_exports,{addDeclareTransaction:()=>addDeclareTransaction,addInvokeTransaction:()=>addInvokeTransaction,addStarknetChain:()=>addStarknetChain,deploymentData:()=>deploymentData,getPermissions:()=>getPermissions,onAccountChange:()=>onAccountChange,onNetworkChanged:()=>onNetworkChanged,requestAccounts:()=>requestAccounts,requestChainId:()=>requestChainId,signMessage:()=>signMessage,supportedSpecs:()=>supportedSpecs,switchStarknetChain:()=>switchStarknetChain,watchAsset:()=>watchAsset});function requestAccounts(r,s=!1){return r.request({type:"wallet_requestAccounts",params:{silent_mode:s}})}function getPermissions(r){return r.request({type:"wallet_getPermissions"})}function watchAsset(r,s){return r.request({type:"wallet_watchAsset",params:s})}function addStarknetChain(r,s){return r.request({type:"wallet_addStarknetChain",params:s})}function switchStarknetChain(r,s){return r.request({type:"wallet_switchStarknetChain",params:{chainId:s}})}function requestChainId(r){return r.request({type:"wallet_requestChainId"})}function deploymentData(r){return r.request({type:"wallet_deploymentData"})}function addInvokeTransaction(r,s){return r.request({type:"wallet_addInvokeTransaction",params:s})}function addDeclareTransaction(r,s){return r.request({type:"wallet_addDeclareTransaction",params:s})}function signMessage(r,s){return r.request({type:"wallet_signTypedData",params:s})}function supportedSpecs(r){return r.request({type:"wallet_supportedSpecs"})}function onAccountChange(r,s){r.on("accountsChanged",s)}function onNetworkChanged(r,s){r.on("networkChanged",s)}let WalletAccount;WalletAccount=class jy extends Account{walletProvider;constructor(s,sf,Nf,ip=""){super(s,ip,"",Nf),this.walletProvider=sf,this.walletProvider.on("accountsChanged",em=>{em&&(this.address=em[0].toLowerCase())}),this.walletProvider.on("networkChanged",em=>{em&&this.channel.setChainId(em)}),ip.length||(logger.warn("@deprecated Use static method WalletAccount.connect or WalletAccount.connectSilent instead. Constructor {@link WalletAccount.(format:2)}."),requestAccounts(this.walletProvider).then(([em])=>{this.address=em.toLowerCase()}))}onAccountChange(s){onAccountChange(this.walletProvider,s)}onNetworkChanged(s){onNetworkChanged(this.walletProvider,s)}requestAccounts(s=!1){return requestAccounts(this.walletProvider,s)}getPermissions(){return getPermissions(this.walletProvider)}switchStarknetChain(s){return switchStarknetChain(this.walletProvider,s)}watchAsset(s){return watchAsset(this.walletProvider,s)}addStarknetChain(s){return addStarknetChain(this.walletProvider,s)}execute(s){const Nf={calls:[].concat(s).map(ip=>{const{contractAddress:em,entrypoint:tm,calldata:nm}=ip;return{contract_address:em,entry_point:tm,calldata:nm}})};return addInvokeTransaction(this.walletProvider,Nf)}declare(s){const sf=extractContractHashes(s),Nf=s.contract,ip={...Nf,abi:stringify2(Nf.abi)};if(!sf.compiledClassHash)throw Error("compiledClassHash is required");const em={compiled_class_hash:sf.compiledClassHash,contract_class:ip};return addDeclareTransaction(this.walletProvider,em)}async deploy(s){const{calls:sf,addresses:Nf}=buildUDCCall(s,this.address);return{...await this.execute(sf),contract_address:Nf}}signMessage(s){return signMessage(this.walletProvider,s)}static async connect(s,sf,Nf,ip=!1){const[em]=await requestAccounts(sf,ip);return new jy(s,sf,Nf,em)}static async connectSilent(s,sf,Nf){return jy.connect(s,sf,Nf,!0)}};ResponseCodes=(r=>(r.SUCCESS="SUCCESS",r.NOT_CONNECTED="NOT_CONNECTED",r.ERROR="ERROR",r.CANCELED="CANCELED",r.USER_INTERACTION_REQUIRED="USER_INTERACTION_REQUIRED",r))(ResponseCodes||{});FeeSource=(r=>(r.PAYMASTER="PAYMASTER",r.CREDITS="CREDITS",r))(FeeSource||{});const ALLOWED_PROPERTIES=new Set(["contracts","messages","target","method","name","description","types","domain","primaryType"]),LOCAL_HOSTNAMES=["localhost","127.0.0.1","0.0.0.0"];function validatePropertyName(r){if(!ALLOWED_PROPERTIES.has(r))throw new Error(`Invalid property name: ${r}`)}function safeObjectAccess(r,s){return validatePropertyName(s),r[s]}normalizeCalls=function(r){return toArray$1(r).map(s=>({entrypoint:s.entrypoint,contractAddress:addAddressPadding(s.contractAddress),calldata:CallData.toHex(s.calldata)}))};toSessionPolicies=function(r){return Array.isArray(r)?r.reduce((s,sf)=>{if(safeObjectAccess(sf,"target")){const Nf=getChecksumAddress(safeObjectAccess(sf,"target")),ip=safeObjectAccess(sf,"method"),em=safeObjectAccess(s,"contracts"),tm={name:humanizeString(ip),entrypoint:ip,description:safeObjectAccess(sf,"description")};if(Nf in em){const nm=toArray$1(em[Nf].methods);em[Nf]={methods:[...nm,tm]}}else em[Nf]={methods:[tm]}}else safeObjectAccess(s,"messages").push(sf);return s},{contracts:{},messages:[]}):r};toWasmPolicies=function(r){return[...Object.entries(r.contracts??{}).flatMap(([s,{methods:sf}])=>toArray$1(sf).map(Nf=>({target:s,method:Nf.entrypoint,authorized:Nf.authorized}))),...(r.messages??[]).map(s=>{const sf=typedData_exports.getStructHash(s.types,"StarknetDomain",s.domain,TypedDataRevision.ACTIVE),Nf=typedData_exports.getTypeHash(s.types,s.primaryType,TypedDataRevision.ACTIVE);return{scope_hash:hash_exports.computePoseidonHash(sf,Nf),authorized:s.authorized}})]};toArray$1=function(r){return Array.isArray(r)?r:[r]};humanizeString=function(r){return r.replace(/([a-z])([A-Z])/g,"$1 $2").replace(/_/g," ").toLowerCase().replace(/^\w/,s=>s.toUpperCase())};parseChainId=async function(r){const s=r.pathname.split("/");if(s.includes("starknet")){if(s.includes("mainnet"))return constants_exports.StarknetChainId.SN_MAIN;if(s.includes("sepolia"))return constants_exports.StarknetChainId.SN_SEPOLIA}else if(s.length>=3){const sf=s[2];if(s.includes("katana"))return shortString_exports.encodeShortString(`WP_${sf.toUpperCase().replace(/-/g,"_")}`);if(s.includes("mainnet"))return shortString_exports.encodeShortString(`GG_${sf.toUpperCase().replace(/-/g,"_")}`)}if(LOCAL_HOSTNAMES.includes(r.hostname))return await new RpcProvider2({nodeUrl:r.toString()}).getChainId();throw new Error(`Chain ${r.toString()} not supported`)};class ControllerAccount extends WalletAccount{address;keychain;modal;options;constructor(s,sf,Nf,ip,em,tm){super({nodeUrl:sf},s),this.address=Nf,this.keychain=ip,this.options=em,this.modal=tm}async execute(s){return s=toArray$1(s),new Promise(async(sf,Nf)=>{const ip=await this.keychain.execute(s,void 0,void 0,!1,this.options?.feeSource);if(ip.code===ResponseCodes.SUCCESS){sf(ip);return}if(this.options?.propagateSessionErrors&&ip.code!==ResponseCodes.USER_INTERACTION_REQUIRED){Nf(ip.error);return}this.modal.open();const em=await this.keychain.execute(s,void 0,void 0,!0,ip.error);if(em.code===ResponseCodes.SUCCESS){sf(em),this.modal.close();return}Nf(em.error)})}async signMessage(s){return new Promise(async(sf,Nf)=>{const ip=await this.keychain.signMessage(s,"",!0);if(!("code"in ip)){sf(ip);return}this.modal.open();const em=await this.keychain.signMessage(s,"",!1);"code"in em?Nf(em.error):sf(em),this.modal.close()})}}var MessageType;(function(r){r.Call="call",r.Reply="reply",r.Syn="syn",r.SynAck="synAck",r.Ack="ack"})(MessageType||(MessageType={}));var Resolution;(function(r){r.Fulfilled="fulfilled",r.Rejected="rejected"})(Resolution||(Resolution={}));var ErrorCode;(function(r){r.ConnectionDestroyed="ConnectionDestroyed",r.ConnectionTimeout="ConnectionTimeout",r.NoIframeSrc="NoIframeSrc"})(ErrorCode||(ErrorCode={}));var NativeErrorName;(function(r){r.DataCloneError="DataCloneError"})(NativeErrorName||(NativeErrorName={}));var NativeEventType;(function(r){r.Message="message"})(NativeEventType||(NativeEventType={}));const createDestructor=(r,s)=>{const sf=[];let Nf=!1;return{destroy(ip){Nf||(Nf=!0,s(`${r}: Destroying connection`),sf.forEach(em=>{em(ip)}))},onDestroy(ip){Nf?ip():sf.push(ip)}}},createLogger=r=>(...s)=>{r&&console.log("[Penpal]",...s)},DEFAULT_PORT_BY_PROTOCOL={"http:":"80","https:":"443"},URL_REGEX=/^(https?:)?\/\/([^/:]+)?(:(\d+))?/,opaqueOriginSchemes=["file:","data:"],getOriginFromSrc=r=>{if(r&&opaqueOriginSchemes.find(nm=>r.startsWith(nm)))return"null";const s=document.location,sf=URL_REGEX.exec(r);let Nf,ip,em;sf?(Nf=sf[1]?sf[1]:s.protocol,ip=sf[2],em=sf[4]):(Nf=s.protocol,ip=s.hostname,em=s.port);const tm=em&&em!==DEFAULT_PORT_BY_PROTOCOL[Nf]?`:${em}`:"";return`${Nf}//${ip}${tm}`},serializeError=({name:r,message:s,stack:sf})=>({name:r,message:s,stack:sf}),deserializeError=r=>{const s=new Error;return Object.keys(r).forEach(sf=>s[sf]=r[sf]),s},connectCallReceiver=(r,s,sf)=>{const{localName:Nf,local:ip,remote:em,originForSending:tm,originForReceiving:nm}=r;let rm=!1;const om=im=>{if(im.source!==em||im.data.penpal!==MessageType.Call)return;if(nm!=="*"&&im.origin!==nm){sf(`${Nf} received message from origin ${im.origin} which did not match expected origin ${nm}`);return}const am=im.data,{methodName:sm,args:cm,id:hm}=am;sf(`${Nf}: Received ${sm}() call`);const fm=pm=>mm=>{if(sf(`${Nf}: Sending ${sm}() reply`),rm){sf(`${Nf}: Unable to send ${sm}() reply due to destroyed connection`);return}const _m={penpal:MessageType.Reply,id:hm,resolution:pm,returnValue:mm};pm===Resolution.Rejected&&mm instanceof Error&&(_m.returnValue=serializeError(mm),_m.returnValueIsError=!0);try{em.postMessage(_m,tm)}catch(ym){if(ym.name===NativeErrorName.DataCloneError){const Sm={penpal:MessageType.Reply,id:hm,resolution:Resolution.Rejected,returnValue:serializeError(ym),returnValueIsError:!0};em.postMessage(Sm,tm)}throw ym}};new Promise(pm=>pm(s[sm].call(s,im.origin).apply(s,cm))).then(fm(Resolution.Fulfilled),fm(Resolution.Rejected))};return ip.addEventListener(NativeEventType.Message,om),()=>{rm=!0,ip.removeEventListener(NativeEventType.Message,om)}};let id$1=0;const generateId=()=>++id$1,KEY_PATH_DELIMITER=".",keyPathToSegments=r=>r?r.split(KEY_PATH_DELIMITER):[],segmentsToKeyPath=r=>r.join(KEY_PATH_DELIMITER),createKeyPath=(r,s)=>{const sf=keyPathToSegments(s||"");return sf.push(r),segmentsToKeyPath(sf)},setAtKeyPath=(r,s,sf)=>{const Nf=keyPathToSegments(s);return Nf.reduce((ip,em,tm)=>(typeof ip[em]>"u"&&(ip[em]={}),tm===Nf.length-1&&(ip[em]=sf),ip[em]),r),r},serializeMethods=(r,s)=>{const sf={};return Object.keys(r).forEach(Nf=>{const ip=r[Nf],em=createKeyPath(Nf,s);typeof ip=="object"&&Object.assign(sf,serializeMethods(ip,em)),typeof ip=="function"&&(sf[em]=ip)}),sf},deserializeMethods=r=>{const s={};for(const sf in r)setAtKeyPath(s,sf,r[sf]);return s},connectCallSender=(r,s,sf,Nf,ip)=>{const{localName:em,local:tm,remote:nm,originForSending:rm,originForReceiving:om}=s;let im=!1;ip(`${em}: Connecting call sender`);const am=cm=>(...hm)=>{ip(`${em}: Sending ${cm}() call`);let fm;try{nm.closed&&(fm=!0)}catch{fm=!0}if(fm&&Nf(),im){const pm=new Error(`Unable to send ${cm}() call due to destroyed connection`);throw pm.code=ErrorCode.ConnectionDestroyed,pm}return new Promise((pm,mm)=>{const _m=generateId(),ym=jm=>{if(jm.source!==nm||jm.data.penpal!==MessageType.Reply||jm.data.id!==_m)return;if(om!=="*"&&jm.origin!==om){ip(`${em} received message from origin ${jm.origin} which did not match expected origin ${om}`);return}const Pm=jm.data;ip(`${em}: Received ${cm}() reply`),tm.removeEventListener(NativeEventType.Message,ym);let Bm=Pm.returnValue;Pm.returnValueIsError&&(Bm=deserializeError(Bm)),(Pm.resolution===Resolution.Fulfilled?pm:mm)(Bm)};tm.addEventListener(NativeEventType.Message,ym);const Sm={penpal:MessageType.Call,id:_m,methodName:cm,args:hm};nm.postMessage(Sm,rm)})},sm=sf.reduce((cm,hm)=>(cm[hm]=am(hm),cm),{});return Object.assign(r,deserializeMethods(sm)),()=>{im=!0}},handleAckMessageFactory=(r,s,sf,Nf,ip)=>{const{destroy:em,onDestroy:tm}=Nf;let nm,rm;const om={};return im=>{if(s!=="*"&&im.origin!==s){ip(`Parent: Handshake - Received ACK message from origin ${im.origin} which did not match expected origin ${s}`);return}ip("Parent: Handshake - Received ACK");const am={localName:"Parent",local:window,remote:im.source,originForSending:sf,originForReceiving:s};nm&&nm(),nm=connectCallReceiver(am,r,ip),tm(nm),rm&&rm.forEach(cm=>{delete om[cm]}),rm=im.data.methodNames;const sm=connectCallSender(om,am,rm,em,ip);return tm(sm),om}},handleSynMessageFactory=(r,s,sf,Nf)=>ip=>{if(!ip.source)return;if(sf!=="*"&&ip.origin!==sf){r(`Parent: Handshake - Received SYN message from origin ${ip.origin} which did not match expected origin ${sf}`);return}r("Parent: Handshake - Received SYN, responding with SYN-ACK");const em={penpal:MessageType.SynAck,methodNames:Object.keys(s)};ip.source.postMessage(em,Nf)},CHECK_IFRAME_IN_DOC_INTERVAL=6e4,monitorIframeRemoval=(r,s)=>{const{destroy:sf,onDestroy:Nf}=s,ip=setInterval(()=>{r.isConnected||(clearInterval(ip),sf())},CHECK_IFRAME_IN_DOC_INTERVAL);Nf(()=>{clearInterval(ip)})},startConnectionTimeout=(r,s)=>{let sf;return r!==void 0&&(sf=window.setTimeout(()=>{const Nf=new Error(`Connection timed out after ${r}ms`);Nf.code=ErrorCode.ConnectionTimeout,s(Nf)},r)),()=>{clearTimeout(sf)}},validateIframeHasSrcOrSrcDoc=r=>{if(!r.src&&!r.srcdoc){const s=new Error("Iframe must have src or srcdoc property defined.");throw s.code=ErrorCode.NoIframeSrc,s}},connectToChild=r=>{let{iframe:s,methods:sf={},childOrigin:Nf,timeout:ip,debug:em=!1}=r;const tm=createLogger(em),nm=createDestructor("Parent",tm),{onDestroy:rm,destroy:om}=nm;Nf||(validateIframeHasSrcOrSrcDoc(s),Nf=getOriginFromSrc(s.src));const im=Nf==="null"?"*":Nf,am=serializeMethods(sf),sm=handleSynMessageFactory(tm,am,Nf,im),cm=handleAckMessageFactory(am,Nf,im,nm,tm);return{promise:new Promise((fm,pm)=>{const mm=startConnectionTimeout(ip,om),_m=ym=>{if(!(ym.source!==s.contentWindow||!ym.data)){if(ym.data.penpal===MessageType.Syn){sm(ym);return}if(ym.data.penpal===MessageType.Ack){const Sm=cm(ym);Sm&&(mm(),fm(Sm));return}}};window.addEventListener(NativeEventType.Message,_m),tm("Parent: Awaiting handshake"),monitorIframeRemoval(s,nm),rm(ym=>{window.removeEventListener(NativeEventType.Message,_m),ym&&pm(ym)})}),destroy(){om()}}};class IFrame{url;iframe;container;onClose;constructor({id:s,url:sf,preset:Nf,onClose:ip,onConnect:em,methods:tm={}}){if(typeof document>"u")return;Nf&&sf.searchParams.set("preset",Nf),this.url=sf;const nm=document.createElement("iframe");nm.src=sf.toString(),nm.id=s,nm.style.border="none",nm.sandbox.add("allow-forms"),nm.sandbox.add("allow-popups"),nm.sandbox.add("allow-popups-to-escape-sandbox"),nm.sandbox.add("allow-scripts"),nm.sandbox.add("allow-same-origin"),nm.allow="publickey-credentials-create *; publickey-credentials-get *; clipboard-write",document.hasStorageAccess&&nm.sandbox.add("allow-storage-access-by-user-activation");const rm=document.createElement("div");rm.id="controller",rm.style.position="fixed",rm.style.height="100%",rm.style.width="100%",rm.style.top="0",rm.style.left="0",rm.style.zIndex="10000",rm.style.backgroundColor="rgba(0,0,0,0.6)",rm.style.display="flex",rm.style.alignItems="center",rm.style.justifyContent="center",rm.style.visibility="hidden",rm.style.opacity="0",rm.style.transition="opacity 0.2s ease",rm.style.pointerEvents="auto",rm.appendChild(nm),this.iframe=nm,this.container=rm,connectToChild({iframe:this.iframe,methods:{close:am=>()=>this.close(),closeAll:am=>()=>{document.querySelectorAll('iframe[id^="controller-"]').forEach(cm=>{const hm=cm.parentElement;hm&&(hm.style.visibility="hidden",hm.style.opacity="0")}),document.body.style.overflow="auto"},reload:am=>()=>window.location.reload(),...tm}}).promise.then(em),this.resize(),window.addEventListener("resize",()=>this.resize());const om=new MutationObserver(()=>{const am=document.getElementById("controller");document.body&&(s==="controller-keychain"&&!am||s==="controller-profile")&&(document.body.appendChild(rm),om.disconnect())});om.observe(document.documentElement,{childList:!0,subtree:!0});const im=document.getElementById("controller");document.body&&(s==="controller-keychain"&&!im||s==="controller-profile")&&document.body.appendChild(rm),this.onClose=ip}open(){this.container&&(document.body.style.overflow="hidden",this.container.style.visibility="visible",this.container.style.opacity="1")}close(){this.container&&(this.onClose?.(),document.body.style.overflow="auto",this.container.style.visibility="hidden",this.container.style.opacity="0")}sendBackward(){this.container&&(this.container.style.zIndex="9999")}sendForward(){this.container&&(this.container.style.zIndex="10000")}resize(){if(this.iframe){if(this.iframe.style.userSelect="none",window.innerWidth<768){this.iframe.style.height="100%",this.iframe.style.width="100%",this.iframe.style.borderRadius="0";return}this.iframe.style.height="600px",this.iframe.style.width="432px",this.iframe.style.borderRadius="8px"}}}const KEYCHAIN_URL="https://x.cartridge.gg",PROFILE_URL="https://profile.cartridge.gg",API_URL="https://api.cartridge.gg";var te$3=Object.defineProperty,ne$3=(r,s,sf)=>s in r?te$3(r,s,{enumerable:!0,configurable:!0,writable:!0,value:sf}):r[s]=sf,_$4=(r,s,sf)=>(ne$3(r,typeof s!="symbol"?s+"":s,sf),sf),K$3=(r,s,sf)=>{if(!s.has(r))throw TypeError("Cannot "+sf)},N$4=(r,s,sf)=>(K$3(r,s,"read from private field"),sf?sf.call(r):s.get(r)),T$4=(r,s,sf)=>{if(s.has(r))throw TypeError("Cannot add the same private member more than once");s instanceof WeakSet?s.add(r):s.set(r,sf)},B$3=(r,s,sf,Nf)=>(K$3(r,s,"write to private field"),s.set(r,sf),sf),E$4=(r,s,sf)=>(K$3(r,s,"access private method"),sf);const generateUID=()=>`${Date.now()}-${Math.floor(Math.random()*0x82f79cd8fff)+1e12}`,shuffle=r=>{for(let s=r.length-1;s>0;s--){const sf=Math.floor(Math.random()*(s+1));[r[s],r[sf]]=[r[sf],r[s]]}return r},pipe$1=(...r)=>s=>r.reduce((sf,Nf)=>sf.then(Nf),Promise.resolve(s));function ensureKeysArray(r){return Object.keys(r)}const ssrSafeWindow=typeof window<"u"?window:null;function getBuilderId(){return typeof FEDERATION_BUILD_IDENTIFIER<"u"?FEDERATION_BUILD_IDENTIFIER:""}function isDebugMode$1(){return!1}function isBrowserEnv$1(){return typeof window<"u"}const LOG_CATEGORY$1="[ Federation Runtime ]";function assert$3(r,s){r||error(s)}function error(r){throw r instanceof Error?(r.message=`${LOG_CATEGORY$1}: ${r.message}`,r):new Error(`${LOG_CATEGORY$1}: ${r}`)}function warn$1(r){r instanceof Error?(r.message=`${LOG_CATEGORY$1}: ${r.message}`,console.warn(r)):console.warn(`${LOG_CATEGORY$1}: ${r}`)}function addUniqueItem(r,s){return r.findIndex(sf=>sf===s)===-1&&r.push(s),r}function getFMId(r){return"version"in r&&r.version?`${r.name}:${r.version}`:"entry"in r&&r.entry?`${r.name}:${r.entry}`:`${r.name}`}function isRemoteInfoWithEntry(r){return typeof r.entry<"u"}function isPureRemoteEntry(r){return!r.entry.includes(".json")&&r.entry.includes(".js")}function safeToString$1(r){try{return JSON.stringify(r,null,2)}catch{return""}}function isObject$2(r){return r&&typeof r=="object"}const objectToString=Object.prototype.toString;function isPlainObject(r){return objectToString.call(r)==="[object Object]"}function _extends$1$1(){return _extends$1$1=Object.assign||function(r){for(var s=1;s<arguments.length;s++){var sf=arguments[s];for(var Nf in sf)Object.prototype.hasOwnProperty.call(sf,Nf)&&(r[Nf]=sf[Nf])}return r},_extends$1$1.apply(this,arguments)}function _object_without_properties_loose$1(r,s){if(r==null)return{};var sf={},Nf=Object.keys(r),ip,em;for(em=0;em<Nf.length;em++)ip=Nf[em],!(s.indexOf(ip)>=0)&&(sf[ip]=r[ip]);return sf}const nativeGlobal=(()=>{try{return new Function("return this")()}catch{return globalThis}})(),Global=nativeGlobal;function definePropertyGlobalVal(r,s,sf){Object.defineProperty(r,s,{value:sf,configurable:!1,writable:!0})}function includeOwnProperty(r,s){return Object.hasOwnProperty.call(r,s)}includeOwnProperty(globalThis,"__GLOBAL_LOADING_REMOTE_ENTRY__")||definePropertyGlobalVal(globalThis,"__GLOBAL_LOADING_REMOTE_ENTRY__",{});const globalLoading=globalThis.__GLOBAL_LOADING_REMOTE_ENTRY__;function setGlobalDefaultVal(r){var s,sf,Nf,ip,em,tm;includeOwnProperty(r,"__VMOK__")&&!includeOwnProperty(r,"__FEDERATION__")&&definePropertyGlobalVal(r,"__FEDERATION__",r.__VMOK__),includeOwnProperty(r,"__FEDERATION__")||(definePropertyGlobalVal(r,"__FEDERATION__",{__GLOBAL_PLUGIN__:[],__INSTANCES__:[],moduleInfo:{},__SHARE__:{},__MANIFEST_LOADING__:{},__PRELOADED_MAP__:new Map}),definePropertyGlobalVal(r,"__VMOK__",r.__FEDERATION__)),(s=r.__FEDERATION__).__GLOBAL_PLUGIN__!=null||(s.__GLOBAL_PLUGIN__=[]),(sf=r.__FEDERATION__).__INSTANCES__!=null||(sf.__INSTANCES__=[]),(Nf=r.__FEDERATION__).moduleInfo!=null||(Nf.moduleInfo={}),(ip=r.__FEDERATION__).__SHARE__!=null||(ip.__SHARE__={}),(em=r.__FEDERATION__).__MANIFEST_LOADING__!=null||(em.__MANIFEST_LOADING__={}),(tm=r.__FEDERATION__).__PRELOADED_MAP__!=null||(tm.__PRELOADED_MAP__=new Map)}setGlobalDefaultVal(globalThis);setGlobalDefaultVal(nativeGlobal);function getGlobalFederationInstance(r,s){const sf=getBuilderId();return globalThis.__FEDERATION__.__INSTANCES__.find(Nf=>!!(sf&&Nf.options.id===getBuilderId()||Nf.options.name===r&&!Nf.options.version&&!s||Nf.options.name===r&&s&&Nf.options.version===s))}function setGlobalFederationInstance(r){globalThis.__FEDERATION__.__INSTANCES__.push(r)}function getGlobalFederationConstructor(){return globalThis.__FEDERATION__.__DEBUG_CONSTRUCTOR__}function setGlobalFederationConstructor(r,s=isDebugMode$1()){s&&(globalThis.__FEDERATION__.__DEBUG_CONSTRUCTOR__=r,globalThis.__FEDERATION__.__DEBUG_CONSTRUCTOR_VERSION__="0.1.2")}function getInfoWithoutType(r,s){if(typeof s=="string"){if(r[s])return{value:r[s],key:s};{const sf=Object.keys(r);for(const Nf of sf){const[ip,em]=Nf.split(":"),tm=`${ip}:${s}`,nm=r[tm];if(nm)return{value:nm,key:tm}}return{value:void 0,key:s}}}else throw new Error("key must be string")}const getGlobalSnapshot=()=>nativeGlobal.__FEDERATION__.moduleInfo,getTargetSnapshotInfoByModuleInfo=(r,s)=>{const sf=getFMId(r),Nf=getInfoWithoutType(s,sf).value;if(Nf&&!Nf.version&&"version"in r&&r.version&&(Nf.version=r.version),Nf)return Nf;if("version"in r&&r.version){const{version:ip}=r,em=_object_without_properties_loose$1(r,["version"]),tm=getFMId(em),nm=getInfoWithoutType(nativeGlobal.__FEDERATION__.moduleInfo,tm).value;if(nm?.version===ip)return nm}},getGlobalSnapshotInfoByModuleInfo=r=>getTargetSnapshotInfoByModuleInfo(r,nativeGlobal.__FEDERATION__.moduleInfo),setGlobalSnapshotInfoByModuleInfo=(r,s)=>{const sf=getFMId(r);return nativeGlobal.__FEDERATION__.moduleInfo[sf]=s,nativeGlobal.__FEDERATION__.moduleInfo},addGlobalSnapshot=r=>(nativeGlobal.__FEDERATION__.moduleInfo=_extends$1$1({},nativeGlobal.__FEDERATION__.moduleInfo,r),()=>{const s=Object.keys(r);for(const sf of s)delete nativeGlobal.__FEDERATION__.moduleInfo[sf]}),getRemoteEntryExports=(r,s)=>{const sf=s||`__FEDERATION_${r}:custom__`,Nf=globalThis[sf];return{remoteEntryKey:sf,entryExports:Nf}},getGlobalHostPlugins=()=>nativeGlobal.__FEDERATION__.__GLOBAL_PLUGIN__,getPreloaded=r=>globalThis.__FEDERATION__.__PRELOADED_MAP__.get(r),setPreloaded=r=>globalThis.__FEDERATION__.__PRELOADED_MAP__.set(r,!0),DEFAULT_SCOPE="default",DEFAULT_REMOTE_TYPE="global",buildIdentifier="[0-9A-Za-z-]+",build=`(?:\\+(${buildIdentifier}(?:\\.${buildIdentifier})*))`,numericIdentifier="0|[1-9]\\d*",numericIdentifierLoose="[0-9]+",nonNumericIdentifier="\\d*[a-zA-Z-][a-zA-Z0-9-]*",preReleaseIdentifierLoose=`(?:${numericIdentifierLoose}|${nonNumericIdentifier})`,preReleaseLoose=`(?:-?(${preReleaseIdentifierLoose}(?:\\.${preReleaseIdentifierLoose})*))`,preReleaseIdentifier=`(?:${numericIdentifier}|${nonNumericIdentifier})`,preRelease=`(?:-(${preReleaseIdentifier}(?:\\.${preReleaseIdentifier})*))`,xRangeIdentifier=`${numericIdentifier}|x|X|\\*`,xRangePlain=`[v=\\s]*(${xRangeIdentifier})(?:\\.(${xRangeIdentifier})(?:\\.(${xRangeIdentifier})(?:${preRelease})?${build}?)?)?`,hyphenRange=`^\\s*(${xRangePlain})\\s+-\\s+(${xRangePlain})\\s*$`,mainVersionLoose=`(${numericIdentifierLoose})\\.(${numericIdentifierLoose})\\.(${numericIdentifierLoose})`,loosePlain=`[v=\\s]*${mainVersionLoose}${preReleaseLoose}?${build}?`,gtlt="((?:<|>)?=?)",comparatorTrim=`(\\s*)${gtlt}\\s*(${loosePlain}|${xRangePlain})`,loneTilde="(?:~>?)",tildeTrim=`(\\s*)${loneTilde}\\s+`,loneCaret="(?:\\^)",caretTrim=`(\\s*)${loneCaret}\\s+`,star="(<|>)?=?\\s*\\*",caret=`^${loneCaret}${xRangePlain}$`,mainVersion=`(${numericIdentifier})\\.(${numericIdentifier})\\.(${numericIdentifier})`,fullPlain=`v?${mainVersion}${preRelease}?${build}?`,tilde=`^${loneTilde}${xRangePlain}$`,xRange=`^${gtlt}\\s*${xRangePlain}$`,comparator=`^${gtlt}\\s*(${fullPlain})$|^$`,gte0="^\\s*>=\\s*0.0.0\\s*$";function parseRegex(r){return new RegExp(r)}function isXVersion(r){return!r||r.toLowerCase()==="x"||r==="*"}function pipe(...r){return s=>r.reduce((sf,Nf)=>Nf(sf),s)}function extractComparator(r){return r.match(parseRegex(comparator))}function combineVersion(r,s,sf,Nf){const ip=`${r}.${s}.${sf}`;return Nf?`${ip}-${Nf}`:ip}function parseHyphen(r){return r.replace(parseRegex(hyphenRange),(s,sf,Nf,ip,em,tm,nm,rm,om,im,am,sm)=>(isXVersion(Nf)?sf="":isXVersion(ip)?sf=`>=${Nf}.0.0`:isXVersion(em)?sf=`>=${Nf}.${ip}.0`:sf=`>=${sf}`,isXVersion(om)?rm="":isXVersion(im)?rm=`<${Number(om)+1}.0.0-0`:isXVersion(am)?rm=`<${om}.${Number(im)+1}.0-0`:sm?rm=`<=${om}.${im}.${am}-${sm}`:rm=`<=${rm}`,`${sf} ${rm}`.trim()))}function parseComparatorTrim(r){return r.replace(parseRegex(comparatorTrim),"$1$2$3")}function parseTildeTrim(r){return r.replace(parseRegex(tildeTrim),"$1~")}function parseCaretTrim(r){return r.replace(parseRegex(caretTrim),"$1^")}function parseCarets(r){return r.trim().split(/\s+/).map(s=>s.replace(parseRegex(caret),(sf,Nf,ip,em,tm)=>isXVersion(Nf)?"":isXVersion(ip)?`>=${Nf}.0.0 <${Number(Nf)+1}.0.0-0`:isXVersion(em)?Nf==="0"?`>=${Nf}.${ip}.0 <${Nf}.${Number(ip)+1}.0-0`:`>=${Nf}.${ip}.0 <${Number(Nf)+1}.0.0-0`:tm?Nf==="0"?ip==="0"?`>=${Nf}.${ip}.${em}-${tm} <${Nf}.${ip}.${Number(em)+1}-0`:`>=${Nf}.${ip}.${em}-${tm} <${Nf}.${Number(ip)+1}.0-0`:`>=${Nf}.${ip}.${em}-${tm} <${Number(Nf)+1}.0.0-0`:Nf==="0"?ip==="0"?`>=${Nf}.${ip}.${em} <${Nf}.${ip}.${Number(em)+1}-0`:`>=${Nf}.${ip}.${em} <${Nf}.${Number(ip)+1}.0-0`:`>=${Nf}.${ip}.${em} <${Number(Nf)+1}.0.0-0`)).join(" ")}function parseTildes(r){return r.trim().split(/\s+/).map(s=>s.replace(parseRegex(tilde),(sf,Nf,ip,em,tm)=>isXVersion(Nf)?"":isXVersion(ip)?`>=${Nf}.0.0 <${Number(Nf)+1}.0.0-0`:isXVersion(em)?`>=${Nf}.${ip}.0 <${Nf}.${Number(ip)+1}.0-0`:tm?`>=${Nf}.${ip}.${em}-${tm} <${Nf}.${Number(ip)+1}.0-0`:`>=${Nf}.${ip}.${em} <${Nf}.${Number(ip)+1}.0-0`)).join(" ")}function parseXRanges(r){return r.split(/\s+/).map(s=>s.trim().replace(parseRegex(xRange),(sf,Nf,ip,em,tm,nm)=>{const rm=isXVersion(ip),om=rm||isXVersion(em),im=om||isXVersion(tm);return Nf==="="&&im&&(Nf=""),nm="",rm?Nf===">"||Nf==="<"?"<0.0.0-0":"*":Nf&&im?(om&&(em=0),tm=0,Nf===">"?(Nf=">=",om?(ip=Number(ip)+1,em=0,tm=0):(em=Number(em)+1,tm=0)):Nf==="<="&&(Nf="<",om?ip=Number(ip)+1:em=Number(em)+1),Nf==="<"&&(nm="-0"),`${Nf+ip}.${em}.${tm}${nm}`):om?`>=${ip}.0.0${nm} <${Number(ip)+1}.0.0-0`:im?`>=${ip}.${em}.0${nm} <${ip}.${Number(em)+1}.0-0`:sf})).join(" ")}function parseStar(r){return r.trim().replace(parseRegex(star),"")}function parseGTE0(r){return r.trim().replace(parseRegex(gte0),"")}function compareAtom(r,s){return r=Number(r)||r,s=Number(s)||s,r>s?1:r===s?0:-1}function comparePreRelease(r,s){const{preRelease:sf}=r,{preRelease:Nf}=s;if(sf===void 0&&Nf)return 1;if(sf&&Nf===void 0)return-1;if(sf===void 0&&Nf===void 0)return 0;for(let ip=0,em=sf.length;ip<=em;ip++){const tm=sf[ip],nm=Nf[ip];if(tm!==nm)return tm===void 0&&nm===void 0?0:tm?nm?compareAtom(tm,nm):-1:1}return 0}function compareVersion(r,s){return compareAtom(r.major,s.major)||compareAtom(r.minor,s.minor)||compareAtom(r.patch,s.patch)||comparePreRelease(r,s)}function eq(r,s){return r.version===s.version}function compare(r,s){switch(r.operator){case"":case"=":return eq(r,s);case">":return compareVersion(r,s)<0;case">=":return eq(r,s)||compareVersion(r,s)<0;case"<":return compareVersion(r,s)>0;case"<=":return eq(r,s)||compareVersion(r,s)>0;case void 0:return!0;default:return!1}}function parseComparatorString(r){return pipe(parseCarets,parseTildes,parseXRanges,parseStar)(r)}function parseRange(r){return pipe(parseHyphen,parseComparatorTrim,parseTildeTrim,parseCaretTrim)(r.trim()).split(/\s+/).join(" ")}function satisfy(r,s){if(!r)return!1;const sf=parseRange(s).split(" ").map(im=>parseComparatorString(im)).join(" ").split(/\s+/).map(im=>parseGTE0(im)),Nf=extractComparator(r);if(!Nf)return!1;const[,ip,,em,tm,nm,rm]=Nf,om={version:combineVersion(em,tm,nm,rm),major:em,minor:tm,patch:nm,preRelease:rm?.split(".")};for(const im of sf){const am=extractComparator(im);if(!am)return!1;const[,sm,,cm,hm,fm,pm]=am,mm={operator:sm,version:combineVersion(cm,hm,fm,pm),major:cm,minor:hm,patch:fm,preRelease:pm?.split(".")};if(!compare(mm,om))return!1}return!0}function _extends$6(){return _extends$6=Object.assign||function(r){for(var s=1;s<arguments.length;s++){var sf=arguments[s];for(var Nf in sf)Object.prototype.hasOwnProperty.call(sf,Nf)&&(r[Nf]=sf[Nf])}return r},_extends$6.apply(this,arguments)}function formatShare(r,s){let sf;return"get"in r?sf=r.get:sf=()=>Promise.resolve(r.lib),_extends$6({deps:[],useIn:[],from:s,loading:null},r,{shareConfig:_extends$6({requiredVersion:`^${r.version}`,singleton:!1,eager:!1,strictVersion:!1},r.shareConfig),get:sf,loaded:"lib"in r?!0:void 0,scope:Array.isArray(r.scope)?r.scope:["default"],strategy:r.strategy||"version-first"})}function formatShareConfigs(r,s){return r?Object.keys(r).reduce((sf,Nf)=>(sf[Nf]=formatShare(r[Nf],s),sf),{}):{}}function versionLt(r,s){const sf=Nf=>{if(!Number.isNaN(Number(Nf))){const ip=Nf.split(".");let em=Nf;for(let tm=0;tm<3-ip.length;tm++)em+=".0";return em}return Nf};return!!satisfy(sf(r),`<=${sf(s)}`)}const findVersion=(r,s,sf,Nf)=>{const ip=r[s][sf],em=Nf||function(tm,nm){return versionLt(tm,nm)};return Object.keys(ip).reduce((tm,nm)=>!tm||em(tm,nm)||tm==="0"?nm:tm,0)},isLoaded=r=>!!r.loaded||typeof r.lib=="function";function findSingletonVersionOrderByVersion(r,s,sf){const Nf=r[s][sf];return findVersion(r,s,sf,function(ip,em){return!isLoaded(Nf[ip])&&versionLt(ip,em)})}function findSingletonVersionOrderByLoaded(r,s,sf){const Nf=r[s][sf];return findVersion(r,s,sf,function(ip,em){return isLoaded(Nf[em])?isLoaded(Nf[ip])?!!versionLt(ip,em):!0:isLoaded(Nf[ip])?!1:versionLt(ip,em)})}function getFindShareFunction(r){return r==="loaded-first"?findSingletonVersionOrderByLoaded:findSingletonVersionOrderByVersion}function getRegisteredShare(r,s,sf,Nf){if(!r)return;const{shareConfig:ip,scope:em=DEFAULT_SCOPE,strategy:tm}=sf,nm=Array.isArray(em)?em:[em];for(const rm of nm)if(ip&&r[rm]&&r[rm][s]){const{requiredVersion:om}=ip,im=getFindShareFunction(tm)(r,rm,s),am=()=>{if(ip.singleton){if(typeof om=="string"&&!satisfy(im,om)){const cm=`Version ${im} from ${im&&r[rm][s][im].from} of shared singleton module ${s} does not satisfy the requirement of ${sf.from} which needs ${om})`;ip.strictVersion?error(cm):warn$1(cm)}return r[rm][s][im]}else{if(om===!1||om==="*"||satisfy(im,om))return r[rm][s][im];for(const[cm,hm]of Object.entries(r[rm][s]))if(satisfy(cm,om))return hm}},sm={shareScopeMap:r,scope:rm,pkgName:s,version:im,GlobalFederation:Global.__FEDERATION__,resolver:am};return(Nf.emit(sm)||sm).resolver()}}function getGlobalShareScope(){return Global.__FEDERATION__.__SHARE__}function _define_property$3(r,s,sf){return s in r?Object.defineProperty(r,s,{value:sf,enumerable:!0,configurable:!0,writable:!0}):r[s]=sf,r}var MANIFEST_EXT=".json",BROWSER_LOG_KEY="FEDERATION_DEBUG",BROWSER_LOG_VALUE="1",NameTransformSymbol={AT:"@",HYPHEN:"-",SLASH:"/"},_obj,NameTransformMap=(_obj={},_define_property$3(_obj,NameTransformSymbol.AT,"scope_"),_define_property$3(_obj,NameTransformSymbol.HYPHEN,"_"),_define_property$3(_obj,NameTransformSymbol.SLASH,"__"),_obj),_obj1;_obj1={},_define_property$3(_obj1,NameTransformMap[NameTransformSymbol.AT],NameTransformSymbol.AT),_define_property$3(_obj1,NameTransformMap[NameTransformSymbol.HYPHEN],NameTransformSymbol.HYPHEN),_define_property$3(_obj1,NameTransformMap[NameTransformSymbol.SLASH],NameTransformSymbol.SLASH);var SEPARATOR$1=":";function isBrowserEnv(){return typeof window<"u"}function isDebugMode(){return typeof process<"u"&&process.env&&process.env.FEDERATION_DEBUG?!!process.env.FEDERATION_DEBUG:typeof FEDERATION_DEBUG<"u"&&!!FEDERATION_DEBUG}function _array_like_to_array$2(r,s){(s==null||s>r.length)&&(s=r.length);for(var sf=0,Nf=new Array(s);sf<s;sf++)Nf[sf]=r[sf];return Nf}function _array_without_holes(r){if(Array.isArray(r))return _array_like_to_array$2(r)}function _class_call_check(r,s){if(!(r instanceof s))throw new TypeError("Cannot call a class as a function")}function _defineProperties(r,s){for(var sf=0;sf<s.length;sf++){var Nf=s[sf];Nf.enumerable=Nf.enumerable||!1,Nf.configurable=!0,"value"in Nf&&(Nf.writable=!0),Object.defineProperty(r,Nf.key,Nf)}}function _create_class(r,s,sf){return s&&_defineProperties(r.prototype,s),r}function _define_property$2(r,s,sf){return s in r?Object.defineProperty(r,s,{value:sf,enumerable:!0,configurable:!0,writable:!0}):r[s]=sf,r}function _iterable_to_array$1(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function _non_iterable_spread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _to_consumable_array(r){return _array_without_holes(r)||_iterable_to_array$1(r)||_unsupported_iterable_to_array$2(r)||_non_iterable_spread()}function _unsupported_iterable_to_array$2(r,s){if(r){if(typeof r=="string")return _array_like_to_array$2(r,s);var sf=Object.prototype.toString.call(r).slice(8,-1);if(sf==="Object"&&r.constructor&&(sf=r.constructor.name),sf==="Map"||sf==="Set")return Array.from(sf);if(sf==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(sf))return _array_like_to_array$2(r,s)}}function safeToString(r){try{return JSON.stringify(r,null,2)}catch{return""}}var DEBUG_LOG="[ FEDERATION DEBUG ]";function safeGetLocalStorageItem(){try{if(typeof window<"u"&&window.localStorage)return localStorage.getItem(BROWSER_LOG_KEY)===BROWSER_LOG_VALUE}catch{return typeof document<"u"}return!1}var Logger=function(){function r(s){_class_call_check(this,r),_define_property$2(this,"enable",!1),_define_property$2(this,"identifier",void 0),this.identifier=s||DEBUG_LOG,isBrowserEnv()&&safeGetLocalStorageItem()?this.enable=!0:isDebugMode()&&(this.enable=!0)}return _create_class(r,[{key:"info",value:function(s,sf){if(this.enable){var Nf=safeToString(sf)||"";isBrowserEnv()?console.info("%c ".concat(this.identifier,": ").concat(s," ").concat(Nf),"color:#3300CC"):console.info("\x1b[34m%s","".concat(this.identifier,": ").concat(s," ").concat(Nf?`
`.concat(Nf):""))}}},{key:"logOriginalInfo",value:function(){for(var s=arguments.length,sf=new Array(s),Nf=0;Nf<s;Nf++)sf[Nf]=arguments[Nf];if(this.enable)if(isBrowserEnv()){var ip;console.info("%c ".concat(this.identifier,": OriginalInfo"),"color:#3300CC"),(ip=console).log.apply(ip,_to_consumable_array(sf))}else{var em;console.info("%c ".concat(this.identifier,": OriginalInfo"),"color:#3300CC"),(em=console).log.apply(em,_to_consumable_array(sf))}}}]),r}(),LOG_CATEGORY="[ Federation Runtime ]";new Logger;var composeKeyWithSeparator=function(){for(var r=arguments.length,s=new Array(r),sf=0;sf<r;sf++)s[sf]=arguments[sf];return s.length?s.reduce(function(Nf,ip){return ip?Nf?"".concat(Nf).concat(SEPARATOR$1).concat(ip):ip:Nf},""):""},getResourceUrl=function(r,s){if("getPublicPath"in r){var sf=new Function(r.getPublicPath)();return"".concat(sf).concat(s)}else return"publicPath"in r?"".concat(r.publicPath).concat(s):(console.warn("Can not get resource url, if in debug mode, please ignore",r,s),"")},warn=function(r){console.warn("".concat(LOG_CATEGORY,": ").concat(r))};function _define_property$1(r,s,sf){return s in r?Object.defineProperty(r,s,{value:sf,enumerable:!0,configurable:!0,writable:!0}):r[s]=sf,r}function _object_spread$1(r){for(var s=1;s<arguments.length;s++){var sf=arguments[s]!=null?arguments[s]:{},Nf=Object.keys(sf);typeof Object.getOwnPropertySymbols=="function"&&(Nf=Nf.concat(Object.getOwnPropertySymbols(sf).filter(function(ip){return Object.getOwnPropertyDescriptor(sf,ip).enumerable}))),Nf.forEach(function(ip){_define_property$1(r,ip,sf[ip])})}return r}function ownKeys(r,s){var sf=Object.keys(r);if(Object.getOwnPropertySymbols){var Nf=Object.getOwnPropertySymbols(r);sf.push.apply(sf,Nf)}return sf}function _object_spread_props(r,s){return s=s??{},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(s)):ownKeys(Object(s)).forEach(function(sf){Object.defineProperty(r,sf,Object.getOwnPropertyDescriptor(s,sf))}),r}var simpleJoinRemoteEntry=function(r,s){if(!r)return s;var sf=function(ip){if(ip===".")return"";if(ip.startsWith("./"))return ip.replace("./","");if(ip.startsWith("/")){var em=ip.slice(1);return em.endsWith("/")?em.slice(0,-1):em}return ip},Nf=sf(r);return Nf?Nf.endsWith("/")?"".concat(Nf).concat(s):"".concat(Nf,"/").concat(s):s};function generateSnapshotFromManifest(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},sf,Nf,ip=s.remotes,em=ip===void 0?{}:ip,tm=s.overrides,nm=tm===void 0?{}:tm,rm=s.version,om,im=function(){return"publicPath"in r.metaData?r.metaData.publicPath:r.metaData.getPublicPath},am=Object.keys(nm),sm={};if(!Object.keys(em).length){var cm;sm=((cm=r.remotes)===null||cm===void 0?void 0:cm.reduce(function(Im,dm){var gm,km=dm.federationContainerName;return am.includes(km)?gm=nm[km]:"version"in dm?gm=dm.version:gm=dm.entry,Im[km]={matchedVersion:gm},Im},{}))||{}}Object.keys(em).forEach(function(Im){return sm[Im]={matchedVersion:am.includes(Im)?nm[Im]:em[Im]}});var hm=r.metaData,fm=hm.remoteEntry,pm=fm.path,mm=fm.name,_m=fm.type,ym=hm.types,Sm=hm.buildInfo.buildVersion,jm=hm.globalName,Pm=r.exposes,Bm={version:rm||"",buildVersion:Sm,globalName:jm,remoteEntry:simpleJoinRemoteEntry(pm,mm),remoteEntryType:_m,remoteTypes:simpleJoinRemoteEntry(ym.path,ym.name),remoteTypesZip:ym.zip||"",remoteTypesAPI:ym.api||"",remotesInfo:sm,shared:r?.shared.map(function(Im){return{assets:Im.assets,sharedName:Im.name}}),modules:Pm?.map(function(Im){return{moduleName:Im.name,modulePath:Im.path,assets:Im.assets}})};if(!((sf=r.metaData)===null||sf===void 0)&&sf.prefetchInterface){var qm=r.metaData.prefetchInterface;Bm=_object_spread_props(_object_spread$1({},Bm),{prefetchInterface:qm})}if(!((Nf=r.metaData)===null||Nf===void 0)&&Nf.prefetchEntry){var Rm=r.metaData.prefetchEntry,Dm=Rm.path,Um=Rm.name,Lm=Rm.type;Bm=_object_spread_props(_object_spread$1({},Bm),{prefetchEntry:simpleJoinRemoteEntry(Dm,Um),prefetchEntryType:Lm})}return"publicPath"in r.metaData?om=_object_spread_props(_object_spread$1({},Bm),{publicPath:im()}):om=_object_spread_props(_object_spread$1({},Bm),{getPublicPath:im()}),om}function isManifestProvider(r){return!!("remoteEntry"in r&&r.remoteEntry.includes(MANIFEST_EXT))}function asyncGeneratorStep$1(r,s,sf,Nf,ip,em,tm){try{var nm=r[em](tm),rm=nm.value}catch(om){sf(om);return}nm.done?s(rm):Promise.resolve(rm).then(Nf,ip)}function _async_to_generator$1(r){return function(){var s=this,sf=arguments;return new Promise(function(Nf,ip){var em=r.apply(s,sf);function tm(rm){asyncGeneratorStep$1(em,Nf,ip,tm,nm,"next",rm)}function nm(rm){asyncGeneratorStep$1(em,Nf,ip,tm,nm,"throw",rm)}tm(void 0)})}}function _instanceof(r,s){return s!=null&&typeof Symbol<"u"&&s[Symbol.hasInstance]?!!s[Symbol.hasInstance](r):r instanceof s}function _ts_generator$1(r,s){var sf,Nf,ip,em,tm={label:0,sent:function(){if(ip[0]&1)throw ip[1];return ip[1]},trys:[],ops:[]};return em={next:nm(0),throw:nm(1),return:nm(2)},typeof Symbol=="function"&&(em[Symbol.iterator]=function(){return this}),em;function nm(om){return function(im){return rm([om,im])}}function rm(om){if(sf)throw new TypeError("Generator is already executing.");for(;tm;)try{if(sf=1,Nf&&(ip=om[0]&2?Nf.return:om[0]?Nf.throw||((ip=Nf.return)&&ip.call(Nf),0):Nf.next)&&!(ip=ip.call(Nf,om[1])).done)return ip;switch(Nf=0,ip&&(om=[om[0]&2,ip.value]),om[0]){case 0:case 1:ip=om;break;case 4:return tm.label++,{value:om[1],done:!1};case 5:tm.label++,Nf=om[1],om=[0];continue;case 7:om=tm.ops.pop(),tm.trys.pop();continue;default:if(ip=tm.trys,!(ip=ip.length>0&&ip[ip.length-1])&&(om[0]===6||om[0]===2)){tm=0;continue}if(om[0]===3&&(!ip||om[1]>ip[0]&&om[1]<ip[3])){tm.label=om[1];break}if(om[0]===6&&tm.label<ip[1]){tm.label=ip[1],ip=om;break}if(ip&&tm.label<ip[2]){tm.label=ip[2],tm.ops.push(om);break}ip[2]&&tm.ops.pop(),tm.trys.pop();continue}om=s.call(r,tm)}catch(im){om=[6,im],Nf=0}finally{sf=ip=0}if(om[0]&5)throw om[1];return{value:om[0]?om[1]:void 0,done:!0}}}function safeWrapper(r,s){return _safeWrapper.apply(this,arguments)}function _safeWrapper(){return _safeWrapper=_async_to_generator$1(function(r,s){var sf,Nf;return _ts_generator$1(this,function(ip){switch(ip.label){case 0:return ip.trys.push([0,2,,3]),[4,r()];case 1:return sf=ip.sent(),[2,sf];case 2:return Nf=ip.sent(),!s&&warn(Nf),[2];case 3:return[2]}})}),_safeWrapper.apply(this,arguments)}function isStaticResourcesEqual(r,s){var sf=/^(https?:)?\/\//i,Nf=r.replace(sf,"").replace(/\/$/,""),ip=s.replace(sf,"").replace(/\/$/,"");return Nf===ip}function createScript(r,s,sf,Nf){for(var ip=null,em=!0,tm=document.getElementsByTagName("script"),nm=0;nm<tm.length;nm++){var rm=tm[nm],om=rm.getAttribute("src");if(om&&isStaticResourcesEqual(om,r)){ip=rm,em=!1;break}}if(!ip&&(ip=document.createElement("script"),ip.type="text/javascript",ip.src=r,Nf)){var im=Nf(r);_instanceof(im,HTMLScriptElement)&&(ip=im)}sf&&Object.keys(sf).forEach(function(sm){ip&&(sm==="async"||sm==="defer"?ip[sm]=sf[sm]:ip.setAttribute(sm,sf[sm]))});var am=function(sm,cm){if(ip&&(ip.onerror=null,ip.onload=null,safeWrapper(function(){ip!=null&&ip.parentNode&&ip.parentNode.removeChild(ip)}),sm)){var hm=sm(cm);return s(),hm}s()};return ip.onerror=am.bind(null,ip.onerror),ip.onload=am.bind(null,ip.onload),{script:ip,needAttach:em}}function createLink(r,s){for(var sf=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Nf=arguments.length>3?arguments[3]:void 0,ip=null,em=!0,tm=document.getElementsByTagName("link"),nm=0;nm<tm.length;nm++){var rm=tm[nm],om=rm.getAttribute("href"),im=rm.getAttribute("ref");if(om&&isStaticResourcesEqual(om,r)&&im===sf.ref){ip=rm,em=!1;break}}if(!ip&&(ip=document.createElement("link"),ip.setAttribute("href",r),Nf)){var am=Nf(r);_instanceof(am,HTMLLinkElement)&&(ip=am)}sf&&Object.keys(sf).forEach(function(cm){ip&&ip.setAttribute(cm,sf[cm])});var sm=function(cm,hm){if(ip&&(ip.onerror=null,ip.onload=null,safeWrapper(function(){ip!=null&&ip.parentNode&&ip.parentNode.removeChild(ip)}),cm)){var fm=cm(hm);return s(),fm}s()};return ip.onerror=sm.bind(null,ip.onerror),ip.onload=sm.bind(null,ip.onload),{link:ip,needAttach:em}}function loadScript(r,s){var sf=s.attrs,Nf=s.createScriptHook;return new Promise(function(ip,em){var tm=createScript(r,ip,sf,Nf),nm=tm.script,rm=tm.needAttach;rm&&document.getElementsByTagName("head")[0].appendChild(nm)})}function _array_like_to_array(r,s){(s==null||s>r.length)&&(s=r.length);for(var sf=0,Nf=new Array(s);sf<s;sf++)Nf[sf]=r[sf];return Nf}function _array_with_holes(r){if(Array.isArray(r))return r}function asyncGeneratorStep(r,s,sf,Nf,ip,em,tm){try{var nm=r[em](tm),rm=nm.value}catch(om){sf(om);return}nm.done?s(rm):Promise.resolve(rm).then(Nf,ip)}function _async_to_generator(r){return function(){var s=this,sf=arguments;return new Promise(function(Nf,ip){var em=r.apply(s,sf);function tm(rm){asyncGeneratorStep(em,Nf,ip,tm,nm,"next",rm)}function nm(rm){asyncGeneratorStep(em,Nf,ip,tm,nm,"throw",rm)}tm(void 0)})}}function _iterable_to_array_limit(r,s){var sf=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(sf!=null){var Nf=[],ip=!0,em=!1,tm,nm;try{for(sf=sf.call(r);!(ip=(tm=sf.next()).done)&&(Nf.push(tm.value),!(s&&Nf.length===s));ip=!0);}catch(rm){em=!0,nm=rm}finally{try{!ip&&sf.return!=null&&sf.return()}finally{if(em)throw nm}}return Nf}}function _non_iterable_rest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _sliced_to_array(r,s){return _array_with_holes(r)||_iterable_to_array_limit(r,s)||_unsupported_iterable_to_array(r,s)||_non_iterable_rest()}function _unsupported_iterable_to_array(r,s){if(r){if(typeof r=="string")return _array_like_to_array(r,s);var sf=Object.prototype.toString.call(r).slice(8,-1);if(sf==="Object"&&r.constructor&&(sf=r.constructor.name),sf==="Map"||sf==="Set")return Array.from(sf);if(sf==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(sf))return _array_like_to_array(r,s)}}function _ts_generator(r,s){var sf,Nf,ip,em,tm={label:0,sent:function(){if(ip[0]&1)throw ip[1];return ip[1]},trys:[],ops:[]};return em={next:nm(0),throw:nm(1),return:nm(2)},typeof Symbol=="function"&&(em[Symbol.iterator]=function(){return this}),em;function nm(om){return function(im){return rm([om,im])}}function rm(om){if(sf)throw new TypeError("Generator is already executing.");for(;tm;)try{if(sf=1,Nf&&(ip=om[0]&2?Nf.return:om[0]?Nf.throw||((ip=Nf.return)&&ip.call(Nf),0):Nf.next)&&!(ip=ip.call(Nf,om[1])).done)return ip;switch(Nf=0,ip&&(om=[om[0]&2,ip.value]),om[0]){case 0:case 1:ip=om;break;case 4:return tm.label++,{value:om[1],done:!1};case 5:tm.label++,Nf=om[1],om=[0];continue;case 7:om=tm.ops.pop(),tm.trys.pop();continue;default:if(ip=tm.trys,!(ip=ip.length>0&&ip[ip.length-1])&&(om[0]===6||om[0]===2)){tm=0;continue}if(om[0]===3&&(!ip||om[1]>ip[0]&&om[1]<ip[3])){tm.label=om[1];break}if(om[0]===6&&tm.label<ip[1]){tm.label=ip[1],ip=om;break}if(ip&&tm.label<ip[2]){tm.label=ip[2],tm.ops.push(om);break}ip[2]&&tm.ops.pop(),tm.trys.pop();continue}om=s.call(r,tm)}catch(im){om=[6,im],Nf=0}finally{sf=ip=0}if(om[0]&5)throw om[1];return{value:om[0]?om[1]:void 0,done:!0}}}function importNodeModule(r){if(!r)throw new Error("import specifier is required");var s=new Function("name","return import(name)");return s(r).then(function(sf){return sf.default}).catch(function(sf){throw console.error("Error importing module ".concat(r,":"),sf),sf})}function createScriptNode(url,cb,attrs,createScriptHook){if(createScriptHook){var hookResult=createScriptHook(url);hookResult&&typeof hookResult=="object"&&"url"in hookResult&&(url=hookResult.url)}var urlObj;try{urlObj=new URL(url)}catch(r){console.error("Error constructing URL:",r),cb(new Error("Invalid URL: ".concat(r)));return}var getFetch=function(){var r=_async_to_generator(function(){var s;return _ts_generator(this,function(sf){switch(sf.label){case 0:return typeof fetch>"u"?[4,importNodeModule("node-fetch")]:[3,2];case 1:return s=sf.sent(),[2,s?.default||s];case 2:return[2,fetch];case 3:return[2]}})});return function(){return r.apply(this,arguments)}}();console.log("fetching",urlObj.href),getFetch().then(function(f){f(urlObj.href).then(function(r){return r.text()}).then(function(){var _ref=_async_to_generator(function(data){var _ref,path,vm,scriptContext,urlDirname,filename,script,exportedInterface,container;return _ts_generator(this,function(_state){switch(_state.label){case 0:return[4,Promise.all([importNodeModule("path"),importNodeModule("vm")])];case 1:_ref=_sliced_to_array.apply(void 0,[_state.sent(),2]),path=_ref[0],vm=_ref[1],scriptContext={exports:{},module:{exports:{}}},urlDirname=urlObj.pathname.split("/").slice(0,-1).join("/"),filename=path.basename(urlObj.pathname);try{if(script=new vm.Script("(function(exports, module, require, __dirname, __filename) {".concat(data,`
})`),filename),script.runInThisContext()(scriptContext.exports,scriptContext.module,eval("require"),urlDirname,filename),exportedInterface=scriptContext.module.exports||scriptContext.exports,attrs&&exportedInterface&&attrs.globalName)return container=exportedInterface[attrs.globalName]||exportedInterface,cb(void 0,container),[2];cb(void 0,exportedInterface)}catch(r){cb(new Error("Script execution error: ".concat(r)))}return[2]}})});return function(r){return _ref.apply(this,arguments)}}()).catch(function(r){cb(r)})})}function loadScriptNode(r,s){return new Promise(function(sf,Nf){createScriptNode(r,function(ip,em){if(ip)Nf(ip);else{var tm,nm,rm=(s==null||(tm=s.attrs)===null||tm===void 0?void 0:tm.globalName)||"__FEDERATION_".concat(s==null||(nm=s.attrs)===null||nm===void 0?void 0:nm.name,":custom__"),om=globalThis[rm]=em;sf(om)}},s.attrs,s.createScriptHook)})}function matchRemoteWithNameAndExpose(r,s){for(const sf of r){const Nf=s.startsWith(sf.name);let ip=s.replace(sf.name,"");if(Nf){if(ip.startsWith("/")){const nm=sf.name;return ip=`.${ip}`,{pkgNameOrAlias:nm,expose:ip,remote:sf}}else if(ip==="")return{pkgNameOrAlias:sf.name,expose:".",remote:sf}}const em=sf.alias&&s.startsWith(sf.alias);let tm=sf.alias&&s.replace(sf.alias,"");if(sf.alias&&em){if(tm&&tm.startsWith("/")){const nm=sf.alias;return tm=`.${tm}`,{pkgNameOrAlias:nm,expose:tm,remote:sf}}else if(tm==="")return{pkgNameOrAlias:sf.alias,expose:".",remote:sf}}}}function matchRemote(r,s){for(const sf of r)if(s===sf.name||sf.alias&&s===sf.alias)return sf}function registerPlugins(r,s){const sf=getGlobalHostPlugins();sf.length>0&&sf.forEach(Nf=>{r!=null&&r.find(ip=>ip.name!==Nf.name)&&r.push(Nf)}),r&&r.length>0&&r.forEach(Nf=>{s.forEach(ip=>{ip.applyPlugin(Nf)})})}function _extends$5(){return _extends$5=Object.assign||function(r){for(var s=1;s<arguments.length;s++){var sf=arguments[s];for(var Nf in sf)Object.prototype.hasOwnProperty.call(sf,Nf)&&(r[Nf]=sf[Nf])}return r},_extends$5.apply(this,arguments)}async function loadEsmEntry({entry:r,remoteEntryExports:s}){return new Promise((sf,Nf)=>{try{s?sf(s):new Function("callbacks",`import("${r}").then(callbacks[0]).catch(callbacks[1])`)([sf,Nf])}catch(ip){Nf(ip)}})}async function loadEntryScript({name:r,globalName:s,entry:sf,createScriptHook:Nf}){const{entryExports:ip}=getRemoteEntryExports(r,s);return ip||(typeof document>"u"?loadScriptNode(sf,{attrs:{name:r,globalName:s},createScriptHook:Nf}).then(()=>{const{remoteEntryKey:em,entryExports:tm}=getRemoteEntryExports(r,s);return assert$3(tm,`
        Unable to use the ${r}'s '${sf}' URL with ${em}'s globalName to get remoteEntry exports.
        Possible reasons could be:

        1. '${sf}' is not the correct URL, or the remoteEntry resource or name is incorrect.

        2. ${em} cannot be used to get remoteEntry exports in the window object.
      `),tm}).catch(em=>em):loadScript(sf,{attrs:{},createScriptHook:Nf}).then(()=>{const{remoteEntryKey:em,entryExports:tm}=getRemoteEntryExports(r,s);return assert$3(tm,`
      Unable to use the ${r}'s '${sf}' URL with ${em}'s globalName to get remoteEntry exports.
      Possible reasons could be:

      1. '${sf}' is not the correct URL, or the remoteEntry resource or name is incorrect.

      2. ${em} cannot be used to get remoteEntry exports in the window object.
    `),tm}).catch(em=>em))}function getRemoteEntryUniqueKey(r){const{entry:s,name:sf}=r;return composeKeyWithSeparator(sf,s)}async function getRemoteEntry({remoteEntryExports:r,remoteInfo:s,createScriptHook:sf}){const{entry:Nf,name:ip,type:em,entryGlobalName:tm}=s,nm=getRemoteEntryUniqueKey(s);return r||(globalLoading[nm]||(em==="esm"?globalLoading[nm]=loadEsmEntry({entry:Nf,remoteEntryExports:r}):globalLoading[nm]=loadEntryScript({name:ip,globalName:tm,entry:Nf,createScriptHook:sf})),globalLoading[nm])}function getRemoteInfo(r){return _extends$5({},r,{entry:"entry"in r?r.entry:"",type:r.type||DEFAULT_REMOTE_TYPE,entryGlobalName:r.entryGlobalName||r.name,shareScope:r.shareScope||DEFAULT_SCOPE})}function _extends$4(){return _extends$4=Object.assign||function(r){for(var s=1;s<arguments.length;s++){var sf=arguments[s];for(var Nf in sf)Object.prototype.hasOwnProperty.call(sf,Nf)&&(r[Nf]=sf[Nf])}return r},_extends$4.apply(this,arguments)}let Module=class{async getEntry(){if(this.remoteEntryExports)return this.remoteEntryExports;const r=await getRemoteEntry({remoteInfo:this.remoteInfo,remoteEntryExports:this.remoteEntryExports,createScriptHook:s=>{const sf=this.host.loaderHook.lifecycle.createScript.emit({url:s});if(typeof document>"u"||sf instanceof HTMLScriptElement)return sf}});return assert$3(r,`remoteEntryExports is undefined 
 ${safeToString$1(this.remoteInfo)}`),this.remoteEntryExports=r,this.remoteEntryExports}async get(r,s){const{loadFactory:sf=!0}=s||{loadFactory:!0},Nf=await this.getEntry();if(!this.inited){const em=this.host.shareScopeMap,tm=this.remoteInfo.shareScope||"default";em[tm]||(em[tm]={});const nm=em[tm],rm=[],om={version:this.remoteInfo.version||""};Object.defineProperty(om,"hostId",{value:this.host.options.id||this.host.name,enumerable:!1});const im=await this.host.hooks.lifecycle.beforeInitContainer.emit({shareScope:nm,remoteEntryInitOptions:om,initScope:rm,remoteInfo:this.remoteInfo,origin:this.host});await Nf.init(im.shareScope,im.initScope,im.remoteEntryInitOptions),await this.host.hooks.lifecycle.initContainer.emit(_extends$4({},im,{remoteEntryExports:Nf}))}this.lib=Nf,this.inited=!0;const ip=await Nf.get(r);return assert$3(ip,`${getFMId(this.remoteInfo)} remote don't export ${r}.`),sf?await ip():ip}constructor({remoteInfo:r,host:s}){this.inited=!1,this.lib=void 0,this.remoteInfo=r,this.host=s}};class SyncHook{on(s){typeof s=="function"&&this.listeners.add(s)}once(s){const sf=this;this.on(function Nf(...ip){return sf.remove(Nf),s.apply(null,ip)})}emit(...s){let sf;return this.listeners.size>0&&this.listeners.forEach(Nf=>{sf=Nf(...s)}),sf}remove(s){this.listeners.delete(s)}removeAll(){this.listeners.clear()}constructor(s){this.type="",this.listeners=new Set,s&&(this.type=s)}}class AsyncHook extends SyncHook{emit(...s){let sf;const Nf=Array.from(this.listeners);if(Nf.length>0){let ip=0;const em=tm=>tm===!1?!1:ip<Nf.length?Promise.resolve(Nf[ip++].apply(null,s)).then(em):tm;sf=em()}return Promise.resolve(sf)}}function checkReturnData(r,s){if(!isObject$2(s))return!1;if(r!==s){for(const sf in r)if(!(sf in s))return!1}return!0}class SyncWaterfallHook extends SyncHook{emit(s){isObject$2(s)||error(`The data for the "${this.type}" hook should be an object.`);for(const sf of this.listeners)try{const Nf=sf(s);if(checkReturnData(s,Nf))s=Nf;else{this.onerror(`A plugin returned an unacceptable value for the "${this.type}" type.`);break}}catch(Nf){warn$1(Nf),this.onerror(Nf)}return s}constructor(s){super(),this.onerror=error,this.type=s}}class AsyncWaterfallHook extends SyncHook{emit(s){isObject$2(s)||error(`The response data for the "${this.type}" hook must be an object.`);const sf=Array.from(this.listeners);if(sf.length>0){let Nf=0;const ip=tm=>(warn$1(tm),this.onerror(tm),s),em=tm=>{if(checkReturnData(s,tm)){if(s=tm,Nf<sf.length)try{return Promise.resolve(sf[Nf++](s)).then(em,ip)}catch(nm){return ip(nm)}}else this.onerror(`A plugin returned an incorrect value for the "${this.type}" type.`);return s};return Promise.resolve(em(s))}return Promise.resolve(s)}constructor(s){super(),this.onerror=error,this.type=s}}class PluginSystem{applyPlugin(s){assert$3(isPlainObject(s),"Plugin configuration is invalid.");const sf=s.name;assert$3(sf,"A name must be provided by the plugin."),this.registerPlugins[sf]||(this.registerPlugins[sf]=s,Object.keys(this.lifecycle).forEach(Nf=>{const ip=s[Nf];ip&&this.lifecycle[Nf].on(ip)}))}removePlugin(s){assert$3(s,"A name is required.");const sf=this.registerPlugins[s];assert$3(sf,`The plugin "${s}" is not registered.`),Object.keys(sf).forEach(Nf=>{Nf!=="name"&&this.lifecycle[Nf].remove(sf[Nf])})}inherit({lifecycle:s,registerPlugins:sf}){Object.keys(s).forEach(Nf=>{assert$3(!this.lifecycle[Nf],`The hook "${Nf}" has a conflict and cannot be inherited.`),this.lifecycle[Nf]=s[Nf]}),Object.keys(sf).forEach(Nf=>{assert$3(!this.registerPlugins[Nf],`The plugin "${Nf}" has a conflict and cannot be inherited.`),this.applyPlugin(sf[Nf])})}constructor(s){this.registerPlugins={},this.lifecycle=s,this.lifecycleKeys=Object.keys(s)}}function _extends$3(){return _extends$3=Object.assign||function(r){for(var s=1;s<arguments.length;s++){var sf=arguments[s];for(var Nf in sf)Object.prototype.hasOwnProperty.call(sf,Nf)&&(r[Nf]=sf[Nf])}return r},_extends$3.apply(this,arguments)}function defaultPreloadArgs(r){return _extends$3({resourceCategory:"sync",share:!0,depsRemote:!0,prefetchInterface:!1},r)}function formatPreloadArgs(r,s){return s.map(sf=>{const Nf=matchRemote(r,sf.nameOrAlias);return assert$3(Nf,`Unable to preload ${sf.nameOrAlias} as it is not included in ${!Nf&&safeToString$1({remoteInfo:Nf,remotes:r})}`),{remote:Nf,preloadConfig:defaultPreloadArgs(sf)}})}function normalizePreloadExposes(r){return r?r.map(s=>s==="."?s:s.startsWith("./")?s.replace("./",""):s):[]}function preloadAssets(r,s,sf){const{cssAssets:Nf,jsAssetsWithoutEntry:ip,entryAssets:em}=sf;if(s.options.inBrowser){em.forEach(nm=>{const{moduleInfo:rm}=nm,om=s.moduleCache.get(r.name);getRemoteEntry(om?{remoteInfo:rm,remoteEntryExports:om.remoteEntryExports,createScriptHook:im=>{const am=s.loaderHook.lifecycle.createScript.emit({url:im});if(am instanceof HTMLScriptElement)return am}}:{remoteInfo:rm,remoteEntryExports:void 0,createScriptHook:im=>{const am=s.loaderHook.lifecycle.createScript.emit({url:im});if(am instanceof HTMLScriptElement)return am}})});const tm=document.createDocumentFragment();Nf.forEach(nm=>{const{link:rm,needAttach:om}=createLink(nm,()=>{},{rel:"preload",as:"style"},im=>{const am=s.loaderHook.lifecycle.createLink.emit({url:im});if(am instanceof HTMLLinkElement)return am});om&&tm.appendChild(rm)}),ip.forEach(nm=>{const{link:rm,needAttach:om}=createLink(nm,()=>{},{rel:"preload",as:"script"},im=>{const am=s.loaderHook.lifecycle.createLink.emit({url:im});if(am instanceof HTMLLinkElement)return am});om&&document.head.appendChild(rm)}),document.head.appendChild(tm)}}function _extends$2(){return _extends$2=Object.assign||function(r){for(var s=1;s<arguments.length;s++){var sf=arguments[s];for(var Nf in sf)Object.prototype.hasOwnProperty.call(sf,Nf)&&(r[Nf]=sf[Nf])}return r},_extends$2.apply(this,arguments)}function assignRemoteInfo(r,s){(!("remoteEntry"in s)||!s.remoteEntry)&&error(`The attribute remoteEntry of ${name} must not be undefined.`);const{remoteEntry:sf}=s,Nf=getResourceUrl(s,sf);r.type=s.remoteEntryType,r.entryGlobalName=s.globalName,r.entry=Nf,r.version=s.version,r.buildVersion=s.buildVersion}function snapshotPlugin(){return{name:"snapshot-plugin",async afterResolve(r){const{remote:s,pkgNameOrAlias:sf,expose:Nf,origin:ip,remoteInfo:em}=r;if(!isRemoteInfoWithEntry(s)||!isPureRemoteEntry(s)){const{remoteSnapshot:tm,globalSnapshot:nm}=await ip.snapshotHandler.loadRemoteSnapshotInfo(s);assignRemoteInfo(em,tm);const rm={remote:s,preloadConfig:{nameOrAlias:sf,exposes:[Nf],resourceCategory:"sync",share:!1,depsRemote:!1}},om=await ip.hooks.lifecycle.generatePreloadAssets.emit({origin:ip,preloadOptions:rm,remoteInfo:em,remote:s,remoteSnapshot:tm,globalSnapshot:nm});return om&&preloadAssets(em,ip,om),_extends$2({},r,{remoteSnapshot:tm})}return r}}}function splitId(r){const s=r.split(":");return s.length===1?{name:s[0],version:void 0}:s.length===2?{name:s[0],version:s[1]}:{name:s[1],version:s[2]}}function traverseModuleInfo(r,s,sf,Nf,ip={},em){const tm=getFMId(s),{value:nm}=getInfoWithoutType(r,tm),rm=em||nm;if(rm&&!isManifestProvider(rm)&&(sf(rm,s,Nf),rm.remotesInfo)){const om=Object.keys(rm.remotesInfo);for(const im of om){if(ip[im])continue;ip[im]=!0;const am=splitId(im),sm=rm.remotesInfo[im];traverseModuleInfo(r,{name:am.name,version:sm.matchedVersion},sf,!1,ip,void 0)}}}function generatePreloadAssets(r,s,sf,Nf,ip){const em=[],tm=[],nm=[],rm=new Set,om=new Set,{options:im}=r,{preloadConfig:am}=s,{depsRemote:sm}=am;traverseModuleInfo(Nf,sf,(hm,fm,pm)=>{let mm;if(pm)mm=am;else if(Array.isArray(sm)){const Bm=sm.find(qm=>qm.nameOrAlias===fm.name||qm.nameOrAlias===fm.alias);if(!Bm)return;mm=defaultPreloadArgs(Bm)}else if(sm===!0)mm=am;else return;const _m=getResourceUrl(hm,"remoteEntry"in hm?hm.remoteEntry:"");_m&&nm.push({name:fm.name,moduleInfo:{name:fm.name,entry:_m,type:"remoteEntryType"in hm?hm.remoteEntryType:"global",entryGlobalName:"globalName"in hm?hm.globalName:fm.name,shareScope:"",version:"version"in hm?hm.version:void 0},url:_m});let ym="modules"in hm?hm.modules:[];const Sm=normalizePreloadExposes(mm.exposes);if(Sm.length&&"modules"in hm){var jm;ym=hm==null||(jm=hm.modules)==null?void 0:jm.reduce((Bm,qm)=>(Sm?.indexOf(qm.moduleName)!==-1&&Bm.push(qm),Bm),[])}function Pm(Bm){const qm=Bm.map(Rm=>getResourceUrl(hm,Rm));return mm.filter?qm.filter(mm.filter):qm}if(ym){const Bm=ym.length;for(let qm=0;qm<Bm;qm++){const Rm=ym[qm],Dm=`${fm.name}/${Rm.moduleName}`;r.hooks.lifecycle.handlePreloadModule.emit({id:Rm.moduleName==="."?fm.name:Dm,name:fm.name,remoteSnapshot:hm,preloadConfig:mm,remote:fm,origin:r}),!getPreloaded(Dm)&&(mm.resourceCategory==="all"?(em.push(...Pm(Rm.assets.css.async)),em.push(...Pm(Rm.assets.css.sync)),tm.push(...Pm(Rm.assets.js.async)),tm.push(...Pm(Rm.assets.js.sync))):(mm.resourceCategory="sync")&&(em.push(...Pm(Rm.assets.css.sync)),tm.push(...Pm(Rm.assets.js.sync))),setPreloaded(Dm))}}},!0,{},ip),ip.shared&&ip.shared.forEach(hm=>{var fm;const pm=(fm=im.shared)==null?void 0:fm[hm.sharedName];if(!pm)return;const mm=getRegisteredShare(r.shareScopeMap,hm.sharedName,pm,r.hooks.lifecycle.resolveShare);mm&&typeof mm.lib=="function"&&(hm.assets.js.sync.forEach(_m=>{rm.add(_m)}),hm.assets.css.sync.forEach(_m=>{om.add(_m)}))});const cm=tm.filter(hm=>!rm.has(hm));return{cssAssets:em.filter(hm=>!om.has(hm)),jsAssetsWithoutEntry:cm,entryAssets:nm}}const generatePreloadAssetsPlugin=function(){return{name:"generate-preload-assets-plugin",async generatePreloadAssets(r){const{origin:s,preloadOptions:sf,remoteInfo:Nf,remote:ip,globalSnapshot:em,remoteSnapshot:tm}=r;return isRemoteInfoWithEntry(ip)&&isPureRemoteEntry(ip)?{cssAssets:[],jsAssetsWithoutEntry:[],entryAssets:[{name:ip.name,url:ip.entry,moduleInfo:{name:Nf.name,entry:ip.entry,type:"global",entryGlobalName:"",shareScope:""}}]}:(assignRemoteInfo(Nf,tm),generatePreloadAssets(s,sf,Nf,em,tm))}}};function _extends$1(){return _extends$1=Object.assign||function(r){for(var s=1;s<arguments.length;s++){var sf=arguments[s];for(var Nf in sf)Object.prototype.hasOwnProperty.call(sf,Nf)&&(r[Nf]=sf[Nf])}return r},_extends$1.apply(this,arguments)}class SnapshotHandler{async loadSnapshot(s){const{options:sf}=this.HostInstance,{hostGlobalSnapshot:Nf,remoteSnapshot:ip,globalSnapshot:em}=this.getGlobalRemoteInfo(s),{remoteSnapshot:tm,globalSnapshot:nm}=await this.hooks.lifecycle.loadSnapshot.emit({options:sf,moduleInfo:s,hostGlobalSnapshot:Nf,remoteSnapshot:ip,globalSnapshot:em});return{remoteSnapshot:tm,globalSnapshot:nm}}async loadRemoteSnapshotInfo(s){const{options:sf}=this.HostInstance;await this.hooks.lifecycle.beforeLoadRemoteSnapshot.emit({options:sf,moduleInfo:s});let Nf=getGlobalSnapshotInfoByModuleInfo({name:this.HostInstance.options.name,version:this.HostInstance.options.version});Nf||(Nf={version:this.HostInstance.options.version||"",remoteEntry:"",remotesInfo:{}},addGlobalSnapshot({[this.HostInstance.options.name]:Nf})),Nf&&"remotesInfo"in Nf&&!getInfoWithoutType(Nf.remotesInfo,s.name).value&&("version"in s||"entry"in s)&&(Nf.remotesInfo=_extends$1({},Nf?.remotesInfo,{[s.name]:{matchedVersion:"version"in s?s.version:s.entry}}));const{hostGlobalSnapshot:ip,remoteSnapshot:em,globalSnapshot:tm}=this.getGlobalRemoteInfo(s),{remoteSnapshot:nm,globalSnapshot:rm}=await this.hooks.lifecycle.loadSnapshot.emit({options:sf,moduleInfo:s,hostGlobalSnapshot:ip,remoteSnapshot:em,globalSnapshot:tm});if(nm)if(isManifestProvider(nm)){const om=await this.getManifestJson(nm.remoteEntry,s,{}),im=setGlobalSnapshotInfoByModuleInfo(_extends$1({},s,{entry:nm.remoteEntry}),om);return{remoteSnapshot:om,globalSnapshot:im}}else{const{remoteSnapshot:om}=await this.hooks.lifecycle.loadRemoteSnapshot.emit({options:this.HostInstance.options,moduleInfo:s,remoteSnapshot:nm,from:"global"});return{remoteSnapshot:om,globalSnapshot:rm}}else if(isRemoteInfoWithEntry(s)){const om=await this.getManifestJson(s.entry,s,{}),im=setGlobalSnapshotInfoByModuleInfo(s,om),{remoteSnapshot:am}=await this.hooks.lifecycle.loadRemoteSnapshot.emit({options:this.HostInstance.options,moduleInfo:s,remoteSnapshot:om,from:"global"});return{remoteSnapshot:am,globalSnapshot:im}}else error(`
          Cannot get remoteSnapshot with the name: '${s.name}', version: '${s.version}' from __FEDERATION__.moduleInfo. The following reasons may be causing the problem:

          1. The Deploy platform did not deliver the correct data. You can use __FEDERATION__.moduleInfo to check the remoteInfo.

          2. The remote '${s.name}' version '${s.version}' is not released.

          The transformed module info: ${JSON.stringify(rm)}
        `)}getGlobalRemoteInfo(s){const sf=getGlobalSnapshotInfoByModuleInfo({name:this.HostInstance.options.name,version:this.HostInstance.options.version}),Nf=sf&&"remotesInfo"in sf&&sf.remotesInfo&&getInfoWithoutType(sf.remotesInfo,s.name).value;return Nf&&Nf.matchedVersion?{hostGlobalSnapshot:sf,globalSnapshot:getGlobalSnapshot(),remoteSnapshot:getGlobalSnapshotInfoByModuleInfo({name:s.name,version:Nf.matchedVersion})}:{hostGlobalSnapshot:void 0,globalSnapshot:getGlobalSnapshot(),remoteSnapshot:getGlobalSnapshotInfoByModuleInfo({name:s.name,version:"version"in s?s.version:void 0})}}async getManifestJson(s,sf,Nf){const ip=async()=>{let tm=this.manifestCache.get(s);if(tm)return tm;try{let nm=await this.loaderHook.lifecycle.fetch.emit(s,{});return(!nm||!(nm instanceof Response))&&(nm=await fetch(s,{})),tm=await nm.json(),assert$3(tm.metaData&&tm.exposes&&tm.shared,`${s} is not a federation manifest`),this.manifestCache.set(s,tm),tm}catch(nm){error(`Failed to get manifestJson for ${sf.name}. The manifest URL is ${s}. Please ensure that the manifestUrl is accessible.
          
 Error message:
          
 ${nm}`)}},em=async()=>{const tm=await ip(),nm=generateSnapshotFromManifest(tm,{version:s}),{remoteSnapshot:rm}=await this.hooks.lifecycle.loadRemoteSnapshot.emit({options:this.HostInstance.options,moduleInfo:sf,manifestJson:tm,remoteSnapshot:nm,manifestUrl:s,from:"manifest"});return rm};return this.manifestLoading[s]||(this.manifestLoading[s]=em().then(tm=>tm)),this.manifestLoading[s]}constructor(s){this.loadingHostSnapshot=null,this.manifestCache=new Map,this.hooks=new PluginSystem({beforeLoadRemoteSnapshot:new AsyncHook("beforeLoadRemoteSnapshot"),loadSnapshot:new AsyncWaterfallHook("loadGlobalSnapshot"),loadRemoteSnapshot:new AsyncWaterfallHook("loadRemoteSnapshot")}),this.manifestLoading=Global.__FEDERATION__.__MANIFEST_LOADING__,this.HostInstance=s,this.loaderHook=s.loaderHook}}function _extends(){return _extends=Object.assign||function(r){for(var s=1;s<arguments.length;s++){var sf=arguments[s];for(var Nf in sf)Object.prototype.hasOwnProperty.call(sf,Nf)&&(r[Nf]=sf[Nf])}return r},_extends.apply(this,arguments)}function _object_without_properties_loose(r,s){if(r==null)return{};var sf={},Nf=Object.keys(r),ip,em;for(em=0;em<Nf.length;em++)ip=Nf[em],!(s.indexOf(ip)>=0)&&(sf[ip]=r[ip]);return sf}class FederationHost{_setGlobalShareScopeMap(){const s=getGlobalShareScope(),sf=this.options.id||this.options.name;sf&&!s[sf]&&(s[sf]=this.shareScopeMap)}initOptions(s){this.registerPlugins(s.plugins);const sf=this.formatOptions(this.options,s);return this.options=sf,sf}async loadShare(s,sf){var Nf;const ip=Object.assign({},(Nf=this.options.shared)==null?void 0:Nf[s],sf);ip!=null&&ip.scope&&await Promise.all(ip.scope.map(async om=>{await Promise.all(this.initializeSharing(om,ip.strategy))}));const em=await this.hooks.lifecycle.beforeLoadShare.emit({pkgName:s,shareInfo:ip,shared:this.options.shared,origin:this}),{shareInfo:tm}=em;assert$3(tm,`Cannot find ${s} Share in the ${this.options.name}. Please ensure that the ${s} Share parameters have been injected`);const nm=getRegisteredShare(this.shareScopeMap,s,tm,this.hooks.lifecycle.resolveShare),rm=om=>{om.useIn||(om.useIn=[]),addUniqueItem(om.useIn,this.options.name)};if(nm&&nm.lib)return rm(nm),nm.lib;if(nm&&nm.loading&&!nm.loaded){const om=await nm.loading;return nm.loaded=!0,nm.lib||(nm.lib=om),rm(nm),om}else if(nm){const om=(async()=>{const im=await nm.get();tm.lib=im,tm.loaded=!0,rm(tm);const am=getRegisteredShare(this.shareScopeMap,s,tm,this.hooks.lifecycle.resolveShare);return am&&(am.lib=im,am.loaded=!0),im})();return this.setShared({pkgName:s,loaded:!1,shared:nm,from:this.options.name,lib:null,loading:om}),om}else{if(sf)return!1;const om=(async()=>{const im=await tm.get();tm.lib=im,tm.loaded=!0,rm(tm);const am=getRegisteredShare(this.shareScopeMap,s,tm,this.hooks.lifecycle.resolveShare);return am&&(am.lib=im,am.loaded=!0),im})();return this.setShared({pkgName:s,loaded:!1,shared:tm,from:this.options.name,lib:null,loading:om}),om}}loadShareSync(s,sf){var Nf;const ip=Object.assign({},(Nf=this.options.shared)==null?void 0:Nf[s],sf);ip!=null&&ip.scope&&ip.scope.forEach(nm=>{this.initializeSharing(nm,ip.strategy)});const em=getRegisteredShare(this.shareScopeMap,s,ip,this.hooks.lifecycle.resolveShare),tm=nm=>{nm.useIn||(nm.useIn=[]),addUniqueItem(nm.useIn,this.options.name)};if(em){if(typeof em.lib=="function")return tm(em),em.loaded||(em.loaded=!0,em.from===this.options.name&&(ip.loaded=!0)),em.lib;if(typeof em.get=="function"){const nm=em.get();if(!(nm instanceof Promise))return tm(em),this.setShared({pkgName:s,loaded:!0,from:this.options.name,lib:nm,shared:em}),nm}}if(ip.lib)return ip.loaded||(ip.loaded=!0),ip.lib;if(ip.get){const nm=ip.get();if(nm instanceof Promise)throw new Error(`
        The loadShareSync function was unable to load ${s}. The ${s} could not be found in ${this.options.name}.
        Possible reasons for failure: 

        1. The ${s} share was registered with the 'get' attribute, but loadShare was not used beforehand.

        2. The ${s} share was not registered with the 'lib' attribute.

      `);return ip.lib=nm,this.setShared({pkgName:s,loaded:!0,from:this.options.name,lib:ip.lib,shared:ip}),ip.lib}throw new Error(`
        The loadShareSync function was unable to load ${s}. The ${s} could not be found in ${this.options.name}.
        Possible reasons for failure: 

        1. The ${s} share was registered with the 'get' attribute, but loadShare was not used beforehand.

        2. The ${s} share was not registered with the 'lib' attribute.

      `)}initRawContainer(s,sf,Nf){const ip=getRemoteInfo({name:s,entry:sf}),em=new Module({host:this,remoteInfo:ip});return em.remoteEntryExports=Nf,this.moduleCache.set(s,em),em}async _getRemoteModuleAndOptions(s){const sf=await this.hooks.lifecycle.beforeRequest.emit({id:s,options:this.options,origin:this}),{id:Nf}=sf,ip=matchRemoteWithNameAndExpose(this.options.remotes,Nf);assert$3(ip,`
        Unable to locate ${Nf} in ${this.options.name}. Potential reasons for failure include:

        1. ${Nf} was not included in the 'remotes' parameter of ${this.options.name||"the host"}.

        2. ${Nf} could not be found in the 'remotes' of ${this.options.name} with either 'name' or 'alias' attributes.
        3. ${Nf} is not online, injected, or loaded.
        4. ${Nf}  cannot be accessed on the expected.
        5. The 'beforeRequest' hook was provided but did not return the correct 'remoteInfo' when attempting to load ${Nf}.
      `);const{remote:em}=ip,tm=getRemoteInfo(em),nm=await this.hooks.lifecycle.afterResolve.emit(_extends({id:Nf},ip,{options:this.options,origin:this,remoteInfo:tm})),{remote:rm,expose:om}=nm;assert$3(rm&&om,`The 'beforeRequest' hook was executed, but it failed to return the correct 'remote' and 'expose' values while loading ${Nf}.`);let im=this.moduleCache.get(rm.name);const am={host:this,remoteInfo:tm};return im||(im=new Module(am),this.moduleCache.set(rm.name,im)),{module:im,moduleOptions:am,remoteMatchInfo:nm}}async loadRemote(s,sf){try{const{loadFactory:Nf=!0}=sf||{loadFactory:!0},{module:ip,moduleOptions:em,remoteMatchInfo:tm}=await this._getRemoteModuleAndOptions(s),{pkgNameOrAlias:nm,remote:rm,expose:om,id:im}=tm,am=await ip.get(om,sf),sm=await this.hooks.lifecycle.onLoad.emit({id:im,pkgNameOrAlias:nm,expose:om,exposeModule:Nf?am:void 0,exposeModuleFactory:Nf?void 0:am,remote:rm,options:em,moduleInstance:ip,origin:this});return typeof sm=="function"?sm:am}catch(Nf){const{from:ip="runtime"}=sf||{from:"runtime"},em=await this.hooks.lifecycle.errorLoadRemote.emit({id:s,error:Nf,from:ip,origin:this});if(!em)throw Nf;return em}}async preloadRemote(s){await this.hooks.lifecycle.beforePreloadRemote.emit({preloadOptions:s,options:this.options,origin:this});const sf=formatPreloadArgs(this.options.remotes,s);await Promise.all(sf.map(async Nf=>{const{remote:ip}=Nf,em=getRemoteInfo(ip),{globalSnapshot:tm,remoteSnapshot:nm}=await this.snapshotHandler.loadRemoteSnapshotInfo(ip),rm=await this.hooks.lifecycle.generatePreloadAssets.emit({origin:this,preloadOptions:Nf,remote:ip,remoteInfo:em,globalSnapshot:tm,remoteSnapshot:nm});!rm||preloadAssets(em,this,rm)}))}initializeSharing(s=DEFAULT_SCOPE,sf){const Nf=this.shareScopeMap,ip=this.options.name;Nf[s]||(Nf[s]={});const em=Nf[s],tm=(im,am)=>{var sm;const{version:cm,eager:hm}=am;em[im]=em[im]||{};const fm=em[im],pm=fm[cm],mm=!!(pm&&(pm.eager||(sm=pm.shareConfig)!=null&&sm.eager));(!pm||pm.strategy!=="loaded-first"&&!pm.loaded&&(!hm!=!mm?hm:ip>pm.from))&&(fm[cm]=am)},nm=[],rm=im=>im&&im.init&&im.init(Nf[s]),om=async im=>{const{module:am}=await this._getRemoteModuleAndOptions(im);if(am.getEntry){const sm=await am.getEntry();am.inited||(rm(sm),am.inited=!0)}};return Object.keys(this.options.shared).forEach(im=>{const am=this.options.shared[im];am.scope.includes(s)&&tm(im,am)}),sf==="version-first"&&this.options.remotes.forEach(im=>{im.shareScope===s&&nm.push(om(im.name))}),nm}initShareScopeMap(s,sf){this.shareScopeMap[s]=sf,this.hooks.lifecycle.initContainerShareScopeMap.emit({shareScope:sf,options:this.options,origin:this})}formatOptions(s,sf){const Nf=formatShareConfigs(sf.shared||{},sf.name),ip=_extends({},s.shared,Nf),{userOptions:em,options:tm}=this.hooks.lifecycle.beforeInit.emit({origin:this,userOptions:sf,options:s,shareInfo:ip}),nm=(em.remotes||[]).reduce((im,am)=>(this.registerRemote(am,im,{force:!1}),im),tm.remotes);Object.keys(Nf).forEach(im=>{const am=Nf[im];!getRegisteredShare(this.shareScopeMap,im,am,this.hooks.lifecycle.resolveShare)&&am&&am.lib&&this.setShared({pkgName:im,lib:am.lib,get:am.get,loaded:!0,shared:am,from:sf.name})});const rm=[...tm.plugins];em.plugins&&em.plugins.forEach(im=>{rm.includes(im)||rm.push(im)});const om=_extends({},s,sf,{plugins:rm,remotes:nm,shared:ip});return this.hooks.lifecycle.init.emit({origin:this,options:om}),om}registerPlugins(s){registerPlugins(s,[this.hooks,this.snapshotHandler.hooks,this.loaderHook])}setShared({pkgName:s,shared:sf,from:Nf,lib:ip,loading:em,loaded:tm,get:nm}){const{version:rm,scope:om="default"}=sf,im=_object_without_properties_loose(sf,["version","scope"]);(Array.isArray(om)?om:[om]).forEach(am=>{this.shareScopeMap[am]||(this.shareScopeMap[am]={}),this.shareScopeMap[am][s]||(this.shareScopeMap[am][s]={}),!this.shareScopeMap[am][s][rm]&&(this.shareScopeMap[am][s][rm]=_extends({version:rm,scope:["default"]},im,{lib:ip,loaded:tm,loading:em}),nm&&(this.shareScopeMap[am][s][rm].get=nm))})}removeRemote(s){const{name:sf}=s,Nf=this.options.remotes.findIndex(em=>em.name===sf);Nf!==-1&&this.options.remotes.splice(Nf,1);const ip=this.moduleCache.get(s.name);if(ip){const em=ip.remoteInfo.entryGlobalName;globalThis[em]&&delete globalThis[em];const tm=getRemoteEntryUniqueKey(ip.remoteInfo);globalLoading[tm]&&delete globalLoading[tm],this.moduleCache.delete(s.name)}}registerRemote(s,sf,Nf){const ip=()=>{if(s.alias){const tm=sf.find(nm=>{var rm;return s.alias&&(nm.name.startsWith(s.alias)||((rm=nm.alias)==null?void 0:rm.startsWith(s.alias)))});assert$3(!tm,`The alias ${s.alias} of remote ${s.name} is not allowed to be the prefix of ${tm&&tm.name} name or alias`)}"entry"in s&&isBrowserEnv$1()&&!s.entry.startsWith("http")&&(s.entry=new URL(s.entry,window.location.origin).href),s.shareScope||(s.shareScope=DEFAULT_SCOPE),s.type||(s.type=DEFAULT_REMOTE_TYPE)},em=sf.find(tm=>tm.name===s.name);if(!em)ip(),sf.push(s);else{const tm=[`The remote "${s.name}" is already registered.`,Nf!=null&&Nf.force?"Hope you have known that OVERRIDE it may have some unexpected errors":'If you want to merge the remote, you can set "force: true".'];Nf!=null&&Nf.force&&(this.removeRemote(em),ip(),sf.push(s)),warn$1(tm.join(" "))}}registerRemotes(s,sf){s.forEach(Nf=>{this.registerRemote(Nf,this.options.remotes,{force:sf?.force})})}constructor(s){this.hooks=new PluginSystem({beforeInit:new SyncWaterfallHook("beforeInit"),init:new SyncHook,beforeRequest:new AsyncWaterfallHook("beforeRequest"),afterResolve:new AsyncWaterfallHook("afterResolve"),beforeInitContainer:new AsyncWaterfallHook("beforeInitContainer"),initContainerShareScopeMap:new AsyncWaterfallHook("initContainer"),initContainer:new AsyncWaterfallHook("initContainer"),onLoad:new AsyncHook("onLoad"),handlePreloadModule:new SyncHook("handlePreloadModule"),errorLoadRemote:new AsyncHook("errorLoadRemote"),beforeLoadShare:new AsyncWaterfallHook("beforeLoadShare"),loadShare:new AsyncHook,resolveShare:new SyncWaterfallHook("resolveShare"),beforePreloadRemote:new AsyncHook,generatePreloadAssets:new AsyncHook("generatePreloadAssets"),afterPreloadRemote:new AsyncHook}),this.version="0.1.2",this.moduleCache=new Map,this.loaderHook=new PluginSystem({getModuleInfo:new SyncHook,createScript:new SyncHook,createLink:new SyncHook,fetch:new AsyncHook("fetch")});const sf={id:getBuilderId(),name:s.name,plugins:[snapshotPlugin(),generatePreloadAssetsPlugin()],remotes:[],shared:{},inBrowser:isBrowserEnv$1()};this.name=s.name,this.options=sf,this.shareScopeMap={},this._setGlobalShareScopeMap(),this.snapshotHandler=new SnapshotHandler(this),this.registerPlugins([...sf.plugins,...s.plugins||[]]),this.options=this.formatOptions(sf,s)}}let FederationInstance=null;function init(r){const s=getGlobalFederationInstance(r.name,r.version);if(s)return s.initOptions(r),FederationInstance||(FederationInstance=s),s;{const sf=getGlobalFederationConstructor()||FederationHost;return FederationInstance=new sf(r),setGlobalFederationInstance(FederationInstance),FederationInstance}}function loadRemote(...r){return assert$3(FederationInstance,"Please call init first"),FederationInstance.loadRemote.apply(FederationInstance,r)}setGlobalFederationConstructor(FederationHost);function __awaiter(r,s,sf,Nf){function ip(em){return em instanceof sf?em:new sf(function(tm){tm(em)})}return new(sf||(sf=Promise))(function(em,tm){function nm(im){try{om(Nf.next(im))}catch(am){tm(am)}}function rm(im){try{om(Nf.throw(im))}catch(am){tm(am)}}function om(im){im.done?em(im.value):ip(im.value).then(nm,rm)}om((Nf=Nf.apply(r,s||[])).next())})}function __generator(r,s){var sf={label:0,sent:function(){if(em[0]&1)throw em[1];return em[1]},trys:[],ops:[]},Nf,ip,em,tm;return tm={next:nm(0),throw:nm(1),return:nm(2)},typeof Symbol=="function"&&(tm[Symbol.iterator]=function(){return this}),tm;function nm(om){return function(im){return rm([om,im])}}function rm(om){if(Nf)throw new TypeError("Generator is already executing.");for(;sf;)try{if(Nf=1,ip&&(em=om[0]&2?ip.return:om[0]?ip.throw||((em=ip.return)&&em.call(ip),0):ip.next)&&!(em=em.call(ip,om[1])).done)return em;switch(ip=0,em&&(om=[om[0]&2,em.value]),om[0]){case 0:case 1:em=om;break;case 4:return sf.label++,{value:om[1],done:!1};case 5:sf.label++,ip=om[1],om=[0];continue;case 7:om=sf.ops.pop(),sf.trys.pop();continue;default:if(em=sf.trys,!(em=em.length>0&&em[em.length-1])&&(om[0]===6||om[0]===2)){sf=0;continue}if(om[0]===3&&(!em||om[1]>em[0]&&om[1]<em[3])){sf.label=om[1];break}if(om[0]===6&&sf.label<em[1]){sf.label=em[1],em=om;break}if(em&&sf.label<em[2]){sf.label=em[2],sf.ops.push(om);break}em[2]&&sf.ops.pop(),sf.trys.pop();continue}om=s.call(r,sf)}catch(im){om=[6,im],ip=0}finally{Nf=em=0}if(om[0]&5)throw om[1];return{value:om[0]?om[1]:void 0,done:!0}}}var E_CANCELED=new Error("request for lock canceled"),Semaphore=function(){function r(s,sf){sf===void 0&&(sf=E_CANCELED),this._value=s,this._cancelError=sf,this._queue=[],this._weightedWaiters=[]}return r.prototype.acquire=function(s,sf){var Nf=this;if(s===void 0&&(s=1),sf===void 0&&(sf=0),s<=0)throw new Error("invalid weight ".concat(s,": must be positive"));return new Promise(function(ip,em){var tm={resolve:ip,reject:em,weight:s,priority:sf},nm=findIndexFromEnd(Nf._queue,function(rm){return sf<=rm.priority});nm===-1&&s<=Nf._value?Nf._dispatchItem(tm):Nf._queue.splice(nm+1,0,tm)})},r.prototype.runExclusive=function(s){return __awaiter(this,arguments,void 0,function(sf,Nf,ip){var em,tm,nm;return Nf===void 0&&(Nf=1),ip===void 0&&(ip=0),__generator(this,function(rm){switch(rm.label){case 0:return[4,this.acquire(Nf,ip)];case 1:em=rm.sent(),tm=em[0],nm=em[1],rm.label=2;case 2:return rm.trys.push([2,,4,5]),[4,sf(tm)];case 3:return[2,rm.sent()];case 4:return nm(),[7];case 5:return[2]}})})},r.prototype.waitForUnlock=function(s,sf){var Nf=this;if(s===void 0&&(s=1),sf===void 0&&(sf=0),s<=0)throw new Error("invalid weight ".concat(s,": must be positive"));return this._couldLockImmediately(s,sf)?Promise.resolve():new Promise(function(ip){Nf._weightedWaiters[s-1]||(Nf._weightedWaiters[s-1]=[]),insertSorted(Nf._weightedWaiters[s-1],{resolve:ip,priority:sf})})},r.prototype.isLocked=function(){return this._value<=0},r.prototype.getValue=function(){return this._value},r.prototype.setValue=function(s){this._value=s,this._dispatchQueue()},r.prototype.release=function(s){if(s===void 0&&(s=1),s<=0)throw new Error("invalid weight ".concat(s,": must be positive"));this._value+=s,this._dispatchQueue()},r.prototype.cancel=function(){var s=this;this._queue.forEach(function(sf){return sf.reject(s._cancelError)}),this._queue=[]},r.prototype._dispatchQueue=function(){for(this._drainUnlockWaiters();this._queue.length>0&&this._queue[0].weight<=this._value;)this._dispatchItem(this._queue.shift()),this._drainUnlockWaiters()},r.prototype._dispatchItem=function(s){var sf=this._value;this._value-=s.weight,s.resolve([sf,this._newReleaser(s.weight)])},r.prototype._newReleaser=function(s){var sf=this,Nf=!1;return function(){Nf||(Nf=!0,sf.release(s))}},r.prototype._drainUnlockWaiters=function(){if(this._queue.length===0)for(var s=this._value;s>0;s--){var sf=this._weightedWaiters[s-1];!sf||(sf.forEach(function(em){return em.resolve()}),this._weightedWaiters[s-1]=[])}else for(var Nf=this._queue[0].priority,s=this._value;s>0;s--){var sf=this._weightedWaiters[s-1];if(sf){var ip=sf.findIndex(function(nm){return nm.priority<=Nf});(ip===-1?sf:sf.splice(0,ip)).forEach(function(nm){return nm.resolve()})}}},r.prototype._couldLockImmediately=function(s,sf){return(this._queue.length===0||this._queue[0].priority<sf)&&s<=this._value},r}();function insertSorted(r,s){var sf=findIndexFromEnd(r,function(Nf){return s.priority<=Nf.priority});r.splice(sf+1,0,s)}function findIndexFromEnd(r,s){for(var sf=r.length-1;sf>=0;sf--)if(s(r[sf]))return sf;return-1}var Mutex$1=function(){function r(s){this._semaphore=new Semaphore(1,s)}return r.prototype.acquire=function(){return __awaiter(this,arguments,void 0,function(s){var sf,Nf;return s===void 0&&(s=0),__generator(this,function(ip){switch(ip.label){case 0:return[4,this._semaphore.acquire(1,s)];case 1:return sf=ip.sent(),Nf=sf[1],[2,Nf]}})})},r.prototype.runExclusive=function(s,sf){return sf===void 0&&(sf=0),this._semaphore.runExclusive(function(){return s()},1,sf)},r.prototype.isLocked=function(){return this._semaphore.isLocked()},r.prototype.waitForUnlock=function(s){return s===void 0&&(s=0),this._semaphore.waitForUnlock(1,s)},r.prototype.release=function(){this._semaphore.isLocked()&&this._semaphore.release()},r.prototype.cancel=function(){return this._semaphore.cancel()},r}();function isMetaMaskProvider(r){return r!==null&&typeof r=="object"&&r.hasOwnProperty("isMetaMask")&&r.hasOwnProperty("request")}function detectMetaMaskProvider(r,{timeout:s=3e3}={}){let sf=!1;return new Promise(Nf=>{const ip=em=>{const{info:tm,provider:nm}=em.detail;(tm.rdns==="io.metamask"||tm.rdns==="io.metamask.flask")&&isMetaMaskProvider(nm)&&(Nf(nm),sf=!0)};typeof r.addEventListener=="function"&&r.addEventListener("eip6963:announceProvider",ip),setTimeout(()=>{sf||Nf(null)},s),typeof r.dispatchEvent=="function"&&r.dispatchEvent(new Event("eip6963:requestProvider"))})}async function waitForMetaMaskProvider(r,s={}){const{timeout:sf=3e3,retries:Nf=0}=s;let ip=null;try{ip=await detectMetaMaskProvider(r,{timeout:sf})}catch{}return ip||(Nf===0?null:(ip=await waitForMetaMaskProvider({timeout:sf,retries:Nf-1}),ip))}async function detectMetamaskSupport(r){return await waitForMetaMaskProvider(r,{retries:3})}var Q$3,q$5,C$2,G$2,Y$3,J$3;class MetaMaskVirtualWallet{constructor(){T$4(this,Q$3),T$4(this,C$2),T$4(this,Y$3),_$4(this,"id","metamask"),_$4(this,"name","MetaMask"),_$4(this,"icon","data:image/svg+xml;utf8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMTIiIGhlaWdodD0iMTg5IiB2aWV3Qm94PSIwIDAgMjEyIDE4OSI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48cG9seWdvbiBmaWxsPSIjQ0RCREIyIiBwb2ludHM9IjYwLjc1IDE3My4yNSA4OC4zMTMgMTgwLjU2MyA4OC4zMTMgMTcxIDkwLjU2MyAxNjguNzUgMTA2LjMxMyAxNjguNzUgMTA2LjMxMyAxODAgMTA2LjMxMyAxODcuODc1IDg5LjQzOCAxODcuODc1IDY4LjYyNSAxNzguODc1Ii8+PHBvbHlnb24gZmlsbD0iI0NEQkRCMiIgcG9pbnRzPSIxMDUuNzUgMTczLjI1IDEzMi43NSAxODAuNTYzIDEzMi43NSAxNzEgMTM1IDE2OC43NSAxNTAuNzUgMTY4Ljc1IDE1MC43NSAxODAgMTUwLjc1IDE4Ny44NzUgMTMzLjg3NSAxODcuODc1IDExMy4wNjMgMTc4Ljg3NSIgdHJhbnNmb3JtPSJtYXRyaXgoLTEgMCAwIDEgMjU2LjUgMCkiLz48cG9seWdvbiBmaWxsPSIjMzkzOTM5IiBwb2ludHM9IjkwLjU2MyAxNTIuNDM4IDg4LjMxMyAxNzEgOTEuMTI1IDE2OC43NSAxMjAuMzc1IDE2OC43NSAxMjMuNzUgMTcxIDEyMS41IDE1Mi40MzggMTE3IDE0OS42MjUgOTQuNSAxNTAuMTg4Ii8+PHBvbHlnb24gZmlsbD0iI0Y4OUMzNSIgcG9pbnRzPSI3NS4zNzUgMjcgODguODc1IDU4LjUgOTUuMDYzIDE1MC4xODggMTE3IDE1MC4xODggMTIzLjc1IDU4LjUgMTM2LjEyNSAyNyIvPjxwb2x5Z29uIGZpbGw9IiNGODlEMzUiIHBvaW50cz0iMTYuMzEzIDk2LjE4OCAuNTYzIDE0MS43NSAzOS45MzggMTM5LjUgNjUuMjUgMTM5LjUgNjUuMjUgMTE5LjgxMyA2NC4xMjUgNzkuMzEzIDU4LjUgODMuODEzIi8+PHBvbHlnb24gZmlsbD0iI0Q4N0MzMCIgcG9pbnRzPSI0Ni4xMjUgMTAxLjI1IDkyLjI1IDEwMi4zNzUgODcuMTg4IDEyNiA2NS4yNSAxMjAuMzc1Ii8+PHBvbHlnb24gZmlsbD0iI0VBOEQzQSIgcG9pbnRzPSI0Ni4xMjUgMTAxLjgxMyA2NS4yNSAxMTkuODEzIDY1LjI1IDEzNy44MTMiLz48cG9seWdvbiBmaWxsPSIjRjg5RDM1IiBwb2ludHM9IjY1LjI1IDEyMC4zNzUgODcuNzUgMTI2IDk1LjA2MyAxNTAuMTg4IDkwIDE1MyA2NS4yNSAxMzguMzc1Ii8+PHBvbHlnb24gZmlsbD0iI0VCOEYzNSIgcG9pbnRzPSI2NS4yNSAxMzguMzc1IDYwLjc1IDE3My4yNSA5MC41NjMgMTUyLjQzOCIvPjxwb2x5Z29uIGZpbGw9IiNFQThFM0EiIHBvaW50cz0iOTIuMjUgMTAyLjM3NSA5NS4wNjMgMTUwLjE4OCA4Ni42MjUgMTI1LjcxOSIvPjxwb2x5Z29uIGZpbGw9IiNEODdDMzAiIHBvaW50cz0iMzkuMzc1IDEzOC45MzggNjUuMjUgMTM4LjM3NSA2MC43NSAxNzMuMjUiLz48cG9seWdvbiBmaWxsPSIjRUI4RjM1IiBwb2ludHM9IjEyLjkzOCAxODguNDM4IDYwLjc1IDE3My4yNSAzOS4zNzUgMTM4LjkzOCAuNTYzIDE0MS43NSIvPjxwb2x5Z29uIGZpbGw9IiNFODgyMUUiIHBvaW50cz0iODguODc1IDU4LjUgNjQuNjg4IDc4Ljc1IDQ2LjEyNSAxMDEuMjUgOTIuMjUgMTAyLjkzOCIvPjxwb2x5Z29uIGZpbGw9IiNERkNFQzMiIHBvaW50cz0iNjAuNzUgMTczLjI1IDkwLjU2MyAxNTIuNDM4IDg4LjMxMyAxNzAuNDM4IDg4LjMxMyAxODAuNTYzIDY4LjA2MyAxNzYuNjI1Ii8+PHBvbHlnb24gZmlsbD0iI0RGQ0VDMyIgcG9pbnRzPSIxMjEuNSAxNzMuMjUgMTUwLjc1IDE1Mi40MzggMTQ4LjUgMTcwLjQzOCAxNDguNSAxODAuNTYzIDEyOC4yNSAxNzYuNjI1IiB0cmFuc2Zvcm09Im1hdHJpeCgtMSAwIDAgMSAyNzIuMjUgMCkiLz48cG9seWdvbiBmaWxsPSIjMzkzOTM5IiBwb2ludHM9IjcwLjMxMyAxMTIuNSA2NC4xMjUgMTI1LjQzOCA4Ni4wNjMgMTE5LjgxMyIgdHJhbnNmb3JtPSJtYXRyaXgoLTEgMCAwIDEgMTUwLjE4OCAwKSIvPjxwb2x5Z29uIGZpbGw9IiNFODhGMzUiIHBvaW50cz0iMTIuMzc1IC41NjMgODguODc1IDU4LjUgNzUuOTM4IDI3Ii8+PHBhdGggZmlsbD0iIzhFNUEzMCIgZD0iTTEyLjM3NTAwMDIsMC41NjI1MDAwMDggTDIuMjUwMDAwMDMsMzEuNTAwMDAwNSBMNy44NzUwMDAxMiw2NS4yNTAwMDEgTDMuOTM3NTAwMDYsNjcuNTAwMDAxIEw5LjU2MjUwMDE0LDcyLjU2MjUgTDUuMDYyNTAwMDgsNzYuNTAwMDAxMSBMMTEuMjUsODIuMTI1MDAxMiBMNy4zMTI1MDAxMSw4NS41MDAwMDEzIEwxNi4zMTI1MDAyLDk2Ljc1MDAwMTQgTDU4LjUwMDAwMDksODMuODEyNTAxMiBDNzkuMTI1MDAxMiw2Ny4zMTI1MDA0IDg5LjI1MDAwMTMsNTguODc1MDAwMyA4OC44NzUwMDEzLDU4LjUwMDAwMDkgQzg4LjUwMDAwMTMsNTguMTI1MDAwOSA2My4wMDAwMDA5LDM4LjgxMjUwMDYgMTIuMzc1MDAwMiwwLjU2MjUwMDAwOCBaIi8+PGcgdHJhbnNmb3JtPSJtYXRyaXgoLTEgMCAwIDEgMjExLjUgMCkiPjxwb2x5Z29uIGZpbGw9IiNGODlEMzUiIHBvaW50cz0iMTYuMzEzIDk2LjE4OCAuNTYzIDE0MS43NSAzOS45MzggMTM5LjUgNjUuMjUgMTM5LjUgNjUuMjUgMTE5LjgxMyA2NC4xMjUgNzkuMzEzIDU4LjUgODMuODEzIi8+PHBvbHlnb24gZmlsbD0iI0Q4N0MzMCIgcG9pbnRzPSI0Ni4xMjUgMTAxLjI1IDkyLjI1IDEwMi4zNzUgODcuMTg4IDEyNiA2NS4yNSAxMjAuMzc1Ii8+PHBvbHlnb24gZmlsbD0iI0VBOEQzQSIgcG9pbnRzPSI0Ni4xMjUgMTAxLjgxMyA2NS4yNSAxMTkuODEzIDY1LjI1IDEzNy44MTMiLz48cG9seWdvbiBmaWxsPSIjRjg5RDM1IiBwb2ludHM9IjY1LjI1IDEyMC4zNzUgODcuNzUgMTI2IDk1LjA2MyAxNTAuMTg4IDkwIDE1MyA2NS4yNSAxMzguMzc1Ii8+PHBvbHlnb24gZmlsbD0iI0VCOEYzNSIgcG9pbnRzPSI2NS4yNSAxMzguMzc1IDYwLjc1IDE3My4yNSA5MCAxNTMiLz48cG9seWdvbiBmaWxsPSIjRUE4RTNBIiBwb2ludHM9IjkyLjI1IDEwMi4zNzUgOTUuMDYzIDE1MC4xODggODYuNjI1IDEyNS43MTkiLz48cG9seWdvbiBmaWxsPSIjRDg3QzMwIiBwb2ludHM9IjM5LjM3NSAxMzguOTM4IDY1LjI1IDEzOC4zNzUgNjAuNzUgMTczLjI1Ii8+PHBvbHlnb24gZmlsbD0iI0VCOEYzNSIgcG9pbnRzPSIxMi45MzggMTg4LjQzOCA2MC43NSAxNzMuMjUgMzkuMzc1IDEzOC45MzggLjU2MyAxNDEuNzUiLz48cG9seWdvbiBmaWxsPSIjRTg4MjFFIiBwb2ludHM9Ijg4Ljg3NSA1OC41IDY0LjY4OCA3OC43NSA0Ni4xMjUgMTAxLjI1IDkyLjI1IDEwMi45MzgiLz48cG9seWdvbiBmaWxsPSIjMzkzOTM5IiBwb2ludHM9IjcwLjMxMyAxMTIuNSA2NC4xMjUgMTI1LjQzOCA4Ni4wNjMgMTE5LjgxMyIgdHJhbnNmb3JtPSJtYXRyaXgoLTEgMCAwIDEgMTUwLjE4OCAwKSIvPjxwb2x5Z29uIGZpbGw9IiNFODhGMzUiIHBvaW50cz0iMTIuMzc1IC41NjMgODguODc1IDU4LjUgNzUuOTM4IDI3Ii8+PHBhdGggZmlsbD0iIzhFNUEzMCIgZD0iTTEyLjM3NTAwMDIsMC41NjI1MDAwMDggTDIuMjUwMDAwMDMsMzEuNTAwMDAwNSBMNy44NzUwMDAxMiw2NS4yNTAwMDEgTDMuOTM3NTAwMDYsNjcuNTAwMDAxIEw5LjU2MjUwMDE0LDcyLjU2MjUgTDUuMDYyNTAwMDgsNzYuNTAwMDAxMSBMMTEuMjUsODIuMTI1MDAxMiBMNy4zMTI1MDAxMSw4NS41MDAwMDEzIEwxNi4zMTI1MDAyLDk2Ljc1MDAwMTQgTDU4LjUwMDAwMDksODMuODEyNTAxMiBDNzkuMTI1MDAxMiw2Ny4zMTI1MDA0IDg5LjI1MDAwMTMsNTguODc1MDAwMyA4OC44NzUwMDEzLDU4LjUwMDAwMDkgQzg4LjUwMDAwMTMsNTguMTI1MDAwOSA2My4wMDAwMDA5LDM4LjgxMjUwMDYgMTIuMzc1MDAwMiwwLjU2MjUwMDAwOCBaIi8+PC9nPjwvZz48L3N2Zz4="),_$4(this,"windowKey","starknet_metamask"),_$4(this,"provider",null),_$4(this,"swo",null),_$4(this,"lock"),_$4(this,"version","v2.0.0"),this.lock=new Mutex$1}async loadWallet(s){return await E$4(this,C$2,G$2).call(this,s),this}async hasSupport(s){return this.provider=await detectMetamaskSupport(s),this.provider!==null}async request(s){return E$4(this,C$2,G$2).call(this).then(sf=>sf.request(s))}on(s,sf){E$4(this,C$2,G$2).call(this).then(Nf=>Nf.on(s,sf))}off(s,sf){E$4(this,C$2,G$2).call(this).then(Nf=>Nf.off(s,sf))}}Q$3=new WeakSet,q$5=async function(r){this.provider||(this.provider=await detectMetamaskSupport(r)),await init({name:"MetaMaskStarknetSnapWallet",remotes:[{name:"MetaMaskStarknetSnapWallet",alias:"MetaMaskStarknetSnapWallet",entry:`https://snaps.consensys.io/starknet/get-starknet/v1/remoteEntry.js?ts=${Date.now()}`}]});const s=await loadRemote("MetaMaskStarknetSnapWallet/index");if(!s)throw new Error("Failed to load MetaMask Wallet");return new s.MetaMaskSnapWallet(this.provider,"*")},C$2=new WeakSet,G$2=async function(r=window){return this.lock.runExclusive(async()=>(this.swo||(this.swo=await E$4(this,Q$3,q$5).call(this,r),E$4(this,Y$3,J$3).call(this)),this.swo))},Y$3=new WeakSet,J$3=function(){this.swo&&(this.version=this.swo.version,this.name=this.swo.name,this.id=this.swo.id,this.icon=this.swo.icon)};const metaMaskVirtualWallet=new MetaMaskVirtualWallet;var X$3,Z$2;const wallets=[{id:"argentX",name:"Argent X",icon:"data:image/svg+xml;base64,Cjxzdmcgd2lkdGg9IjQwIiBoZWlnaHQ9IjM2IiB2aWV3Qm94PSIwIDAgNDAgMzYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0yNC43NTgyIC0zLjk3MzY0ZS0wN0gxNC42MjM4QzE0LjI4NTEgLTMuOTczNjRlLTA3IDE0LjAxMzggMC4yODExNzggMTQuMDA2NCAwLjYzMDY4M0MxMy44MDE3IDEwLjQ1NDkgOC44MjIzNCAxOS43NzkyIDAuMjUxODkzIDI2LjM4MzdDLTAuMDIwMjA0NiAyNi41OTMzIC0wLjA4MjE5NDYgMjYuOTg3MiAwLjExNjczNCAyNy4yNzA5TDYuMDQ2MjMgMzUuNzM0QzYuMjQ3OTYgMzYuMDIyIDYuNjQwOTkgMzYuMDg3IDYuOTE3NjYgMzUuODc1NEMxMi4yNzY1IDMxLjc3MjggMTYuNTg2OSAyNi44MjM2IDE5LjY5MSAyMS4zMzhDMjIuNzk1MSAyNi44MjM2IDI3LjEwNTcgMzEuNzcyOCAzMi40NjQ2IDM1Ljg3NTRDMzIuNzQxIDM2LjA4NyAzMy4xMzQxIDM2LjAyMiAzMy4zMzYxIDM1LjczNEwzOS4yNjU2IDI3LjI3MDlDMzkuNDY0MiAyNi45ODcyIDM5LjQwMjIgMjYuNTkzMyAzOS4xMzA0IDI2LjM4MzdDMzAuNTU5NyAxOS43NzkyIDI1LjU4MDQgMTAuNDU0OSAyNS4zNzU5IDAuNjMwNjgzQzI1LjM2ODUgMC4yODExNzggMjUuMDk2OSAtMy45NzM2NGUtMDcgMjQuNzU4MiAtMy45NzM2NGUtMDdaIiBmaWxsPSIjRkY4NzVCIi8+Cjwvc3ZnPgo=",downloads:{chrome:"https://chrome.google.com/webstore/detail/argent-x-starknet-wallet/dlcobpjiigpikoobohmabehhmhfoodbb",firefox:"https://addons.mozilla.org/en-US/firefox/addon/argent-x",edge:"https://microsoftedge.microsoft.com/addons/detail/argent-x/ajcicjlkibolbeaaagejfhnofogocgcj"}},{id:"braavos",name:"Braavos",icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8cGF0aAogICAgICAgIGQ9Ik02Mi43MDUgMTMuOTExNkM2Mi44MzU5IDE0LjEzMzMgNjIuNjYyMSAxNC40MDcgNjIuNDAzOSAxNC40MDdDNTcuMTgwNyAxNC40MDcgNTIuOTM0OCAxOC41NDI3IDUyLjgzNTEgMjMuNjgxN0M1MS4wNDY1IDIzLjM0NzcgNDkuMTkzMyAyMy4zMjI2IDQ3LjM2MjYgMjMuNjMxMUM0Ny4yMzYxIDE4LjUxNTYgNDMuMDAwOSAxNC40MDcgMzcuNzk0OCAxNC40MDdDMzcuNTM2NSAxNC40MDcgMzcuMzYyNSAxNC4xMzMxIDM3LjQ5MzUgMTMuOTExMkM0MC4wMjE3IDkuNjI4MDkgNDQuNzIwNCA2Ljc1IDUwLjA5OTEgNi43NUM1NS40NzgxIDYuNzUgNjAuMTc2OSA5LjYyODI2IDYyLjcwNSAxMy45MTE2WiIKICAgICAgICBmaWxsPSJ1cmwoI3BhaW50MF9saW5lYXJfMzcyXzQwMjU5KSIgLz4KICAgIDxwYXRoCiAgICAgICAgZD0iTTc4Ljc2MDYgNDUuODcxOEM4MC4yNzI1IDQ2LjMyOTcgODEuNzAyNSA0NS4wMDU1IDgxLjE3MTQgNDMuNTIyMkM3Ni40MTM3IDMwLjIzMzQgNjEuMzkxMSAyNC44MDM5IDUwLjAyNzcgMjQuODAzOUMzOC42NDQyIDI0LjgwMzkgMjMuMjg2OCAzMC40MDcgMTguODc1NCA0My41OTEyQzE4LjM4MjQgNDUuMDY0NSAxOS44MDgzIDQ2LjM0NDYgMjEuMjk3OCA0NS44ODgxTDQ4Ljg3MiAzNy40MzgxQzQ5LjUzMzEgMzcuMjM1NSA1MC4yMzk5IDM3LjIzNDQgNTAuOTAxNyAzNy40MzQ4TDc4Ljc2MDYgNDUuODcxOFoiCiAgICAgICAgZmlsbD0idXJsKCNwYWludDFfbGluZWFyXzM3Ml80MDI1OSkiIC8+CiAgICA8cGF0aAogICAgICAgIGQ9Ik0xOC44MTMyIDQ4LjE3MDdMNDguODkzNSAzOS4wNDcyQzQ5LjU1MDYgMzguODQ3OCA1MC4yNTI0IDM4Ljg0NzMgNTAuOTA5OCAzOS4wNDU2TDgxLjE3ODEgNDguMTc1MkM4My42OTEyIDQ4LjkzMzIgODUuNDExIDUxLjI0ODMgODUuNDExIDUzLjg3MzVWODEuMjIzM0M4NS4yOTQ0IDg3Ljg5OTEgNzkuMjk3NyA5My4yNSA3Mi42MjQ1IDkzLjI1SDYxLjU0MDZDNjAuNDQ0OSA5My4yNSA1OS41NTc3IDkyLjM2MzcgNTkuNTU3NyA5MS4yNjhWODEuNjc4OUM1OS41NTc3IDc3LjkwMzEgNjEuNzkyMSA3NC40ODU1IDY1LjI0OTggNzIuOTcyOUM2OS44ODQ5IDcwLjk0NTQgNzUuMzY4MSA2OC4yMDI4IDc2LjM5OTQgNjIuNjk5MkM3Ni43MzIzIDYwLjkyMjkgNzUuNTc0MSA1OS4yMDk0IDczLjgwMjQgNTguODU3M0M2OS4zMjI2IDU3Ljk2NjcgNjQuMzU2MiA1OC4zMTA3IDYwLjE1NjQgNjAuMTg5M0M1NS4zODg3IDYyLjMyMTkgNTQuMTQxNSA2NS44Njk0IDUzLjY3OTcgNzAuNjMzN0w1My4xMjAxIDc1Ljc2NjJDNTIuOTQ5MSA3Ny4zMzQ5IDUxLjQ3ODUgNzguNTM2NiA0OS45MDE0IDc4LjUzNjZDNDguMjY5OSA3OC41MzY2IDQ3LjA0NjUgNzcuMjk0IDQ2Ljg2OTYgNzUuNjcxMkw0Ni4zMjA0IDcwLjYzMzdDNDUuOTI0OSA2Ni41NTI5IDQ1LjIwNzkgNjIuNTg4NyA0MC45ODk1IDYwLjcwMThDMzYuMTc3NiA1OC41NDk0IDMxLjM0MTkgNTcuODM0NyAyNi4xOTc2IDU4Ljg1NzNDMjQuNDI2IDU5LjIwOTQgMjMuMjY3OCA2MC45MjI5IDIzLjYwMDcgNjIuNjk5MkMyNC42NDEgNjguMjUwNyAzMC4wODEyIDcwLjkzMDUgMzQuNzUwMyA3Mi45NzI5QzM4LjIwOCA3NC40ODU1IDQwLjQ0MjQgNzcuOTAzMSA0MC40NDI0IDgxLjY3ODlWOTEuMjY2M0M0MC40NDI0IDkyLjM2MiAzOS41NTU1IDkzLjI1IDM4LjQ1OTkgOTMuMjVIMjcuMzc1NkMyMC43MDI0IDkzLjI1IDE0LjcwNTcgODcuODk5MSAxNC41ODkxIDgxLjIyMzNWNTMuODY2M0MxNC41ODkxIDUxLjI0NDYgMTYuMzA0NSA0OC45MzE2IDE4LjgxMzIgNDguMTcwN1oiCiAgICAgICAgZmlsbD0idXJsKCNwYWludDJfbGluZWFyXzM3Ml80MDI1OSkiIC8+CiAgICA8ZGVmcz4KICAgICAgICA8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MF9saW5lYXJfMzcyXzQwMjU5IiB4MT0iNDkuMzA1NyIgeTE9IjIuMDc5IiB4Mj0iODAuMzYyNyIgeTI9IjkzLjY1OTciCiAgICAgICAgICAgIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0Y1RDQ1RSIgLz4KICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjRkY5NjAwIiAvPgogICAgICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICAgICAgPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDFfbGluZWFyXzM3Ml80MDI1OSIgeDE9IjQ5LjMwNTciIHkxPSIyLjA3OSIgeDI9IjgwLjM2MjciIHkyPSI5My42NTk3IgogICAgICAgICAgICBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGNUQ0NUUiIC8+CiAgICAgICAgICAgIDxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iI0ZGOTYwMCIgLz4KICAgICAgICA8L2xpbmVhckdyYWRpZW50PgogICAgICAgIDxsaW5lYXJHcmFkaWVudCBpZD0icGFpbnQyX2xpbmVhcl8zNzJfNDAyNTkiIHgxPSI0OS4zMDU3IiB5MT0iMi4wNzkiIHgyPSI4MC4zNjI3IiB5Mj0iOTMuNjU5NyIKICAgICAgICAgICAgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjRjVENDVFIiAvPgogICAgICAgICAgICA8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNGRjk2MDAiIC8+CiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgIDwvZGVmcz4KPC9zdmc+",downloads:{chrome:"https://chrome.google.com/webstore/detail/braavos-wallet/jnlgamecbpmbajjfhmmmlhejkemejdma",firefox:"https://addons.mozilla.org/en-US/firefox/addon/braavos-wallet",edge:"https://microsoftedge.microsoft.com/addons/detail/braavos-wallet/hkkpjehhcnhgefhbdcgfkeegglpjchdc",ios:`https://link.braavos.app/dapp/${(X$3=ssrSafeWindow?.location)==null?void 0:X$3.host}`,android:`https://link.braavos.app/dapp/${(Z$2=ssrSafeWindow?.location)==null?void 0:Z$2.host}`}},{id:metaMaskVirtualWallet.id,name:metaMaskVirtualWallet.name,icon:metaMaskVirtualWallet.icon,downloads:{chrome:"https://chrome.google.com/webstore/detail/metamask/nkbihfbeogaeaoehlefnkodbefgpgknn",firefox:"https://addons.mozilla.org/en-US/firefox/addon/ether-metamask/",edge:"https://microsoftedge.microsoft.com/addons/detail/metamask/ejbalbakoplchlghecdalmeeeajnimhm?hl=en-US"}},{id:"okxwallet",name:"OKX Wallet",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJDSURBVHgB7Zq9jtpAEMfHlhEgQLiioXEkoAGECwoKxMcTRHmC5E3IoyRPkPAEkI7unJYmTgEFTYwA8a3NTKScLnCHN6c9r1e3P2llWQy7M/s1Gv1twCP0ej37dDq9x+Zut1t3t9vZjDEHIiSRSPg4ZpDL5fxkMvn1cDh8m0wmfugfO53OoFQq/crn8wxfY9EymQyrVCqMfHvScZx1p9ls3pFxXBy/bKlUipGPrVbLuQqAfsCliq3zl0H84zwtjQrOw4Mt1W63P5LvBm2d+Xz+YzqdgkqUy+WgWCy+Mc/nc282m4FqLBYL+3g8fjDxenq72WxANZbLJeA13zDX67UDioL5ybXwafMYu64Ltn3bdDweQ5R97fd7GyhBQMipx4POeEDHIu2LfDdBIGGz+hJ9CQ1ABjoA2egAZPM6AgiCAEQhsi/C4jHyPA/6/f5NG3Ks2+3CYDC4aTccDrn6ojG54MnEvG00GoVmWLIRNZ7wTCwDHYBsdACy0QHIhiuRETxlICWpMMhGZHmqS8qH6JLyGegAZKMDkI0uKf8X4SWlaZo+Pp1bRrwlJU8ZKLIvUjKh0WiQ3sRUbNVq9c5Ebew7KEo2m/1p4jJ4qAmDaqDQBzj5XyiAT4VCQezJigAU+IDU+z8vJFnGWeC+bKQV/5VZ71FV6L7PA3gg3tXrdQ+DgLhC+75Wq3no69P3MC0NFQpx2lL04Ql9gHK1bRDjsSBIvScBnDTk1WrlGIZBorIDEYJj+rhdgnQ67VmWRe0zlplXl81vcyEt0rSoYDUAAAAASUVORK5CYII=",downloads:{chrome:"https://chrome.google.com/webstore/detail/mcohilncbfahbmgdjkbpemcciiolgcge",firefox:"https://addons.mozilla.org/en-US/firefox/addon/okexwallet",edge:"https://microsoftedge.microsoft.com/addons/detail/%E6%AC%A7%E6%98%93-web3-%E9%92%B1%E5%8C%85/pbpjkcldjiffchgbbndmhojiacbgflha",safari:"https://apps.apple.com/us/app/okx-wallet/id6463797825"}},{id:"keplr",name:"Keplr",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAACPfSURBVHgBzV0L0B9VdT9nvy/vB6nVOg4GEx/VER3A1iqo9aMzFgWtoOhgsYaHYNV2lNEqxAdfmKHTakuDTge1FJK2tqOtGqoWFWti8TFSxGDriFSbIK+qgB95h+Tb09397+49r3t3/99/LT0zm//e9917fud3zr27SRB+EbKd1gAcOhFg/kSYmjoBiJ4JhMsB6LHFJetS+wfoAowOQOKnumGVUfSX+23Ba0uRfFaGsh6pNKDqP2PzQN5TbNxqjAeqi2CuWLuvAuU74eT1O+AXIAhDSaX0g+fBFL6ymHShfFhT5RvdknNLzsTIb+cChmzb2OJqJY8aQG9gaAUXaXLbOH0gL4mXmXHC/HYUv1thEWyDk9bPwQAyOQC2H1wHGb29uNtQdLcmFJBv2AsFAPVQJDQPlFBYFACpso7+kFm17g/9sUgr3QFWNI3VtQWO0KaCGXbDBLJwAFSKz2cLjtvglhNFGmr6NomgxEQdT1kYK8N0uzBwH3bosHJo3EKkD1ZG0X6ctAFEW6cAAiwYCAsDwM2HL4e8tHpa45a7NN2UUaxBmFAPmpdt+rGDq0zdrpP2I6yRig06ANHNHuAwjxlzFp67fhOMKeMBoLT6Kby+GHMGmklySVosJAO+ajK9LX6Uxl51eyqZp/tYvVcPbRklynQ7au913aaeBwLRz+6CDU4dhw2yvhVh++EzIcPvBOXXc+SXJz3LMVYeEblOYxKZMx/kF4V70aZPv+q+7ceUmaivHTu0hDSWqzwRWa4rAsTtcOuuM6Gn9APAzYfeVszsM8UAazoVCgDj1DELneqrBgrq/ilyKUFwFE2R8cX8UABD1OmaOx87pkw137gxoP9ssq91xfUZ+Pddl0MP6QbAVwt/Pw+boY+MCQzsquNY6VhCHUoGNeY4fUKjVLR9JdIC8IkxkTrqkerVPsNsHxCk17RUPtFstJw6tE2RfNAPl35Cs7XrSHcGhWPHADBWIJj25XJ8ipbJcUmlZR01Fs+bh0vg+eujBhwHQOnzoaD9pFAi25ZhD2XzPKmHNAAQyC/zHbCelFNGicBPpxP8jZFA0El37xyaHA8oqm8uBGfB89Zv84p8AJTRPuD24m4dpKSLAdhPPGKv8wx4+1l8dO/vtVWL1PvQKMIIxOtFo3VKKy9y4JNmkboflef2N5K5gglO8nYHfgxAhfJHwQQkL9EmXgfHqNcnLkBSwWAPEUFfrG3Xs6k8b+dg66N6RpS7DNMvAp+vwTXrB2Lt7dqugWm4HhyxANhe+P2U5fcBQy0mYh+nntOmL0BcoMREK8vNr8uiCgnKkAEixIO5Zo41IOKKrgPNWFvw1liuVDWHvNi+f/NHs6BErmdJ/Tnugt5Clhl5mVPdUnCkLnMhfVwC8hUz5c69qifm4vYBLrWT285Jq7aUdAOM4ut02ycAkLECilgGb1+1naNcugLJAPPF1iFlid7FxmjH6VO3R99d2zdOwa2k+gNpNVGGcObc5vPRExZvKFwxjahLil1olGf7qd0DgWIXjM+5Hbusg2syxMvVU9RSWv/R/tbvWyUflMZoQ9YwE6vfhxHK1ensy3HC6FlypG56ixZnBDJ1bf/2OwPeU8Qyeh6n5kDrGxZoGSA7CrMiqPEubjFdF5tTnzbGkrkoy+L5HgslGSbyPG4QR85YTp7PABi10sbqTTBIym8T2jnpvsV8EEwQ6EhG8Ha+ZtXHHHjk8M+hr1D7R1TQK1ftumIAtI1Nuo+Vpw+GAHod8rR5qXSqX5mOWzixcpanrIM8RhL9yP6UzM0fLljg1PVzIwY4cujMTovuQBVQD2tnc+zy2ynG6NoGdjJBbO5QWxdoa4aoj9fHwl46jIMBX6Tqt8+j/DwEixcswNsTJNYSwxVkzaIlcF55UwEAc9wwFgA8ZUQnYOt2AcN1b4mybvCh7IN6UH8zLx2ggVcnnY66BqpnxdcILDCaZ3Dn3/RK/nNJAGN7EUy9slkTwBsPeXZhJE3JuoicNn47jJhllwvoVe5RuaJ5Mz7avgCHTZutnBqzy0U0eXblKGIlRuaOHMnXT8ONB2d6Bo+9JeaeTJ2By9pyXslbQ8RRAUU6oI68sdOlpkikkSQIRxoPL4dadmgUSqHzURH5ukaOiqQS1kxPw4nTWfkFL/WDTEr6xR5xBY6v9NGqoFeJEu08BdcrHoDLFr7KQ9np2Glv/EKRSAYoCJQED0GDX2Q5wOYKajAuoW55N5UXAKA8m1mI+jvbUL+6CwGEKFdKQlHDmYRrNWBAgYMzAbZWG5IIZIASGpGTZ+eFdXEPGsf6yZs1wEUnTBeJYzrbmZyOwWgMBRZy7YlL4A1rp2Eh8m8PzsNp39yfrOMqE5i76FK0l1d0+tHjV8Hrj10KQ8h39x2Bk2/5WRisZCQ2HrXKU7GCmKDM6SpCmC9cQA7rus25n3TFEgMNY8U8mErEXIK2UOZvEdK0vvEpKwZT/l2H5uGc2x8S7KDHQzFPaDOC21LlvDCqF1xTmt06sX1JAMk0h8nqDAaICOOgp2BWiB20GZvfZU9bARufuhyGkFL5p9/6INx9KHdezTb7EwfhdQxAKV9LXqaQddOdf3Uu0ndKMIEet58eYIsKBeuIWT7P8sow0UazxGW/unw45R8slP/tB+HHxW87mAoMUbOBmZ4T/Y4h0ykAjSPj+Pxx23aOrQOvUmKgAMdVeaxXBwicJc5duwQ2Pm0Y5T98lODlheXfUyi/sXxyqF9s/2KULgJhgLRPlDKNOSxIJqJ/VGUTMIDxgaQsGsaZq7Q03u7Zx0zDNSesgiGkVP4ZtxSWfyAHHnsYP68WBhNl4NQEVZMzc3M3PZSv71O3nYAecxIXULdHM5Zfry1DVpHS8z5u+RR8/uTOzVJvOffbP4fv7Tka37K2WU5+m9Of+jFxNz3pKeBCqX9S2hd9eXSfGqu1NpTbKrS3xy2fhs+dshqOWTTMjN/63T3w9QcfsSwIvrI9RWOPOn3FBoEdgj0QM57SaTIwELjbz9Y1CDfgLzKKotFN2efaFVPwuResLkDQ/2/QpWTj9/bCP9x9UG4x7UwgrsT+9E88Va0DgbfJmx4jXpAt3WETZThem7HEYYCkwgnc7TLPO2YxwudeOJzy//TO/fDRXQeqIcLcmoHNDE0ZueWx9s7alm8BHYabyAXELDpeFmk3qRsa0wWkqLdRzmdfdMxgyv/AD/bDBwsA8LDDzmYhjFDXEeBN1FUgL2V6nMVfqL+vymI0HWPDvlK6gJx3qG4JBPLdOSj5y+euLKL+KRhCKuXfsb+eQ+phVZlQFgoqT0vsYcnNMjFAWslxIupL8UNbP+/DuoDE+CY+GMm7j18Gr3vSYhhCPvajg/Bn39+/YIvXRI9Obuvr2fOknILGz1guIAkOitdDb2ToZpQ+gqxrFJEPq2OsyVJ++QDvKpT/rmcugyHkE3cdgvfdvq+w/BBUsgFHWzyMW7ws8IHbMoMoGy+oFgzQ2/r1AkdamMlBhDUmdQEx9xJJe2UXP31pBYAh5BsPHIG33bqX+fwI9VcgAIguQKVQC4aktH0mK7V3CwsCo0EXQ2sPl4A0iebNsGYMce9F/rWc8+QlcOVJwxzxfm9uHs7/+sMOKBNb0Ja71cKaJrVyqWMr1rms4el7BoHUL6p3wJqyxDZvoF2ATuvAS4OgzH72L0/Blc8ZxvLv3p/Dq3fMwd4jsfUKGvLjIzU5cpuCH9WS2vz3k+4gMNKZmx1jBow9sGy3YMnB3eM2/jIGwrUrM9j6opWweoBTvlL5Z29/GPYeptbvV2M5oAuTJVtu6tQZ3ikOF17f61MUBul2AWQjUlccJccUjBEqXpDUMYAOsqIgqBf3uJUIn3nJquK0b/K9fqn813zlYbh3/zx7nsaeO/bwVRWKzlvWg3jMYILM2GgouhrvbWDKr8diRHTyqudldDEBA3Dl60+/YiA4rrD8T79k5WDKf+2/KuXrSL2OzsEtr6HClIuReiEvZjYUtf5Yi44YgEwSI/Vic9KBHjpbtElZoF1bh/Kb8Zo6q4sj3utnVlT0P6nsKXz9a7/8MNyzb/RaF1Nb3fYolsRcRb0u6mfZsnM1mhc7RCTxMigR+EWsWhUn66EpmEB4n6RcDFusMvtDL1wOz3rM5Kd8lfJvKix/b171G+iVfV6uwc7+hORxjZ/y2k26hNYFJIIC36ezQxVj3Y5FMCsQljuBYP1dBbbjgutTr3j+MnjpcYtgCLlo+174/oPz7nd8Md9vlOvRvicC1F3BHiWTuotpo8y+lBz17baOuCWHIYaIATzLZ+l3PGcpXHT8EhhC3vn1/fCt+4+MLF8xdgAitidzdcpnBU37VP+BDnNG1lNm9tAea1MwQI/V96iM2j9kFTYzTET/VXpCy9f9mMOeOv8dv7a0AsAQcsUtB+BT/3UYmtM9d0wBCt/3G8OJWQ7PoQ7r9PrukM6DID53t8wJUPSzSLTKv7SZ6r+XlG35OQDJeV307MUVAIaQq79zELb85yFBx9jhkxF4XT5pv36b79I7hngnsRGId2wXeox3AayOg2jZ3qe9NOoXLsiBxeZ52vpFsOmUYU75rr7tYAWACtA84FV/d6/ZiiaftfmXP7hleOuRUmaXtWtdu9ba4xzAt/IIgiMTEqDRwdoA4sUAzyqOeDfPDKf8D912cOTzXcrn/5SL3RLz8wkNDLHArnVTXNkOQHoDopZ+L4NUoOi5q0AK4UmNFXj5zQNOIDoGWLsqg2tftgJWL5mcYq7/j8Pw4VsPyrknAk7sEfwhv0kCo+4PIK3sCbbWvT8KxWYkPQEFDr5Ioh6SzUfmRhYq5ZB5mFep/E+eWZzyrZpc+Z/6wSNw5TcOmICPK5UrQdO8LjfH5R7tq/VzrR57Wjp248EFAEZHBp+2sQuNZA5kmroY67OntBZZXE88plD+WYXyV0+u/HKPf+lX9tf/hg60IBBKM0qH5FYU2bt6Ga+Q7ENXaOqxcUU+RMSNA6TEXYBAIEVHCdbAKK8pY/my7uhmcjXV/RYgXr0U4dozVgym/Ndv2xuOqVvF1kzAx3Zjgjgz+FtVBxie23DcgJOMZzq69oNAdFpRpLhRpqH80BxVQ5zAZxmprf+q314Gxz9u8vP98mj39z69F/YVr3UzV3HsX/5Cct2BOYl0QCHSAO62D2MKj+QDqDFNphX/HIBsD+gkRgMpCxeKl44sgITES5pJdwOXzyyF054y+RHvvXtq5R+i4JoSikT2Sdc4ls/7AkgDw+tL5IsOrIi+HVExgKVx25NUZJXWflDeKP9PJg8mAMDJa6eqa1Iplf+GT+2F+/bkYlGxy7qhiQ9AKCpm+e5a6TYAFgiNLaWAwCcVEV083ee7PI9SxL+pKw291a4J/PjHJej3+2hIpfx/rJWP2u+Dq1hUAPHKYuWectHz95ohmnyAxOt3nQFJSW4DvUFa6zZ5jdhPoMVJnWEFGuxAaCGyp/D1Gz7JLF9t9bjiW4tnrBVYQIqXj2OUJ9Ns/FT9UC+OgvRBkLZstRuwL3sUMJyI37iDR1v5nyiUP1e/0/don8Ac77b1HIYw7Vm5Trf16zw3Jqg7cllAVJaCrJ5fOJL4OUCkN49iWlZwJsb/QUSJ9kS88X8k77nxAPzgJ/PGvyOApG6eX2Y0ZcyHx2IFnQaQykHzKhj6uwMAP45ICgpg9NoGJg9/qP3D+RKHVD0Ir0b5xB8FFii/3r3jf45WZwiefxfWD5D09a2ylQFYJkD/lbhj+bFX596HIcbae4Oh/MeiSwCoC+ehOl4dXaq83raN8qm6qkWkum19VS9F2nqhHa/flj8KAFhVvCfY8rpVcOzqrJpDVs8nq+fE58fvm3q6LMtZ+ypd/8PMObtYm0zUleNnTV7RJiN5NX1lug/TNugCKX6FD0I0XLR/Nwl1IoaqTPh6aJnC97OPAgIKObY4Ov7wq1bCBX8/2vsLyua/nrU7ZdzCOXUbt8AeV7AF4Ni7gSrfNXXGEInlzaqOaut1Lb2x3PaqmYFknbYNYw3OAMgYAdu6MGIEePTk6Y+fgut+d1X15jBlKfwKLIDqitfNTFsYWXRj2YRifQwLGUu2rICCLSRDGJZoruiDardQKT0ovqH7AJYRMCTdw0jBRKG+6P/R3QI2UoLg2nNXVZ+Me/Ru6D8HV+GZqhdLY94oXbqczOmrAUqj6Ky9wKX+Biyesl2AejGAVToJpQsrdhTfx+pFjPD/BARXnb0y6ddDmVQAt9A4CLiF2jqZUlxbt7LuiDUbhTuxQtclqZ7EFVN6UHRQPHDFp6zeAwUsXO64fx6+f/88DCG//qRpmH3FingQSMFydVnMelv3kPt1Mt13zkDCrTfX1uwFh77VZ6kL60geGmW2SrRKh1ZxdX2+EMzqgS2Asfq2HiubgAH2FMHbH358P9z78xyGkFecsBhmf2eFQ//oAEJZsirLcnQZRLKDVbi2+Ma6W4t2ACKAwi8OQkIDnGgMwJXeBnQ0UiJnAREcEsn8PFg9VzaqsknjgPsemofzrt07GAheXoDg8lesgNjauL7U/MYBwxnFA4Z2N0gWSJnDKC1QuILreIFfgrmiMYB4QMkQyJQIudoViLYUKJ9NPjBFzQiTSN3vfQ/lcP6AIDjjxMXwxt9c5isuB0PPoUzuCDKKW73IF+5EKY8snTcMk+UIOr7IHHCaqwEEKL/fXto1kKN4kooP9yRcBOigESQoJpEqfqjHvv/BHC74WHG2PxAI3jizFN744hoE4ARtpC8UytTKDb4bbKDYKLTD/4vtn1Kmr/AI9bcuIMEAMuADq/hcKr5hA7sbgPb8AEw+THwQxK3y/oIJLhwQBBcWILhwZpmlaQDDbD6FB+WiVm4uleqCh7T/t0wQ+mt2DfJswmOFpAuoJj8PMuBzjoa14jkbiLgh4iJaMMEE4ix6yQSX/M0+2Nvvf8PrlAsKEJRXbHdQLS4gWKrnQZhVbuMyLBMEV4COq8hUfCAOkhQr6CNhuwtw6B+aq6Z/swVkwDCgYFRv3EDbnkLw1/Q7gQj3U4995z1H4eKP7B0MBOefurS6hPVQ3OJH1tVY97juAMUOQlpveMfgsgCrZ+g+V+8mmnMA7xI+us3jAJFlwbrDwZBemPZUkEAywaQAaINNuRO5896j8KZr9gwGgvMKAJw3sxQs7aNRBDr5zfsDz2K5xWdkAWb8PmmLtkfBaOo4l97zy32+WlhB7aBiAgpRPXGrp+BCCMwZwKT/VFz7QiaXTNMo6M575+GqGw7AULLht5bC2ScvERQe/LwCgYkDwFV8AIV1IXrHIGMIeXCURRSOFGeF6DeB3jvm8L6awLwbbxO1IpDi79Rrv88/rVqwKOtqxuFf4Hz+lsNV3vvPWQFDyFtOXwb7DxLcdNsjclwIz1jFBM380CsPec1bRPkmEsX3EqFMfQdQj1Gl1bcCqdiqKRt9ENIRhYlPt7gy63RYeFIgYACpG9h8GMAFKCWwqxnjXwoQlD75vQOB4I9evbwa98u3HbEgYArwlOoqGqSSuUq08k1Z8wdZVXaotvx7ARRVgPtRaGPFlYRTPPcLWoKAFNbOWsGEboDCLyI4ChldJRM84ZcyuPC0Yf7W8DvPXl6A6iB8+duP+B+PAgchGoYSytfMIfItSMI9CmPUdUDUtyVj/YcRozIydc1XsvyvSCtAhIVijDCJ/gmES0GS8x39/f2Qvu4Lo7/pe8FAIHjTy5fCrvvmYdf981bxag58vaq/VAJ6DR2GwKBgzRyhTp0v1hE7rb8sN+8C+Nl+CN5U9C+2exBe9DSBIIA5OWy2Z+L7AD7egoVE0Kd3MPyVdpN3/Y0H4fovHoQhZMVShD+5eAU85QlTIZKv14ef3aMO3kgHfF4gh87BUNgpiLMBE+SpMckPDjPgR778DEAp0L4QIrGft9E/2F0EA5moN4FUFuPswVGN1cydg2DLF4YDwR9ftAKe3IIAROQtlQRW+Y1CnQMgpLB70DsFAYhcbTnNhe6VgTr4QXbxMv5CSCyuOCCSdTWrCOXzwyeYQJwxtNXJvADaLQUItt44EAiWIVx5cQCBVnQzPn9LGBSrLdwHiGYC8W0Ce2bzIanaRsqTQHVUKA6EnPyWEbhbiB3wcErWboIrblIhClSfx6xf543qlwD44i2PwBBSguDSDcvgV4pAs6F1CQKb1m8BAzBip4XOsS8HRf1hiKdwvRajgyClcO9wJ5z1M0bglt+Ape2HjJsQ4NBtJwSBfDAC8ckZgXNULK8P/N0++NJAICiVf8XvL69+o0xAMYrW1oxuHXtSKNmAuxOPETgzRF4Hg/kuwGUEQanE3AUYyvfoH5irmESQHMYhAP1No11gaOf7wb/dBzd9azgQbHrzcni8AAE6vtuCI+4KGDu0v5HXx8S/J9Ag0i6gUaa6+CLqKF+k2Y7A+9QLybbnjDGY8sm3LB6feGXBHQB85J/2w3/fM8z3hY8rlH/5m2NM4LgCBxwyKPR3ArZfZweQg/92MHd2AeaNoFIoGAVDS/tim9fSv1YEmLyJ4wBHuT4o1GtrVbb/AMG7rt4zHAgeg/D+N6fdgWUCT9mJdC4BYdmAMYL7QQhJWnQ/BqnuLUBQvDACNx7gfr/px7y9m1AaBRrQUowVKFJGcKAAwaWbhwXBe9/CQeBTsssE0AUGSCievx2044W3gWLhyFI8W9SUu/B//X5MX0NI2SfUDwksluFj1L8tG2hg1HXKFz1Xfmwv/OShHIaQEgTveesyWLlMWXvzbsADI3QEgDCqk0HcDRhXQDYYzbQC2rNzT8kqyPKULH99cBhWmEQobukcCLbMAUEe8n76QA7v+Ys98NMHhwHBYwsQXFaAoDw0atY46grAugV7VuDFDd5BkWQY831g6xdzbalkYwLQ0T65jBC7tCsRY00g2DGmPgrWtN+CEzgQAH5WgOC9m4cDwXHHZnDpHywdgUAoawSKkVVbKpdWa1nD21FkAhTy7IAbo38OIBTmpzllBn9PCTYg8W2gYJIJpH351GHt0IJPPhN/Bg2KBgTvK5jgZwOC4N0tCOxcpc9mbAGS8vl2L27pum/rCvxPwtj+3rNYewIYgjmP8mOAGWQXQBHaB3DB5oOEDGB4+oECBO+/au9gIFhbgOCcVy1ulZUBRIErlaqVz+YLUMcUGJgEAngyVSfUjVI+WMv3joUTlwSBBdEg7wIgNhc+jlIsOCAweSSA8ECh/A9cs6/aJQwhp/zGFJx/7hJB+RiNA/wj5fBMXf4fAWPvBLQFxZSoF9ZjBzfqhyYPJO3za0JxT/rEAkllgqNgrvSYm7jr7nnYVDDBUCA4+XlTsOHcxc6cOX2jejaUVk/xj0hjShduwQv8YoEaZwYc81fcK2VMJFx5RBBnJRJj6zwNertLGN2XILjiz/fCUFKC4DWvXhQUCRbEbkxAUvkcIPotoa3DyooH3u1ZPTp5niLdxQa58CiYILKrmFTacSnQOTgWLhSsqB+00lUf9f2PCxB8dMtwXxqfOjMNp58+zeicWzFjBYi4AbIuhFt9iAVQX7vLfyZubqTRkbDP/UIe+xYJeT7VeaoMdV/8vv58zC1boAhKbC8KH03Vcxt9ikWj7/NI1eV56PTJ84o/bv7GI1X64vOH+V/HGwB88fPzzazDuoJe28AEIVXfI69X35G/xsVT7y6Cw/nbMWL1bcPmXm8RAaJM4ZWjYgnk/S9YSLKO+vXdQqQNYxFxD4xB2P3XChB8/JPDfFBSyssKELz0jGlh8dbaI+cCAGaL6AWGgiHy/OGseKW406VwABsQ6bRSZnpRWT1w6i5QAm0z5bDf0RheGdk0gOMinGdjc/7STYdh22cPw1Dy0tOnAgj0BZHL1LUHQ55rAMId0zngzoyU1slShvnyl6Vj4rkCYBNvZM/+HO776Xy0fUr27a8nQe0foAiwnjuNbuqfoHRFp8hA1bqFhIso/rjhnw9V9y84ZbEaPS6YSD/1aRncRPVXxsjmRz71hzz2J/rz4HmLpvKduG5m15psesmuIr3Gq9Tmad+CctHMwOoX0VlkZGlWnqGth6pepTjeDmsKFG0w5LM8Xcek2X1m8oMSwj3KOl66XYtYHQBQ9SUArLLl3yaSoOe/tsZINl2TYbZ7x/q5Auw7Y9G/jgOi9B6heoz1BX7fyPLRqR/GIvC3dqB2IHo8SrsCfWYAcm7YsQayL5AuVdM58XroUH1sO4c9KV+eBag2O8o5jf5PJMpvcM8DYLSlEucAwO75r8oX5wcQ+gvbNCetFRgBA0/LQyevPjlgIqU4smNqcLC2QnnqXgNDKpqxB0HEv7vKkuWij0h9J1+u7fzWFgB5fmRLkTmnAxyMKMSz+CgLEFtQ3Z/pvwnmNIiYYsAfpwGDzzAeOLwzgcAC4OQZxUMcCEbJntJArrWsLykf1TomlQ8g3IB3wdKpbdAAYOQG8q3tbBxlcaoW9M7y3bYAUQWio0itqFGaAiM5fcrfUE8zhQUPBwaFcfXYoMbQz9z2EQGCkzdqg37dpr+YwgEiSsZ2HVNXcQC0ZXYzzpV12/9mK4fpzRA5yxcW2Ty5dgcgT/hSCtMg8KzaWnejFP4iSS2+AA654IjRLweB159v5WT6cEHi5MVo35ajVTQHQ9sO3efyrnmETc10WgDs3vGE3QUMtoIW9RDIHyhxL3wmB4UBiV3wuHWrcYAilg2tQtH0TfLZmOW3z8jrseqBtkkCBdSCewpI5ZEcW5eDUqqpp0ACrL1mkuJ4ecvsR3B380ziP9qbh/lZ5LEAG7BdDAUE9PIBXEsWymFWaRgF4sxh5iP6CGNxANq5BK0KyoUwL48BWrCQbMfn4wJB5RlWaMvQdRVCycz6gXwlx/sAODIVrL8UAYAiFthdLObVYmYeGNRDg14MDwzk1ImAJSjOWSmlKM/ivb5QK1gwB5m6fLymHJ3n5n256+PVB3BZIZRhWDOSoNd169rmAgDDMDnRJm79AMqgGnnqi+/eXjSYMf9tCWvRDtKkEUUdrMsWknYPfrC2glRdVi+L5MfSmXfAg/WHGTwPMHIwNHrDljoQAq8viNeXOwFO8+weffp39LZ7419l61URuP/X6jQePb/4Ea6glZYOQ3r0GywWDa3ruvIXY1Zt6vboUyccJmiExwg8NhCflEFiTvwZmoS2fgLr35Xlo1fGWFNavQoKHRfguITdeARPBUdcANxRuALK6Hyehx4Q2H0zIVB5DTVDT1Dwh5V9gPXtjrjBHuhFjIHYWg9XgrwnoTTpEqxitSEZZXvP0tZBoVT3eVQ7nl/M9JLLtkjqbyT6vy3/aMdx24jwEr3OGEO/p8iExQswgO3Tt2w2XlUWwKTHG6XJmQdZVmjmq8qE8kDuNjQQBUCbbK1wXYc/k2KF6DMDuFs/DyB15U0b/xq3QUSS/932D29+4uZiDTeBY/3Jew8kGkg8EWMHSPQtWIHMYsu+nc7IB2mUaUi2bccin/lilg9OHjplmkUA4pauJew0aNNl107NQkI6/7/1H35t7SyWINCKid0n8jymAFL5dabew7t9eQN6IHRcDjptkfz+uFW7lqyUjo5yXZ9f5aFsCw6LJIwHI78EdMll16WVX0onAEq5swBBcUpwVtHtbnM6qBYee1ovn2y8rnr6SD+h3BschOLCHC3di04pbX1cXJB6Fh5bm4iSfdqHliF0//XvHOV41sbrpjZDD+kFgFLuvHn9tmxq/tQRCEA+gHgKiitIC7N+jNVXykqCBqQ7kP6QlKJ5G9uXl5e8F2mPUfw2xuJTcwMHyBwQ5SveHE/auCXu87v67yXPeOFds8XG+fK2E2STQp7HPoRo6tS/sX08r8t/Rx9moO3D1BmN2/ccoK0H3pkAqnbe3r9Jh7Lmr3G19I7+fj9jtXg5APoflMTv54qA9+rLtnRTvpbeDMDljq89qQDA/PoCclurjJTlQsQ3R9jBixMMPZtxpBWhx0LuL7kW6QpnmQgbua5Al3fWw7Y8ZZ2BBXDLI4QnLUT5vJ8FyzNmdq3DPJstrOaVxZzX8M/DpNWjYgeInvjpOpmyWvAYAsPiZq61g3P6J63bsoG1/Axi+d5p3uhhsohFC+aA0IanQbSDJrf8imvrPGSbZyP7+74yMQAaKb8tXA5TZxYdbiiumapzAQAIx8WuYiDqBlpqb8vRAoClFwYApSg256BYHwCZUOSkAJC/DAAFzcPO4u6Go5BtKRQ/BwPIYADQ8qyZXTMZZCcW+4UXF6OsyZDWFQ+8DqKKWTgAMhcI4wHAKLatE+wuCoC6LK5cDwCoACbKdxd9FgrGncUrnNtHv9M7h1I6l/8FAVO2ym5DPSIAAAAASUVORK5CYII=",downloads:{chrome:"https://chrome.google.com/webstore/detail/keplr/dmkamcknogkgcdfhhbddcghachkejeap",firefox:"https://addons.mozilla.org/en-US/firefox/addon/keplr",edge:"https://microsoftedge.microsoft.com/addons/detail/keplr/ocodgmmffbkkeecmadcijjhkmeohinei"}},{id:"fordefi",name:"Fordefi",icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwXzEzNDk0XzY2MjU0KSI+CjxwYXRoIGQ9Ik0xMC44NzY5IDE1LjYzNzhIMS41VjE4LjM5OUMxLjUgMTkuODAxMyAyLjYzNDQ3IDIwLjkzOCA0LjAzMzkyIDIwLjkzOEg4LjI0OTkyTDEwLjg3NjkgMTUuNjM3OFoiIGZpbGw9IiM3OTk0RkYiLz4KPHBhdGggZD0iTTEuNSA5Ljc3NTUxSDE5LjA1MTZMMTcuMDEzOSAxMy44NzExSDEuNVY5Ljc3NTUxWiIgZmlsbD0iIzQ4NkRGRiIvPgo8cGF0aCBkPSJNNy42NTk5NiAzSDEuNTI0NDFWOC4wMDcwNEgyMi40NjEyVjNIMTYuMzI1NlY2LjczOTQ0SDE1LjA2MDZWM0g4LjkyNTAyVjYuNzM5NDRINy42NTk5NlYzWiIgZmlsbD0iIzVDRDFGQSIvPgo8L2c+CjxkZWZzPgo8Y2xpcFBhdGggaWQ9ImNsaXAwXzEzNDk0XzY2MjU0Ij4KPHJlY3Qgd2lkdGg9IjIxIiBoZWlnaHQ9IjE4IiBmaWxsPSJ3aGl0ZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMS41IDMpIi8+CjwvY2xpcFBhdGg+CjwvZGVmcz4KPC9zdmc+Cg==",downloads:{chrome:"https://chrome.google.com/webstore/detail/fordefi/hcmehenccjdmfbojapcbcofkgdpbnlle"}}];var z$3,j$3,P$3,V$3,ee$2,k$2,F$4;class LocalStorageWrapper{constructor(s){T$4(this,V$3),T$4(this,k$2),T$4(this,z$3,!1),T$4(this,j$3,void 0),T$4(this,P$3,void 0),_$4(this,"value"),B$3(this,P$3,s),E$4(this,k$2,F$4).call(this)}set(s){return!N$4(this,z$3)&&!E$4(this,k$2,F$4).call(this)?!1:(this.delete(),this.value=s,s&&(B$3(this,j$3,`${N$4(this,P$3)}-${generateUID()}`),localStorage.setItem(N$4(this,j$3),s)),!0)}get(){return E$4(this,V$3,ee$2).call(this),this.value}delete(){return!N$4(this,z$3)&&!E$4(this,k$2,F$4).call(this)?!1:(this.value=null,N$4(this,j$3)&&localStorage.removeItem(N$4(this,j$3)),!0)}}z$3=new WeakMap,j$3=new WeakMap,P$3=new WeakMap,V$3=new WeakSet,ee$2=function(){this.value&&this.set(this.value)},k$2=new WeakSet,F$4=function(){try{!N$4(this,z$3)&&typeof window<"u"&&(B$3(this,j$3,Object.keys(localStorage).find(r=>r.startsWith(N$4(this,P$3)))),B$3(this,z$3,!0),N$4(this,j$3)&&this.set(localStorage.getItem(N$4(this,j$3))))}catch(r){console.warn(r)}return N$4(this,z$3)};const Permission={ACCOUNTS:"accounts"};function filterBy(r,s){var sf,Nf;if((sf=s?.include)!=null&&sf.length){const ip=new Set(s.include);return r.filter(em=>ip.has(em.id))}if((Nf=s?.exclude)!=null&&Nf.length){const ip=new Set(s.exclude);return r.filter(em=>!ip.has(em.id))}return r}const filterByAuthorized=async r=>{const s=await Promise.all(r.map(async sf=>{try{return(await sf.request({type:"wallet_getPermissions"})).includes(Permission.ACCOUNTS)}catch{return!1}}));return r.filter((sf,Nf)=>s[Nf])},virtualWalletKeys=ensureKeysArray({id:!0,name:!0,icon:!0,windowKey:!0,loadWallet:!0,hasSupport:!0}),fullWalletKeys=ensureKeysArray({id:!0,name:!0,version:!0,icon:!0,request:!0,on:!0,off:!0});function createWalletGuard(r){return function(s){return s!==null&&typeof s=="object"&&r.every(sf=>sf in s)}}const isFullWallet=createWalletGuard(fullWalletKeys),isVirtualWallet=createWalletGuard(virtualWalletKeys);function isWalletObject(r){try{return isFullWallet(r)||isVirtualWallet(r)}catch{}return!1}function scanObjectForWallets(r,s){return Object.values(Object.getOwnPropertyNames(r).reduce((sf,Nf)=>{if(Nf.startsWith("starknet")){const ip=r[Nf];s(ip)&&!sf[ip.id]&&(sf[ip.id]=ip)}return sf},{}))}const sortBy=(r,s)=>{if(s&&Array.isArray(s)){r.sort((Nf,ip)=>s.indexOf(Nf.id)-s.indexOf(ip.id));const sf=r.length-s.length;return[...r.slice(sf),...shuffle(r.slice(0,sf))]}else return shuffle(r)},virtualWallets=[metaMaskVirtualWallet];function initiateVirtualWallets(r){virtualWallets.forEach(async s=>{s.windowKey in r||await s.hasSupport(r)&&(r[s.windowKey]=s)})}const virtualWalletsMap={};async function resolveVirtualWallet(r,s){let sf=virtualWalletsMap[s.id];return sf||(sf=await s.loadWallet(r),virtualWalletsMap[s.id]=sf),sf}const defaultOptions={windowObject:ssrSafeWindow??{},isWalletObject,storageFactoryImplementation:r=>new LocalStorageWrapper(r)};function getStarknet(r={}){const{storageFactoryImplementation:s,windowObject:sf,isWalletObject:Nf}={...defaultOptions,...r},ip=s("gsw-last");return initiateVirtualWallets(sf),{getAvailableWallets:async(em={})=>{const tm=scanObjectForWallets(sf,Nf);return pipe$1(nm=>filterBy(nm,em),nm=>sortBy(nm,em.sort))(tm)},getAuthorizedWallets:async(em={})=>{const tm=scanObjectForWallets(sf,Nf);return pipe$1(nm=>filterByAuthorized(nm),nm=>filterBy(nm,em),nm=>sortBy(nm,em.sort))(tm)},getDiscoveryWallets:async(em={})=>pipe$1(tm=>filterBy(tm,em),tm=>sortBy(tm,em.sort))(wallets),getLastConnectedWallet:async()=>{const em=ip.get(),tm=scanObjectForWallets(sf,Nf).find(rm=>rm.id===em),[nm]=await filterByAuthorized(tm?[tm]:[]);return nm||(ip.delete(),null)},discoverVirtualWallets:async(em=[])=>{const tm=new Set(em),nm=tm.size>0?virtualWallets.filter(rm=>tm.has(rm.name)||tm.has(rm.id)):virtualWallets;await Promise.all(nm.map(async rm=>{await rm.hasSupport(sf)&&(sf[rm.windowKey]=rm)}))},enable:async(em,tm)=>{let nm;if(isVirtualWallet(em))nm=await resolveVirtualWallet(sf,em);else if(isFullWallet(em))nm=em;else throw new Error("Invalid wallet object");await nm.request({type:"wallet_requestAccounts",params:{silent_mode:tm?.silent_mode}});const rm=await nm.request({type:"wallet_getPermissions"});if(!(rm!=null&&rm.includes(Permission.ACCOUNTS)))throw new Error("Failed to connect to wallet");return ip.set(nm.id),nm},disconnect:async({clearLastWallet:em}={})=>{em&&ip.delete()}}}const main=getStarknet();let x$2,O$5,m$2;x$2=Object.defineProperty;O$5=(r,s,sf)=>s in r?x$2(r,s,{enumerable:!0,configurable:!0,writable:!0,value:sf}):r[s]=sf;m$2=(r,s,sf)=>(O$5(r,typeof s!="symbol"?s+"":s,sf),sf);A$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};L$5=function(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r};S$3=function(r){if(r.__esModule)return r;var s=r.default;if(typeof s=="function"){var sf=function Nf(){return this instanceof Nf?Reflect.construct(s,arguments,this.constructor):s.apply(this,arguments)};sf.prototype=s.prototype}else sf={};return Object.defineProperty(sf,"__esModule",{value:!0}),Object.keys(r).forEach(function(Nf){var ip=Object.getOwnPropertyDescriptor(r,Nf);Object.defineProperty(sf,Nf,ip.get?ip:{enumerable:!0,get:function(){return r[Nf]}})}),sf};var E$3={exports:{}};(function(r){var s=Object.prototype.hasOwnProperty,sf="~";function Nf(){}Object.create&&(Nf.prototype=Object.create(null),new Nf().__proto__||(sf=!1));function ip(rm,om,im){this.fn=rm,this.context=om,this.once=im||!1}function em(rm,om,im,am,sm){if(typeof im!="function")throw new TypeError("The listener must be a function");var cm=new ip(im,am||rm,sm),hm=sf?sf+om:om;return rm._events[hm]?rm._events[hm].fn?rm._events[hm]=[rm._events[hm],cm]:rm._events[hm].push(cm):(rm._events[hm]=cm,rm._eventsCount++),rm}function tm(rm,om){--rm._eventsCount===0?rm._events=new Nf:delete rm._events[om]}function nm(){this._events=new Nf,this._eventsCount=0}nm.prototype.eventNames=function(){var rm=[],om,im;if(this._eventsCount===0)return rm;for(im in om=this._events)s.call(om,im)&&rm.push(sf?im.slice(1):im);return Object.getOwnPropertySymbols?rm.concat(Object.getOwnPropertySymbols(om)):rm},nm.prototype.listeners=function(rm){var om=sf?sf+rm:rm,im=this._events[om];if(!im)return[];if(im.fn)return[im.fn];for(var am=0,sm=im.length,cm=new Array(sm);am<sm;am++)cm[am]=im[am].fn;return cm},nm.prototype.listenerCount=function(rm){var om=sf?sf+rm:rm,im=this._events[om];return im?im.fn?1:im.length:0},nm.prototype.emit=function(rm,om,im,am,sm,cm){var hm=sf?sf+rm:rm;if(!this._events[hm])return!1;var fm=this._events[hm],pm=arguments.length,mm,_m;if(fm.fn){switch(fm.once&&this.removeListener(rm,fm.fn,void 0,!0),pm){case 1:return fm.fn.call(fm.context),!0;case 2:return fm.fn.call(fm.context,om),!0;case 3:return fm.fn.call(fm.context,om,im),!0;case 4:return fm.fn.call(fm.context,om,im,am),!0;case 5:return fm.fn.call(fm.context,om,im,am,sm),!0;case 6:return fm.fn.call(fm.context,om,im,am,sm,cm),!0}for(_m=1,mm=new Array(pm-1);_m<pm;_m++)mm[_m-1]=arguments[_m];fm.fn.apply(fm.context,mm)}else{var ym=fm.length,Sm;for(_m=0;_m<ym;_m++)switch(fm[_m].once&&this.removeListener(rm,fm[_m].fn,void 0,!0),pm){case 1:fm[_m].fn.call(fm[_m].context);break;case 2:fm[_m].fn.call(fm[_m].context,om);break;case 3:fm[_m].fn.call(fm[_m].context,om,im);break;case 4:fm[_m].fn.call(fm[_m].context,om,im,am);break;default:if(!mm)for(Sm=1,mm=new Array(pm-1);Sm<pm;Sm++)mm[Sm-1]=arguments[Sm];fm[_m].fn.apply(fm[_m].context,mm)}}return!0},nm.prototype.on=function(rm,om,im){return em(this,rm,om,im,!1)},nm.prototype.once=function(rm,om,im){return em(this,rm,om,im,!0)},nm.prototype.removeListener=function(rm,om,im,am){var sm=sf?sf+rm:rm;if(!this._events[sm])return this;if(!om)return tm(this,sm),this;var cm=this._events[sm];if(cm.fn)cm.fn===om&&(!am||cm.once)&&(!im||cm.context===im)&&tm(this,sm);else{for(var hm=0,fm=[],pm=cm.length;hm<pm;hm++)(cm[hm].fn!==om||am&&!cm[hm].once||im&&cm[hm].context!==im)&&fm.push(cm[hm]);fm.length?this._events[sm]=fm.length===1?fm[0]:fm:tm(this,sm)}return this},nm.prototype.removeAllListeners=function(rm){var om;return rm?(om=sf?sf+rm:rm,this._events[om]&&tm(this,om)):(this._events=new Nf,this._eventsCount=0),this},nm.prototype.off=nm.prototype.removeListener,nm.prototype.addListener=nm.prototype.on,nm.prefixed=sf,nm.EventEmitter=nm,r.exports=nm})(E$3);var j$2=E$3.exports;const P$2=L$5(j$2);let R$2=class extends P$2{};const T$3={ACCOUNTS:"accounts"};let U$5=class extends Error{constructor(){super(...arguments),m$2(this,"name","ConnectorNotConnectedError"),m$2(this,"message","Connector not connected")}},W$4=class extends Error{constructor(){super(...arguments),m$2(this,"name","ConnectorNotFoundError"),m$2(this,"message","Connector not found")}},q$4=class extends Error{constructor(){super(...arguments),m$2(this,"name","UserRejectedRequestError"),m$2(this,"message","User rejected request")}};const F$3=r=>{localStorage.setItem("starknetLastConnectedWallet",r)},M$3=()=>{localStorage.removeItem("starknetLastConnectedWallet")},S$2=r=>r===constants_exports.StarknetChainId.SN_MAIN?constants_exports.StarknetChainId.SN_MAIN:constants_exports.StarknetChainId.SN_SEPOLIA;var On$1=Object.defineProperty,Sn$1=(r,s,sf)=>s in r?On$1(r,s,{enumerable:!0,configurable:!0,writable:!0,value:sf}):r[s]=sf,Te$1=(r,s,sf)=>(Sn$1(r,typeof s!="symbol"?s+"":s,sf),sf);const Tr$1="https://web.argent.xyz",rr$1=`<svg
    width="32"
    height="28"
    viewBox="0 0 18 14"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M1.5 0.4375C0.982233 0.4375 0.5625 0.857233 0.5625 1.375V12C0.5625 12.4144 0.72712 12.8118 1.02015 13.1049C1.31317 13.3979 1.7106 13.5625 2.125 13.5625H15.875C16.2894 13.5625 16.6868 13.3979 16.9799 13.1049C17.2729 12.8118 17.4375 12.4144 17.4375 12V1.375C17.4375 0.857233 17.0178 0.4375 16.5 0.4375H1.5ZM2.4375 3.50616V11.6875H15.5625V3.50616L9.63349 8.94108C9.27507 9.26964 8.72493 9.26964 8.36651 8.94108L2.4375 3.50616ZM14.0899 2.3125H3.91013L9 6.97822L14.0899 2.3125Z"
      fill="currentColor"
    />
  </svg>`,In$1="https://static.hydrogen.argent47.net/webwallet/iframe_whitelist_testnet.json",jn$1="https://static.argent.net/webwallet/iframe_whitelist_mainnet.json";let Ln$1=class extends Error{constructor(s,sf){super(s),Te$1(this,"code"),this.name="ConnectAndSignSessionError",this.code=sf}},$n$1=class extends Error{constructor(s,sf){super(s),Te$1(this,"code"),this.name="WebwalletError",this.code=sf}};const Q$2=constants_exports.NetworkName,Mn$1=Q$2.SN_SEPOLIA;function Dn$1(r){try{const{origin:s}=new URL(r);if(s.includes("localhost")||s.includes("127.0.0.1"))return Mn$1;if(s.includes("hydrogen")||s.includes("sepolia-web.staging"))return Q$2.SN_SEPOLIA;if(s.includes("staging"))return Q$2.SN_MAIN;if(s.includes("dev")||s.includes("sepolia-web.argent.xyz"))return Q$2.SN_SEPOLIA;if(s.includes("argent.xyz"))return Q$2.SN_MAIN}catch{console.warn("Could not determine network from target URL, defaulting to mainnet-alpha")}return Q$2.SN_MAIN}const Zn$1=385,Un$1=775,Wn$1=385,qn$1=440,zn$1=420,Bn$1=438;function Vn$1(r){return r}function Fn$1(r){return r.length===0?Vn$1:r.length===1?r[0]:function(s){return r.reduce((sf,Nf)=>Nf(sf),s)}}function Hn$1(r){return typeof r=="object"&&r!==null&&"subscribe"in r}function nt$2(r){const s={subscribe(sf){let Nf=null,ip=!1,em=!1,tm=!1;function nm(){if(Nf===null){tm=!0;return}em||(em=!0,typeof Nf=="function"?Nf():Nf&&Nf.unsubscribe())}return Nf=r({next(rm){ip||sf.next?.(rm)},error(rm){ip||(ip=!0,sf.error?.(rm),nm())},complete(){ip||(ip=!0,sf.complete?.(),nm())}}),tm&&nm(),{unsubscribe:nm}},pipe(...sf){return Fn$1(sf)(s)}};return s}function Er$1(r){return s=>{let sf=0,Nf=null;const ip=[];function em(){Nf||(Nf=s.subscribe({next(nm){for(const rm of ip)rm.next?.(nm)},error(nm){for(const rm of ip)rm.error?.(nm)},complete(){for(const nm of ip)nm.complete?.()}}))}function tm(){if(sf===0&&Nf){const nm=Nf;Nf=null,nm.unsubscribe()}}return{subscribe(nm){return sf++,ip.push(nm),em(),{unsubscribe(){sf--,tm();const rm=ip.findIndex(om=>om===nm);rm>-1&&ip.splice(rm,1)}}}}}}function Gn$1(r){return s=>({subscribe(sf){let Nf=0;return s.subscribe({next(ip){sf.next?.(r(ip,Nf++))},error(ip){sf.error?.(ip)},complete(){sf.complete?.()}})}})}function Cr$1(r){return s=>({subscribe(sf){return s.subscribe({next(Nf){r.next?.(Nf),sf.next?.(Nf)},error(Nf){r.error?.(Nf),sf.error?.(Nf)},complete(){r.complete?.(),sf.complete?.()}})}})}let Jn$1=class Gy extends Error{constructor(s){super(s),this.name="ObservableAbortError",Object.setPrototypeOf(this,Gy.prototype)}};function Or$1(r){let s;return{promise:new Promise((sf,Nf)=>{let ip=!1;function em(){ip||(ip=!0,Nf(new Jn$1("This operation was aborted.")),tm.unsubscribe())}const tm=r.subscribe({next(nm){ip=!0,sf(nm),em()},error(nm){ip=!0,Nf(nm),em()},complete(){ip=!0,em()}});s=em}),abort:s}}const Yn$1=Object.freeze(Object.defineProperty({__proto__:null,isObservable:Hn$1,map:Gn$1,observable:nt$2,observableToPromise:Or$1,share:Er$1,tap:Cr$1},Symbol.toStringTag,{value:"Module"}));function Sr$1(r){return nt$2(s=>{function sf(Nf=0,ip=r.op){const em=r.links[Nf];if(!em)throw new Error("No more links to execute - did you forget to add an ending link?");return em({op:ip,next(tm){return sf(Nf+1,tm)}})}return sf().subscribe(s)})}function nr$1(r){return Array.isArray(r)?r:[r]}function Xn$1(r){return s=>{const sf=nr$1(r.true).map(ip=>ip(s)),Nf=nr$1(r.false).map(ip=>ip(s));return ip=>nt$2(em=>{const tm=r.condition(ip.op)?sf:Nf;return Sr$1({op:ip.op,links:tm}).subscribe(em)})}}function Pr$1(r){const s=Object.create(null);for(const sf in r){const Nf=r[sf];s[Nf]=sf}return s}const st$2={PARSE_ERROR:-32700,BAD_REQUEST:-32600,INTERNAL_SERVER_ERROR:-32603,NOT_IMPLEMENTED:-32603,UNAUTHORIZED:-32001,FORBIDDEN:-32003,NOT_FOUND:-32004,METHOD_NOT_SUPPORTED:-32005,TIMEOUT:-32008,CONFLICT:-32009,PRECONDITION_FAILED:-32012,PAYLOAD_TOO_LARGE:-32013,UNPROCESSABLE_CONTENT:-32022,TOO_MANY_REQUESTS:-32029,CLIENT_CLOSED_REQUEST:-32099};Pr$1(st$2);Pr$1(st$2);const Qn$1={PARSE_ERROR:400,BAD_REQUEST:400,UNAUTHORIZED:401,NOT_FOUND:404,FORBIDDEN:403,METHOD_NOT_SUPPORTED:405,TIMEOUT:408,CONFLICT:409,PRECONDITION_FAILED:412,PAYLOAD_TOO_LARGE:413,UNPROCESSABLE_CONTENT:422,TOO_MANY_REQUESTS:429,CLIENT_CLOSED_REQUEST:499,INTERNAL_SERVER_ERROR:500,NOT_IMPLEMENTED:501};function Kn$1(r){return Qn$1[r]??500}function Ar$1(r){return Kn$1(r.code)}const Nr$1=()=>{};function Ir$1(r,s){return new Proxy(Nr$1,{get(sf,Nf){if(!(typeof Nf!="string"||Nf==="then"))return Ir$1(r,[...s,Nf])},apply(sf,Nf,ip){const em=s[s.length-1]==="apply";return r({args:em?ip.length>=2?ip[1]:[]:ip,path:em?s.slice(0,-1):s})}})}const Zt$1=r=>Ir$1(r,[]),Ut$1=r=>new Proxy(Nr$1,{get(s,sf){if(!(typeof sf!="string"||sf==="then"))return r(sf)}});function es$1(r){const{path:s,error:sf,config:Nf}=r,{code:ip}=r.error,em={message:sf.message,code:st$2[ip],data:{code:ip,httpStatus:Ar$1(sf)}};return Nf.isDev&&typeof r.error.stack=="string"&&(em.data.stack=r.error.stack),typeof s=="string"&&(em.data.path=s),Nf.errorFormatter({...r,shape:em})}function sr$1(r,s){return"error"in s?{...s,error:r.transformer.output.serialize(s.error)}:"data"in s.result?{...s,result:{...s.result,data:r.transformer.output.serialize(s.result.data)}}:s}function ts$1(r,s){return Array.isArray(s)?s.map(sf=>sr$1(r,sf)):sr$1(r,s)}function rs$1(r){return!!r&&!Array.isArray(r)&&typeof r=="object"}let ns$1=class extends Error{};function Wt$2(r){if(r instanceof Error)return r;const s=typeof r;if(!(s==="undefined"||s==="function"||r===null)){if(s!=="object")return new Error(String(r));if(rs$1(r)){const sf=new ns$1;for(const Nf in r)sf[Nf]=r[Nf];return sf}}}const ss$1=Object.freeze(Object.defineProperty({__proto__:null,createFlatProxy:Ut$1,createRecursiveProxy:Zt$1,getCauseFromUnknown:Wt$2,getErrorShape:es$1,transformTRPCResponse:ts$1},Symbol.toStringTag,{value:"Module"}));function ar$1(r){return!!r&&!Array.isArray(r)&&typeof r=="object"}function as$1(r){return r instanceof jr$1||r instanceof Error&&r.name==="TRPCClientError"}function is$2(r){return ar$1(r)&&ar$1(r.error)&&typeof r.error.code=="number"&&typeof r.error.message=="string"}let jr$1=class oy extends Error{static from(s,sf={}){const Nf=s;return as$1(Nf)?(sf.meta&&(Nf.meta={...Nf.meta,...sf.meta}),Nf):is$2(Nf)?new oy(Nf.error.message,{...sf,result:Nf}):Nf instanceof Error?new oy(Nf.message,{...sf,cause:Wt$2(Nf)}):new oy("Unknown error",{...sf,cause:Nf})}constructor(s,sf){const Nf=sf?.cause;super(s,{cause:Nf}),this.meta=sf?.meta,this.cause=Nf,this.shape=sf?.result?.error,this.data=sf?.result?.error.data,this.name="TRPCClientError",Object.setPrototypeOf(this,oy.prototype)}};function os$1(r){return typeof FormData>"u"?!1:r instanceof FormData}const mt$2={css:{query:["72e3ff","3fb0d8"],mutation:["c5a3fc","904dfc"],subscription:["ff49e1","d83fbe"]},ansi:{regular:{query:["\x1b[30;46m","\x1b[97;46m"],mutation:["\x1b[30;45m","\x1b[97;45m"],subscription:["\x1b[30;42m","\x1b[97;42m"]},bold:{query:["\x1b[1;30;46m","\x1b[1;97;46m"],mutation:["\x1b[1;30;45m","\x1b[1;97;45m"],subscription:["\x1b[1;30;42m","\x1b[1;97;42m"]}}};function cs$1(r){const{direction:s,type:sf,path:Nf,id:ip,input:em}=r,tm=[],nm=[];if(r.colorMode==="ansi"){const[am,sm]=mt$2.ansi.regular[sf],[cm,hm]=mt$2.ansi.bold[sf];return tm.push(s==="up"?am:sm,s==="up"?">>":"<<",sf,s==="up"?cm:hm,`#${ip}`,Nf,"\x1b[0m"),s==="up"?nm.push({input:r.input}):nm.push({input:r.input,result:"result"in r.result?r.result.result:r.result,elapsedMs:r.elapsedMs}),{parts:tm,args:nm}}const[rm,om]=mt$2.css[sf],im=`
    background-color: #${s==="up"?rm:om}; 
    color: ${s==="up"?"black":"white"};
    padding: 2px;
  `;return tm.push("%c",s==="up"?">>":"<<",sf,`#${ip}`,`%c${Nf}%c`,"%O"),nm.push(im,`${im}; font-weight: bold;`,`${im}; font-weight: normal;`),s==="up"?nm.push({input:em,context:r.context}):nm.push({input:em,result:r.result,elapsedMs:r.elapsedMs,context:r.context}),{parts:tm,args:nm}}const us$1=({c:r=console,colorMode:s="css"})=>sf=>{const Nf=sf.input,ip=os$1(Nf)?Object.fromEntries(Nf):Nf,{parts:em,args:tm}=cs$1({...sf,colorMode:s,input:ip}),nm=sf.direction==="down"&&sf.result&&(sf.result instanceof Error||"error"in sf.result.result)?"error":"log";r[nm].apply(null,[em.join(" ")].concat(tm))};function ls$1(r={}){const{enabled:s=()=>!0}=r,sf=r.colorMode??(typeof window>"u"?"ansi":"css"),{logger:Nf=us$1({c:r.console,colorMode:sf})}=r;return()=>({op:ip,next:em})=>nt$2(tm=>{s({...ip,direction:"up"})&&Nf({...ip,direction:"up"});const nm=Date.now();function rm(om){const im=Date.now()-nm;s({...ip,direction:"down",result:om})&&Nf({...ip,direction:"down",elapsedMs:im,result:om})}return em(ip).pipe(Cr$1({next(om){rm(om)},error(om){rm(om)}})).subscribe(tm)})}let ds$1=class{$request({type:s,input:sf,path:Nf,context:ip={}}){return Sr$1({links:this.links,op:{id:++this.requestId,type:s,path:Nf,input:sf,context:ip}}).pipe(Er$1())}requestAsPromise(s){const sf=this.$request(s),{promise:Nf,abort:ip}=Or$1(sf);return new Promise((em,tm)=>{s.signal?.addEventListener("abort",ip),Nf.then(nm=>{em(nm.result.data)}).catch(nm=>{tm(jr$1.from(nm))})})}query(s,sf,Nf){return this.requestAsPromise({type:"query",path:s,input:sf,context:Nf?.context,signal:Nf?.signal})}mutation(s,sf,Nf){return this.requestAsPromise({type:"mutation",path:s,input:sf,context:Nf?.context,signal:Nf?.signal})}subscription(s,sf,Nf){return this.$request({type:"subscription",path:s,input:sf,context:Nf?.context}).subscribe({next(ip){ip.result.type==="started"?Nf.onStarted?.():ip.result.type==="stopped"?Nf.onStopped?.():Nf.onData?.(ip.result.data)},error(ip){Nf.onError?.(ip)},complete(){Nf.onComplete?.()}})}constructor(s){this.requestId=0;const sf=(()=>{const Nf=s.transformer;return Nf?"input"in Nf?s.transformer:{input:Nf,output:Nf}:{input:{serialize:ip=>ip,deserialize:ip=>ip},output:{serialize:ip=>ip,deserialize:ip=>ip}}})();this.runtime={transformer:{serialize:Nf=>sf.input.serialize(Nf),deserialize:Nf=>sf.output.deserialize(Nf)},combinedTransformer:sf},this.links=s.links.map(Nf=>Nf(this.runtime))}};const fs$1={query:"query",mutate:"mutation",subscribe:"subscription"},ps$1=r=>fs$1[r];function hs$1(r){return Ut$1(s=>r.hasOwnProperty(s)?r[s]:s==="__untypedClient"?r:Zt$1(({path:sf,args:Nf})=>{const ip=[s,...sf],em=ps$1(ip.pop()),tm=ip.join(".");return r[em](tm,...Nf)}))}function ms$2(r){const s=new ds$1(r);return hs$1(s)}function ys$1(r){if(r instanceof ye$2||r instanceof Error&&r.name==="TRPCError")return r;const s=new ye$2({code:"INTERNAL_SERVER_ERROR",cause:r});return r instanceof Error&&r.stack&&(s.stack=r.stack),s}let ye$2=class extends Error{constructor(s){const sf=Wt$2(s.cause),Nf=s.message??sf?.message??s.code;super(Nf,{cause:sf}),this.code=s.code,this.name="TRPCError",this.cause||(this.cause=sf)}};function gs$1(r){return"input"in r?r:{input:r,output:r}}const Se$2={_default:!0,input:{serialize:r=>r,deserialize:r=>r},output:{serialize:r=>r,deserialize:r=>r}},Pe$2=({shape:r})=>r;function _s$1(r){return Object.assign(Object.create(null),r)}const vs$1=["query","mutation","subscription"];function bs$1(r){return"router"in r._def}const ws$1={_ctx:null,_errorShape:null,_meta:null,queries:{},mutations:{},subscriptions:{},errorFormatter:Pe$2,transformer:Se$2},xs$1=["then"];function Lr$1(r){return function(s){const sf=new Set(Object.keys(s).filter(nm=>xs$1.includes(nm)));if(sf.size>0)throw new Error("Reserved words used in `router({})` call: "+Array.from(sf).join(", "));const Nf=_s$1({});function ip(nm,rm=""){for(const[om,im]of Object.entries(nm??{})){const am=`${rm}${om}`;if(bs$1(im)){ip(im._def.procedures,`${am}.`);continue}if(Nf[am])throw new Error(`Duplicate key: ${am}`);Nf[am]=im}}ip(s);const em={_config:r,router:!0,procedures:Nf,...ws$1,record:s,queries:Object.entries(Nf).filter(nm=>nm[1]._def.query).reduce((nm,[rm,om])=>({...nm,[rm]:om}),{}),mutations:Object.entries(Nf).filter(nm=>nm[1]._def.mutation).reduce((nm,[rm,om])=>({...nm,[rm]:om}),{}),subscriptions:Object.entries(Nf).filter(nm=>nm[1]._def.subscription).reduce((nm,[rm,om])=>({...nm,[rm]:om}),{})},tm={...s,_def:em,createCaller(nm){return $r$1()(tm)(nm)},getErrorShape(nm){const{path:rm,error:om}=nm,{code:im}=nm.error,am={message:om.message,code:st$2[im],data:{code:im,httpStatus:Ar$1(om)}};return r.isDev&&typeof nm.error.stack=="string"&&(am.data.stack=nm.error.stack),typeof rm=="string"&&(am.data.path=rm),this._def._config.errorFormatter({...nm,shape:am})}};return tm}}function ks$1(r){const{type:s,path:sf}=r;if(!(sf in r.procedures)||!r.procedures[sf]?._def[s])throw new ye$2({code:"NOT_FOUND",message:`No "${s}"-procedure on path "${sf}"`});const Nf=r.procedures[sf];return Nf(r)}function $r$1(){return function(r){const s=r._def;return function(sf){return Zt$1(({path:Nf,args:ip})=>{if(Nf.length===1&&vs$1.includes(Nf[0]))return ks$1({procedures:s.procedures,path:ip[0],rawInput:ip[1],ctx:sf,type:Nf[0]});const em=Nf.join("."),tm=s.procedures[em];let nm="query";return tm._def.mutation?nm="mutation":tm._def.subscription&&(nm="subscription"),tm({path:em,rawInput:ip[0],ctx:sf,type:nm})})}}}const ir$1=typeof window>"u"||"Deno"in window||globalThis.process?.env?.NODE_ENV==="test"||!!globalThis.process?.env?.JEST_WORKER_ID||!!globalThis.process?.env?.VITEST_WORKER_ID;function or$1(r){const s=r;if(typeof s=="function")return s;if(typeof s.parseAsync=="function")return s.parseAsync.bind(s);if(typeof s.parse=="function")return s.parse.bind(s);if(typeof s.validateSync=="function")return s.validateSync.bind(s);if(typeof s.create=="function")return s.create.bind(s);if(typeof s.assert=="function")return sf=>(s.assert(sf),sf);throw new Error("Could not find a validator fn")}function Mr$1(r,...s){const sf=Object.assign(Object.create(null),r);for(const Nf of s)for(const ip in Nf){if(ip in sf&&sf[ip]!==Nf[ip])throw new Error(`Duplicate key ${ip}`);sf[ip]=Nf[ip]}return sf}function Ts$1(){function r(sf){return{_middlewares:sf,unstable_pipe(Nf){const ip="_middlewares"in Nf?Nf._middlewares:[Nf];return r([...sf,...ip])}}}function s(sf){return r([sf])}return s}function cr$1(r){return r&&typeof r=="object"&&!Array.isArray(r)}function Es$1(r){const s=async({next:sf,rawInput:Nf,input:ip})=>{let em;try{em=await r(Nf)}catch(nm){throw new ye$2({code:"BAD_REQUEST",cause:nm})}const tm=cr$1(ip)&&cr$1(em)?{...ip,...em}:em;return sf({input:tm})};return s._type="input",s}function Cs$1(r){const s=async({next:sf})=>{const Nf=await sf();if(!Nf.ok)return Nf;try{const ip=await r(Nf.data);return{...Nf,data:ip}}catch(ip){throw new ye$2({message:"Output validation failed",code:"INTERNAL_SERVER_ERROR",cause:ip})}};return s._type="output",s}const Dr$1="middlewareMarker";function fe$2(r,s){const{middlewares:sf=[],inputs:Nf,meta:ip,...em}=s;return Zr$1({...Mr$1(r,em),inputs:[...r.inputs,...Nf??[]],middlewares:[...r.middlewares,...sf],meta:r.meta&&ip?{...r.meta,...ip}:ip??r.meta})}function Zr$1(r={}){const s={inputs:[],middlewares:[],...r};return{_def:s,input(sf){const Nf=or$1(sf);return fe$2(s,{inputs:[sf],middlewares:[Es$1(Nf)]})},output(sf){const Nf=or$1(sf);return fe$2(s,{output:sf,middlewares:[Cs$1(Nf)]})},meta(sf){return fe$2(s,{meta:sf})},unstable_concat(sf){return fe$2(s,sf._def)},use(sf){const Nf="_middlewares"in sf?sf._middlewares:[sf];return fe$2(s,{middlewares:Nf})},query(sf){return yt$2({...s,query:!0},sf)},mutation(sf){return yt$2({...s,mutation:!0},sf)},subscription(sf){return yt$2({...s,subscription:!0},sf)}}}function yt$2(r,s){const sf=fe$2(r,{resolver:s,middlewares:[async function(Nf){const ip=await s(Nf);return{marker:Dr$1,ok:!0,data:ip,ctx:Nf.ctx}}]});return Os$1(sf._def)}const Rs$1=`
This is a client-only function.
If you want to call this function on the server, see https://trpc.io/docs/server/server-side-calls
`.trim();function Os$1(r){const s=async function(sf){if(!sf||!("rawInput"in sf))throw new Error(Rs$1);const Nf=async(em={index:0,ctx:sf.ctx})=>{try{const tm=r.middlewares[em.index];return await tm({ctx:em.ctx,type:sf.type,path:sf.path,rawInput:em.rawInput??sf.rawInput,meta:r.meta,input:em.input,next(nm){const rm=nm;return Nf({index:em.index+1,ctx:rm&&"ctx"in rm?{...em.ctx,...rm.ctx}:em.ctx,input:rm&&"input"in rm?rm.input:em.input,rawInput:rm&&"rawInput"in rm?rm.rawInput:em.rawInput})}})}catch(tm){return{ok:!1,error:ys$1(tm),marker:Dr$1}}},ip=await Nf();if(!ip)throw new ye$2({code:"INTERNAL_SERVER_ERROR",message:"No result from middlewares - did you forget to `return next()`?"});if(!ip.ok)throw ip.error;return ip.data};return s._def=r,s.meta=r.meta,s}function Ss$1(...r){const s=Mr$1({},...r.map(ip=>ip._def.record)),sf=r.reduce((ip,em)=>{if(em._def._config.errorFormatter&&em._def._config.errorFormatter!==Pe$2){if(ip!==Pe$2&&ip!==em._def._config.errorFormatter)throw new Error("You seem to have several error formatters");return em._def._config.errorFormatter}return ip},Pe$2),Nf=r.reduce((ip,em)=>{if(em._def._config.transformer&&em._def._config.transformer!==Se$2){if(ip!==Se$2&&ip!==em._def._config.transformer)throw new Error("You seem to have several transformers");return em._def._config.transformer}return ip},Se$2);return Lr$1({errorFormatter:sf,transformer:Nf,isDev:r.some(ip=>ip._def._config.isDev),allowOutsideOfServer:r.some(ip=>ip._def._config.allowOutsideOfServer),isServer:r.some(ip=>ip._def._config.isServer),$types:r[0]?._def._config.$types})(s)}let Je$2=class Ny{context(){return new Ny}meta(){return new Ny}create(s){return As$1()(s)}};const Ps$1=new Je$2;function As$1(){return function(r){const s=r?.errorFormatter??Pe$2,sf={transformer:gs$1(r?.transformer??Se$2),isDev:r?.isDev??globalThis.process?.env?.NODE_ENV!=="production",allowOutsideOfServer:r?.allowOutsideOfServer??!1,errorFormatter:s,isServer:r?.isServer??ir$1,$types:Ut$1(Nf=>{throw new Error(`Tried to access "$types.${Nf}" which is not available at runtime`)})};if(!(r?.isServer??ir$1)&&r?.allowOutsideOfServer!==!0)throw new Error("You're trying to use @trpc/server in a non-server environment. This is not supported by default.");return{_config:sf,procedure:Zr$1({meta:r?.defaultMeta}),middleware:Ts$1(),router:Lr$1(sf),mergeRouters:Ss$1,createCallerFactory:$r$1()}}}var Rt$2={},at$2={},be$2={},S$1={};const we$2=S$3(Yn$1);var qt$1={},Ur$1=we$2;function Wr$1(r){return Ur$1.observable(s=>{function sf(Nf=0,ip=r.op){const em=r.links[Nf];if(!em)throw new Error("No more links to execute - did you forget to add an ending link?");return em({op:ip,next(tm){return sf(Nf+1,tm)}})}return sf().subscribe(s)})}function ur$1(r){return Array.isArray(r)?r:[r]}function Ns$1(r){return s=>{const sf=ur$1(r.true).map(ip=>ip(s)),Nf=ur$1(r.false).map(ip=>ip(s));return ip=>Ur$1.observable(em=>{const tm=r.condition(ip.op)?sf:Nf;return Wr$1({op:ip.op,links:tm}).subscribe(em)})}}qt$1.createChain=Wr$1;qt$1.splitLink=Ns$1;var xe$2={};const qr$1=S$3(ss$1);var ke$2={};function Ot$2(r){return!!r&&!Array.isArray(r)&&typeof r=="object"}function Is$1(r,s){if("error"in r){const sf=s.transformer.deserialize(r.error);return{ok:!1,error:{...r,error:sf}}}return{ok:!0,result:{...r.result,...(!r.result.type||r.result.type==="data")&&{type:"data",data:s.transformer.deserialize(r.result.data)}}}}let gt$2=class extends Error{constructor(){super("Unable to transform response from server")}};function js$1(r,s){let sf;try{sf=Is$1(r,s)}catch{throw new gt$2}if(!sf.ok&&(!Ot$2(sf.error.error)||typeof sf.error.error.code!="number"))throw new gt$2;if(sf.ok&&!Ot$2(sf.result))throw new gt$2;return sf}ke$2.isObject=Ot$2;ke$2.transformResult=js$1;var Ls$1=qr$1,lr$1=ke$2;function $s$1(r){return r instanceof zr$1||r instanceof Error&&r.name==="TRPCClientError"}function Ms$1(r){return lr$1.isObject(r)&&lr$1.isObject(r.error)&&typeof r.error.code=="number"&&typeof r.error.message=="string"}let zr$1=class iy extends Error{static from(s,sf={}){const Nf=s;return $s$1(Nf)?(sf.meta&&(Nf.meta={...Nf.meta,...sf.meta}),Nf):Ms$1(Nf)?new iy(Nf.error.message,{...sf,result:Nf}):Nf instanceof Error?new iy(Nf.message,{...sf,cause:Ls$1.getCauseFromUnknown(Nf)}):new iy("Unknown error",{...sf,cause:Nf})}constructor(s,sf){const Nf=sf?.cause;super(s,{cause:Nf}),this.meta=sf?.meta,this.cause=Nf,this.shape=sf?.result?.error,this.data=sf?.result?.error.data,this.name="TRPCClientError",Object.setPrototypeOf(this,iy.prototype)}};xe$2.TRPCClientError=zr$1;var F$2={},Ds$1=xe$2;const dr$1=r=>typeof r=="function";function Br$1(r){if(r)return r;if(typeof window<"u"&&dr$1(window.fetch))return window.fetch;if(typeof globalThis<"u"&&dr$1(globalThis.fetch))return globalThis.fetch;throw new Error("No fetch implementation found")}function Zs$1(r){return r||(typeof window<"u"&&window.AbortController?window.AbortController:typeof globalThis<"u"&&globalThis.AbortController?globalThis.AbortController:null)}function Us$1(r){return{url:r.url.toString().replace(/\/$/,""),fetch:r.fetch,AbortController:Zs$1(r.AbortController)}}function Ws$1(r){const s={};for(let sf=0;sf<r.length;sf++){const Nf=r[sf];s[sf]=Nf}return s}const qs$1={query:"GET",mutation:"POST"};function Vr$1(r){return"input"in r?r.runtime.transformer.serialize(r.input):Ws$1(r.inputs.map(s=>r.runtime.transformer.serialize(s)))}const Fr$1=r=>{let s=r.url+"/"+r.path;const sf=[];if("inputs"in r&&sf.push("batch=1"),r.type==="query"){const Nf=Vr$1(r);Nf!==void 0&&sf.push(`input=${encodeURIComponent(JSON.stringify(Nf))}`)}return sf.length&&(s+="?"+sf.join("&")),s},Hr$1=r=>{if(r.type==="query")return;const s=Vr$1(r);return s!==void 0?JSON.stringify(s):void 0},zs$1=r=>Jr$1({...r,contentTypeHeader:"application/json",getUrl:Fr$1,getBody:Hr$1});async function Gr$1(r,s){const sf=r.getUrl(r),Nf=r.getBody(r),{type:ip}=r,em=await r.headers();if(ip==="subscription")throw new Error("Subscriptions should use wsLink");const tm={...r.contentTypeHeader?{"content-type":r.contentTypeHeader}:{},...r.batchModeHeader?{"trpc-batch-mode":r.batchModeHeader}:{},...em};return Br$1(r.fetch)(sf,{method:qs$1[ip],signal:s?.signal,body:Nf,headers:tm})}function Jr$1(r){const s=r.AbortController?new r.AbortController:null,sf={};let Nf=!1;return{promise:new Promise((ip,em)=>{Gr$1(r,s).then(tm=>(sf.response=tm,Nf=!0,tm.json())).then(tm=>{sf.responseJSON=tm,ip({json:tm,meta:sf})}).catch(tm=>{Nf=!0,em(Ds$1.TRPCClientError.from(tm,{meta:sf}))})}),cancel:()=>{Nf||s?.abort()}}}F$2.fetchHTTPResponse=Gr$1;F$2.getBody=Hr$1;F$2.getFetch=Br$1;F$2.getUrl=Fr$1;F$2.httpRequest=Jr$1;F$2.jsonHttpRequester=zs$1;F$2.resolveHTTPLinkOptions=Us$1;var zt$2={},Bs$1=we$2,Vs$1=ke$2,fr$1=xe$2,St$2=F$2;const _t$2=()=>{throw new Error("Something went wrong. Please submit an issue at https://github.com/trpc/trpc/issues/new")};function vt$2(r){let s=null,sf=null;const Nf=()=>{clearTimeout(sf),sf=null,s=null};function ip(nm){const rm=[[]];let om=0;for(;;){const im=nm[om];if(!im)break;const am=rm[rm.length-1];if(im.aborted){im.reject?.(new Error("Aborted")),om++;continue}if(r.validate(am.concat(im).map(sm=>sm.key))){am.push(im),om++;continue}if(am.length===0){im.reject?.(new Error("Input is too big for a single dispatch")),om++;continue}rm.push([])}return rm}function em(){const nm=ip(s);Nf();for(const rm of nm){if(!rm.length)continue;const om={items:rm,cancel:_t$2};for(const cm of rm)cm.batch=om;const im=(cm,hm)=>{const fm=om.items[cm];fm.resolve?.(hm),fm.batch=null,fm.reject=null,fm.resolve=null},{promise:am,cancel:sm}=r.fetch(om.items.map(cm=>cm.key),im);om.cancel=sm,am.then(cm=>{for(let hm=0;hm<cm.length;hm++){const fm=cm[hm];im(hm,fm)}for(const hm of om.items)hm.reject?.(new Error("Missing result")),hm.batch=null}).catch(cm=>{for(const hm of om.items)hm.reject?.(cm),hm.batch=null})}}function tm(nm){const rm={aborted:!1,key:nm,batch:null,resolve:_t$2,reject:_t$2},om=new Promise((im,am)=>{rm.reject=am,rm.resolve=im,s||(s=[]),s.push(rm)});return sf||(sf=setTimeout(em)),{promise:om,cancel:()=>{rm.aborted=!0,rm.batch?.items.every(im=>im.aborted)&&(rm.batch.cancel(),rm.batch=null)}}}return{load:tm}}function Yr$1(r){return function(s){const sf=St$2.resolveHTTPLinkOptions(s),Nf=s.maxURLLength??1/0;return ip=>{const em=im=>{const am=cm=>{if(Nf===1/0)return!0;const hm=cm.map(pm=>pm.path).join(","),fm=cm.map(pm=>pm.input);return St$2.getUrl({...sf,runtime:ip,type:im,path:hm,inputs:fm}).length<=Nf},sm=r({...sf,runtime:ip,type:im,opts:s});return{validate:am,fetch:sm}},tm=vt$2(em("query")),nm=vt$2(em("mutation")),rm=vt$2(em("subscription")),om={query:tm,subscription:rm,mutation:nm};return({op:im})=>Bs$1.observable(am=>{const sm=om[im.type],{promise:cm,cancel:hm}=sm.load(im);let fm;return cm.then(pm=>{fm=pm;const mm=Vs$1.transformResult(pm.json,ip);if(!mm.ok){am.error(fr$1.TRPCClientError.from(mm.error,{meta:pm.meta}));return}am.next({context:pm.meta,result:mm.result}),am.complete()}).catch(pm=>{am.error(fr$1.TRPCClientError.from(pm,{meta:fm?.meta}))}),()=>{hm()}})}}}const Fs$1=r=>s=>{const sf=s.map(tm=>tm.path).join(","),Nf=s.map(tm=>tm.input),{promise:ip,cancel:em}=St$2.jsonHttpRequester({...r,path:sf,inputs:Nf,headers(){return r.opts.headers?typeof r.opts.headers=="function"?r.opts.headers({opList:s}):r.opts.headers:{}}});return{promise:ip.then(tm=>(Array.isArray(tm.json)?tm.json:s.map(()=>tm.json)).map(nm=>({meta:tm.meta,json:nm}))),cancel:em}},Hs$1=Yr$1(Fs$1);zt$2.createHTTPBatchLink=Yr$1;zt$2.httpBatchLink=Hs$1;var it$2={};Object.defineProperty(it$2,"__esModule",{value:!0});var Gs$1=we$2,Js$1=ke$2,pr$1=xe$2,Xr$1=F$2;function Qr$1(r){return s=>{const sf=Xr$1.resolveHTTPLinkOptions(s);return Nf=>({op:ip})=>Gs$1.observable(em=>{const{path:tm,input:nm,type:rm}=ip,{promise:om,cancel:im}=r.requester({...sf,runtime:Nf,type:rm,path:tm,input:nm,headers(){return s.headers?typeof s.headers=="function"?s.headers({op:ip}):s.headers:{}}});let am;return om.then(sm=>{am=sm.meta;const cm=Js$1.transformResult(sm.json,Nf);if(!cm.ok){em.error(pr$1.TRPCClientError.from(cm.error,{meta:am}));return}em.next({context:sm.meta,result:cm.result}),em.complete()}).catch(sm=>{em.error(pr$1.TRPCClientError.from(sm,{meta:am}))}),()=>{im()}})}}const Ys$1=Qr$1({requester:Xr$1.jsonHttpRequester});it$2.httpLink=Ys$1;it$2.httpLinkFactory=Qr$1;var Bt$2={};Object.defineProperty(Bt$2,"__esModule",{value:!0});var hr$1=we$2;function Xs$1(r){return typeof FormData>"u"?!1:r instanceof FormData}const bt$2={css:{query:["72e3ff","3fb0d8"],mutation:["c5a3fc","904dfc"],subscription:["ff49e1","d83fbe"]},ansi:{regular:{query:["\x1b[30;46m","\x1b[97;46m"],mutation:["\x1b[30;45m","\x1b[97;45m"],subscription:["\x1b[30;42m","\x1b[97;42m"]},bold:{query:["\x1b[1;30;46m","\x1b[1;97;46m"],mutation:["\x1b[1;30;45m","\x1b[1;97;45m"],subscription:["\x1b[1;30;42m","\x1b[1;97;42m"]}}};function Qs$1(r){const{direction:s,type:sf,path:Nf,id:ip,input:em}=r,tm=[],nm=[];if(r.colorMode==="ansi"){const[am,sm]=bt$2.ansi.regular[sf],[cm,hm]=bt$2.ansi.bold[sf];return tm.push(s==="up"?am:sm,s==="up"?">>":"<<",sf,s==="up"?cm:hm,`#${ip}`,Nf,"\x1b[0m"),s==="up"?nm.push({input:r.input}):nm.push({input:r.input,result:"result"in r.result?r.result.result:r.result,elapsedMs:r.elapsedMs}),{parts:tm,args:nm}}const[rm,om]=bt$2.css[sf],im=`
    background-color: #${s==="up"?rm:om}; 
    color: ${s==="up"?"black":"white"};
    padding: 2px;
  `;return tm.push("%c",s==="up"?">>":"<<",sf,`#${ip}`,`%c${Nf}%c`,"%O"),nm.push(im,`${im}; font-weight: bold;`,`${im}; font-weight: normal;`),s==="up"?nm.push({input:em,context:r.context}):nm.push({input:em,result:r.result,elapsedMs:r.elapsedMs,context:r.context}),{parts:tm,args:nm}}const Ks$1=({c:r=console,colorMode:s="css"})=>sf=>{const Nf=sf.input,ip=Xs$1(Nf)?Object.fromEntries(Nf):Nf,{parts:em,args:tm}=Qs$1({...sf,colorMode:s,input:ip}),nm=sf.direction==="down"&&sf.result&&(sf.result instanceof Error||"error"in sf.result.result)?"error":"log";r[nm].apply(null,[em.join(" ")].concat(tm))};function ea$1(r={}){const{enabled:s=()=>!0}=r,sf=r.colorMode??(typeof window>"u"?"ansi":"css"),{logger:Nf=Ks$1({c:r.console,colorMode:sf})}=r;return()=>({op:ip,next:em})=>hr$1.observable(tm=>{s({...ip,direction:"up"})&&Nf({...ip,direction:"up"});const nm=Date.now();function rm(om){const im=Date.now()-nm;s({...ip,direction:"down",result:om})&&Nf({...ip,direction:"down",elapsedMs:im,result:om})}return em(ip).pipe(hr$1.tap({next(om){rm(om)},error(om){rm(om)}})).subscribe(tm)})}Bt$2.loggerLink=ea$1;var ot$2={};Object.defineProperty(ot$2,"__esModule",{value:!0});var ta$1=we$2,ra$1=ke$2,Kr$1=xe$2;const na$1=r=>r===0?0:Math.min(1e3*2**r,3e4);function sa$1(r){const{url:s,WebSocket:sf=WebSocket,retryDelayMs:Nf=na$1,onOpen:ip,onClose:em}=r;if(!sf)throw new Error("No WebSocket implementation found - you probably don't want to use this on the server, but if you do you need to pass a `WebSocket`-ponyfill");let tm=[];const nm=Object.create(null);let rm=0,om=null,im=null,am=Sm(),sm="connecting";function cm(){sm!=="open"||om||(om=setTimeout(()=>{om=null,tm.length===1?am.send(JSON.stringify(tm.pop())):am.send(JSON.stringify(tm)),tm=[]}))}function hm(){if(im!==null||sm==="closed")return;const Pm=Nf(rm++);pm(Pm)}function fm(){sm="connecting";const Pm=am;am=Sm(),mm(Pm)}function pm(Pm){im||(sm="connecting",im=setTimeout(fm,Pm))}function mm(Pm){Object.values(nm).some(Bm=>Bm.ws===Pm)||Pm.close()}function _m(){Object.values(nm).forEach(Pm=>{Pm.type==="subscription"&&Pm.callbacks.complete()})}function ym(Pm){tm.some(Bm=>Bm.id===Pm.op.id)||jm(Pm.op,Pm.callbacks)}function Sm(){const Pm=typeof s=="function"?s():s,Bm=new sf(Pm);clearTimeout(im),im=null,Bm.addEventListener("open",()=>{Bm===am&&(rm=0,sm="open",ip?.(),cm())}),Bm.addEventListener("error",()=>{Bm===am&&hm()});const qm=Dm=>{if(Dm.method==="reconnect"&&Bm===am){sm==="open"&&em?.(),fm();for(const Um of Object.values(nm))Um.type==="subscription"&&ym(Um)}},Rm=Dm=>{const Um=Dm.id!==null&&nm[Dm.id];if(Um){if(Um.callbacks.next?.(Dm),Um.ws!==am&&Bm===am){const Lm=Um.ws;Um.ws=am,mm(Lm)}"result"in Dm&&Dm.result.type==="stopped"&&Bm===am&&Um.callbacks.complete()}};return Bm.addEventListener("message",({data:Dm})=>{const Um=JSON.parse(Dm);"method"in Um?qm(Um):Rm(Um),(Bm!==am||sm==="closed")&&mm(Bm)}),Bm.addEventListener("close",({code:Dm})=>{sm==="open"&&em?.({code:Dm}),am===Bm&&hm();for(const[Um,Lm]of Object.entries(nm))if(Lm.ws===Bm){if(sm==="closed"){delete nm[Um],Lm.callbacks.complete?.();continue}Lm.type==="subscription"?ym(Lm):(delete nm[Um],Lm.callbacks.error?.(Kr$1.TRPCClientError.from(new Vt$1("WebSocket closed prematurely"))))}}),Bm}function jm(Pm,Bm){const{type:qm,input:Rm,path:Dm,id:Um}=Pm,Lm={id:Um,method:qm,params:{input:Rm,path:Dm}};return nm[Um]={ws:am,type:qm,callbacks:Bm,op:Pm},tm.push(Lm),cm(),()=>{const Im=nm[Um]?.callbacks;delete nm[Um],tm=tm.filter(dm=>dm.id!==Um),Im?.complete?.(),am.readyState===sf.OPEN&&Pm.type==="subscription"&&(tm.push({id:Um,method:"subscription.stop"}),cm())}}return{close:()=>{sm="closed",em?.(),_m(),mm(am),clearTimeout(im),im=null},request:jm,getConnection(){return am}}}let Vt$1=class Zy extends Error{constructor(s){super(s),this.name="TRPCWebSocketClosedError",Object.setPrototypeOf(this,Zy.prototype)}};function aa$1(r){return s=>{const{client:sf}=r;return({op:Nf})=>ta$1.observable(ip=>{const{type:em,path:tm,id:nm,context:rm}=Nf,om=s.transformer.serialize(Nf.input),im=sf.request({type:em,path:tm,input:om,id:nm,context:rm},{error(am){ip.error(am),im()},complete(){ip.complete()},next(am){const sm=ra$1.transformResult(am,s);if(!sm.ok){ip.error(Kr$1.TRPCClientError.from(sm.error));return}ip.next({result:sm.result}),Nf.type!=="subscription"&&(im(),ip.complete())}});return()=>{im()}})}}ot$2.createWSClient=sa$1;ot$2.wsLink=aa$1;Object.defineProperty(S$1,"__esModule",{value:!0});var mr$1=we$2,en$1=qt$1,tn$1=xe$2,yr$1=qr$1,Ae$2=F$2,rn$1=zt$2,Ft$2=it$2,ia$1=Bt$2,nn$1=ot$2;let ct$2=class{$request({type:s,input:sf,path:Nf,context:ip={}}){return en$1.createChain({links:this.links,op:{id:++this.requestId,type:s,path:Nf,input:sf,context:ip}}).pipe(mr$1.share())}requestAsPromise(s){const sf=this.$request(s),{promise:Nf,abort:ip}=mr$1.observableToPromise(sf);return new Promise((em,tm)=>{s.signal?.addEventListener("abort",ip),Nf.then(nm=>{em(nm.result.data)}).catch(nm=>{tm(tn$1.TRPCClientError.from(nm))})})}query(s,sf,Nf){return this.requestAsPromise({type:"query",path:s,input:sf,context:Nf?.context,signal:Nf?.signal})}mutation(s,sf,Nf){return this.requestAsPromise({type:"mutation",path:s,input:sf,context:Nf?.context,signal:Nf?.signal})}subscription(s,sf,Nf){return this.$request({type:"subscription",path:s,input:sf,context:Nf?.context}).subscribe({next(ip){ip.result.type==="started"?Nf.onStarted?.():ip.result.type==="stopped"?Nf.onStopped?.():Nf.onData?.(ip.result.data)},error(ip){Nf.onError?.(ip)},complete(){Nf.onComplete?.()}})}constructor(s){this.requestId=0;const sf=(()=>{const Nf=s.transformer;return Nf?"input"in Nf?s.transformer:{input:Nf,output:Nf}:{input:{serialize:ip=>ip,deserialize:ip=>ip},output:{serialize:ip=>ip,deserialize:ip=>ip}}})();this.runtime={transformer:{serialize:Nf=>sf.input.serialize(Nf),deserialize:Nf=>sf.output.deserialize(Nf)},combinedTransformer:sf},this.links=s.links.map(Nf=>Nf(this.runtime))}};function oa$1(r){return new ct$2(r)}function ca$1(r){return new ct$2(r)}const ua$1={query:"query",mutate:"mutation",subscribe:"subscription"},sn$1=r=>ua$1[r];function an$1(r){return yr$1.createFlatProxy(s=>r.hasOwnProperty(s)?r[s]:s==="__untypedClient"?r:yr$1.createRecursiveProxy(({path:sf,args:Nf})=>{const ip=[s,...sf],em=sn$1(ip.pop()),tm=ip.join(".");return r[em](tm,...Nf)}))}function la$1(r){const s=new ct$2(r);return an$1(s)}function da$1(r){return r.__untypedClient}function fa$1(r){if(r)return r;if(typeof window<"u"&&window.TextDecoder)return new window.TextDecoder;if(typeof globalThis<"u"&&globalThis.TextDecoder)return new globalThis.TextDecoder;throw new Error("No TextDecoder implementation found")}async function pa$1(r){const s=r.parse??JSON.parse,sf=Nf=>{if(r.signal?.aborted||!Nf||Nf==="}")return;const ip=Nf.indexOf(":"),em=Nf.substring(2,ip-1),tm=Nf.substring(ip+1);r.onSingle(Number(em),s(tm))};await ha$1(r.readableStream,sf,r.textDecoder)}async function ha$1(r,s,sf){let Nf="";const ip=em=>{const tm=sf.decode(em).split(`
`);if(tm.length===1)Nf+=tm[0];else if(tm.length>1){s(Nf+tm[0]);for(let nm=1;nm<tm.length-1;nm++)s(tm[nm]);Nf=tm[tm.length-1]}};"getReader"in r?await ya$1(r,ip):await ma$1(r,ip),s(Nf)}function ma$1(r,s){return new Promise(sf=>{r.on("data",s),r.on("end",sf)})}async function ya$1(r,s){const sf=r.getReader();let Nf=await sf.read();for(;!Nf.done;)s(Nf.value),Nf=await sf.read()}const ga$1=(r,s)=>{const sf=r.AbortController?new r.AbortController:null,Nf=Ae$2.fetchHTTPResponse({...r,contentTypeHeader:"application/json",batchModeHeader:"stream",getUrl:Ae$2.getUrl,getBody:Ae$2.getBody},sf),ip=()=>sf?.abort(),em=Nf.then(async tm=>{if(!tm.body)throw new Error("Received response without body");const nm={response:tm};return pa$1({readableStream:tm.body,onSingle:s,parse:rm=>({json:JSON.parse(rm),meta:nm}),signal:sf?.signal,textDecoder:r.textDecoder})});return{cancel:ip,promise:em}},_a$1=r=>{const s=fa$1(r.opts.textDecoder);return(sf,Nf)=>{const ip=sf.map(rm=>rm.path).join(","),em=sf.map(rm=>rm.input),{cancel:tm,promise:nm}=ga$1({...r,textDecoder:s,path:ip,inputs:em,headers(){return r.opts.headers?typeof r.opts.headers=="function"?r.opts.headers({opList:sf}):r.opts.headers:{}}},(rm,om)=>{Nf(rm,om)});return{promise:nm.then(()=>[]),cancel:tm}}},va$1=rn$1.createHTTPBatchLink(_a$1),ba$1=r=>{if("input"in r){if(!(r.input instanceof FormData))throw new Error("Input is not FormData");return r.input}},wa$1=r=>{if(r.type!=="mutation")throw new Error("We only handle mutations with formdata");return Ae$2.httpRequest({...r,getUrl(){return`${r.url}/${r.path}`},getBody:ba$1})},xa$1=Ft$2.httpLinkFactory({requester:wa$1});S$1.splitLink=en$1.splitLink;S$1.TRPCClientError=tn$1.TRPCClientError;S$1.getFetch=Ae$2.getFetch;S$1.httpBatchLink=rn$1.httpBatchLink;S$1.httpLink=Ft$2.httpLink;S$1.httpLinkFactory=Ft$2.httpLinkFactory;S$1.loggerLink=ia$1.loggerLink;S$1.createWSClient=nn$1.createWSClient;S$1.wsLink=nn$1.wsLink;S$1.TRPCUntypedClient=ct$2;S$1.clientCallTypeToProcedureType=sn$1;S$1.createTRPCClient=ca$1;S$1.createTRPCClientProxy=an$1;S$1.createTRPCProxyClient=la$1;S$1.createTRPCUntypedClient=oa$1;S$1.experimental_formDataLink=xa$1;S$1.getUntypedClient=da$1;S$1.unstable_httpBatchStreamLink=va$1;var ne$2={},Ht$1={};function ka$1(r){return r}function Ta$1(r){return r.length===0?ka$1:r.length===1?r[0]:function(s){return r.reduce((sf,Nf)=>Nf(sf),s)}}function Ea$1(r){return typeof r=="object"&&r!==null&&"subscribe"in r}function Ca$1(r){const s={subscribe(sf){let Nf=null,ip=!1,em=!1,tm=!1;function nm(){if(Nf===null){tm=!0;return}em||(em=!0,typeof Nf=="function"?Nf():Nf&&Nf.unsubscribe())}return Nf=r({next(rm){ip||sf.next?.(rm)},error(rm){ip||(ip=!0,sf.error?.(rm),nm())},complete(){ip||(ip=!0,sf.complete?.(),nm())}}),tm&&nm(),{unsubscribe:nm}},pipe(...sf){return Ta$1(sf)(s)}};return s}Ht$1.isObservable=Ea$1;Ht$1.observable=Ca$1;Object.defineProperty(ne$2,"__esModule",{value:!0});var on$2=Ht$1;function Ra$1(r){return s=>{let sf=0,Nf=null;const ip=[];function em(){Nf||(Nf=s.subscribe({next(nm){for(const rm of ip)rm.next?.(nm)},error(nm){for(const rm of ip)rm.error?.(nm)},complete(){for(const nm of ip)nm.complete?.()}}))}function tm(){if(sf===0&&Nf){const nm=Nf;Nf=null,nm.unsubscribe()}}return{subscribe(nm){return sf++,ip.push(nm),em(),{unsubscribe(){sf--,tm();const rm=ip.findIndex(om=>om===nm);rm>-1&&ip.splice(rm,1)}}}}}}function Oa$1(r){return s=>({subscribe(sf){let Nf=0;return s.subscribe({next(ip){sf.next?.(r(ip,Nf++))},error(ip){sf.error?.(ip)},complete(){sf.complete?.()}})}})}function Sa$1(r){return s=>({subscribe(sf){return s.subscribe({next(Nf){r.next?.(Nf),sf.next?.(Nf)},error(Nf){r.error?.(Nf),sf.error?.(Nf)},complete(){r.complete?.(),sf.complete?.()}})}})}let Gt$1=class Yy extends Error{constructor(s){super(s),this.name="ObservableAbortError",Object.setPrototypeOf(this,Yy.prototype)}};function Pa$1(r){let s;return{promise:new Promise((sf,Nf)=>{let ip=!1;function em(){ip||(ip=!0,Nf(new Gt$1("This operation was aborted.")),tm.unsubscribe())}const tm=r.subscribe({next(nm){ip=!0,sf(nm),em()},error(nm){ip=!0,Nf(nm),em()},complete(){ip=!0,em()}});s=em}),abort:s}}ne$2.isObservable=on$2.isObservable;ne$2.observable=on$2.observable;ne$2.map=Oa$1;ne$2.observableToPromise=Pa$1;ne$2.share=Ra$1;ne$2.tap=Sa$1;var q$3={};Object.defineProperty(q$3,"__esModule",{value:!0});q$3.isTRPCRequestWithId=q$3.isTRPCRequest=q$3.isTRPCResponse=q$3.isTRPCMessage=void 0;function gr$1(r){return typeof r=="object"&&r!==null&&!Array.isArray(r)}function Aa$1(r){return r==null}function cn$1(r){return!!(gr$1(r)&&"trpc"in r&&gr$1(r.trpc))}q$3.isTRPCMessage=cn$1;function Jt$1(r){return cn$1(r)&&"id"in r.trpc&&!Aa$1(r.trpc.id)}function Na$1(r){return Jt$1(r)&&("error"in r.trpc||"result"in r.trpc)}q$3.isTRPCResponse=Na$1;function un$1(r){return Jt$1(r)&&"method"in r.trpc}q$3.isTRPCRequest=un$1;function Ia$1(r){return un$1(r)&&Jt$1(r)}q$3.isTRPCRequestWithId=Ia$1;Object.defineProperty(be$2,"__esModule",{value:!0});be$2.createBaseLink=void 0;const wt$2=S$1,ja$1=ne$2,La$1=q$3,$a$1=r=>s=>({op:sf})=>(0,ja$1.observable)(Nf=>{const ip=[],{id:em,type:tm,path:nm}=sf;try{const rm=s.transformer.serialize(sf.input),om=()=>{Nf.error(new wt$2.TRPCClientError("Port disconnected prematurely"))};r.addCloseListener(om),ip.push(()=>r.removeCloseListener(om));const im=am=>{if(!(0,La$1.isTRPCResponse)(am))return;const{trpc:sm}=am;if(em===sm.id){if("error"in sm)return Nf.error(wt$2.TRPCClientError.from(sm));Nf.next({result:Object.assign(Object.assign({},sm.result),(!sm.result.type||sm.result.type==="data")&&{type:"data",data:s.transformer.deserialize(sm.result.data)})}),(tm!=="subscription"||sm.result.type==="stopped")&&Nf.complete()}};r.addMessageListener(im),ip.push(()=>r.removeMessageListener(im)),r.postMessage({trpc:{id:em,jsonrpc:void 0,method:tm,params:{path:nm,input:rm}}})}catch(rm){Nf.error(new wt$2.TRPCClientError(rm instanceof Error?rm.message:"Unknown error"))}return()=>{tm==="subscription"&&r.postMessage({trpc:{id:em,jsonrpc:void 0,method:"subscription.stop"}}),ip.forEach(rm=>rm())}});be$2.createBaseLink=$a$1;Object.defineProperty(at$2,"__esModule",{value:!0});at$2.chromeLink=void 0;const Ma$1=be$2,Da$1=r=>(0,Ma$1.createBaseLink)({postMessage(s){r.port.postMessage(s)},addMessageListener(s){r.port.onMessage.addListener(s)},removeMessageListener(s){r.port.onMessage.removeListener(s)},addCloseListener(s){r.port.onDisconnect.addListener(s)},removeCloseListener(s){r.port.onDisconnect.removeListener(s)}});at$2.chromeLink=Da$1;var ut$2={};Object.defineProperty(ut$2,"__esModule",{value:!0});ut$2.windowLink=void 0;const Za$1=be$2,Ua$1=r=>{var s;const sf=new Map,Nf=r.window,ip=(s=r.postWindow)!==null&&s!==void 0?s:Nf;return(0,Za$1.createBaseLink)({postMessage(em){ip.postMessage(em,{targetOrigin:r.postOrigin})},addMessageListener(em){const tm=nm=>{em(nm.data)};sf.set(em,tm),Nf.addEventListener("message",tm)},removeMessageListener(em){const tm=sf.get(em);tm&&Nf.removeEventListener("message",tm)},addCloseListener(em){Nf.addEventListener("beforeunload",em)},removeCloseListener(em){Nf.removeEventListener("beforeunload",em)}})};ut$2.windowLink=Ua$1;var lt$2={},dt$2={};Object.defineProperty(dt$2,"__esModule",{value:!0});dt$2.TRPC_BROWSER_LOADED_EVENT=void 0;dt$2.TRPC_BROWSER_LOADED_EVENT="TRPC_BROWSER::POPUP_LOADED";Object.defineProperty(lt$2,"__esModule",{value:!0});lt$2.popupLink=void 0;const Wa$1=dt$2,qa$1=be$2,za$1=r=>{const s=new Map,sf=new Set;let Nf=null;async function ip(em){if(!Nf||Nf.closed){Nf=r.createPopup(),await Promise.race([new Promise(tm=>{var nm;try{(nm=Nf?.addEventListener)===null||nm===void 0||nm.call(Nf,"load",tm)}catch{}}),new Promise(tm=>{em.addEventListener("message",nm=>{nm.data===Wa$1.TRPC_BROWSER_LOADED_EVENT&&tm()})}),new Promise(tm=>{console.warn("Could not detect if popup loading succeeded after 15s timeout, continuing anyway"),setTimeout(tm,15e3)})]);try{if(!Nf.addEventListener)throw new Error("popupWindow.addEventListener is not a function");Nf.addEventListener("beforeunload",()=>{Nf=null})}catch{const tm=setInterval(()=>{Nf&&Nf.closed&&(Nf=null,sf.forEach(nm=>{nm()}),clearInterval(tm))},1e3)}}return Nf}return(0,qa$1.createBaseLink)({async postMessage(em){return(await ip(r.listenWindow)).postMessage(em,{targetOrigin:r.postOrigin})},addMessageListener(em){const tm=nm=>{em(nm.data)};s.set(em,tm),r.listenWindow.addEventListener("message",tm)},removeMessageListener(em){const tm=s.get(em);tm&&r.listenWindow.removeEventListener("message",tm)},addCloseListener(em){r.listenWindow.addEventListener("beforeunload",em),sf.add(em)},removeCloseListener(em){r.listenWindow.removeEventListener("beforeunload",em),sf.delete(em)}})};lt$2.popupLink=za$1;(function(r){var s=A$1&&A$1.__createBinding||(Object.create?function(Nf,ip,em,tm){tm===void 0&&(tm=em);var nm=Object.getOwnPropertyDescriptor(ip,em);(!nm||("get"in nm?!ip.__esModule:nm.writable||nm.configurable))&&(nm={enumerable:!0,get:function(){return ip[em]}}),Object.defineProperty(Nf,tm,nm)}:function(Nf,ip,em,tm){tm===void 0&&(tm=em),Nf[tm]=ip[em]}),sf=A$1&&A$1.__exportStar||function(Nf,ip){for(var em in Nf)em!=="default"&&!Object.prototype.hasOwnProperty.call(ip,em)&&s(ip,Nf,em)};Object.defineProperty(r,"__esModule",{value:!0}),sf(at$2,r),sf(ut$2,r),sf(lt$2,r)})(Rt$2);var x$1;(function(r){r.assertEqual=ip=>ip;function s(ip){}r.assertIs=s;function sf(ip){throw new Error}r.assertNever=sf,r.arrayToEnum=ip=>{const em={};for(const tm of ip)em[tm]=tm;return em},r.getValidEnumValues=ip=>{const em=r.objectKeys(ip).filter(nm=>typeof ip[ip[nm]]!="number"),tm={};for(const nm of em)tm[nm]=ip[nm];return r.objectValues(tm)},r.objectValues=ip=>r.objectKeys(ip).map(function(em){return ip[em]}),r.objectKeys=typeof Object.keys=="function"?ip=>Object.keys(ip):ip=>{const em=[];for(const tm in ip)Object.prototype.hasOwnProperty.call(ip,tm)&&em.push(tm);return em},r.find=(ip,em)=>{for(const tm of ip)if(em(tm))return tm},r.isInteger=typeof Number.isInteger=="function"?ip=>Number.isInteger(ip):ip=>typeof ip=="number"&&isFinite(ip)&&Math.floor(ip)===ip;function Nf(ip,em=" | "){return ip.map(tm=>typeof tm=="string"?`'${tm}'`:tm).join(em)}r.joinValues=Nf,r.jsonStringifyReplacer=(ip,em)=>typeof em=="bigint"?em.toString():em})(x$1||(x$1={}));var Pt$2;(function(r){r.mergeShapes=(s,sf)=>({...s,...sf})})(Pt$2||(Pt$2={}));const m$1=x$1.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Y$2=r=>{switch(typeof r){case"undefined":return m$1.undefined;case"string":return m$1.string;case"number":return isNaN(r)?m$1.nan:m$1.number;case"boolean":return m$1.boolean;case"function":return m$1.function;case"bigint":return m$1.bigint;case"symbol":return m$1.symbol;case"object":return Array.isArray(r)?m$1.array:r===null?m$1.null:r.then&&typeof r.then=="function"&&r.catch&&typeof r.catch=="function"?m$1.promise:typeof Map<"u"&&r instanceof Map?m$1.map:typeof Set<"u"&&r instanceof Set?m$1.set:typeof Date<"u"&&r instanceof Date?m$1.date:m$1.object;default:return m$1.unknown}},f$2=x$1.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Ba$1=r=>JSON.stringify(r,null,2).replace(/"([^"]+)":/g,"$1:");let L$4=class Qy extends Error{get errors(){return this.issues}constructor(s){super(),this.issues=[],this.addIssue=Nf=>{this.issues=[...this.issues,Nf]},this.addIssues=(Nf=[])=>{this.issues=[...this.issues,...Nf]};const sf=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,sf):this.__proto__=sf,this.name="ZodError",this.issues=s}format(s){const sf=s||function(em){return em.message},Nf={_errors:[]},ip=em=>{for(const tm of em.issues)if(tm.code==="invalid_union")tm.unionErrors.map(ip);else if(tm.code==="invalid_return_type")ip(tm.returnTypeError);else if(tm.code==="invalid_arguments")ip(tm.argumentsError);else if(tm.path.length===0)Nf._errors.push(sf(tm));else{let nm=Nf,rm=0;for(;rm<tm.path.length;){const om=tm.path[rm];rm===tm.path.length-1?(nm[om]=nm[om]||{_errors:[]},nm[om]._errors.push(sf(tm))):nm[om]=nm[om]||{_errors:[]},nm=nm[om],rm++}}};return ip(this),Nf}static assert(s){if(!(s instanceof Qy))throw new Error(`Not a ZodError: ${s}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,x$1.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(s=sf=>sf.message){const sf={},Nf=[];for(const ip of this.issues)ip.path.length>0?(sf[ip.path[0]]=sf[ip.path[0]]||[],sf[ip.path[0]].push(s(ip))):Nf.push(s(ip));return{formErrors:Nf,fieldErrors:sf}}get formErrors(){return this.flatten()}};L$4.create=r=>new L$4(r);const ge$2=(r,s)=>{let sf;switch(r.code){case f$2.invalid_type:r.received===m$1.undefined?sf="Required":sf=`Expected ${r.expected}, received ${r.received}`;break;case f$2.invalid_literal:sf=`Invalid literal value, expected ${JSON.stringify(r.expected,x$1.jsonStringifyReplacer)}`;break;case f$2.unrecognized_keys:sf=`Unrecognized key(s) in object: ${x$1.joinValues(r.keys,", ")}`;break;case f$2.invalid_union:sf="Invalid input";break;case f$2.invalid_union_discriminator:sf=`Invalid discriminator value. Expected ${x$1.joinValues(r.options)}`;break;case f$2.invalid_enum_value:sf=`Invalid enum value. Expected ${x$1.joinValues(r.options)}, received '${r.received}'`;break;case f$2.invalid_arguments:sf="Invalid function arguments";break;case f$2.invalid_return_type:sf="Invalid function return type";break;case f$2.invalid_date:sf="Invalid date";break;case f$2.invalid_string:typeof r.validation=="object"?"includes"in r.validation?(sf=`Invalid input: must include "${r.validation.includes}"`,typeof r.validation.position=="number"&&(sf=`${sf} at one or more positions greater than or equal to ${r.validation.position}`)):"startsWith"in r.validation?sf=`Invalid input: must start with "${r.validation.startsWith}"`:"endsWith"in r.validation?sf=`Invalid input: must end with "${r.validation.endsWith}"`:x$1.assertNever(r.validation):r.validation!=="regex"?sf=`Invalid ${r.validation}`:sf="Invalid";break;case f$2.too_small:r.type==="array"?sf=`Array must contain ${r.exact?"exactly":r.inclusive?"at least":"more than"} ${r.minimum} element(s)`:r.type==="string"?sf=`String must contain ${r.exact?"exactly":r.inclusive?"at least":"over"} ${r.minimum} character(s)`:r.type==="number"?sf=`Number must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${r.minimum}`:r.type==="date"?sf=`Date must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(r.minimum))}`:sf="Invalid input";break;case f$2.too_big:r.type==="array"?sf=`Array must contain ${r.exact?"exactly":r.inclusive?"at most":"less than"} ${r.maximum} element(s)`:r.type==="string"?sf=`String must contain ${r.exact?"exactly":r.inclusive?"at most":"under"} ${r.maximum} character(s)`:r.type==="number"?sf=`Number must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="bigint"?sf=`BigInt must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="date"?sf=`Date must be ${r.exact?"exactly":r.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(r.maximum))}`:sf="Invalid input";break;case f$2.custom:sf="Invalid input";break;case f$2.invalid_intersection_types:sf="Intersection results could not be merged";break;case f$2.not_multiple_of:sf=`Number must be a multiple of ${r.multipleOf}`;break;case f$2.not_finite:sf="Number must be finite";break;default:sf=s.defaultError,x$1.assertNever(r)}return{message:sf}};let ln$1=ge$2;function Va$1(r){ln$1=r}function Ye$2(){return ln$1}const Xe$2=r=>{const{data:s,path:sf,errorMaps:Nf,issueData:ip}=r,em=[...sf,...ip.path||[]],tm={...ip,path:em};if(ip.message!==void 0)return{...ip,path:em,message:ip.message};let nm="";const rm=Nf.filter(om=>!!om).slice().reverse();for(const om of rm)nm=om(tm,{data:s,defaultError:nm}).message;return{...ip,path:em,message:nm}},Fa$1=[];function p$3(r,s){const sf=Ye$2(),Nf=Xe$2({issueData:s,data:r.data,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,sf,sf===ge$2?void 0:ge$2].filter(ip=>!!ip)});r.common.issues.push(Nf)}let N$3=class Xy{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(s,sf){const Nf=[];for(const ip of sf){if(ip.status==="aborted")return v$2;ip.status==="dirty"&&s.dirty(),Nf.push(ip.value)}return{status:s.value,value:Nf}}static async mergeObjectAsync(s,sf){const Nf=[];for(const ip of sf){const em=await ip.key,tm=await ip.value;Nf.push({key:em,value:tm})}return Xy.mergeObjectSync(s,Nf)}static mergeObjectSync(s,sf){const Nf={};for(const ip of sf){const{key:em,value:tm}=ip;if(em.status==="aborted"||tm.status==="aborted")return v$2;em.status==="dirty"&&s.dirty(),tm.status==="dirty"&&s.dirty(),em.value!=="__proto__"&&(typeof tm.value<"u"||ip.alwaysSet)&&(Nf[em.value]=tm.value)}return{status:s.value,value:Nf}}};const v$2=Object.freeze({status:"aborted"}),he$2=r=>({status:"dirty",value:r}),I$2=r=>({status:"valid",value:r}),At$2=r=>r.status==="aborted",Nt$2=r=>r.status==="dirty",oe$1=r=>r.status==="valid",Ne$2=r=>typeof Promise<"u"&&r instanceof Promise;function Qe$2(r,s,sf,Nf){if(typeof s=="function"?r!==s||!0:!s.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s.get(r)}function dn$1(r,s,sf,Nf,ip){if(typeof s=="function"?r!==s||!0:!s.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s.set(r,sf),sf}var g$2;(function(r){r.errToObj=s=>typeof s=="string"?{message:s}:s||{},r.toString=s=>typeof s=="string"?s:s?.message})(g$2||(g$2={}));var Re$2,Oe$2;let B$2=class{constructor(s,sf,Nf,ip){this._cachedPath=[],this.parent=s,this.data=sf,this._path=Nf,this._key=ip}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}};const _r$1=(r,s)=>{if(oe$1(s))return{success:!0,data:s.value};if(!r.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const sf=new L$4(r.common.issues);return this._error=sf,this._error}}};function b$1(r){if(!r)return{};const{errorMap:s,invalid_type_error:sf,required_error:Nf,description:ip}=r;if(s&&(sf||Nf))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return s?{errorMap:s,description:ip}:{errorMap:(em,tm)=>{var nm,rm;const{message:om}=r;return em.code==="invalid_enum_value"?{message:om??tm.defaultError}:typeof tm.data>"u"?{message:(nm=om??Nf)!==null&&nm!==void 0?nm:tm.defaultError}:em.code!=="invalid_type"?{message:tm.defaultError}:{message:(rm=om??sf)!==null&&rm!==void 0?rm:tm.defaultError}},description:ip}}let w$1=class{get description(){return this._def.description}_getType(s){return Y$2(s.data)}_getOrReturnCtx(s,sf){return sf||{common:s.parent.common,data:s.data,parsedType:Y$2(s.data),schemaErrorMap:this._def.errorMap,path:s.path,parent:s.parent}}_processInputParams(s){return{status:new N$3,ctx:{common:s.parent.common,data:s.data,parsedType:Y$2(s.data),schemaErrorMap:this._def.errorMap,path:s.path,parent:s.parent}}}_parseSync(s){const sf=this._parse(s);if(Ne$2(sf))throw new Error("Synchronous parse encountered promise.");return sf}_parseAsync(s){const sf=this._parse(s);return Promise.resolve(sf)}parse(s,sf){const Nf=this.safeParse(s,sf);if(Nf.success)return Nf.data;throw Nf.error}safeParse(s,sf){var Nf;const ip={common:{issues:[],async:(Nf=sf?.async)!==null&&Nf!==void 0?Nf:!1,contextualErrorMap:sf?.errorMap},path:sf?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:s,parsedType:Y$2(s)},em=this._parseSync({data:s,path:ip.path,parent:ip});return _r$1(ip,em)}"~validate"(s){var sf,Nf;const ip={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:s,parsedType:Y$2(s)};if(!this["~standard"].async)try{const em=this._parseSync({data:s,path:[],parent:ip});return oe$1(em)?{value:em.value}:{issues:ip.common.issues}}catch(em){!((Nf=(sf=em?.message)===null||sf===void 0?void 0:sf.toLowerCase())===null||Nf===void 0)&&Nf.includes("encountered")&&(this["~standard"].async=!0),ip.common={issues:[],async:!0}}return this._parseAsync({data:s,path:[],parent:ip}).then(em=>oe$1(em)?{value:em.value}:{issues:ip.common.issues})}async parseAsync(s,sf){const Nf=await this.safeParseAsync(s,sf);if(Nf.success)return Nf.data;throw Nf.error}async safeParseAsync(s,sf){const Nf={common:{issues:[],contextualErrorMap:sf?.errorMap,async:!0},path:sf?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:s,parsedType:Y$2(s)},ip=this._parse({data:s,path:Nf.path,parent:Nf}),em=await (Ne$2(ip)?ip:Promise.resolve(ip));return _r$1(Nf,em)}refine(s,sf){const Nf=ip=>typeof sf=="string"||typeof sf>"u"?{message:sf}:typeof sf=="function"?sf(ip):sf;return this._refinement((ip,em)=>{const tm=s(ip),nm=()=>em.addIssue({code:f$2.custom,...Nf(ip)});return typeof Promise<"u"&&tm instanceof Promise?tm.then(rm=>rm?!0:(nm(),!1)):tm?!0:(nm(),!1)})}refinement(s,sf){return this._refinement((Nf,ip)=>s(Nf)?!0:(ip.addIssue(typeof sf=="function"?sf(Nf,ip):sf),!1))}_refinement(s){return new W$3({schema:this,typeName:_$3.ZodEffects,effect:{type:"refinement",refinement:s}})}superRefine(s){return this._refinement(s)}constructor(s){this.spa=this.safeParseAsync,this._def=s,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:sf=>this["~validate"](sf)}}optional(){return z$2.create(this,this._def)}nullable(){return re$3.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return U$4.create(this)}promise(){return ve$2.create(this,this._def)}or(s){return $e$2.create([this,s],this._def)}and(s){return Me$2.create(this,s,this._def)}transform(s){return new W$3({...b$1(this._def),schema:this,typeName:_$3.ZodEffects,effect:{type:"transform",transform:s}})}default(s){const sf=typeof s=="function"?s:()=>s;return new qe$2({...b$1(this._def),innerType:this,defaultValue:sf,typeName:_$3.ZodDefault})}brand(){return new Yt$1({typeName:_$3.ZodBranded,type:this,...b$1(this._def)})}catch(s){const sf=typeof s=="function"?s:()=>s;return new ze$1({...b$1(this._def),innerType:this,catchValue:sf,typeName:_$3.ZodCatch})}describe(s){const sf=this.constructor;return new sf({...this._def,description:s})}pipe(s){return Fe$2.create(this,s)}readonly(){return Be$2.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}};const Ha$1=/^c[^\s-]{8,}$/i,Ga$1=/^[0-9a-z]+$/,Ja$1=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Ya$1=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Xa$1=/^[a-z0-9_-]{21}$/i,Qa$1=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Ka$1=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,ei$1=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,ti$1="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let xt$2;const ri$1=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ni$1=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,si$1=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,ai$1=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,ii$1=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,oi$1=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,fn$1="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",ci$1=new RegExp(`^${fn$1}$`);function pn$1(r){let s="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return r.precision?s=`${s}\\.\\d{${r.precision}}`:r.precision==null&&(s=`${s}(\\.\\d+)?`),s}function ui$1(r){return new RegExp(`^${pn$1(r)}$`)}function hn$1(r){let s=`${fn$1}T${pn$1(r)}`;const sf=[];return sf.push(r.local?"Z?":"Z"),r.offset&&sf.push("([+-]\\d{2}:?\\d{2})"),s=`${s}(${sf.join("|")})`,new RegExp(`^${s}$`)}function li$1(r,s){return!!((s==="v4"||!s)&&ri$1.test(r)||(s==="v6"||!s)&&si$1.test(r))}function di$1(r,s){if(!Qa$1.test(r))return!1;try{const[sf]=r.split("."),Nf=sf.replace(/-/g,"+").replace(/_/g,"/").padEnd(sf.length+(4-sf.length%4)%4,"="),ip=JSON.parse(atob(Nf));return!(typeof ip!="object"||ip===null||!ip.typ||!ip.alg||s&&ip.alg!==s)}catch{return!1}}function fi$1(r,s){return!!((s==="v4"||!s)&&ni$1.test(r)||(s==="v6"||!s)&&ai$1.test(r))}let Z$1=class ay extends w$1{_parse(s){if(this._def.coerce&&(s.data=String(s.data)),this._getType(s)!==m$1.string){const ip=this._getOrReturnCtx(s);return p$3(ip,{code:f$2.invalid_type,expected:m$1.string,received:ip.parsedType}),v$2}const sf=new N$3;let Nf;for(const ip of this._def.checks)if(ip.kind==="min")s.data.length<ip.value&&(Nf=this._getOrReturnCtx(s,Nf),p$3(Nf,{code:f$2.too_small,minimum:ip.value,type:"string",inclusive:!0,exact:!1,message:ip.message}),sf.dirty());else if(ip.kind==="max")s.data.length>ip.value&&(Nf=this._getOrReturnCtx(s,Nf),p$3(Nf,{code:f$2.too_big,maximum:ip.value,type:"string",inclusive:!0,exact:!1,message:ip.message}),sf.dirty());else if(ip.kind==="length"){const em=s.data.length>ip.value,tm=s.data.length<ip.value;(em||tm)&&(Nf=this._getOrReturnCtx(s,Nf),em?p$3(Nf,{code:f$2.too_big,maximum:ip.value,type:"string",inclusive:!0,exact:!0,message:ip.message}):tm&&p$3(Nf,{code:f$2.too_small,minimum:ip.value,type:"string",inclusive:!0,exact:!0,message:ip.message}),sf.dirty())}else if(ip.kind==="email")ei$1.test(s.data)||(Nf=this._getOrReturnCtx(s,Nf),p$3(Nf,{validation:"email",code:f$2.invalid_string,message:ip.message}),sf.dirty());else if(ip.kind==="emoji")xt$2||(xt$2=new RegExp(ti$1,"u")),xt$2.test(s.data)||(Nf=this._getOrReturnCtx(s,Nf),p$3(Nf,{validation:"emoji",code:f$2.invalid_string,message:ip.message}),sf.dirty());else if(ip.kind==="uuid")Ya$1.test(s.data)||(Nf=this._getOrReturnCtx(s,Nf),p$3(Nf,{validation:"uuid",code:f$2.invalid_string,message:ip.message}),sf.dirty());else if(ip.kind==="nanoid")Xa$1.test(s.data)||(Nf=this._getOrReturnCtx(s,Nf),p$3(Nf,{validation:"nanoid",code:f$2.invalid_string,message:ip.message}),sf.dirty());else if(ip.kind==="cuid")Ha$1.test(s.data)||(Nf=this._getOrReturnCtx(s,Nf),p$3(Nf,{validation:"cuid",code:f$2.invalid_string,message:ip.message}),sf.dirty());else if(ip.kind==="cuid2")Ga$1.test(s.data)||(Nf=this._getOrReturnCtx(s,Nf),p$3(Nf,{validation:"cuid2",code:f$2.invalid_string,message:ip.message}),sf.dirty());else if(ip.kind==="ulid")Ja$1.test(s.data)||(Nf=this._getOrReturnCtx(s,Nf),p$3(Nf,{validation:"ulid",code:f$2.invalid_string,message:ip.message}),sf.dirty());else if(ip.kind==="url")try{new URL(s.data)}catch{Nf=this._getOrReturnCtx(s,Nf),p$3(Nf,{validation:"url",code:f$2.invalid_string,message:ip.message}),sf.dirty()}else ip.kind==="regex"?(ip.regex.lastIndex=0,ip.regex.test(s.data)||(Nf=this._getOrReturnCtx(s,Nf),p$3(Nf,{validation:"regex",code:f$2.invalid_string,message:ip.message}),sf.dirty())):ip.kind==="trim"?s.data=s.data.trim():ip.kind==="includes"?s.data.includes(ip.value,ip.position)||(Nf=this._getOrReturnCtx(s,Nf),p$3(Nf,{code:f$2.invalid_string,validation:{includes:ip.value,position:ip.position},message:ip.message}),sf.dirty()):ip.kind==="toLowerCase"?s.data=s.data.toLowerCase():ip.kind==="toUpperCase"?s.data=s.data.toUpperCase():ip.kind==="startsWith"?s.data.startsWith(ip.value)||(Nf=this._getOrReturnCtx(s,Nf),p$3(Nf,{code:f$2.invalid_string,validation:{startsWith:ip.value},message:ip.message}),sf.dirty()):ip.kind==="endsWith"?s.data.endsWith(ip.value)||(Nf=this._getOrReturnCtx(s,Nf),p$3(Nf,{code:f$2.invalid_string,validation:{endsWith:ip.value},message:ip.message}),sf.dirty()):ip.kind==="datetime"?hn$1(ip).test(s.data)||(Nf=this._getOrReturnCtx(s,Nf),p$3(Nf,{code:f$2.invalid_string,validation:"datetime",message:ip.message}),sf.dirty()):ip.kind==="date"?ci$1.test(s.data)||(Nf=this._getOrReturnCtx(s,Nf),p$3(Nf,{code:f$2.invalid_string,validation:"date",message:ip.message}),sf.dirty()):ip.kind==="time"?ui$1(ip).test(s.data)||(Nf=this._getOrReturnCtx(s,Nf),p$3(Nf,{code:f$2.invalid_string,validation:"time",message:ip.message}),sf.dirty()):ip.kind==="duration"?Ka$1.test(s.data)||(Nf=this._getOrReturnCtx(s,Nf),p$3(Nf,{validation:"duration",code:f$2.invalid_string,message:ip.message}),sf.dirty()):ip.kind==="ip"?li$1(s.data,ip.version)||(Nf=this._getOrReturnCtx(s,Nf),p$3(Nf,{validation:"ip",code:f$2.invalid_string,message:ip.message}),sf.dirty()):ip.kind==="jwt"?di$1(s.data,ip.alg)||(Nf=this._getOrReturnCtx(s,Nf),p$3(Nf,{validation:"jwt",code:f$2.invalid_string,message:ip.message}),sf.dirty()):ip.kind==="cidr"?fi$1(s.data,ip.version)||(Nf=this._getOrReturnCtx(s,Nf),p$3(Nf,{validation:"cidr",code:f$2.invalid_string,message:ip.message}),sf.dirty()):ip.kind==="base64"?ii$1.test(s.data)||(Nf=this._getOrReturnCtx(s,Nf),p$3(Nf,{validation:"base64",code:f$2.invalid_string,message:ip.message}),sf.dirty()):ip.kind==="base64url"?oi$1.test(s.data)||(Nf=this._getOrReturnCtx(s,Nf),p$3(Nf,{validation:"base64url",code:f$2.invalid_string,message:ip.message}),sf.dirty()):x$1.assertNever(ip);return{status:sf.value,value:s.data}}_regex(s,sf,Nf){return this.refinement(ip=>s.test(ip),{validation:sf,code:f$2.invalid_string,...g$2.errToObj(Nf)})}_addCheck(s){return new ay({...this._def,checks:[...this._def.checks,s]})}email(s){return this._addCheck({kind:"email",...g$2.errToObj(s)})}url(s){return this._addCheck({kind:"url",...g$2.errToObj(s)})}emoji(s){return this._addCheck({kind:"emoji",...g$2.errToObj(s)})}uuid(s){return this._addCheck({kind:"uuid",...g$2.errToObj(s)})}nanoid(s){return this._addCheck({kind:"nanoid",...g$2.errToObj(s)})}cuid(s){return this._addCheck({kind:"cuid",...g$2.errToObj(s)})}cuid2(s){return this._addCheck({kind:"cuid2",...g$2.errToObj(s)})}ulid(s){return this._addCheck({kind:"ulid",...g$2.errToObj(s)})}base64(s){return this._addCheck({kind:"base64",...g$2.errToObj(s)})}base64url(s){return this._addCheck({kind:"base64url",...g$2.errToObj(s)})}jwt(s){return this._addCheck({kind:"jwt",...g$2.errToObj(s)})}ip(s){return this._addCheck({kind:"ip",...g$2.errToObj(s)})}cidr(s){return this._addCheck({kind:"cidr",...g$2.errToObj(s)})}datetime(s){var sf,Nf;return typeof s=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:s}):this._addCheck({kind:"datetime",precision:typeof s?.precision>"u"?null:s?.precision,offset:(sf=s?.offset)!==null&&sf!==void 0?sf:!1,local:(Nf=s?.local)!==null&&Nf!==void 0?Nf:!1,...g$2.errToObj(s?.message)})}date(s){return this._addCheck({kind:"date",message:s})}time(s){return typeof s=="string"?this._addCheck({kind:"time",precision:null,message:s}):this._addCheck({kind:"time",precision:typeof s?.precision>"u"?null:s?.precision,...g$2.errToObj(s?.message)})}duration(s){return this._addCheck({kind:"duration",...g$2.errToObj(s)})}regex(s,sf){return this._addCheck({kind:"regex",regex:s,...g$2.errToObj(sf)})}includes(s,sf){return this._addCheck({kind:"includes",value:s,position:sf?.position,...g$2.errToObj(sf?.message)})}startsWith(s,sf){return this._addCheck({kind:"startsWith",value:s,...g$2.errToObj(sf)})}endsWith(s,sf){return this._addCheck({kind:"endsWith",value:s,...g$2.errToObj(sf)})}min(s,sf){return this._addCheck({kind:"min",value:s,...g$2.errToObj(sf)})}max(s,sf){return this._addCheck({kind:"max",value:s,...g$2.errToObj(sf)})}length(s,sf){return this._addCheck({kind:"length",value:s,...g$2.errToObj(sf)})}nonempty(s){return this.min(1,g$2.errToObj(s))}trim(){return new ay({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ay({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ay({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(s=>s.kind==="datetime")}get isDate(){return!!this._def.checks.find(s=>s.kind==="date")}get isTime(){return!!this._def.checks.find(s=>s.kind==="time")}get isDuration(){return!!this._def.checks.find(s=>s.kind==="duration")}get isEmail(){return!!this._def.checks.find(s=>s.kind==="email")}get isURL(){return!!this._def.checks.find(s=>s.kind==="url")}get isEmoji(){return!!this._def.checks.find(s=>s.kind==="emoji")}get isUUID(){return!!this._def.checks.find(s=>s.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(s=>s.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(s=>s.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(s=>s.kind==="cuid2")}get isULID(){return!!this._def.checks.find(s=>s.kind==="ulid")}get isIP(){return!!this._def.checks.find(s=>s.kind==="ip")}get isCIDR(){return!!this._def.checks.find(s=>s.kind==="cidr")}get isBase64(){return!!this._def.checks.find(s=>s.kind==="base64")}get isBase64url(){return!!this._def.checks.find(s=>s.kind==="base64url")}get minLength(){let s=null;for(const sf of this._def.checks)sf.kind==="min"&&(s===null||sf.value>s)&&(s=sf.value);return s}get maxLength(){let s=null;for(const sf of this._def.checks)sf.kind==="max"&&(s===null||sf.value<s)&&(s=sf.value);return s}};Z$1.create=r=>{var s;return new Z$1({checks:[],typeName:_$3.ZodString,coerce:(s=r?.coerce)!==null&&s!==void 0?s:!1,...b$1(r)})};function pi$1(r,s){const sf=(r.toString().split(".")[1]||"").length,Nf=(s.toString().split(".")[1]||"").length,ip=sf>Nf?sf:Nf,em=parseInt(r.toFixed(ip).replace(".","")),tm=parseInt(s.toFixed(ip).replace(".",""));return em%tm/Math.pow(10,ip)}let K$2=class Oy extends w$1{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(s){if(this._def.coerce&&(s.data=Number(s.data)),this._getType(s)!==m$1.number){const ip=this._getOrReturnCtx(s);return p$3(ip,{code:f$2.invalid_type,expected:m$1.number,received:ip.parsedType}),v$2}let sf;const Nf=new N$3;for(const ip of this._def.checks)ip.kind==="int"?x$1.isInteger(s.data)||(sf=this._getOrReturnCtx(s,sf),p$3(sf,{code:f$2.invalid_type,expected:"integer",received:"float",message:ip.message}),Nf.dirty()):ip.kind==="min"?(ip.inclusive?s.data<ip.value:s.data<=ip.value)&&(sf=this._getOrReturnCtx(s,sf),p$3(sf,{code:f$2.too_small,minimum:ip.value,type:"number",inclusive:ip.inclusive,exact:!1,message:ip.message}),Nf.dirty()):ip.kind==="max"?(ip.inclusive?s.data>ip.value:s.data>=ip.value)&&(sf=this._getOrReturnCtx(s,sf),p$3(sf,{code:f$2.too_big,maximum:ip.value,type:"number",inclusive:ip.inclusive,exact:!1,message:ip.message}),Nf.dirty()):ip.kind==="multipleOf"?pi$1(s.data,ip.value)!==0&&(sf=this._getOrReturnCtx(s,sf),p$3(sf,{code:f$2.not_multiple_of,multipleOf:ip.value,message:ip.message}),Nf.dirty()):ip.kind==="finite"?Number.isFinite(s.data)||(sf=this._getOrReturnCtx(s,sf),p$3(sf,{code:f$2.not_finite,message:ip.message}),Nf.dirty()):x$1.assertNever(ip);return{status:Nf.value,value:s.data}}gte(s,sf){return this.setLimit("min",s,!0,g$2.toString(sf))}gt(s,sf){return this.setLimit("min",s,!1,g$2.toString(sf))}lte(s,sf){return this.setLimit("max",s,!0,g$2.toString(sf))}lt(s,sf){return this.setLimit("max",s,!1,g$2.toString(sf))}setLimit(s,sf,Nf,ip){return new Oy({...this._def,checks:[...this._def.checks,{kind:s,value:sf,inclusive:Nf,message:g$2.toString(ip)}]})}_addCheck(s){return new Oy({...this._def,checks:[...this._def.checks,s]})}int(s){return this._addCheck({kind:"int",message:g$2.toString(s)})}positive(s){return this._addCheck({kind:"min",value:0,inclusive:!1,message:g$2.toString(s)})}negative(s){return this._addCheck({kind:"max",value:0,inclusive:!1,message:g$2.toString(s)})}nonpositive(s){return this._addCheck({kind:"max",value:0,inclusive:!0,message:g$2.toString(s)})}nonnegative(s){return this._addCheck({kind:"min",value:0,inclusive:!0,message:g$2.toString(s)})}multipleOf(s,sf){return this._addCheck({kind:"multipleOf",value:s,message:g$2.toString(sf)})}finite(s){return this._addCheck({kind:"finite",message:g$2.toString(s)})}safe(s){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:g$2.toString(s)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:g$2.toString(s)})}get minValue(){let s=null;for(const sf of this._def.checks)sf.kind==="min"&&(s===null||sf.value>s)&&(s=sf.value);return s}get maxValue(){let s=null;for(const sf of this._def.checks)sf.kind==="max"&&(s===null||sf.value<s)&&(s=sf.value);return s}get isInt(){return!!this._def.checks.find(s=>s.kind==="int"||s.kind==="multipleOf"&&x$1.isInteger(s.value))}get isFinite(){let s=null,sf=null;for(const Nf of this._def.checks){if(Nf.kind==="finite"||Nf.kind==="int"||Nf.kind==="multipleOf")return!0;Nf.kind==="min"?(sf===null||Nf.value>sf)&&(sf=Nf.value):Nf.kind==="max"&&(s===null||Nf.value<s)&&(s=Nf.value)}return Number.isFinite(sf)&&Number.isFinite(s)}};K$2.create=r=>new K$2({checks:[],typeName:_$3.ZodNumber,coerce:r?.coerce||!1,...b$1(r)});let ee$1=class Ry extends w$1{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(s){if(this._def.coerce)try{s.data=BigInt(s.data)}catch{return this._getInvalidInput(s)}if(this._getType(s)!==m$1.bigint)return this._getInvalidInput(s);let sf;const Nf=new N$3;for(const ip of this._def.checks)ip.kind==="min"?(ip.inclusive?s.data<ip.value:s.data<=ip.value)&&(sf=this._getOrReturnCtx(s,sf),p$3(sf,{code:f$2.too_small,type:"bigint",minimum:ip.value,inclusive:ip.inclusive,message:ip.message}),Nf.dirty()):ip.kind==="max"?(ip.inclusive?s.data>ip.value:s.data>=ip.value)&&(sf=this._getOrReturnCtx(s,sf),p$3(sf,{code:f$2.too_big,type:"bigint",maximum:ip.value,inclusive:ip.inclusive,message:ip.message}),Nf.dirty()):ip.kind==="multipleOf"?s.data%ip.value!==BigInt(0)&&(sf=this._getOrReturnCtx(s,sf),p$3(sf,{code:f$2.not_multiple_of,multipleOf:ip.value,message:ip.message}),Nf.dirty()):x$1.assertNever(ip);return{status:Nf.value,value:s.data}}_getInvalidInput(s){const sf=this._getOrReturnCtx(s);return p$3(sf,{code:f$2.invalid_type,expected:m$1.bigint,received:sf.parsedType}),v$2}gte(s,sf){return this.setLimit("min",s,!0,g$2.toString(sf))}gt(s,sf){return this.setLimit("min",s,!1,g$2.toString(sf))}lte(s,sf){return this.setLimit("max",s,!0,g$2.toString(sf))}lt(s,sf){return this.setLimit("max",s,!1,g$2.toString(sf))}setLimit(s,sf,Nf,ip){return new Ry({...this._def,checks:[...this._def.checks,{kind:s,value:sf,inclusive:Nf,message:g$2.toString(ip)}]})}_addCheck(s){return new Ry({...this._def,checks:[...this._def.checks,s]})}positive(s){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:g$2.toString(s)})}negative(s){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:g$2.toString(s)})}nonpositive(s){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:g$2.toString(s)})}nonnegative(s){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:g$2.toString(s)})}multipleOf(s,sf){return this._addCheck({kind:"multipleOf",value:s,message:g$2.toString(sf)})}get minValue(){let s=null;for(const sf of this._def.checks)sf.kind==="min"&&(s===null||sf.value>s)&&(s=sf.value);return s}get maxValue(){let s=null;for(const sf of this._def.checks)sf.kind==="max"&&(s===null||sf.value<s)&&(s=sf.value);return s}};ee$1.create=r=>{var s;return new ee$1({checks:[],typeName:_$3.ZodBigInt,coerce:(s=r?.coerce)!==null&&s!==void 0?s:!1,...b$1(r)})};let Ie$2=class extends w$1{_parse(s){if(this._def.coerce&&(s.data=!!s.data),this._getType(s)!==m$1.boolean){const sf=this._getOrReturnCtx(s);return p$3(sf,{code:f$2.invalid_type,expected:m$1.boolean,received:sf.parsedType}),v$2}return I$2(s.data)}};Ie$2.create=r=>new Ie$2({typeName:_$3.ZodBoolean,coerce:r?.coerce||!1,...b$1(r)});let ce$2=class Jy extends w$1{_parse(s){if(this._def.coerce&&(s.data=new Date(s.data)),this._getType(s)!==m$1.date){const ip=this._getOrReturnCtx(s);return p$3(ip,{code:f$2.invalid_type,expected:m$1.date,received:ip.parsedType}),v$2}if(isNaN(s.data.getTime())){const ip=this._getOrReturnCtx(s);return p$3(ip,{code:f$2.invalid_date}),v$2}const sf=new N$3;let Nf;for(const ip of this._def.checks)ip.kind==="min"?s.data.getTime()<ip.value&&(Nf=this._getOrReturnCtx(s,Nf),p$3(Nf,{code:f$2.too_small,message:ip.message,inclusive:!0,exact:!1,minimum:ip.value,type:"date"}),sf.dirty()):ip.kind==="max"?s.data.getTime()>ip.value&&(Nf=this._getOrReturnCtx(s,Nf),p$3(Nf,{code:f$2.too_big,message:ip.message,inclusive:!0,exact:!1,maximum:ip.value,type:"date"}),sf.dirty()):x$1.assertNever(ip);return{status:sf.value,value:new Date(s.data.getTime())}}_addCheck(s){return new Jy({...this._def,checks:[...this._def.checks,s]})}min(s,sf){return this._addCheck({kind:"min",value:s.getTime(),message:g$2.toString(sf)})}max(s,sf){return this._addCheck({kind:"max",value:s.getTime(),message:g$2.toString(sf)})}get minDate(){let s=null;for(const sf of this._def.checks)sf.kind==="min"&&(s===null||sf.value>s)&&(s=sf.value);return s!=null?new Date(s):null}get maxDate(){let s=null;for(const sf of this._def.checks)sf.kind==="max"&&(s===null||sf.value<s)&&(s=sf.value);return s!=null?new Date(s):null}};ce$2.create=r=>new ce$2({checks:[],coerce:r?.coerce||!1,typeName:_$3.ZodDate,...b$1(r)});let Ke$2=class extends w$1{_parse(s){if(this._getType(s)!==m$1.symbol){const sf=this._getOrReturnCtx(s);return p$3(sf,{code:f$2.invalid_type,expected:m$1.symbol,received:sf.parsedType}),v$2}return I$2(s.data)}};Ke$2.create=r=>new Ke$2({typeName:_$3.ZodSymbol,...b$1(r)});let je$1=class extends w$1{_parse(s){if(this._getType(s)!==m$1.undefined){const sf=this._getOrReturnCtx(s);return p$3(sf,{code:f$2.invalid_type,expected:m$1.undefined,received:sf.parsedType}),v$2}return I$2(s.data)}};je$1.create=r=>new je$1({typeName:_$3.ZodUndefined,...b$1(r)});let Le$1=class extends w$1{_parse(s){if(this._getType(s)!==m$1.null){const sf=this._getOrReturnCtx(s);return p$3(sf,{code:f$2.invalid_type,expected:m$1.null,received:sf.parsedType}),v$2}return I$2(s.data)}};Le$1.create=r=>new Le$1({typeName:_$3.ZodNull,...b$1(r)});let _e$2=class extends w$1{constructor(){super(...arguments),this._any=!0}_parse(s){return I$2(s.data)}};_e$2.create=r=>new _e$2({typeName:_$3.ZodAny,...b$1(r)});let ie$2=class extends w$1{constructor(){super(...arguments),this._unknown=!0}_parse(s){return I$2(s.data)}};ie$2.create=r=>new ie$2({typeName:_$3.ZodUnknown,...b$1(r)});let X$2=class extends w$1{_parse(s){const sf=this._getOrReturnCtx(s);return p$3(sf,{code:f$2.invalid_type,expected:m$1.never,received:sf.parsedType}),v$2}};X$2.create=r=>new X$2({typeName:_$3.ZodNever,...b$1(r)});let et$2=class extends w$1{_parse(s){if(this._getType(s)!==m$1.undefined){const sf=this._getOrReturnCtx(s);return p$3(sf,{code:f$2.invalid_type,expected:m$1.void,received:sf.parsedType}),v$2}return I$2(s.data)}};et$2.create=r=>new et$2({typeName:_$3.ZodVoid,...b$1(r)});let U$4=class uy extends w$1{_parse(s){const{ctx:sf,status:Nf}=this._processInputParams(s),ip=this._def;if(sf.parsedType!==m$1.array)return p$3(sf,{code:f$2.invalid_type,expected:m$1.array,received:sf.parsedType}),v$2;if(ip.exactLength!==null){const tm=sf.data.length>ip.exactLength.value,nm=sf.data.length<ip.exactLength.value;(tm||nm)&&(p$3(sf,{code:tm?f$2.too_big:f$2.too_small,minimum:nm?ip.exactLength.value:void 0,maximum:tm?ip.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:ip.exactLength.message}),Nf.dirty())}if(ip.minLength!==null&&sf.data.length<ip.minLength.value&&(p$3(sf,{code:f$2.too_small,minimum:ip.minLength.value,type:"array",inclusive:!0,exact:!1,message:ip.minLength.message}),Nf.dirty()),ip.maxLength!==null&&sf.data.length>ip.maxLength.value&&(p$3(sf,{code:f$2.too_big,maximum:ip.maxLength.value,type:"array",inclusive:!0,exact:!1,message:ip.maxLength.message}),Nf.dirty()),sf.common.async)return Promise.all([...sf.data].map((tm,nm)=>ip.type._parseAsync(new B$2(sf,tm,sf.path,nm)))).then(tm=>N$3.mergeArray(Nf,tm));const em=[...sf.data].map((tm,nm)=>ip.type._parseSync(new B$2(sf,tm,sf.path,nm)));return N$3.mergeArray(Nf,em)}get element(){return this._def.type}min(s,sf){return new uy({...this._def,minLength:{value:s,message:g$2.toString(sf)}})}max(s,sf){return new uy({...this._def,maxLength:{value:s,message:g$2.toString(sf)}})}length(s,sf){return new uy({...this._def,exactLength:{value:s,message:g$2.toString(sf)}})}nonempty(s){return this.min(1,s)}};U$4.create=(r,s)=>new U$4({type:r,minLength:null,maxLength:null,exactLength:null,typeName:_$3.ZodArray,...b$1(s)});function pe$1(r){if(r instanceof C$1){const s={};for(const sf in r.shape){const Nf=r.shape[sf];s[sf]=z$2.create(pe$1(Nf))}return new C$1({...r._def,shape:()=>s})}else return r instanceof U$4?new U$4({...r._def,type:pe$1(r.element)}):r instanceof z$2?z$2.create(pe$1(r.unwrap())):r instanceof re$3?re$3.create(pe$1(r.unwrap())):r instanceof V$2?V$2.create(r.items.map(s=>pe$1(s))):r}let C$1=class Yg extends w$1{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const s=this._def.shape(),sf=x$1.objectKeys(s);return this._cached={shape:s,keys:sf}}_parse(s){if(this._getType(s)!==m$1.object){const rm=this._getOrReturnCtx(s);return p$3(rm,{code:f$2.invalid_type,expected:m$1.object,received:rm.parsedType}),v$2}const{status:sf,ctx:Nf}=this._processInputParams(s),{shape:ip,keys:em}=this._getCached(),tm=[];if(!(this._def.catchall instanceof X$2&&this._def.unknownKeys==="strip"))for(const rm in Nf.data)em.includes(rm)||tm.push(rm);const nm=[];for(const rm of em){const om=ip[rm],im=Nf.data[rm];nm.push({key:{status:"valid",value:rm},value:om._parse(new B$2(Nf,im,Nf.path,rm)),alwaysSet:rm in Nf.data})}if(this._def.catchall instanceof X$2){const rm=this._def.unknownKeys;if(rm==="passthrough")for(const om of tm)nm.push({key:{status:"valid",value:om},value:{status:"valid",value:Nf.data[om]}});else if(rm==="strict")tm.length>0&&(p$3(Nf,{code:f$2.unrecognized_keys,keys:tm}),sf.dirty());else if(rm!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const rm=this._def.catchall;for(const om of tm){const im=Nf.data[om];nm.push({key:{status:"valid",value:om},value:rm._parse(new B$2(Nf,im,Nf.path,om)),alwaysSet:om in Nf.data})}}return Nf.common.async?Promise.resolve().then(async()=>{const rm=[];for(const om of nm){const im=await om.key,am=await om.value;rm.push({key:im,value:am,alwaysSet:om.alwaysSet})}return rm}).then(rm=>N$3.mergeObjectSync(sf,rm)):N$3.mergeObjectSync(sf,nm)}get shape(){return this._def.shape()}strict(s){return g$2.errToObj,new Yg({...this._def,unknownKeys:"strict",...s!==void 0?{errorMap:(sf,Nf)=>{var ip,em,tm,nm;const rm=(tm=(em=(ip=this._def).errorMap)===null||em===void 0?void 0:em.call(ip,sf,Nf).message)!==null&&tm!==void 0?tm:Nf.defaultError;return sf.code==="unrecognized_keys"?{message:(nm=g$2.errToObj(s).message)!==null&&nm!==void 0?nm:rm}:{message:rm}}}:{}})}strip(){return new Yg({...this._def,unknownKeys:"strip"})}passthrough(){return new Yg({...this._def,unknownKeys:"passthrough"})}extend(s){return new Yg({...this._def,shape:()=>({...this._def.shape(),...s})})}merge(s){return new Yg({unknownKeys:s._def.unknownKeys,catchall:s._def.catchall,shape:()=>({...this._def.shape(),...s._def.shape()}),typeName:_$3.ZodObject})}setKey(s,sf){return this.augment({[s]:sf})}catchall(s){return new Yg({...this._def,catchall:s})}pick(s){const sf={};return x$1.objectKeys(s).forEach(Nf=>{s[Nf]&&this.shape[Nf]&&(sf[Nf]=this.shape[Nf])}),new Yg({...this._def,shape:()=>sf})}omit(s){const sf={};return x$1.objectKeys(this.shape).forEach(Nf=>{s[Nf]||(sf[Nf]=this.shape[Nf])}),new Yg({...this._def,shape:()=>sf})}deepPartial(){return pe$1(this)}partial(s){const sf={};return x$1.objectKeys(this.shape).forEach(Nf=>{const ip=this.shape[Nf];s&&!s[Nf]?sf[Nf]=ip:sf[Nf]=ip.optional()}),new Yg({...this._def,shape:()=>sf})}required(s){const sf={};return x$1.objectKeys(this.shape).forEach(Nf=>{if(s&&!s[Nf])sf[Nf]=this.shape[Nf];else{let ip=this.shape[Nf];for(;ip instanceof z$2;)ip=ip._def.innerType;sf[Nf]=ip}}),new Yg({...this._def,shape:()=>sf})}keyof(){return mn$1(x$1.objectKeys(this.shape))}};C$1.create=(r,s)=>new C$1({shape:()=>r,unknownKeys:"strip",catchall:X$2.create(),typeName:_$3.ZodObject,...b$1(s)});C$1.strictCreate=(r,s)=>new C$1({shape:()=>r,unknownKeys:"strict",catchall:X$2.create(),typeName:_$3.ZodObject,...b$1(s)});C$1.lazycreate=(r,s)=>new C$1({shape:r,unknownKeys:"strip",catchall:X$2.create(),typeName:_$3.ZodObject,...b$1(s)});let $e$2=class extends w$1{_parse(s){const{ctx:sf}=this._processInputParams(s),Nf=this._def.options;function ip(em){for(const nm of em)if(nm.result.status==="valid")return nm.result;for(const nm of em)if(nm.result.status==="dirty")return sf.common.issues.push(...nm.ctx.common.issues),nm.result;const tm=em.map(nm=>new L$4(nm.ctx.common.issues));return p$3(sf,{code:f$2.invalid_union,unionErrors:tm}),v$2}if(sf.common.async)return Promise.all(Nf.map(async em=>{const tm={...sf,common:{...sf.common,issues:[]},parent:null};return{result:await em._parseAsync({data:sf.data,path:sf.path,parent:tm}),ctx:tm}})).then(ip);{let em;const tm=[];for(const rm of Nf){const om={...sf,common:{...sf.common,issues:[]},parent:null},im=rm._parseSync({data:sf.data,path:sf.path,parent:om});if(im.status==="valid")return im;im.status==="dirty"&&!em&&(em={result:im,ctx:om}),om.common.issues.length&&tm.push(om.common.issues)}if(em)return sf.common.issues.push(...em.ctx.common.issues),em.result;const nm=tm.map(rm=>new L$4(rm));return p$3(sf,{code:f$2.invalid_union,unionErrors:nm}),v$2}}get options(){return this._def.options}};$e$2.create=(r,s)=>new $e$2({options:r,typeName:_$3.ZodUnion,...b$1(s)});const J$2=r=>r instanceof Ze$2?J$2(r.schema):r instanceof W$3?J$2(r.innerType()):r instanceof Ue$2?[r.value]:r instanceof te$2?r.options:r instanceof We$1?x$1.objectValues(r.enum):r instanceof qe$2?J$2(r._def.innerType):r instanceof je$1?[void 0]:r instanceof Le$1?[null]:r instanceof z$2?[void 0,...J$2(r.unwrap())]:r instanceof re$3?[null,...J$2(r.unwrap())]:r instanceof Yt$1||r instanceof Be$2?J$2(r.unwrap()):r instanceof ze$1?J$2(r._def.innerType):[];let ft$2=class e0 extends w$1{_parse(s){const{ctx:sf}=this._processInputParams(s);if(sf.parsedType!==m$1.object)return p$3(sf,{code:f$2.invalid_type,expected:m$1.object,received:sf.parsedType}),v$2;const Nf=this.discriminator,ip=sf.data[Nf],em=this.optionsMap.get(ip);return em?sf.common.async?em._parseAsync({data:sf.data,path:sf.path,parent:sf}):em._parseSync({data:sf.data,path:sf.path,parent:sf}):(p$3(sf,{code:f$2.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[Nf]}),v$2)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(s,sf,Nf){const ip=new Map;for(const em of sf){const tm=J$2(em.shape[s]);if(!tm.length)throw new Error(`A discriminator value for key \`${s}\` could not be extracted from all schema options`);for(const nm of tm){if(ip.has(nm))throw new Error(`Discriminator property ${String(s)} has duplicate value ${String(nm)}`);ip.set(nm,em)}}return new e0({typeName:_$3.ZodDiscriminatedUnion,discriminator:s,options:sf,optionsMap:ip,...b$1(Nf)})}};function It$2(r,s){const sf=Y$2(r),Nf=Y$2(s);if(r===s)return{valid:!0,data:r};if(sf===m$1.object&&Nf===m$1.object){const ip=x$1.objectKeys(s),em=x$1.objectKeys(r).filter(nm=>ip.indexOf(nm)!==-1),tm={...r,...s};for(const nm of em){const rm=It$2(r[nm],s[nm]);if(!rm.valid)return{valid:!1};tm[nm]=rm.data}return{valid:!0,data:tm}}else if(sf===m$1.array&&Nf===m$1.array){if(r.length!==s.length)return{valid:!1};const ip=[];for(let em=0;em<r.length;em++){const tm=r[em],nm=s[em],rm=It$2(tm,nm);if(!rm.valid)return{valid:!1};ip.push(rm.data)}return{valid:!0,data:ip}}else return sf===m$1.date&&Nf===m$1.date&&+r==+s?{valid:!0,data:r}:{valid:!1}}let Me$2=class extends w$1{_parse(s){const{status:sf,ctx:Nf}=this._processInputParams(s),ip=(em,tm)=>{if(At$2(em)||At$2(tm))return v$2;const nm=It$2(em.value,tm.value);return nm.valid?((Nt$2(em)||Nt$2(tm))&&sf.dirty(),{status:sf.value,value:nm.data}):(p$3(Nf,{code:f$2.invalid_intersection_types}),v$2)};return Nf.common.async?Promise.all([this._def.left._parseAsync({data:Nf.data,path:Nf.path,parent:Nf}),this._def.right._parseAsync({data:Nf.data,path:Nf.path,parent:Nf})]).then(([em,tm])=>ip(em,tm)):ip(this._def.left._parseSync({data:Nf.data,path:Nf.path,parent:Nf}),this._def.right._parseSync({data:Nf.data,path:Nf.path,parent:Nf}))}};Me$2.create=(r,s,sf)=>new Me$2({left:r,right:s,typeName:_$3.ZodIntersection,...b$1(sf)});let V$2=class t0 extends w$1{_parse(s){const{status:sf,ctx:Nf}=this._processInputParams(s);if(Nf.parsedType!==m$1.array)return p$3(Nf,{code:f$2.invalid_type,expected:m$1.array,received:Nf.parsedType}),v$2;if(Nf.data.length<this._def.items.length)return p$3(Nf,{code:f$2.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),v$2;!this._def.rest&&Nf.data.length>this._def.items.length&&(p$3(Nf,{code:f$2.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),sf.dirty());const ip=[...Nf.data].map((em,tm)=>{const nm=this._def.items[tm]||this._def.rest;return nm?nm._parse(new B$2(Nf,em,Nf.path,tm)):null}).filter(em=>!!em);return Nf.common.async?Promise.all(ip).then(em=>N$3.mergeArray(sf,em)):N$3.mergeArray(sf,ip)}get items(){return this._def.items}rest(s){return new t0({...this._def,rest:s})}};V$2.create=(r,s)=>{if(!Array.isArray(r))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new V$2({items:r,typeName:_$3.ZodTuple,rest:null,...b$1(s)})};let De$2=class Dy extends w$1{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(s){const{status:sf,ctx:Nf}=this._processInputParams(s);if(Nf.parsedType!==m$1.object)return p$3(Nf,{code:f$2.invalid_type,expected:m$1.object,received:Nf.parsedType}),v$2;const ip=[],em=this._def.keyType,tm=this._def.valueType;for(const nm in Nf.data)ip.push({key:em._parse(new B$2(Nf,nm,Nf.path,nm)),value:tm._parse(new B$2(Nf,Nf.data[nm],Nf.path,nm)),alwaysSet:nm in Nf.data});return Nf.common.async?N$3.mergeObjectAsync(sf,ip):N$3.mergeObjectSync(sf,ip)}get element(){return this._def.valueType}static create(s,sf,Nf){return sf instanceof w$1?new Dy({keyType:s,valueType:sf,typeName:_$3.ZodRecord,...b$1(Nf)}):new Dy({keyType:Z$1.create(),valueType:s,typeName:_$3.ZodRecord,...b$1(sf)})}},tt$2=class extends w$1{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(s){const{status:sf,ctx:Nf}=this._processInputParams(s);if(Nf.parsedType!==m$1.map)return p$3(Nf,{code:f$2.invalid_type,expected:m$1.map,received:Nf.parsedType}),v$2;const ip=this._def.keyType,em=this._def.valueType,tm=[...Nf.data.entries()].map(([nm,rm],om)=>({key:ip._parse(new B$2(Nf,nm,Nf.path,[om,"key"])),value:em._parse(new B$2(Nf,rm,Nf.path,[om,"value"]))}));if(Nf.common.async){const nm=new Map;return Promise.resolve().then(async()=>{for(const rm of tm){const om=await rm.key,im=await rm.value;if(om.status==="aborted"||im.status==="aborted")return v$2;(om.status==="dirty"||im.status==="dirty")&&sf.dirty(),nm.set(om.value,im.value)}return{status:sf.value,value:nm}})}else{const nm=new Map;for(const rm of tm){const om=rm.key,im=rm.value;if(om.status==="aborted"||im.status==="aborted")return v$2;(om.status==="dirty"||im.status==="dirty")&&sf.dirty(),nm.set(om.value,im.value)}return{status:sf.value,value:nm}}}};tt$2.create=(r,s,sf)=>new tt$2({valueType:s,keyType:r,typeName:_$3.ZodMap,...b$1(sf)});let ue$2=class By extends w$1{_parse(s){const{status:sf,ctx:Nf}=this._processInputParams(s);if(Nf.parsedType!==m$1.set)return p$3(Nf,{code:f$2.invalid_type,expected:m$1.set,received:Nf.parsedType}),v$2;const ip=this._def;ip.minSize!==null&&Nf.data.size<ip.minSize.value&&(p$3(Nf,{code:f$2.too_small,minimum:ip.minSize.value,type:"set",inclusive:!0,exact:!1,message:ip.minSize.message}),sf.dirty()),ip.maxSize!==null&&Nf.data.size>ip.maxSize.value&&(p$3(Nf,{code:f$2.too_big,maximum:ip.maxSize.value,type:"set",inclusive:!0,exact:!1,message:ip.maxSize.message}),sf.dirty());const em=this._def.valueType;function tm(rm){const om=new Set;for(const im of rm){if(im.status==="aborted")return v$2;im.status==="dirty"&&sf.dirty(),om.add(im.value)}return{status:sf.value,value:om}}const nm=[...Nf.data.values()].map((rm,om)=>em._parse(new B$2(Nf,rm,Nf.path,om)));return Nf.common.async?Promise.all(nm).then(rm=>tm(rm)):tm(nm)}min(s,sf){return new By({...this._def,minSize:{value:s,message:g$2.toString(sf)}})}max(s,sf){return new By({...this._def,maxSize:{value:s,message:g$2.toString(sf)}})}size(s,sf){return this.min(s,sf).max(s,sf)}nonempty(s){return this.min(1,s)}};ue$2.create=(r,s)=>new ue$2({valueType:r,minSize:null,maxSize:null,typeName:_$3.ZodSet,...b$1(s)});let me$2=class dy extends w$1{constructor(){super(...arguments),this.validate=this.implement}_parse(s){const{ctx:sf}=this._processInputParams(s);if(sf.parsedType!==m$1.function)return p$3(sf,{code:f$2.invalid_type,expected:m$1.function,received:sf.parsedType}),v$2;function Nf(nm,rm){return Xe$2({data:nm,path:sf.path,errorMaps:[sf.common.contextualErrorMap,sf.schemaErrorMap,Ye$2(),ge$2].filter(om=>!!om),issueData:{code:f$2.invalid_arguments,argumentsError:rm}})}function ip(nm,rm){return Xe$2({data:nm,path:sf.path,errorMaps:[sf.common.contextualErrorMap,sf.schemaErrorMap,Ye$2(),ge$2].filter(om=>!!om),issueData:{code:f$2.invalid_return_type,returnTypeError:rm}})}const em={errorMap:sf.common.contextualErrorMap},tm=sf.data;if(this._def.returns instanceof ve$2){const nm=this;return I$2(async function(...rm){const om=new L$4([]),im=await nm._def.args.parseAsync(rm,em).catch(sm=>{throw om.addIssue(Nf(rm,sm)),om}),am=await Reflect.apply(tm,this,im);return await nm._def.returns._def.type.parseAsync(am,em).catch(sm=>{throw om.addIssue(ip(am,sm)),om})})}else{const nm=this;return I$2(function(...rm){const om=nm._def.args.safeParse(rm,em);if(!om.success)throw new L$4([Nf(rm,om.error)]);const im=Reflect.apply(tm,this,om.data),am=nm._def.returns.safeParse(im,em);if(!am.success)throw new L$4([ip(im,am.error)]);return am.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...s){return new dy({...this._def,args:V$2.create(s).rest(ie$2.create())})}returns(s){return new dy({...this._def,returns:s})}implement(s){return this.parse(s)}strictImplement(s){return this.parse(s)}static create(s,sf,Nf){return new dy({args:s||V$2.create([]).rest(ie$2.create()),returns:sf||ie$2.create(),typeName:_$3.ZodFunction,...b$1(Nf)})}},Ze$2=class extends w$1{get schema(){return this._def.getter()}_parse(s){const{ctx:sf}=this._processInputParams(s);return this._def.getter()._parse({data:sf.data,path:sf.path,parent:sf})}};Ze$2.create=(r,s)=>new Ze$2({getter:r,typeName:_$3.ZodLazy,...b$1(s)});let Ue$2=class extends w$1{_parse(s){if(s.data!==this._def.value){const sf=this._getOrReturnCtx(s);return p$3(sf,{received:sf.data,code:f$2.invalid_literal,expected:this._def.value}),v$2}return{status:"valid",value:s.data}}get value(){return this._def.value}};Ue$2.create=(r,s)=>new Ue$2({value:r,typeName:_$3.ZodLiteral,...b$1(s)});function mn$1(r,s){return new te$2({values:r,typeName:_$3.ZodEnum,...b$1(s)})}let te$2=class Ly extends w$1{constructor(){super(...arguments),Re$2.set(this,void 0)}_parse(s){if(typeof s.data!="string"){const sf=this._getOrReturnCtx(s),Nf=this._def.values;return p$3(sf,{expected:x$1.joinValues(Nf),received:sf.parsedType,code:f$2.invalid_type}),v$2}if(Qe$2(this,Re$2)||dn$1(this,Re$2,new Set(this._def.values)),!Qe$2(this,Re$2).has(s.data)){const sf=this._getOrReturnCtx(s),Nf=this._def.values;return p$3(sf,{received:sf.data,code:f$2.invalid_enum_value,options:Nf}),v$2}return I$2(s.data)}get options(){return this._def.values}get enum(){const s={};for(const sf of this._def.values)s[sf]=sf;return s}get Values(){const s={};for(const sf of this._def.values)s[sf]=sf;return s}get Enum(){const s={};for(const sf of this._def.values)s[sf]=sf;return s}extract(s,sf=this._def){return Ly.create(s,{...this._def,...sf})}exclude(s,sf=this._def){return Ly.create(this.options.filter(Nf=>!s.includes(Nf)),{...this._def,...sf})}};Re$2=new WeakMap;te$2.create=mn$1;let We$1=class extends w$1{constructor(){super(...arguments),Oe$2.set(this,void 0)}_parse(s){const sf=x$1.getValidEnumValues(this._def.values),Nf=this._getOrReturnCtx(s);if(Nf.parsedType!==m$1.string&&Nf.parsedType!==m$1.number){const ip=x$1.objectValues(sf);return p$3(Nf,{expected:x$1.joinValues(ip),received:Nf.parsedType,code:f$2.invalid_type}),v$2}if(Qe$2(this,Oe$2)||dn$1(this,Oe$2,new Set(x$1.getValidEnumValues(this._def.values))),!Qe$2(this,Oe$2).has(s.data)){const ip=x$1.objectValues(sf);return p$3(Nf,{received:Nf.data,code:f$2.invalid_enum_value,options:ip}),v$2}return I$2(s.data)}get enum(){return this._def.values}};Oe$2=new WeakMap;We$1.create=(r,s)=>new We$1({values:r,typeName:_$3.ZodNativeEnum,...b$1(s)});let ve$2=class extends w$1{unwrap(){return this._def.type}_parse(s){const{ctx:sf}=this._processInputParams(s);if(sf.parsedType!==m$1.promise&&sf.common.async===!1)return p$3(sf,{code:f$2.invalid_type,expected:m$1.promise,received:sf.parsedType}),v$2;const Nf=sf.parsedType===m$1.promise?sf.data:Promise.resolve(sf.data);return I$2(Nf.then(ip=>this._def.type.parseAsync(ip,{path:sf.path,errorMap:sf.common.contextualErrorMap})))}};ve$2.create=(r,s)=>new ve$2({type:r,typeName:_$3.ZodPromise,...b$1(s)});let W$3=class extends w$1{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===_$3.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(s){const{status:sf,ctx:Nf}=this._processInputParams(s),ip=this._def.effect||null,em={addIssue:tm=>{p$3(Nf,tm),tm.fatal?sf.abort():sf.dirty()},get path(){return Nf.path}};if(em.addIssue=em.addIssue.bind(em),ip.type==="preprocess"){const tm=ip.transform(Nf.data,em);if(Nf.common.async)return Promise.resolve(tm).then(async nm=>{if(sf.value==="aborted")return v$2;const rm=await this._def.schema._parseAsync({data:nm,path:Nf.path,parent:Nf});return rm.status==="aborted"?v$2:rm.status==="dirty"||sf.value==="dirty"?he$2(rm.value):rm});{if(sf.value==="aborted")return v$2;const nm=this._def.schema._parseSync({data:tm,path:Nf.path,parent:Nf});return nm.status==="aborted"?v$2:nm.status==="dirty"||sf.value==="dirty"?he$2(nm.value):nm}}if(ip.type==="refinement"){const tm=nm=>{const rm=ip.refinement(nm,em);if(Nf.common.async)return Promise.resolve(rm);if(rm instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return nm};if(Nf.common.async===!1){const nm=this._def.schema._parseSync({data:Nf.data,path:Nf.path,parent:Nf});return nm.status==="aborted"?v$2:(nm.status==="dirty"&&sf.dirty(),tm(nm.value),{status:sf.value,value:nm.value})}else return this._def.schema._parseAsync({data:Nf.data,path:Nf.path,parent:Nf}).then(nm=>nm.status==="aborted"?v$2:(nm.status==="dirty"&&sf.dirty(),tm(nm.value).then(()=>({status:sf.value,value:nm.value}))))}if(ip.type==="transform")if(Nf.common.async===!1){const tm=this._def.schema._parseSync({data:Nf.data,path:Nf.path,parent:Nf});if(!oe$1(tm))return tm;const nm=ip.transform(tm.value,em);if(nm instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:sf.value,value:nm}}else return this._def.schema._parseAsync({data:Nf.data,path:Nf.path,parent:Nf}).then(tm=>oe$1(tm)?Promise.resolve(ip.transform(tm.value,em)).then(nm=>({status:sf.value,value:nm})):tm);x$1.assertNever(ip)}};W$3.create=(r,s,sf)=>new W$3({schema:r,typeName:_$3.ZodEffects,effect:s,...b$1(sf)});W$3.createWithPreprocess=(r,s,sf)=>new W$3({schema:s,effect:{type:"preprocess",transform:r},typeName:_$3.ZodEffects,...b$1(sf)});let z$2=class extends w$1{_parse(s){return this._getType(s)===m$1.undefined?I$2(void 0):this._def.innerType._parse(s)}unwrap(){return this._def.innerType}};z$2.create=(r,s)=>new z$2({innerType:r,typeName:_$3.ZodOptional,...b$1(s)});let re$3=class extends w$1{_parse(s){return this._getType(s)===m$1.null?I$2(null):this._def.innerType._parse(s)}unwrap(){return this._def.innerType}};re$3.create=(r,s)=>new re$3({innerType:r,typeName:_$3.ZodNullable,...b$1(s)});let qe$2=class extends w$1{_parse(s){const{ctx:sf}=this._processInputParams(s);let Nf=sf.data;return sf.parsedType===m$1.undefined&&(Nf=this._def.defaultValue()),this._def.innerType._parse({data:Nf,path:sf.path,parent:sf})}removeDefault(){return this._def.innerType}};qe$2.create=(r,s)=>new qe$2({innerType:r,typeName:_$3.ZodDefault,defaultValue:typeof s.default=="function"?s.default:()=>s.default,...b$1(s)});let ze$1=class extends w$1{_parse(s){const{ctx:sf}=this._processInputParams(s),Nf={...sf,common:{...sf.common,issues:[]}},ip=this._def.innerType._parse({data:Nf.data,path:Nf.path,parent:{...Nf}});return Ne$2(ip)?ip.then(em=>({status:"valid",value:em.status==="valid"?em.value:this._def.catchValue({get error(){return new L$4(Nf.common.issues)},input:Nf.data})})):{status:"valid",value:ip.status==="valid"?ip.value:this._def.catchValue({get error(){return new L$4(Nf.common.issues)},input:Nf.data})}}removeCatch(){return this._def.innerType}};ze$1.create=(r,s)=>new ze$1({innerType:r,typeName:_$3.ZodCatch,catchValue:typeof s.catch=="function"?s.catch:()=>s.catch,...b$1(s)});let rt$2=class extends w$1{_parse(s){if(this._getType(s)!==m$1.nan){const sf=this._getOrReturnCtx(s);return p$3(sf,{code:f$2.invalid_type,expected:m$1.nan,received:sf.parsedType}),v$2}return{status:"valid",value:s.data}}};rt$2.create=r=>new rt$2({typeName:_$3.ZodNaN,...b$1(r)});const hi$1=Symbol("zod_brand");let Yt$1=class extends w$1{_parse(s){const{ctx:sf}=this._processInputParams(s),Nf=sf.data;return this._def.type._parse({data:Nf,path:sf.path,parent:sf})}unwrap(){return this._def.type}},Fe$2=class n0 extends w$1{_parse(s){const{status:sf,ctx:Nf}=this._processInputParams(s);if(Nf.common.async)return(async()=>{const ip=await this._def.in._parseAsync({data:Nf.data,path:Nf.path,parent:Nf});return ip.status==="aborted"?v$2:ip.status==="dirty"?(sf.dirty(),he$2(ip.value)):this._def.out._parseAsync({data:ip.value,path:Nf.path,parent:Nf})})();{const ip=this._def.in._parseSync({data:Nf.data,path:Nf.path,parent:Nf});return ip.status==="aborted"?v$2:ip.status==="dirty"?(sf.dirty(),{status:"dirty",value:ip.value}):this._def.out._parseSync({data:ip.value,path:Nf.path,parent:Nf})}}static create(s,sf){return new n0({in:s,out:sf,typeName:_$3.ZodPipeline})}},Be$2=class extends w$1{_parse(s){const sf=this._def.innerType._parse(s),Nf=ip=>(oe$1(ip)&&(ip.value=Object.freeze(ip.value)),ip);return Ne$2(sf)?sf.then(ip=>Nf(ip)):Nf(sf)}unwrap(){return this._def.innerType}};Be$2.create=(r,s)=>new Be$2({innerType:r,typeName:_$3.ZodReadonly,...b$1(s)});function yn$1(r,s={},sf){return r?_e$2.create().superRefine((Nf,ip)=>{var em,tm;if(!r(Nf)){const nm=typeof s=="function"?s(Nf):typeof s=="string"?{message:s}:s,rm=(tm=(em=nm.fatal)!==null&&em!==void 0?em:sf)!==null&&tm!==void 0?tm:!0,om=typeof nm=="string"?{message:nm}:nm;ip.addIssue({code:"custom",...om,fatal:rm})}}):_e$2.create()}const mi$1={object:C$1.lazycreate};var _$3;(function(r){r.ZodString="ZodString",r.ZodNumber="ZodNumber",r.ZodNaN="ZodNaN",r.ZodBigInt="ZodBigInt",r.ZodBoolean="ZodBoolean",r.ZodDate="ZodDate",r.ZodSymbol="ZodSymbol",r.ZodUndefined="ZodUndefined",r.ZodNull="ZodNull",r.ZodAny="ZodAny",r.ZodUnknown="ZodUnknown",r.ZodNever="ZodNever",r.ZodVoid="ZodVoid",r.ZodArray="ZodArray",r.ZodObject="ZodObject",r.ZodUnion="ZodUnion",r.ZodDiscriminatedUnion="ZodDiscriminatedUnion",r.ZodIntersection="ZodIntersection",r.ZodTuple="ZodTuple",r.ZodRecord="ZodRecord",r.ZodMap="ZodMap",r.ZodSet="ZodSet",r.ZodFunction="ZodFunction",r.ZodLazy="ZodLazy",r.ZodLiteral="ZodLiteral",r.ZodEnum="ZodEnum",r.ZodEffects="ZodEffects",r.ZodNativeEnum="ZodNativeEnum",r.ZodOptional="ZodOptional",r.ZodNullable="ZodNullable",r.ZodDefault="ZodDefault",r.ZodCatch="ZodCatch",r.ZodPromise="ZodPromise",r.ZodBranded="ZodBranded",r.ZodPipeline="ZodPipeline",r.ZodReadonly="ZodReadonly"})(_$3||(_$3={}));const yi$1=(r,s={message:`Input not instance of ${r.name}`})=>yn$1(sf=>sf instanceof r,s),gn$1=Z$1.create,_n$1=K$2.create,gi$1=rt$2.create,_i$1=ee$1.create,vn$1=Ie$2.create,vi$1=ce$2.create,bi$1=Ke$2.create,wi$1=je$1.create,xi$1=Le$1.create,ki$1=_e$2.create,Ti$1=ie$2.create,Ei$1=X$2.create,Ci$1=et$2.create,Ri$1=U$4.create,Oi$1=C$1.create,Si$1=C$1.strictCreate,Pi$1=$e$2.create,Ai$1=ft$2.create,Ni$1=Me$2.create,Ii$1=V$2.create,ji$1=De$2.create,Li$1=tt$2.create,$i$1=ue$2.create,Mi$1=me$2.create,Di$1=Ze$2.create,Zi$1=Ue$2.create,Ui$1=te$2.create,Wi$1=We$1.create,qi$1=ve$2.create,vr$1=W$3.create,zi$1=z$2.create,Bi$1=re$3.create,Vi$1=W$3.createWithPreprocess,Fi$1=Fe$2.create,Hi$1=()=>gn$1().optional(),Gi$1=()=>_n$1().optional(),Ji$1=()=>vn$1().optional(),Yi$1={string:r=>Z$1.create({...r,coerce:!0}),number:r=>K$2.create({...r,coerce:!0}),boolean:r=>Ie$2.create({...r,coerce:!0}),bigint:r=>ee$1.create({...r,coerce:!0}),date:r=>ce$2.create({...r,coerce:!0})},Xi$1=v$2;var l$4=Object.freeze({__proto__:null,defaultErrorMap:ge$2,setErrorMap:Va$1,getErrorMap:Ye$2,makeIssue:Xe$2,EMPTY_PATH:Fa$1,addIssueToContext:p$3,ParseStatus:N$3,INVALID:v$2,DIRTY:he$2,OK:I$2,isAborted:At$2,isDirty:Nt$2,isValid:oe$1,isAsync:Ne$2,get util(){return x$1},get objectUtil(){return Pt$2},ZodParsedType:m$1,getParsedType:Y$2,ZodType:w$1,datetimeRegex:hn$1,ZodString:Z$1,ZodNumber:K$2,ZodBigInt:ee$1,ZodBoolean:Ie$2,ZodDate:ce$2,ZodSymbol:Ke$2,ZodUndefined:je$1,ZodNull:Le$1,ZodAny:_e$2,ZodUnknown:ie$2,ZodNever:X$2,ZodVoid:et$2,ZodArray:U$4,ZodObject:C$1,ZodUnion:$e$2,ZodDiscriminatedUnion:ft$2,ZodIntersection:Me$2,ZodTuple:V$2,ZodRecord:De$2,ZodMap:tt$2,ZodSet:ue$2,ZodFunction:me$2,ZodLazy:Ze$2,ZodLiteral:Ue$2,ZodEnum:te$2,ZodNativeEnum:We$1,ZodPromise:ve$2,ZodEffects:W$3,ZodTransformer:W$3,ZodOptional:z$2,ZodNullable:re$3,ZodDefault:qe$2,ZodCatch:ze$1,ZodNaN:rt$2,BRAND:hi$1,ZodBranded:Yt$1,ZodPipeline:Fe$2,ZodReadonly:Be$2,custom:yn$1,Schema:w$1,ZodSchema:w$1,late:mi$1,get ZodFirstPartyTypeKind(){return _$3},coerce:Yi$1,any:ki$1,array:Ri$1,bigint:_i$1,boolean:vn$1,date:vi$1,discriminatedUnion:Ai$1,effect:vr$1,enum:Ui$1,function:Mi$1,instanceof:yi$1,intersection:Ni$1,lazy:Di$1,literal:Zi$1,map:Li$1,nan:gi$1,nativeEnum:Wi$1,never:Ei$1,null:xi$1,nullable:Bi$1,number:_n$1,object:Oi$1,oboolean:Ji$1,onumber:Gi$1,optional:zi$1,ostring:Hi$1,pipeline:Fi$1,preprocess:Vi$1,promise:qi$1,record:ji$1,set:$i$1,strictObject:Si$1,string:gn$1,symbol:bi$1,transformer:vr$1,tuple:Ii$1,undefined:wi$1,union:Pi$1,unknown:Ti$1,void:Ci$1,NEVER:Xi$1,ZodIssueCode:f$2,quotelessJson:Ba$1,ZodError:L$4});const bn$3=/^0x[0-9a-f]+$/i,wn$1=/^\d+$/,Qi$1=l$4.string().min(1,"The short string cannot be empty").max(31,"The short string cannot exceed 31 characters").refine(r=>!bn$3.test(r),"The shortString should not be a hex string").refine(r=>!wn$1.test(r),"The shortString should not be an integer string"),M$2=l$4.union([l$4.string().regex(bn$3,"Only hex, integers and bigint are supported in calldata"),l$4.string().regex(wn$1,"Only hex, integers and bigint are supported in calldata"),Qi$1,l$4.number().int("Only hex, integers and bigint are supported in calldata"),l$4.bigint()]),Ve$2=l$4.object({contractAddress:l$4.string(),entrypoint:l$4.string(),calldata:l$4.array(M$2.or(l$4.array(M$2))).optional()}),jt$2=l$4.array(Ve$2).nonempty(),xn$1=l$4.object({types:l$4.record(l$4.array(l$4.union([l$4.object({name:l$4.string(),type:l$4.literal("merkletree"),contains:l$4.string()}),l$4.object({name:l$4.string(),type:l$4.literal("enum"),contains:l$4.string()}),l$4.object({name:l$4.string(),type:l$4.string()})]))),primaryType:l$4.string(),domain:l$4.record(l$4.unknown()),message:l$4.record(l$4.unknown()).or(l$4.object({}))}),Lt$2=l$4.object({type:l$4.literal("ERC20"),options:l$4.object({address:l$4.string(),symbol:l$4.string().optional(),decimals:l$4.number().optional(),image:l$4.string().optional(),name:l$4.string().optional()})}),Ki$1=l$4.union([l$4.object({id:l$4.string(),chain_id:l$4.string(),chain_name:l$4.string(),rpc_urls:l$4.array(l$4.string()).optional(),native_currency:Lt$2.optional(),block_explorer_url:l$4.array(l$4.string()).optional()}),l$4.object({id:l$4.string(),chainId:l$4.string(),chainName:l$4.string(),rpcUrls:l$4.array(l$4.string()).optional(),nativeCurrency:Lt$2.optional(),blockExplorerUrl:l$4.array(l$4.string()).optional()}).transform(r=>({id:r.id,chain_id:r.chainId,chain_name:r.chainName,rpc_urls:r.rpcUrls,native_currency:r.nativeCurrency,block_explorer_url:r.blockExplorerUrl}))]),kt$2={enable:l$4.tuple([l$4.object({starknetVersion:l$4.union([l$4.literal("v3"),l$4.literal("v4"),l$4.literal("v5")]).optional()}).optional()]).or(l$4.tuple([])),addStarknetChain:l$4.tuple([Ki$1]),switchStarknetChain:l$4.tuple([l$4.object({chainId:l$4.string()})]),watchAsset:l$4.tuple([Lt$2]),requestAccounts:l$4.tuple([l$4.object({silent_mode:l$4.boolean().optional()})]),execute:l$4.tuple([jt$2.or(Ve$2),l$4.object({nonce:M$2.optional(),maxFee:M$2.optional(),version:M$2.optional()}).optional()]),signMessage:l$4.tuple([xn$1])};l$4.tuple([jt$2.or(Ve$2),l$4.object({nonce:M$2.optional(),maxFee:M$2.optional(),version:M$2.optional()}).optional()]).or(l$4.tuple([jt$2.or(Ve$2),l$4.array(l$4.any()).optional(),l$4.object({nonce:M$2.optional(),maxFee:M$2.optional(),version:M$2.optional()}).optional()]));const kn$1=l$4.object({contract_address:l$4.string(),entry_point:l$4.string(),calldata:l$4.array(M$2).optional()}).transform(({contract_address:r,entry_point:s,calldata:sf})=>({contractAddress:r,entrypoint:s,calldata:sf||[]})),eo$1=l$4.array(kn$1).nonempty(),to$1={ZERO:0,ONE:1},ro$1=l$4.object({address:l$4.string(),class_hash:l$4.string(),salt:l$4.string(),calldata:l$4.array(l$4.string()),sigdata:l$4.array(l$4.string()).optional(),version:l$4.nativeEnum(to$1)}),no$1=l$4.object({callbackData:l$4.string().optional(),approvalRequests:l$4.array(l$4.object({tokenAddress:l$4.string(),amount:l$4.string(),spender:l$4.string()})),sessionTypedData:xn$1}),so$1=l$4.object({account:l$4.string().array().optional(),chainId:l$4.string().optional(),signature:l$4.string().array().optional(),approvalTransactionHash:l$4.string().optional(),deploymentPayload:l$4.any().optional(),approvalRequestsCalls:l$4.array(Ve$2).optional(),errorCode:l$4.enum(["USER_REJECTED","ACCOUNT_NOT_DEPLOYED","NOT_ENOUGH_BALANCE","NOT_ENOUGH_BALANCE_DEPLOYMENT","GENERIC_ERROR"]).optional()}),O$4=Ps$1.create({isServer:!1,allowOutsideOfServer:!0});let $t$1=Tr$1,Mt$2="",Tn$1="";const Dt$1=({width:r=775,height:s=385,origin:sf,location:Nf,atLeftBottom:ip=!1})=>{const em=window?.outerWidth??window?.innerWidth??window?.screen.width??0,tm=window?.outerHeight??window?.innerHeight??window?.screen.height??0,nm=window?.screenLeft??window?.screenX??0,rm=window?.screenTop??window?.screenY??0,om=ip?0:nm+em/2-r/2,im=ip?window.screen.availHeight+10:rm+tm/2-s/2;$t$1=sf??$t$1,Mt$2=Nf??Mt$2,Tn$1=`width=${r},height=${s},top=${im},left=${om},toolbar=no,menubar=no,scrollbars=no,location=no,status=no,popup=1`};O$4.router({authorize:O$4.procedure.output(l$4.boolean()).mutation(async()=>!0),connect:O$4.procedure.mutation(async()=>""),connectWebwallet:O$4.procedure.input(l$4.object({theme:l$4.enum(["light","dark","auto"]).optional()})).output(l$4.object({account:l$4.string().array().optional(),chainId:l$4.string().optional()})).mutation(async()=>({})),connectWebwalletSSO:O$4.procedure.input(l$4.object({token:l$4.string(),authorizedPartyId:l$4.string().optional()})).output(l$4.object({account:l$4.string().array().optional(),chainId:l$4.string().optional()})).mutation(async()=>({})),connectAndSignSession:O$4.procedure.input(no$1).output(so$1).mutation(async()=>({})),enable:O$4.procedure.output(l$4.string()).mutation(async()=>""),execute:O$4.procedure.input(kt$2.execute).output(l$4.string()).mutation(async()=>""),signMessage:O$4.procedure.input(kt$2.signMessage).output(l$4.string().array()).mutation(async()=>[]),getLoginStatus:O$4.procedure.output(l$4.object({isLoggedIn:l$4.boolean(),hasSession:l$4.boolean().optional(),isPreauthorized:l$4.boolean().optional()})).mutation(async()=>({isLoggedIn:!0})),requestAccounts:O$4.procedure.input(l$4.object({silent_mode:l$4.boolean().optional()})).output(l$4.string().array()).mutation(async()=>[]),requestChainId:O$4.procedure.output(l$4.string()).mutation(async()=>""),signTypedData:O$4.procedure.input(kt$2.signMessage).output(l$4.string().array()).mutation(async()=>[]),getPermissions:O$4.procedure.output(l$4.array(l$4.enum([T$3.ACCOUNTS]))).mutation(async()=>[T$3.ACCOUNTS]),addInvokeTransaction:O$4.procedure.input(kn$1.or(eo$1)).output(l$4.string()).mutation(async r=>""),addStarknetChain:O$4.procedure.mutation(r=>{throw Error("not implemented")}),switchStarknetChain:O$4.procedure.mutation(r=>{throw Error("not implemented")}),watchAsset:O$4.procedure.mutation(r=>{throw Error("not implemented")}),updateModal:O$4.procedure.subscription(async()=>{}),deploymentData:O$4.procedure.output(ro$1).mutation(async()=>({address:"",calldata:[],version:0,class_hash:"",salt:""}))});const Tt$2=({iframe:r})=>ms$2({links:[ls$1({enabled:s=>process.env.NODE_ENV==="development"&&typeof window<"u"||process.env.NODE_ENV==="development"&&s.direction==="down"&&s.result instanceof Error}),Xn$1({condition(s){if(!r&&s.type==="subscription")throw new Error("subscription is not supported without an iframe window");return!!r},true:Rt$2.windowLink({window,postWindow:r,postOrigin:"*"}),false:Rt$2.popupLink({listenWindow:window,createPopup:()=>{let s=null;const sf=document.createElement("button");if(sf.style.display="none",sf.addEventListener("click",()=>{s=window.open(`${$t$1}${Mt$2}`,"popup",Tn$1)}),sf.click(),(async()=>{for(;!s;)await new Promise(Nf=>setTimeout(Nf,100))})(),!s)throw new Error("Could not open popup");return s},postOrigin:"*"})})]}),Ge$2=[],ao$1=(r,s)=>({...r,getLoginStatus:()=>s.getLoginStatus.mutate(),connectWebwallet:(sf={})=>{const{theme:Nf}=sf;return s.connectWebwallet.mutate({theme:Nf})},connectAndSignSession:sf=>s.connectAndSignSession.mutate(sf),connectWebwalletSSO:(sf,Nf)=>s.connectWebwalletSSO.mutate({token:sf,authorizedPartyId:Nf}),async request(sf){switch(sf.type){case"wallet_requestAccounts":return s.requestAccounts.mutate(sf.params);case"wallet_signTypedData":{const Nf=sf.params,ip=Nf?.primaryType==="Session"&&Nf?.domain.name==="SessionAccount.session";Dt$1({width:Wn$1,height:qn$1,location:ip?"/signSessionKeys":"/signMessage"});const em=Array.isArray(sf.params)?sf.params:[sf.params];return s.signTypedData.mutate(em)}case"wallet_getPermissions":return s.getPermissions.mutate();case"wallet_addInvokeTransaction":{const Nf=sf.params.calls;return Dt$1({width:Zn$1,height:Un$1,location:"/review"}),{transaction_hash:await s.addInvokeTransaction.mutate(Nf)}}case"wallet_requestChainId":return await s.requestChainId.mutate();case"wallet_addStarknetChain":return s.addStarknetChain.mutate(sf.params);case"wallet_switchStarknetChain":return s.switchStarknetChain.mutate(sf.params);case"wallet_watchAsset":return s.watchAsset.mutate();case"wallet_deploymentData":return s.deploymentData.mutate();default:throw new Error("not implemented")}},on:(sf,Nf)=>{if(sf==="accountsChanged")Ge$2.push({type:sf,handler:Nf});else if(sf==="networkChanged")Ge$2.push({type:sf,handler:Nf});else throw new Error(`Unknwown event: ${sf}`)},off:(sf,Nf)=>{if(sf!=="accountsChanged"&&sf!=="networkChanged")throw new Error(`Unknwown event: ${sf}`);const ip=Ge$2.findIndex(em=>em.type===sf&&em.handler===Nf);ip>=0&&Ge$2.splice(ip,1)}}),io$1=r=>{r.style.display="none",r.style.borderRadius="40px",r.style.inset="0",r.style.position="fixed",r.style.top="50%",r.style.left="50%",r.style.transform="translate(-50%, -50%)",r.style.backgroundColor="transparent",r.style.zIndex="999999",r.style.height=`${Bn$1}px`,r.style.width=`${zn$1}px`},oo$1=(r,s)=>{r.style.display="block",s.style.display="block"},co$1=(r,s)=>{r.style.display="none",s.style.display="none"},uo$1=(r,s,sf)=>{r.style.width=`${s}px`,r.style.height=`${sf}px`},br$1="argent-webwallet-iframe",lo$1=async(r,s)=>{const sf="argent-webwallet-backdrop",Nf=new URL(r);Nf.pathname="/iframes/comms",r=Nf.toString();const ip=document.createElement("iframe");ip.src=r,ip.loading="eager",ip.sandbox.add("allow-scripts","allow-same-origin","allow-forms","allow-top-navigation","allow-popups"),ip.allow="clipboard-write",ip.id=br$1,ip.setAttribute("allowtransparency","true"),ip.setAttribute("transparent","true"),io$1(ip),ip.style.display="none";const em=document.createElement("div");em.id=sf,em.style.position="fixed",em.style.inset="0",em.style.backgroundColor="rgba(0,0,0,0.5)",em.style.zIndex="999998",em.style.width="100dvw",em.style.height="100dvh",em.style.backdropFilter="blur(4px)";const tm=document.getElementById(br$1);return tm&&(tm.remove(),document.getElementById(sf)?.remove()),window.document.body.appendChild(ip),await new Promise((nm,rm)=>{const om=setTimeout(()=>rm(new Error("Timeout while loading an iframe")),2e4);ip.addEventListener("load",async()=>{clearTimeout(om),nm()})}),window.document.body.appendChild(em),{iframe:ip,backdrop:em}},Et$2=async(r,s,sf)=>{const Nf=typeof window<"u"?window:void 0;if(!Nf)throw new Error("window is not defined");const ip=ao$1({host:Nf.location.origin,id:"argentWebWallet",icon:"https://www.argent.xyz/favicon.ico",name:"Argent Web Wallet",version:"1.0.0"},s);if(sf){const{iframe:em,backdrop:tm}=sf;s.updateModal.subscribe(void 0,{onData(nm){switch(nm.action){case"show":oo$1(em,tm);break;case"hide":co$1(em,tm);break;case"updateSize":uo$1(em,nm.width,nm.height);break}}})}return ip},wr$1="allowed-dapps",fo$1=async r=>{const s=r===constants_exports.NetworkName.SN_MAIN?jn$1:In$1;try{const sf=await (await caches.open(wr$1)).match(s);if(sf){const nm=parseInt(sf.headers.get("X-Cache-Timestamp")??"0",10);if(((new Date).getTime()-nm)/(1e3*60*60)<24)return sf.json()}const Nf=await fetch(s),ip=new Headers(Nf.headers);ip.set("X-Cache-Timestamp",(new Date).getTime().toString());const em=await Nf.json(),tm=new Response(JSON.stringify(em),{status:Nf.status,statusText:Nf.statusText,headers:ip});return await (await caches.open(wr$1)).put(s,tm),em}catch(sf){throw new Error(sf)}},po$1=async r=>new Promise(s=>{if(!r)return s(!1);try{navigator.webkitTemporaryStorage.queryUsageAndQuota((sf,Nf)=>{s(Math.round(Nf/(1024*1024))<Math.round((performance?.memory?.jsHeapSizeLimit??0x40000000)/(1024*1024))*2)},()=>s(!1))}catch{s(!1)}}),ho$1=async r=>{const{userAgent:s}=navigator,sf=!!(navigator.vendor&&navigator.vendor.indexOf("Google")===0&&navigator.brave===void 0&&!s.match(/Edg/)&&!s.match(/OPR/)),Nf=await po$1(sf);if(!sf||Nf){const tm=Tt$2({});return await Et$2(r,tm,void 0)}const ip=Dn$1(r),{allowedDapps:em}=await fo$1(ip);if(em.includes(window.location.hostname)){const tm="argent-webwallet-backdrop",nm="argent-webwallet-iframe",rm=document.getElementById(tm),om=document.getElementById(nm);om&&om&&rm&&(om.remove(),rm.remove());const{iframe:im,backdrop:am}=await lo$1(r),sm=Tt$2({iframe:im.contentWindow??void 0});return await Et$2(r,sm,{iframe:im,backdrop:am})}else{const tm=Tt$2({});return await Et$2(r,tm,void 0)}},En$1="webwallet_logout";let D$2=null,ae$2=null,bo$1=class extends R$2{constructor(s={}){super(),Te$1(this,"_wallet",null),Te$1(this,"_options"),this._options=s}available(){return!0}async ready(){if(this._wallet||await this.ensureWallet(),this._wallet)try{return(await this._wallet.request({type:"wallet_getPermissions"})).includes(T$3.ACCOUNTS)}catch{return!1}else return this._wallet=null,ae$2=null,!1}get id(){return this._wallet=D$2,this._wallet?.id||"argentWebWallet"}get name(){return this._wallet=D$2,this._wallet?.name||"Argent Web Wallet"}get icon(){return{light:rr$1,dark:rr$1}}get wallet(){if(!this._wallet)throw new U$5;return this._wallet}get title(){return"Email"}get subtitle(){return"Powered by Argent"}async connectAndSignSession({callbackData:s,approvalRequests:sf,sessionTypedData:Nf}){if(this._wallet||await this.ensureWallet(),!this._wallet)throw new W$4;try{return await this._wallet.connectAndSignSession({callbackData:s,approvalRequests:sf,sessionTypedData:Nf,theme:this._options.theme})}catch(ip){if(ip instanceof Error&&(ip.constructor.name==="TRPCClientError"||ip.name==="TRPCClientError")){const em=ip,tm=em.shape.data.webwalletErrorMessage||em.message,nm=em.shape.data.webwalletErrorCode||em.shape.message;throw new Ln$1(tm,nm)}throw new Error(ip instanceof Error?ip.message:String(ip))}}async connect(s={}){if(this._wallet||await this.ensureWallet(),!this._wallet)throw new W$4;try{let sf,Nf;if(this._options.ssoToken){const em=await this._wallet.connectWebwalletSSO(this._options.ssoToken,this._options.authorizedPartyId);sf=em.account,Nf=em.chainId}else{const em=await this._wallet.connectWebwallet({theme:this._options.theme});sf=em.account,Nf=em.chainId}if(!sf||!Nf)return{};const ip=S$2(Nf);return ae$2=sf[0],{account:sf[0],chainId:BigInt(ip)}}catch{throw new q$4}}async request(s){if(this._wallet||await this.ensureWallet(),!this._wallet)throw new U$5;try{return await this._wallet.request(s)}catch(sf){if(sf instanceof Error&&(sf.constructor.name==="TRPCClientError"||sf.name==="TRPCClientError")){const Nf=sf,ip=Nf.shape.data.webwalletErrorMessage||Nf.message,em=Nf.shape.data.webwalletErrorCode||Nf.shape.message;throw em==="USER_LOGGED_OUT"&&(D$2=null,ae$2=null,this._wallet=null,document.dispatchEvent(new Event(En$1))),new $n$1(ip,em)}throw new q$4}}async disconnect(){if(!this.available()&&!this._wallet)throw new W$4;D$2=null,ae$2=null,this._wallet=D$2,M$3()}async account(s){if(this._wallet=D$2,!this._wallet)throw new U$5;if(!ae$2)throw new U$5;return new WalletAccount(s,this._wallet,void 0,ae$2)}async chainId(){if(!this._wallet)throw new U$5;const s=await this._wallet.request({type:"wallet_requestChainId"}),sf=S$2(s);return BigInt(sf)}async initEventListener(s){if(this._wallet=D$2,!this._wallet)throw new U$5;this._wallet.on("accountsChanged",s)}async removeEventListener(s){if(this._wallet=D$2,!this._wallet)throw new U$5;this._wallet.off("accountsChanged",s),D$2=null,ae$2=null,this._wallet=null}async ensureWallet(){const s=this._options.url||Tr$1;Dt$1({origin:s,location:"/interstitialLogin"}),D$2=await ho$1(s)??null,this._wallet=D$2}};var y$1=Object.defineProperty,O$3=(r,s,sf)=>s in r?y$1(r,s,{enumerable:!0,configurable:!0,writable:!0,value:sf}):r[s]=sf,i$3=(r,s,sf)=>(O$3(r,typeof s!="symbol"?s+"":s,sf),sf);const l$3="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiByeD0iOCIgZmlsbD0iYmxhY2siLz4KPHBhdGggZD0iTTE4LjQwMTggNy41NTU1NkgxMy41OTgyQzEzLjQzNzcgNy41NTU1NiAxMy4zMDkxIDcuNjg3NDcgMTMuMzA1NiA3Ljg1MTQzQzEzLjIwODUgMTIuNDYwMyAxMC44NDg0IDE2LjgzNDcgNi43ODYwOCAxOS45MzMxQzYuNjU3MTEgMjAuMDMxNCA2LjYyNzczIDIwLjIxNjIgNi43MjIwMiAyMC4zNDkzTDkuNTMyNTMgMjQuMzE5NkM5LjYyODE1IDI0LjQ1NDggOS44MTQ0NCAyNC40ODUzIDkuOTQ1NTggMjQuMzg2QzEyLjQ4NTYgMjIuNDYxMyAxNC41Mjg3IDIwLjEzOTUgMTYgMTcuNTY2QzE3LjQ3MTMgMjAuMTM5NSAxOS41MTQ1IDIyLjQ2MTMgMjIuMDU0NSAyNC4zODZDMjIuMTg1NiAyNC40ODUzIDIyLjM3MTkgMjQuNDU0OCAyMi40Njc2IDI0LjMxOTZMMjUuMjc4MSAyMC4zNDkzQzI1LjM3MjMgMjAuMjE2MiAyNS4zNDI5IDIwLjAzMTQgMjUuMjE0IDE5LjkzMzFDMjEuMTUxNiAxNi44MzQ3IDE4Ljc5MTUgMTIuNDYwMyAxOC42OTQ2IDcuODUxNDNDMTguNjkxMSA3LjY4NzQ3IDE4LjU2MjMgNy41NTU1NiAxOC40MDE4IDcuNTU1NTZaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMjQuNzIzNiAxMC40OTJMMjQuMjIzMSA4LjkyNDM5QzI0LjEyMTMgOC42MDYxNCAyMy44NzM0IDguMzU4MjQgMjMuNTU3NyA4LjI2MDIzTDIyLjAwMzkgNy43NzU5NUMyMS43ODk1IDcuNzA5MDYgMjEuNzg3MyA3LjQwMTc3IDIyLjAwMTEgNy4zMzIwMUwyMy41NDY5IDYuODI0NjZDMjMuODYwOSA2LjcyMTQ2IDI0LjEwNiA2LjQ2OTUyIDI0LjIwMjcgNi4xNTAxMUwyNC42Nzk4IDQuNTc1MDJDMjQuNzQ1OCA0LjM1NzA5IDI1LjA0ODkgNC4zNTQ3NyAyNS4xMTgzIDQuNTcxNTZMMjUuNjE4OCA2LjEzOTE1QzI1LjcyMDYgNi40NTc0IDI1Ljk2ODYgNi43MDUzMSAyNi4yODQyIDYuODAzOUwyNy44MzggNy4yODc2MUMyOC4wNTI0IDcuMzU0NSAyOC4wNTQ3IDcuNjYxNzkgMjcuODQwOCA3LjczMjEzTDI2LjI5NSA4LjIzOTQ4QzI1Ljk4MTEgOC4zNDIxIDI1LjczNiA4LjU5NDA0IDI1LjYzOTMgOC45MTQwMkwyNS4xNjIxIDEwLjQ4ODVDMjUuMDk2MSAxMC43MDY1IDI0Ljc5MyAxMC43MDg4IDI0LjcyMzYgMTAuNDkyWiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+Cg==",E$2="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAyNCAyNCIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZT0iYmxhY2siPgogIDxwYXRoIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgZD0iTTkuODc5IDcuNTE5YzEuMTcxLTEuMDI1IDMuMDcxLTEuMDI1IDQuMjQyIDAgMS4xNzIgMS4wMjUgMS4xNzIgMi42ODcgMCAzLjcxMi0uMjAzLjE3OS0uNDMuMzI2LS42Ny40NDItLjc0NS4zNjEtMS40NS45OTktMS40NSAxLjgyN3YuNzVNMjEgMTJhOSA5IDAgMTEtMTggMCA5IDkgMCAwMTE4IDB6bS05IDUuMjVoLjAwOHYuMDA4SDEydi0uMDA4eiIgLz4KPC9zdmc+",U$3="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAyNCAyNCIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZT0id2hpdGUiPgogIDxwYXRoIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgZD0iTTkuODc5IDcuNTE5YzEuMTcxLTEuMDI1IDMuMDcxLTEuMDI1IDQuMjQyIDAgMS4xNzIgMS4wMjUgMS4xNzIgMi42ODcgMCAzLjcxMi0uMjAzLjE3OS0uNDMuMzI2LS42Ny40NDItLjc0NS4zNjEtMS40NS45OTktMS40NSAxLjgyN3YuNzVNMjEgMTJhOSA5IDAgMTEtMTggMCA5IDkgMCAwMTE4IDB6bS05IDUuMjVoLjAwOHYuMDA4SDEydi0uMDA4eiIgLz4KPC9zdmc+Cg==",L$3={argentX:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI0LjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCA2NS4xOTUwOCA1Ny43MzU2MiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNjUuMTk1MDggNTcuNzM1NjI7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7ZmlsbDojRkY4NzVCO30KPC9zdHlsZT4KPHBhdGggY2xhc3M9InN0MCIgZD0iTTQwLjk4NTkyLDBIMjQuMjA4ODhjLTAuNTYsMC0xLjAxMDAxLDAuNDUxMDItMS4wMjE5NywxLjAxMjAyCgljLTAuMzM4OTksMTUuNzU1LTguNTgyMDMsMzAuNzA4OTgtMjIuNzcwMDIsNDEuMzAwOTljLTAuNDUwMDEsMC4zMzcwMS0wLjU1Mjk4LDAuOTY3OTktMC4yMjQsMS40MjNsOS44MTU5OCwxMy41NzMKCWMwLjMzNDA1LDAuNDYyMDEsMC45ODUwNSwwLjU2NTk4LDEuNDQyOTksMC4yMjY5OWM4Ljg3MTAzLTYuNTc5MDEsMTYuMDA3MDItMTQuNTE3LDIxLjE0NjA2LTIzLjMxNQoJYzUuMTM4LDguNzk4LDEyLjI3Mzk5LDE2LjczNTk5LDIxLjE0NiwyMy4zMTVjMC40NTY5NywwLjMzODk5LDEuMTA3OTcsMC4yMzUwMiwxLjQ0MTk2LTAuMjI2OTlsOS44MTYwNC0xMy41NzMKCWMwLjMyODk4LTAuNDU1MDIsMC4yMjY5OS0xLjA4Ni0wLjIyNC0xLjQyM0M1MC41ODk4NiwzMS43MjEwMSw0Mi4zNDY4OCwxNi43NjcwMyw0Mi4wMDc4OSwxLjAxMjAyCglDNDEuOTk1ODcsMC40NTEwMiw0MS41NDY4OSwwLDQwLjk4NTkyLDAiLz4KPC9zdmc+Cg==",braavos:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAwIiBoZWlnaHQ9IjUwMCIgdmlld0JveD0iMCAwIDUwMCA1MDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0zMjMuNDQgNDEuMzg4NkMzMjQuMTk4IDQyLjY3MjggMzIzLjE5NSA0NC4yNjAzIDMyMS43MDQgNDQuMjYwM0MyOTEuNTEgNDQuMjYwMyAyNjYuOTY1IDY4LjE2NTYgMjY2LjM4OSA5Ny44NzFDMjU2LjA1IDk1Ljk0MDcgMjQ1LjMzNyA5NS43OTU2IDIzNC43NTQgOTcuNTc4N0MyMzQuMDIzIDY4LjAwOSAyMDkuNTQgNDQuMjYwMyAxNzkuNDQ1IDQ0LjI2MDNDMTc3Ljk1MyA0NC4yNjAzIDE3Ni45NDkgNDIuNjcxNiAxNzcuNzA3IDQxLjM4NjVDMTkyLjMyMyAxNi42MzMgMjE5LjQ4MyAwIDI1MC41NzMgMEMyODEuNjY0IDAgMzA4LjgyNCAxNi42MzM5IDMyMy40NCA0MS4zODg2WiIgZmlsbD0idXJsKCNwYWludDBfbGluZWFyXzIzMjRfNjE4NjkpIi8+CjxwYXRoIGQ9Ik00MTguNzU2IDIyNi44OTRDNDI2LjM3IDIyOS4yIDQzMy41ODEgMjIyLjUxNyA0MzEuMDM2IDIxNC45NzlDNDA0LjUwNyAxMzYuNDAxIDMxNi41MzUgMTA0LjM1OCAyNTAuMTU5IDEwNC4zNThDMTgzLjY3NCAxMDQuMzU4IDkzLjczOTEgMTM3LjQxOCA2OS4zMDUxIDIxNS4zMzFDNjYuOTU3NCAyMjIuODE4IDc0LjE0NjUgMjI5LjI3NSA4MS42NDc5IDIyNi45NzdMMjQ0LjI1IDE3Ny4xNTFDMjQ3LjU2OSAxNzYuMTM0IDI1MS4xMTYgMTc2LjEyOCAyNTQuNDM5IDE3Ny4xMzVMNDE4Ljc1NiAyMjYuODk0WiIgZmlsbD0idXJsKCNwYWludDFfbGluZWFyXzIzMjRfNjE4NjkpIi8+CjxwYXRoIGQ9Ik02OS43MTY1IDIzOS40MjZMMjQ0LjM3IDE4Ni40NTZDMjQ3LjY2OSAxODUuNDU2IDI1MS4xOTEgMTg1LjQ1MyAyNTQuNDkyIDE4Ni40NDhMNDMwLjIzMiAyMzkuNDUyQzQ0NC43NiAyNDMuODMzIDQ1NC43MDEgMjU3LjIxNiA0NTQuNzAxIDI3Mi4zOVY0MzAuNDgxQzQ1NC4wMjggNDY5LjA3IDQxOS4zNjIgNTAwIDM4MC43ODYgNTAwSDMxNi43MTJDMzEwLjM3OSA1MDAgMzA1LjI1IDQ5NC44NzcgMzA1LjI1IDQ4OC41NDNWNDMzLjExNUMzMDUuMjUgNDExLjI4OSAzMTguMTY3IDM5MS41MzUgMzM4LjE1NSAzODIuNzkyQzM2NC45NDkgMzcxLjA3MSAzOTYuNjQ2IDM1NS4yMTggNDAyLjYwOCAzMjMuNDA2QzQwNC41MzIgMzEzLjEzOCAzOTcuODM3IDMwMy4yMzQgMzg3LjU5NSAzMDEuMTk4QzM2MS42OTkgMjk2LjA1MSAzMzIuOTg5IDI5OC4wMzkgMzA4LjcxMSAzMDguODk4QzI4MS4xNSAzMjEuMjI1IDI3My45NCAzNDEuNzMxIDI3MS4yNzEgMzY5LjI3TDI2OC4wMzYgMzk4LjkzOEMyNjcuMDQ3IDQwOC4wMDUgMjU4LjU0NiA0MTQuOTUyIDI0OS40MjkgNDE0Ljk1MkMyMzkuOTk4IDQxNC45NTIgMjMyLjkyNiA0MDcuNzY5IDIzMS45MDMgMzk4LjM4OEwyMjguNzI4IDM2OS4yN0MyMjYuNDQyIDM0NS42ODEgMjIyLjI5OCAzMjIuNzY3IDE5Ny45MTIgMzExLjg2QzE3MC4wOTUgMjk5LjQxOSAxNDIuMTQxIDI5NS4yODcgMTEyLjQwNCAzMDEuMTk4QzEwMi4xNjIgMzAzLjIzNCA5NS40NjcgMzEzLjEzOCA5Ny4zOTEzIDMyMy40MDZDMTAzLjQwNSAzNTUuNDk1IDEzNC44NTQgMzcwLjk4NSAxNjEuODQ0IDM4Mi43OTJDMTgxLjgzMyAzOTEuNTM1IDE5NC43NSA0MTEuMjg5IDE5NC43NSA0MzMuMTE1VjQ4OC41MzNDMTk0Ljc1IDQ5NC44NjcgMTg5LjYyMiA1MDAgMTgzLjI4OSA1MDBIMTE5LjIxNEM4MC42Mzc0IDUwMCA0NS45NzE2IDQ2OS4wNyA0NS4yOTc5IDQzMC40ODFWMjcyLjM0OUM0NS4yOTc5IDI1Ny4xOTQgNTUuMjE0MiAyNDMuODI0IDY5LjcxNjUgMjM5LjQyNloiIGZpbGw9InVybCgjcGFpbnQyX2xpbmVhcl8yMzI0XzYxODY5KSIvPgo8ZGVmcz4KPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDBfbGluZWFyXzIzMjRfNjE4NjkiIHgxPSIyNDUuOTg2IiB5MT0iLTI3IiB4Mj0iNDI1LjQ5NiIgeTI9IjUwMi4zNzYiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KPHN0b3Agc3RvcC1jb2xvcj0iI0Y1RDQ1RSIvPgo8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNGRjk2MDAiLz4KPC9saW5lYXJHcmFkaWVudD4KPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDFfbGluZWFyXzIzMjRfNjE4NjkiIHgxPSIyNDUuOTg2IiB5MT0iLTI3IiB4Mj0iNDI1LjQ5NiIgeTI9IjUwMi4zNzYiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KPHN0b3Agc3RvcC1jb2xvcj0iI0Y1RDQ1RSIvPgo8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNGRjk2MDAiLz4KPC9saW5lYXJHcmFkaWVudD4KPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDJfbGluZWFyXzIzMjRfNjE4NjkiIHgxPSIyNDUuOTg2IiB5MT0iLTI3IiB4Mj0iNDI1LjQ5NiIgeTI9IjUwMi4zNzYiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KPHN0b3Agc3RvcC1jb2xvcj0iI0Y1RDQ1RSIvPgo8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNGRjk2MDAiLz4KPC9saW5lYXJHcmFkaWVudD4KPC9kZWZzPgo8L3N2Zz4=",keplr:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAACPfSURBVHgBzV0L0B9VdT9nvy/vB6nVOg4GEx/VER3A1iqo9aMzFgWtoOhgsYaHYNV2lNEqxAdfmKHTakuDTge1FJK2tqOtGqoWFWti8TFSxGDriFSbIK+qgB95h+Tb09397+49r3t3/99/LT0zm//e9917fud3zr27SRB+EbKd1gAcOhFg/kSYmjoBiJ4JhMsB6LHFJetS+wfoAowOQOKnumGVUfSX+23Ba0uRfFaGsh6pNKDqP2PzQN5TbNxqjAeqi2CuWLuvAuU74eT1O+AXIAhDSaX0g+fBFL6ymHShfFhT5RvdknNLzsTIb+cChmzb2OJqJY8aQG9gaAUXaXLbOH0gL4mXmXHC/HYUv1thEWyDk9bPwQAyOQC2H1wHGb29uNtQdLcmFJBv2AsFAPVQJDQPlFBYFACpso7+kFm17g/9sUgr3QFWNI3VtQWO0KaCGXbDBLJwAFSKz2cLjtvglhNFGmr6NomgxEQdT1kYK8N0uzBwH3bosHJo3EKkD1ZG0X6ctAFEW6cAAiwYCAsDwM2HL4e8tHpa45a7NN2UUaxBmFAPmpdt+rGDq0zdrpP2I6yRig06ANHNHuAwjxlzFp67fhOMKeMBoLT6Kby+GHMGmklySVosJAO+ajK9LX6Uxl51eyqZp/tYvVcPbRklynQ7au913aaeBwLRz+6CDU4dhw2yvhVh++EzIcPvBOXXc+SXJz3LMVYeEblOYxKZMx/kF4V70aZPv+q+7ceUmaivHTu0hDSWqzwRWa4rAsTtcOuuM6Gn9APAzYfeVszsM8UAazoVCgDj1DELneqrBgrq/ilyKUFwFE2R8cX8UABD1OmaOx87pkw137gxoP9ssq91xfUZ+Pddl0MP6QbAVwt/Pw+boY+MCQzsquNY6VhCHUoGNeY4fUKjVLR9JdIC8IkxkTrqkerVPsNsHxCk17RUPtFstJw6tE2RfNAPl35Cs7XrSHcGhWPHADBWIJj25XJ8ipbJcUmlZR01Fs+bh0vg+eujBhwHQOnzoaD9pFAi25ZhD2XzPKmHNAAQyC/zHbCelFNGicBPpxP8jZFA0El37xyaHA8oqm8uBGfB89Zv84p8AJTRPuD24m4dpKSLAdhPPGKv8wx4+1l8dO/vtVWL1PvQKMIIxOtFo3VKKy9y4JNmkboflef2N5K5gglO8nYHfgxAhfJHwQQkL9EmXgfHqNcnLkBSwWAPEUFfrG3Xs6k8b+dg66N6RpS7DNMvAp+vwTXrB2Lt7dqugWm4HhyxANhe+P2U5fcBQy0mYh+nntOmL0BcoMREK8vNr8uiCgnKkAEixIO5Zo41IOKKrgPNWFvw1liuVDWHvNi+f/NHs6BErmdJ/Tnugt5Clhl5mVPdUnCkLnMhfVwC8hUz5c69qifm4vYBLrWT285Jq7aUdAOM4ut02ycAkLECilgGb1+1naNcugLJAPPF1iFlid7FxmjH6VO3R99d2zdOwa2k+gNpNVGGcObc5vPRExZvKFwxjahLil1olGf7qd0DgWIXjM+5Hbusg2syxMvVU9RSWv/R/tbvWyUflMZoQ9YwE6vfhxHK1ensy3HC6FlypG56ixZnBDJ1bf/2OwPeU8Qyeh6n5kDrGxZoGSA7CrMiqPEubjFdF5tTnzbGkrkoy+L5HgslGSbyPG4QR85YTp7PABi10sbqTTBIym8T2jnpvsV8EEwQ6EhG8Ha+ZtXHHHjk8M+hr1D7R1TQK1ftumIAtI1Nuo+Vpw+GAHod8rR5qXSqX5mOWzixcpanrIM8RhL9yP6UzM0fLljg1PVzIwY4cujMTovuQBVQD2tnc+zy2ynG6NoGdjJBbO5QWxdoa4aoj9fHwl46jIMBX6Tqt8+j/DwEixcswNsTJNYSwxVkzaIlcF55UwEAc9wwFgA8ZUQnYOt2AcN1b4mybvCh7IN6UH8zLx2ggVcnnY66BqpnxdcILDCaZ3Dn3/RK/nNJAGN7EUy9slkTwBsPeXZhJE3JuoicNn47jJhllwvoVe5RuaJ5Mz7avgCHTZutnBqzy0U0eXblKGIlRuaOHMnXT8ONB2d6Bo+9JeaeTJ2By9pyXslbQ8RRAUU6oI68sdOlpkikkSQIRxoPL4dadmgUSqHzURH5ukaOiqQS1kxPw4nTWfkFL/WDTEr6xR5xBY6v9NGqoFeJEu08BdcrHoDLFr7KQ9np2Glv/EKRSAYoCJQED0GDX2Q5wOYKajAuoW55N5UXAKA8m1mI+jvbUL+6CwGEKFdKQlHDmYRrNWBAgYMzAbZWG5IIZIASGpGTZ+eFdXEPGsf6yZs1wEUnTBeJYzrbmZyOwWgMBRZy7YlL4A1rp2Eh8m8PzsNp39yfrOMqE5i76FK0l1d0+tHjV8Hrj10KQ8h39x2Bk2/5WRisZCQ2HrXKU7GCmKDM6SpCmC9cQA7rus25n3TFEgMNY8U8mErEXIK2UOZvEdK0vvEpKwZT/l2H5uGc2x8S7KDHQzFPaDOC21LlvDCqF1xTmt06sX1JAMk0h8nqDAaICOOgp2BWiB20GZvfZU9bARufuhyGkFL5p9/6INx9KHdezTb7EwfhdQxAKV9LXqaQddOdf3Uu0ndKMIEet58eYIsKBeuIWT7P8sow0UazxGW/unw45R8slP/tB+HHxW87mAoMUbOBmZ4T/Y4h0ykAjSPj+Pxx23aOrQOvUmKgAMdVeaxXBwicJc5duwQ2Pm0Y5T98lODlheXfUyi/sXxyqF9s/2KULgJhgLRPlDKNOSxIJqJ/VGUTMIDxgaQsGsaZq7Q03u7Zx0zDNSesgiGkVP4ZtxSWfyAHHnsYP68WBhNl4NQEVZMzc3M3PZSv71O3nYAecxIXULdHM5Zfry1DVpHS8z5u+RR8/uTOzVJvOffbP4fv7Tka37K2WU5+m9Of+jFxNz3pKeBCqX9S2hd9eXSfGqu1NpTbKrS3xy2fhs+dshqOWTTMjN/63T3w9QcfsSwIvrI9RWOPOn3FBoEdgj0QM57SaTIwELjbz9Y1CDfgLzKKotFN2efaFVPwuResLkDQ/2/QpWTj9/bCP9x9UG4x7UwgrsT+9E88Va0DgbfJmx4jXpAt3WETZThem7HEYYCkwgnc7TLPO2YxwudeOJzy//TO/fDRXQeqIcLcmoHNDE0ZueWx9s7alm8BHYabyAXELDpeFmk3qRsa0wWkqLdRzmdfdMxgyv/AD/bDBwsA8LDDzmYhjFDXEeBN1FUgL2V6nMVfqL+vymI0HWPDvlK6gJx3qG4JBPLdOSj5y+euLKL+KRhCKuXfsb+eQ+phVZlQFgoqT0vsYcnNMjFAWslxIupL8UNbP+/DuoDE+CY+GMm7j18Gr3vSYhhCPvajg/Bn39+/YIvXRI9Obuvr2fOknILGz1guIAkOitdDb2ToZpQ+gqxrFJEPq2OsyVJ++QDvKpT/rmcugyHkE3cdgvfdvq+w/BBUsgFHWzyMW7ws8IHbMoMoGy+oFgzQ2/r1AkdamMlBhDUmdQEx9xJJe2UXP31pBYAh5BsPHIG33bqX+fwI9VcgAIguQKVQC4aktH0mK7V3CwsCo0EXQ2sPl4A0iebNsGYMce9F/rWc8+QlcOVJwxzxfm9uHs7/+sMOKBNb0Ja71cKaJrVyqWMr1rms4el7BoHUL6p3wJqyxDZvoF2ATuvAS4OgzH72L0/Blc8ZxvLv3p/Dq3fMwd4jsfUKGvLjIzU5cpuCH9WS2vz3k+4gMNKZmx1jBow9sGy3YMnB3eM2/jIGwrUrM9j6opWweoBTvlL5Z29/GPYeptbvV2M5oAuTJVtu6tQZ3ikOF17f61MUBul2AWQjUlccJccUjBEqXpDUMYAOsqIgqBf3uJUIn3nJquK0b/K9fqn813zlYbh3/zx7nsaeO/bwVRWKzlvWg3jMYILM2GgouhrvbWDKr8diRHTyqudldDEBA3Dl60+/YiA4rrD8T79k5WDKf+2/KuXrSL2OzsEtr6HClIuReiEvZjYUtf5Yi44YgEwSI/Vic9KBHjpbtElZoF1bh/Kb8Zo6q4sj3utnVlT0P6nsKXz9a7/8MNyzb/RaF1Nb3fYolsRcRb0u6mfZsnM1mhc7RCTxMigR+EWsWhUn66EpmEB4n6RcDFusMvtDL1wOz3rM5Kd8lfJvKix/b171G+iVfV6uwc7+hORxjZ/y2k26hNYFJIIC36ezQxVj3Y5FMCsQljuBYP1dBbbjgutTr3j+MnjpcYtgCLlo+174/oPz7nd8Md9vlOvRvicC1F3BHiWTuotpo8y+lBz17baOuCWHIYaIATzLZ+l3PGcpXHT8EhhC3vn1/fCt+4+MLF8xdgAitidzdcpnBU37VP+BDnNG1lNm9tAea1MwQI/V96iM2j9kFTYzTET/VXpCy9f9mMOeOv8dv7a0AsAQcsUtB+BT/3UYmtM9d0wBCt/3G8OJWQ7PoQ7r9PrukM6DID53t8wJUPSzSLTKv7SZ6r+XlG35OQDJeV307MUVAIaQq79zELb85yFBx9jhkxF4XT5pv36b79I7hngnsRGId2wXeox3AayOg2jZ3qe9NOoXLsiBxeZ52vpFsOmUYU75rr7tYAWACtA84FV/d6/ZiiaftfmXP7hleOuRUmaXtWtdu9ba4xzAt/IIgiMTEqDRwdoA4sUAzyqOeDfPDKf8D912cOTzXcrn/5SL3RLz8wkNDLHArnVTXNkOQHoDopZ+L4NUoOi5q0AK4UmNFXj5zQNOIDoGWLsqg2tftgJWL5mcYq7/j8Pw4VsPyrknAk7sEfwhv0kCo+4PIK3sCbbWvT8KxWYkPQEFDr5Ioh6SzUfmRhYq5ZB5mFep/E+eWZzyrZpc+Z/6wSNw5TcOmICPK5UrQdO8LjfH5R7tq/VzrR57Wjp248EFAEZHBp+2sQuNZA5kmroY67OntBZZXE88plD+WYXyV0+u/HKPf+lX9tf/hg60IBBKM0qH5FYU2bt6Ga+Q7ENXaOqxcUU+RMSNA6TEXYBAIEVHCdbAKK8pY/my7uhmcjXV/RYgXr0U4dozVgym/Ndv2xuOqVvF1kzAx3Zjgjgz+FtVBxie23DcgJOMZzq69oNAdFpRpLhRpqH80BxVQ5zAZxmprf+q314Gxz9u8vP98mj39z69F/YVr3UzV3HsX/5Cct2BOYl0QCHSAO62D2MKj+QDqDFNphX/HIBsD+gkRgMpCxeKl44sgITES5pJdwOXzyyF054y+RHvvXtq5R+i4JoSikT2Sdc4ls/7AkgDw+tL5IsOrIi+HVExgKVx25NUZJXWflDeKP9PJg8mAMDJa6eqa1Iplf+GT+2F+/bkYlGxy7qhiQ9AKCpm+e5a6TYAFgiNLaWAwCcVEV083ee7PI9SxL+pKw291a4J/PjHJej3+2hIpfx/rJWP2u+Dq1hUAPHKYuWectHz95ohmnyAxOt3nQFJSW4DvUFa6zZ5jdhPoMVJnWEFGuxAaCGyp/D1Gz7JLF9t9bjiW4tnrBVYQIqXj2OUJ9Ns/FT9UC+OgvRBkLZstRuwL3sUMJyI37iDR1v5nyiUP1e/0/don8Ac77b1HIYw7Vm5Trf16zw3Jqg7cllAVJaCrJ5fOJL4OUCkN49iWlZwJsb/QUSJ9kS88X8k77nxAPzgJ/PGvyOApG6eX2Y0ZcyHx2IFnQaQykHzKhj6uwMAP45ICgpg9NoGJg9/qP3D+RKHVD0Ir0b5xB8FFii/3r3jf45WZwiefxfWD5D09a2ylQFYJkD/lbhj+bFX596HIcbae4Oh/MeiSwCoC+ehOl4dXaq83raN8qm6qkWkum19VS9F2nqhHa/flj8KAFhVvCfY8rpVcOzqrJpDVs8nq+fE58fvm3q6LMtZ+ypd/8PMObtYm0zUleNnTV7RJiN5NX1lug/TNugCKX6FD0I0XLR/Nwl1IoaqTPh6aJnC97OPAgIKObY4Ov7wq1bCBX8/2vsLyua/nrU7ZdzCOXUbt8AeV7AF4Ni7gSrfNXXGEInlzaqOaut1Lb2x3PaqmYFknbYNYw3OAMgYAdu6MGIEePTk6Y+fgut+d1X15jBlKfwKLIDqitfNTFsYWXRj2YRifQwLGUu2rICCLSRDGJZoruiDardQKT0ovqH7AJYRMCTdw0jBRKG+6P/R3QI2UoLg2nNXVZ+Me/Ru6D8HV+GZqhdLY94oXbqczOmrAUqj6Ky9wKX+Biyesl2AejGAVToJpQsrdhTfx+pFjPD/BARXnb0y6ddDmVQAt9A4CLiF2jqZUlxbt7LuiDUbhTuxQtclqZ7EFVN6UHRQPHDFp6zeAwUsXO64fx6+f/88DCG//qRpmH3FingQSMFydVnMelv3kPt1Mt13zkDCrTfX1uwFh77VZ6kL60geGmW2SrRKh1ZxdX2+EMzqgS2Asfq2HiubgAH2FMHbH358P9z78xyGkFecsBhmf2eFQ//oAEJZsirLcnQZRLKDVbi2+Ma6W4t2ACKAwi8OQkIDnGgMwJXeBnQ0UiJnAREcEsn8PFg9VzaqsknjgPsemofzrt07GAheXoDg8lesgNjauL7U/MYBwxnFA4Z2N0gWSJnDKC1QuILreIFfgrmiMYB4QMkQyJQIudoViLYUKJ9NPjBFzQiTSN3vfQ/lcP6AIDjjxMXwxt9c5isuB0PPoUzuCDKKW73IF+5EKY8snTcMk+UIOr7IHHCaqwEEKL/fXto1kKN4kooP9yRcBOigESQoJpEqfqjHvv/BHC74WHG2PxAI3jizFN744hoE4ARtpC8UytTKDb4bbKDYKLTD/4vtn1Kmr/AI9bcuIMEAMuADq/hcKr5hA7sbgPb8AEw+THwQxK3y/oIJLhwQBBcWILhwZpmlaQDDbD6FB+WiVm4uleqCh7T/t0wQ+mt2DfJswmOFpAuoJj8PMuBzjoa14jkbiLgh4iJaMMEE4ix6yQSX/M0+2Nvvf8PrlAsKEJRXbHdQLS4gWKrnQZhVbuMyLBMEV4COq8hUfCAOkhQr6CNhuwtw6B+aq6Z/swVkwDCgYFRv3EDbnkLw1/Q7gQj3U4995z1H4eKP7B0MBOefurS6hPVQ3OJH1tVY97juAMUOQlpveMfgsgCrZ+g+V+8mmnMA7xI+us3jAJFlwbrDwZBemPZUkEAywaQAaINNuRO5896j8KZr9gwGgvMKAJw3sxQs7aNRBDr5zfsDz2K5xWdkAWb8PmmLtkfBaOo4l97zy32+WlhB7aBiAgpRPXGrp+BCCMwZwKT/VFz7QiaXTNMo6M575+GqGw7AULLht5bC2ScvERQe/LwCgYkDwFV8AIV1IXrHIGMIeXCURRSOFGeF6DeB3jvm8L6awLwbbxO1IpDi79Rrv88/rVqwKOtqxuFf4Hz+lsNV3vvPWQFDyFtOXwb7DxLcdNsjclwIz1jFBM380CsPec1bRPkmEsX3EqFMfQdQj1Gl1bcCqdiqKRt9ENIRhYlPt7gy63RYeFIgYACpG9h8GMAFKCWwqxnjXwoQlD75vQOB4I9evbwa98u3HbEgYArwlOoqGqSSuUq08k1Z8wdZVXaotvx7ARRVgPtRaGPFlYRTPPcLWoKAFNbOWsGEboDCLyI4ChldJRM84ZcyuPC0Yf7W8DvPXl6A6iB8+duP+B+PAgchGoYSytfMIfItSMI9CmPUdUDUtyVj/YcRozIydc1XsvyvSCtAhIVijDCJ/gmES0GS8x39/f2Qvu4Lo7/pe8FAIHjTy5fCrvvmYdf981bxag58vaq/VAJ6DR2GwKBgzRyhTp0v1hE7rb8sN+8C+Nl+CN5U9C+2exBe9DSBIIA5OWy2Z+L7AD7egoVE0Kd3MPyVdpN3/Y0H4fovHoQhZMVShD+5eAU85QlTIZKv14ef3aMO3kgHfF4gh87BUNgpiLMBE+SpMckPDjPgR778DEAp0L4QIrGft9E/2F0EA5moN4FUFuPswVGN1cydg2DLF4YDwR9ftAKe3IIAROQtlQRW+Y1CnQMgpLB70DsFAYhcbTnNhe6VgTr4QXbxMv5CSCyuOCCSdTWrCOXzwyeYQJwxtNXJvADaLQUItt44EAiWIVx5cQCBVnQzPn9LGBSrLdwHiGYC8W0Ce2bzIanaRsqTQHVUKA6EnPyWEbhbiB3wcErWboIrblIhClSfx6xf543qlwD44i2PwBBSguDSDcvgV4pAs6F1CQKb1m8BAzBip4XOsS8HRf1hiKdwvRajgyClcO9wJ5z1M0bglt+Ape2HjJsQ4NBtJwSBfDAC8ckZgXNULK8P/N0++NJAICiVf8XvL69+o0xAMYrW1oxuHXtSKNmAuxOPETgzRF4Hg/kuwGUEQanE3AUYyvfoH5irmESQHMYhAP1No11gaOf7wb/dBzd9azgQbHrzcni8AAE6vtuCI+4KGDu0v5HXx8S/J9Ag0i6gUaa6+CLqKF+k2Y7A+9QLybbnjDGY8sm3LB6feGXBHQB85J/2w3/fM8z3hY8rlH/5m2NM4LgCBxwyKPR3ArZfZweQg/92MHd2AeaNoFIoGAVDS/tim9fSv1YEmLyJ4wBHuT4o1GtrVbb/AMG7rt4zHAgeg/D+N6fdgWUCT9mJdC4BYdmAMYL7QQhJWnQ/BqnuLUBQvDACNx7gfr/px7y9m1AaBRrQUowVKFJGcKAAwaWbhwXBe9/CQeBTsssE0AUGSCievx2044W3gWLhyFI8W9SUu/B//X5MX0NI2SfUDwksluFj1L8tG2hg1HXKFz1Xfmwv/OShHIaQEgTveesyWLlMWXvzbsADI3QEgDCqk0HcDRhXQDYYzbQC2rNzT8kqyPKULH99cBhWmEQobukcCLbMAUEe8n76QA7v+Ys98NMHhwHBYwsQXFaAoDw0atY46grAugV7VuDFDd5BkWQY831g6xdzbalkYwLQ0T65jBC7tCsRY00g2DGmPgrWtN+CEzgQAH5WgOC9m4cDwXHHZnDpHywdgUAoawSKkVVbKpdWa1nD21FkAhTy7IAbo38OIBTmpzllBn9PCTYg8W2gYJIJpH351GHt0IJPPhN/Bg2KBgTvK5jgZwOC4N0tCOxcpc9mbAGS8vl2L27pum/rCvxPwtj+3rNYewIYgjmP8mOAGWQXQBHaB3DB5oOEDGB4+oECBO+/au9gIFhbgOCcVy1ulZUBRIErlaqVz+YLUMcUGJgEAngyVSfUjVI+WMv3joUTlwSBBdEg7wIgNhc+jlIsOCAweSSA8ECh/A9cs6/aJQwhp/zGFJx/7hJB+RiNA/wj5fBMXf4fAWPvBLQFxZSoF9ZjBzfqhyYPJO3za0JxT/rEAkllgqNgrvSYm7jr7nnYVDDBUCA4+XlTsOHcxc6cOX2jejaUVk/xj0hjShduwQv8YoEaZwYc81fcK2VMJFx5RBBnJRJj6zwNertLGN2XILjiz/fCUFKC4DWvXhQUCRbEbkxAUvkcIPotoa3DyooH3u1ZPTp5niLdxQa58CiYILKrmFTacSnQOTgWLhSsqB+00lUf9f2PCxB8dMtwXxqfOjMNp58+zeicWzFjBYi4AbIuhFt9iAVQX7vLfyZubqTRkbDP/UIe+xYJeT7VeaoMdV/8vv58zC1boAhKbC8KH03Vcxt9ikWj7/NI1eV56PTJ84o/bv7GI1X64vOH+V/HGwB88fPzzazDuoJe28AEIVXfI69X35G/xsVT7y6Cw/nbMWL1bcPmXm8RAaJM4ZWjYgnk/S9YSLKO+vXdQqQNYxFxD4xB2P3XChB8/JPDfFBSyssKELz0jGlh8dbaI+cCAGaL6AWGgiHy/OGseKW406VwABsQ6bRSZnpRWT1w6i5QAm0z5bDf0RheGdk0gOMinGdjc/7STYdh22cPw1Dy0tOnAgj0BZHL1LUHQ55rAMId0zngzoyU1slShvnyl6Vj4rkCYBNvZM/+HO776Xy0fUr27a8nQe0foAiwnjuNbuqfoHRFp8hA1bqFhIso/rjhnw9V9y84ZbEaPS6YSD/1aRncRPVXxsjmRz71hzz2J/rz4HmLpvKduG5m15psesmuIr3Gq9Tmad+CctHMwOoX0VlkZGlWnqGth6pepTjeDmsKFG0w5LM8Xcek2X1m8oMSwj3KOl66XYtYHQBQ9SUArLLl3yaSoOe/tsZINl2TYbZ7x/q5Auw7Y9G/jgOi9B6heoz1BX7fyPLRqR/GIvC3dqB2IHo8SrsCfWYAcm7YsQayL5AuVdM58XroUH1sO4c9KV+eBag2O8o5jf5PJMpvcM8DYLSlEucAwO75r8oX5wcQ+gvbNCetFRgBA0/LQyevPjlgIqU4smNqcLC2QnnqXgNDKpqxB0HEv7vKkuWij0h9J1+u7fzWFgB5fmRLkTmnAxyMKMSz+CgLEFtQ3Z/pvwnmNIiYYsAfpwGDzzAeOLwzgcAC4OQZxUMcCEbJntJArrWsLykf1TomlQ8g3IB3wdKpbdAAYOQG8q3tbBxlcaoW9M7y3bYAUQWio0itqFGaAiM5fcrfUE8zhQUPBwaFcfXYoMbQz9z2EQGCkzdqg37dpr+YwgEiSsZ2HVNXcQC0ZXYzzpV12/9mK4fpzRA5yxcW2Ty5dgcgT/hSCtMg8KzaWnejFP4iSS2+AA654IjRLweB159v5WT6cEHi5MVo35ajVTQHQ9sO3efyrnmETc10WgDs3vGE3QUMtoIW9RDIHyhxL3wmB4UBiV3wuHWrcYAilg2tQtH0TfLZmOW3z8jrseqBtkkCBdSCewpI5ZEcW5eDUqqpp0ACrL1mkuJ4ecvsR3B380ziP9qbh/lZ5LEAG7BdDAUE9PIBXEsWymFWaRgF4sxh5iP6CGNxANq5BK0KyoUwL48BWrCQbMfn4wJB5RlWaMvQdRVCycz6gXwlx/sAODIVrL8UAYAiFthdLObVYmYeGNRDg14MDwzk1ImAJSjOWSmlKM/ivb5QK1gwB5m6fLymHJ3n5n256+PVB3BZIZRhWDOSoNd169rmAgDDMDnRJm79AMqgGnnqi+/eXjSYMf9tCWvRDtKkEUUdrMsWknYPfrC2glRdVi+L5MfSmXfAg/WHGTwPMHIwNHrDljoQAq8viNeXOwFO8+weffp39LZ7419l61URuP/X6jQePb/4Ea6glZYOQ3r0GywWDa3ruvIXY1Zt6vboUyccJmiExwg8NhCflEFiTvwZmoS2fgLr35Xlo1fGWFNavQoKHRfguITdeARPBUdcANxRuALK6Hyehx4Q2H0zIVB5DTVDT1Dwh5V9gPXtjrjBHuhFjIHYWg9XgrwnoTTpEqxitSEZZXvP0tZBoVT3eVQ7nl/M9JLLtkjqbyT6vy3/aMdx24jwEr3OGEO/p8iExQswgO3Tt2w2XlUWwKTHG6XJmQdZVmjmq8qE8kDuNjQQBUCbbK1wXYc/k2KF6DMDuFs/DyB15U0b/xq3QUSS/932D29+4uZiDTeBY/3Jew8kGkg8EWMHSPQtWIHMYsu+nc7IB2mUaUi2bccin/lilg9OHjplmkUA4pauJew0aNNl107NQkI6/7/1H35t7SyWINCKid0n8jymAFL5dabew7t9eQN6IHRcDjptkfz+uFW7lqyUjo5yXZ9f5aFsCw6LJIwHI78EdMll16WVX0onAEq5swBBcUpwVtHtbnM6qBYee1ovn2y8rnr6SD+h3BschOLCHC3di04pbX1cXJB6Fh5bm4iSfdqHliF0//XvHOV41sbrpjZDD+kFgFLuvHn9tmxq/tQRCEA+gHgKiitIC7N+jNVXykqCBqQ7kP6QlKJ5G9uXl5e8F2mPUfw2xuJTcwMHyBwQ5SveHE/auCXu87v67yXPeOFds8XG+fK2E2STQp7HPoRo6tS/sX08r8t/Rx9moO3D1BmN2/ccoK0H3pkAqnbe3r9Jh7Lmr3G19I7+fj9jtXg5APoflMTv54qA9+rLtnRTvpbeDMDljq89qQDA/PoCclurjJTlQsQ3R9jBixMMPZtxpBWhx0LuL7kW6QpnmQgbua5Al3fWw7Y8ZZ2BBXDLI4QnLUT5vJ8FyzNmdq3DPJstrOaVxZzX8M/DpNWjYgeInvjpOpmyWvAYAsPiZq61g3P6J63bsoG1/Axi+d5p3uhhsohFC+aA0IanQbSDJrf8imvrPGSbZyP7+74yMQAaKb8tXA5TZxYdbiiumapzAQAIx8WuYiDqBlpqb8vRAoClFwYApSg256BYHwCZUOSkAJC/DAAFzcPO4u6Go5BtKRQ/BwPIYADQ8qyZXTMZZCcW+4UXF6OsyZDWFQ+8DqKKWTgAMhcI4wHAKLatE+wuCoC6LK5cDwCoACbKdxd9FgrGncUrnNtHv9M7h1I6l/8FAVO2ym5DPSIAAAAASUVORK5CYII=",metamask:"data:image/svg+xml;utf8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMTIiIGhlaWdodD0iMTg5IiB2aWV3Qm94PSIwIDAgMjEyIDE4OSI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48cG9seWdvbiBmaWxsPSIjQ0RCREIyIiBwb2ludHM9IjYwLjc1IDE3My4yNSA4OC4zMTMgMTgwLjU2MyA4OC4zMTMgMTcxIDkwLjU2MyAxNjguNzUgMTA2LjMxMyAxNjguNzUgMTA2LjMxMyAxODAgMTA2LjMxMyAxODcuODc1IDg5LjQzOCAxODcuODc1IDY4LjYyNSAxNzguODc1Ii8+PHBvbHlnb24gZmlsbD0iI0NEQkRCMiIgcG9pbnRzPSIxMDUuNzUgMTczLjI1IDEzMi43NSAxODAuNTYzIDEzMi43NSAxNzEgMTM1IDE2OC43NSAxNTAuNzUgMTY4Ljc1IDE1MC43NSAxODAgMTUwLjc1IDE4Ny44NzUgMTMzLjg3NSAxODcuODc1IDExMy4wNjMgMTc4Ljg3NSIgdHJhbnNmb3JtPSJtYXRyaXgoLTEgMCAwIDEgMjU2LjUgMCkiLz48cG9seWdvbiBmaWxsPSIjMzkzOTM5IiBwb2ludHM9IjkwLjU2MyAxNTIuNDM4IDg4LjMxMyAxNzEgOTEuMTI1IDE2OC43NSAxMjAuMzc1IDE2OC43NSAxMjMuNzUgMTcxIDEyMS41IDE1Mi40MzggMTE3IDE0OS42MjUgOTQuNSAxNTAuMTg4Ii8+PHBvbHlnb24gZmlsbD0iI0Y4OUMzNSIgcG9pbnRzPSI3NS4zNzUgMjcgODguODc1IDU4LjUgOTUuMDYzIDE1MC4xODggMTE3IDE1MC4xODggMTIzLjc1IDU4LjUgMTM2LjEyNSAyNyIvPjxwb2x5Z29uIGZpbGw9IiNGODlEMzUiIHBvaW50cz0iMTYuMzEzIDk2LjE4OCAuNTYzIDE0MS43NSAzOS45MzggMTM5LjUgNjUuMjUgMTM5LjUgNjUuMjUgMTE5LjgxMyA2NC4xMjUgNzkuMzEzIDU4LjUgODMuODEzIi8+PHBvbHlnb24gZmlsbD0iI0Q4N0MzMCIgcG9pbnRzPSI0Ni4xMjUgMTAxLjI1IDkyLjI1IDEwMi4zNzUgODcuMTg4IDEyNiA2NS4yNSAxMjAuMzc1Ii8+PHBvbHlnb24gZmlsbD0iI0VBOEQzQSIgcG9pbnRzPSI0Ni4xMjUgMTAxLjgxMyA2NS4yNSAxMTkuODEzIDY1LjI1IDEzNy44MTMiLz48cG9seWdvbiBmaWxsPSIjRjg5RDM1IiBwb2ludHM9IjY1LjI1IDEyMC4zNzUgODcuNzUgMTI2IDk1LjA2MyAxNTAuMTg4IDkwIDE1MyA2NS4yNSAxMzguMzc1Ii8+PHBvbHlnb24gZmlsbD0iI0VCOEYzNSIgcG9pbnRzPSI2NS4yNSAxMzguMzc1IDYwLjc1IDE3My4yNSA5MC41NjMgMTUyLjQzOCIvPjxwb2x5Z29uIGZpbGw9IiNFQThFM0EiIHBvaW50cz0iOTIuMjUgMTAyLjM3NSA5NS4wNjMgMTUwLjE4OCA4Ni42MjUgMTI1LjcxOSIvPjxwb2x5Z29uIGZpbGw9IiNEODdDMzAiIHBvaW50cz0iMzkuMzc1IDEzOC45MzggNjUuMjUgMTM4LjM3NSA2MC43NSAxNzMuMjUiLz48cG9seWdvbiBmaWxsPSIjRUI4RjM1IiBwb2ludHM9IjEyLjkzOCAxODguNDM4IDYwLjc1IDE3My4yNSAzOS4zNzUgMTM4LjkzOCAuNTYzIDE0MS43NSIvPjxwb2x5Z29uIGZpbGw9IiNFODgyMUUiIHBvaW50cz0iODguODc1IDU4LjUgNjQuNjg4IDc4Ljc1IDQ2LjEyNSAxMDEuMjUgOTIuMjUgMTAyLjkzOCIvPjxwb2x5Z29uIGZpbGw9IiNERkNFQzMiIHBvaW50cz0iNjAuNzUgMTczLjI1IDkwLjU2MyAxNTIuNDM4IDg4LjMxMyAxNzAuNDM4IDg4LjMxMyAxODAuNTYzIDY4LjA2MyAxNzYuNjI1Ii8+PHBvbHlnb24gZmlsbD0iI0RGQ0VDMyIgcG9pbnRzPSIxMjEuNSAxNzMuMjUgMTUwLjc1IDE1Mi40MzggMTQ4LjUgMTcwLjQzOCAxNDguNSAxODAuNTYzIDEyOC4yNSAxNzYuNjI1IiB0cmFuc2Zvcm09Im1hdHJpeCgtMSAwIDAgMSAyNzIuMjUgMCkiLz48cG9seWdvbiBmaWxsPSIjMzkzOTM5IiBwb2ludHM9IjcwLjMxMyAxMTIuNSA2NC4xMjUgMTI1LjQzOCA4Ni4wNjMgMTE5LjgxMyIgdHJhbnNmb3JtPSJtYXRyaXgoLTEgMCAwIDEgMTUwLjE4OCAwKSIvPjxwb2x5Z29uIGZpbGw9IiNFODhGMzUiIHBvaW50cz0iMTIuMzc1IC41NjMgODguODc1IDU4LjUgNzUuOTM4IDI3Ii8+PHBhdGggZmlsbD0iIzhFNUEzMCIgZD0iTTEyLjM3NTAwMDIsMC41NjI1MDAwMDggTDIuMjUwMDAwMDMsMzEuNTAwMDAwNSBMNy44NzUwMDAxMiw2NS4yNTAwMDEgTDMuOTM3NTAwMDYsNjcuNTAwMDAxIEw5LjU2MjUwMDE0LDcyLjU2MjUgTDUuMDYyNTAwMDgsNzYuNTAwMDAxMSBMMTEuMjUsODIuMTI1MDAxMiBMNy4zMTI1MDAxMSw4NS41MDAwMDEzIEwxNi4zMTI1MDAyLDk2Ljc1MDAwMTQgTDU4LjUwMDAwMDksODMuODEyNTAxMiBDNzkuMTI1MDAxMiw2Ny4zMTI1MDA0IDg5LjI1MDAwMTMsNTguODc1MDAwMyA4OC44NzUwMDEzLDU4LjUwMDAwMDkgQzg4LjUwMDAwMTMsNTguMTI1MDAwOSA2My4wMDAwMDA5LDM4LjgxMjUwMDYgMTIuMzc1MDAwMiwwLjU2MjUwMDAwOCBaIi8+PGcgdHJhbnNmb3JtPSJtYXRyaXgoLTEgMCAwIDEgMjExLjUgMCkiPjxwb2x5Z29uIGZpbGw9IiNGODlEMzUiIHBvaW50cz0iMTYuMzEzIDk2LjE4OCAuNTYzIDE0MS43NSAzOS45MzggMTM5LjUgNjUuMjUgMTM5LjUgNjUuMjUgMTE5LjgxMyA2NC4xMjUgNzkuMzEzIDU4LjUgODMuODEzIi8+PHBvbHlnb24gZmlsbD0iI0Q4N0MzMCIgcG9pbnRzPSI0Ni4xMjUgMTAxLjI1IDkyLjI1IDEwMi4zNzUgODcuMTg4IDEyNiA2NS4yNSAxMjAuMzc1Ii8+PHBvbHlnb24gZmlsbD0iI0VBOEQzQSIgcG9pbnRzPSI0Ni4xMjUgMTAxLjgxMyA2NS4yNSAxMTkuODEzIDY1LjI1IDEzNy44MTMiLz48cG9seWdvbiBmaWxsPSIjRjg5RDM1IiBwb2ludHM9IjY1LjI1IDEyMC4zNzUgODcuNzUgMTI2IDk1LjA2MyAxNTAuMTg4IDkwIDE1MyA2NS4yNSAxMzguMzc1Ii8+PHBvbHlnb24gZmlsbD0iI0VCOEYzNSIgcG9pbnRzPSI2NS4yNSAxMzguMzc1IDYwLjc1IDE3My4yNSA5MCAxNTMiLz48cG9seWdvbiBmaWxsPSIjRUE4RTNBIiBwb2ludHM9IjkyLjI1IDEwMi4zNzUgOTUuMDYzIDE1MC4xODggODYuNjI1IDEyNS43MTkiLz48cG9seWdvbiBmaWxsPSIjRDg3QzMwIiBwb2ludHM9IjM5LjM3NSAxMzguOTM4IDY1LjI1IDEzOC4zNzUgNjAuNzUgMTczLjI1Ii8+PHBvbHlnb24gZmlsbD0iI0VCOEYzNSIgcG9pbnRzPSIxMi45MzggMTg4LjQzOCA2MC43NSAxNzMuMjUgMzkuMzc1IDEzOC45MzggLjU2MyAxNDEuNzUiLz48cG9seWdvbiBmaWxsPSIjRTg4MjFFIiBwb2ludHM9Ijg4Ljg3NSA1OC41IDY0LjY4OCA3OC43NSA0Ni4xMjUgMTAxLjI1IDkyLjI1IDEwMi45MzgiLz48cG9seWdvbiBmaWxsPSIjMzkzOTM5IiBwb2ludHM9IjcwLjMxMyAxMTIuNSA2NC4xMjUgMTI1LjQzOCA4Ni4wNjMgMTE5LjgxMyIgdHJhbnNmb3JtPSJtYXRyaXgoLTEgMCAwIDEgMTUwLjE4OCAwKSIvPjxwb2x5Z29uIGZpbGw9IiNFODhGMzUiIHBvaW50cz0iMTIuMzc1IC41NjMgODguODc1IDU4LjUgNzUuOTM4IDI3Ii8+PHBhdGggZmlsbD0iIzhFNUEzMCIgZD0iTTEyLjM3NTAwMDIsMC41NjI1MDAwMDggTDIuMjUwMDAwMDMsMzEuNTAwMDAwNSBMNy44NzUwMDAxMiw2NS4yNTAwMDEgTDMuOTM3NTAwMDYsNjcuNTAwMDAxIEw5LjU2MjUwMDE0LDcyLjU2MjUgTDUuMDYyNTAwMDgsNzYuNTAwMDAxMSBMMTEuMjUsODIuMTI1MDAxMiBMNy4zMTI1MDAxMSw4NS41MDAwMDEzIEwxNi4zMTI1MDAyLDk2Ljc1MDAwMTQgTDU4LjUwMDAwMDksODMuODEyNTAxMiBDNzkuMTI1MDAxMiw2Ny4zMTI1MDA0IDg5LjI1MDAwMTMsNTguODc1MDAwMyA4OC44NzUwMDEzLDU4LjUwMDAwMDkgQzg4LjUwMDAwMTMsNTguMTI1MDAwOSA2My4wMDAwMDA5LDM4LjgxMjUwMDYgMTIuMzc1MDAwMiwwLjU2MjUwMDAwOCBaIi8+PC9nPjwvZz48L3N2Zz4=",fordefi:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwXzEzNDk0XzY2MjU0KSI+CjxwYXRoIGQ9Ik0xMC44NzY5IDE1LjYzNzhIMS41VjE4LjM5OUMxLjUgMTkuODAxMyAyLjYzNDQ3IDIwLjkzOCA0LjAzMzkyIDIwLjkzOEg4LjI0OTkyTDEwLjg3NjkgMTUuNjM3OFoiIGZpbGw9IiM3OTk0RkYiLz4KPHBhdGggZD0iTTEuNSA5Ljc3NTUxSDE5LjA1MTZMMTcuMDEzOSAxMy44NzExSDEuNVY5Ljc3NTUxWiIgZmlsbD0iIzQ4NkRGRiIvPgo8cGF0aCBkPSJNNy42NTk5NiAzSDEuNTI0NDFWOC4wMDcwNEgyMi40NjEyVjNIMTYuMzI1NlY2LjczOTQ0SDE1LjA2MDZWM0g4LjkyNTAyVjYuNzM5NDRINy42NTk5NlYzWiIgZmlsbD0iIzVDRDFGQSIvPgo8L2c+CjxkZWZzPgo8Y2xpcFBhdGggaWQ9ImNsaXAwXzEzNDk0XzY2MjU0Ij4KPHJlY3Qgd2lkdGg9IjIxIiBoZWlnaHQ9IjE4IiBmaWxsPSJ3aGl0ZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMS41IDMpIi8+CjwvY2xpcFBhdGg+CjwvZGVmcz4KPC9zdmc+Cg=="};let T$2=class Py extends R$2{constructor({options:s}){super(),i$3(this,"_wallet"),i$3(this,"_options"),this._options=s}static getInjectedWallet(s){return globalThis?.[`starknet_${s}`]}static isWalletInjected(s){return!!Py.getInjectedWallet(s)}get id(){return this._options.id}get name(){return this.ensureWallet(),this._options.name??this._wallet?.name??this._options.id}get icon(){this.ensureWallet();const s={dark:L$3[this.id]||U$3,light:L$3[this.id]||E$2};return this._options.icon||this._wallet?.icon||s}available(){return this.ensureWallet(),this._wallet!==void 0}async chainId(){this.ensureWallet();const s=await this.isLocked();if(!this._wallet||s)throw new U$5;try{const sf=await this.request({type:"wallet_requestChainId"});return BigInt(sf)}catch{throw new W$4}}async ready(){return this.ensureWallet(),this._wallet?(await this.request({type:"wallet_getPermissions"}))?.includes(T$3.ACCOUNTS):!1}async account(s){if(this.ensureWallet(),await this.isLocked()||!this._wallet)throw new U$5;const sf=await this.request({type:"wallet_requestAccounts",params:{silent_mode:!0}});return new WalletAccount(s,this._wallet,void 0,sf[0])}async connect(s={}){if(this.ensureWallet(),!this._wallet)throw new W$4;let sf;try{sf=await this.request({type:"wallet_requestAccounts"})}catch{throw new q$4}if(!sf)throw new q$4;this._wallet.on("accountsChanged",async em=>{await this.onAccountsChanged(em)}),this._wallet.on("networkChanged",(em,tm)=>{this.onNetworkChanged(em,tm)}),await this.onAccountsChanged(sf);const[Nf]=sf,ip=await this.chainId();return this.emit("connect",{account:Nf,chainId:ip}),{account:Nf,chainId:ip}}async disconnect(){if(this.ensureWallet(),M$3(),!this._wallet)throw new W$4;this.emit("disconnect")}async request(s){if(this.ensureWallet(),!this._wallet)throw new U$5;try{return await this._wallet.request(s)}catch{throw new q$4}}async isLocked(){return(await this.request({type:"wallet_requestAccounts",params:{silent_mode:!0}})).length===0}ensureWallet(){const s=Py.getInjectedWallet(this._options.id);s&&(this._wallet=s)}async onAccountsChanged(s){if(!s)this.emit("disconnect");else{const[sf]=s;if(sf){const Nf=await this.chainId();this.emit("change",{account:sf,chainId:Nf})}else this.emit("disconnect")}}onNetworkChanged(s,sf){if(s){const Nf=BigInt(s),[ip]=sf||[];this.emit("change",{chainId:Nf,account:ip})}else this.emit("change",{})}get wallet(){if(!this._wallet)throw new U$5;return this._wallet}};var N$2=Object.defineProperty,v$1=(r,s,sf)=>s in r?N$2(r,s,{enumerable:!0,configurable:!0,writable:!0,value:sf}):r[s]=sf,l$2=(r,s,sf)=>(v$1(r,typeof s!="symbol"?s+"":s,sf),sf);const L$2={mainnet:"https://starknet-mainnet.public.blastapi.io",testnet:"https://starknet-sepolia.public.blastapi.io"},O$2={mainnet:"https://rpc.starknet.lava.build",testnet:"https://rpc.starknet-sepolia.lava.build"},d$1=[L$2,O$2];function q$2(){const r=Math.floor(Math.random()*d$1.length);return d$1[r]}let W$2,_$2,g$1;W$2=()=>Object.keys(localStorage).some(r=>r==="walletconnect"||r.startsWith("wc@2:"));p$2=()=>{if(W$2()){delete localStorage.walletconnect;for(const r in localStorage)r.startsWith("wc@2:")&&delete localStorage[r]}};_$2="f2e613881f7a0e811295cdd57999e31b";g$1=`<svg
    width="32"
    height="32"
    viewBox="0 0 32 32"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <rect width="32" height="32" rx="8" fill="#FF875B" />
    <path
      d="M18.316 8H13.684C13.5292 8 13.4052 8.1272 13.4018 8.28531C13.3082 12.7296 11.0323 16.9477 7.11513 19.9355C6.99077 20.0303 6.96243 20.2085 7.05335 20.3369L9.76349 24.1654C9.85569 24.2957 10.0353 24.3251 10.1618 24.2294C12.6111 22.3734 14.5812 20.1345 16 17.6529C17.4187 20.1345 19.389 22.3734 21.8383 24.2294C21.9646 24.3251 22.1443 24.2957 22.2366 24.1654L24.9467 20.3369C25.0375 20.2085 25.0092 20.0303 24.885 19.9355C20.9676 16.9477 18.6918 12.7296 18.5983 8.28531C18.5949 8.1272 18.4708 8 18.316 8Z"
      fill="white"
    />
  </svg>`;let U$2=class extends R$2{constructor(s){super(),l$2(this,"_wallet",null),l$2(this,"_options"),this._options=s}available(){return!0}async ready(){if(!this._wallet)return!1;try{return(await this._wallet.request({type:"wallet_getPermissions"})).includes(T$3.ACCOUNTS)}catch{return!1}}get id(){return"argentMobile"}get name(){return"Argent (mobile)"}get icon(){return{dark:g$1,light:g$1}}get wallet(){if(!this._wallet)throw new U$5;return this._wallet}async connect(s={}){if(await this.ensureWallet(),!this._wallet)throw new W$4;const sf=await this._wallet.request({type:"wallet_requestAccounts"}),Nf=await this.chainId();return{account:sf[0],chainId:Nf}}async disconnect(){if(await this._wallet.disable(),p$2(),!this.available()&&!this._wallet)throw new W$4;this._wallet=null}async account(s){if(!this._wallet)throw new U$5;const sf=await this._wallet.request({type:"wallet_requestAccounts",params:{silent_mode:!0}});return new WalletAccount(s,this._wallet,void 0,sf[0])}async chainId(){if(!this._wallet)throw new U$5;const s=await this._wallet.request({type:"wallet_requestChainId"}),sf=S$2(s);return BigInt(sf)}async request(s){if(!this._wallet)throw new U$5;try{return await this._wallet.request(s)}catch{throw new q$4}}async initEventListener(s){if(!this._wallet)throw new U$5;this._wallet.on("accountsChanged",s)}async removeEventListener(s){if(!this._wallet)throw new U$5;this._wallet.off("accountsChanged",s),this._wallet=null}async ensureWallet(){const{getStarknetWindowObject:s}=await import("./index-1c1d2b10-BqRs4xUU.js"),{chainId:sf,projectId:Nf,dappName:ip,description:em,url:tm,icons:nm,rpcUrl:rm}=this._options,om=q$2(),im=rm??(!sf||sf===constants_exports.NetworkName.SN_MAIN?om.mainnet:om.testnet),am={chainId:sf??constants_exports.NetworkName.SN_MAIN,name:ip,projectId:Nf??_$2,description:em,url:tm,icons:nm,rpcUrl:im};Nf===_$2&&(console.log("========= NOTICE ========="),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys."),console.log("Go to WalletConnect Cloud (https://cloud.walletconnect.com) and create a new account."),console.log("Once your account is created, create a new project and collect the Project ID"),console.log("=========================="));const sm=await s(am);if(!sm)throw new q$4;this._wallet=sm;const cm=this._wallet;await cm.enable(),cm.client.on("session_delete",()=>{p$2(),this._wallet=null,M$3(),document.dispatchEvent(new Event("wallet_disconnected"))})}};var i$2=Object.defineProperty,l$1=(r,s,sf)=>s in r?i$2(r,s,{enumerable:!0,configurable:!0,writable:!0,value:sf}):r[s]=sf,n$1=(r,s,sf)=>(l$1(r,s+"",sf),sf);const o=`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="32px" height="32px" viewBox="0 0 32 32" version="1.1">
    <defs>
    <clipPath id="clip1">
      <path d="M 5.332031 0 L 26.667969 0 C 29.613281 0 32 2.386719 32 5.332031 L 32 26.667969 C 32 29.613281 29.613281 32 26.667969 32 L 5.332031 32 C 2.386719 32 0 29.613281 0 26.667969 L 0 5.332031 C 0 2.386719 2.386719 0 5.332031 0 Z M 5.332031 0 "/>
    </clipPath>
    <linearGradient id="linear0" gradientUnits="userSpaceOnUse" x1="-9.552" y1="-6.444" x2="50.240002" y2="41.303001" gradientTransform="matrix(0.666667,0,0,0.666667,0,0)">
      <stop offset="0" style="stop-color:rgb(3.529412%,45.09804%,75.294119%);stop-opacity:1;"/>
      <stop offset="1" style="stop-color:rgb(10.980392%,28.627452%,87.058824%);stop-opacity:1;"/>
    </linearGradient>
    <clipPath id="clip2">
      <path d="M 7 4 L 25 4 L 25 15 L 7 15 Z M 7 4 "/>
    </clipPath>
    <clipPath id="clip3">
      <path d="M 5.332031 0 L 26.667969 0 C 29.613281 0 32 2.386719 32 5.332031 L 32 26.667969 C 32 29.613281 29.613281 32 26.667969 32 L 5.332031 32 C 2.386719 32 0 29.613281 0 26.667969 L 0 5.332031 C 0 2.386719 2.386719 0 5.332031 0 Z M 5.332031 0 "/>
    </clipPath>
    <clipPath id="clip4">
    	<path d="M 6 13 L 26 13 L 26 28 L 6 28 Z M 6 13 "/>
    </clipPath>
    <clipPath id="clip5">
      <path d="M 5.332031 0 L 26.667969 0 C 29.613281 0 32 2.386719 32 5.332031 L 32 26.667969 C 32 29.613281 29.613281 32 26.667969 32 L 5.332031 32 C 2.386719 32 0 29.613281 0 26.667969 L 0 5.332031 C 0 2.386719 2.386719 0 5.332031 0 Z M 5.332031 0 "/>
    </clipPath>
    </defs>
    <g id="surface1">
      <g clip-path="url(#clip1)" clip-rule="nonzero">
        <rect x="0" y="0" width="32" height="32" style="fill:url(#linear0);stroke:none;"/>
      </g>
    	<g clip-path="url(#clip2)" clip-rule="nonzero">
        <g clip-path="url(#clip3)" clip-rule="nonzero">
	        <path style=" stroke:none;fill-rule:nonzero;fill:rgb(100%,100%,100%);fill-opacity:1;" d="M 19.507812 6.320312 C 19.542969 6.378906 19.496094 6.453125 19.425781 6.453125 C 18.027344 6.453125 16.886719 7.5625 16.859375 8.941406 C 16.375 8.851562 15.878906 8.847656 15.390625 8.929688 C 15.359375 7.554688 14.222656 6.453125 12.824219 6.453125 C 12.757812 6.453125 12.710938 6.378906 12.746094 6.320312 C 13.453125 5.128906 14.738281 4.398438 16.125 4.398438 C 17.515625 4.394531 18.800781 5.125 19.507812 6.320312 M 23.65625 14.847656 C 24.132812 14.992188 24.585938 14.574219 24.402344 14.109375 C 23.066406 10.65625 19.109375 9.242188 16.105469 9.242188 C 13.097656 9.242188 9.054688 10.703125 7.804688 14.128906 C 7.632812 14.589844 8.082031 14.996094 8.550781 14.851562 L 15.75 12.648438 C 15.957031 12.582031 16.179688 12.582031 16.386719 12.644531 Z M 23.65625 14.847656 "/>
        </g>
    	</g>
    	<g clip-path="url(#clip4)" clip-rule="nonzero">
        <g clip-path="url(#clip5)" clip-rule="nonzero">
          <path style=" stroke:none;fill-rule:nonzero;fill:rgb(100%,100%,100%);fill-opacity:1;" d="M 7.734375 15.511719 L 15.757812 13.078125 C 15.964844 13.015625 16.183594 13.015625 16.390625 13.078125 L 24.464844 15.511719 C 25.136719 15.714844 25.597656 16.335938 25.597656 17.042969 L 25.597656 24.378906 C 25.566406 26.167969 23.960938 27.605469 22.167969 27.605469 L 19.195312 27.605469 C 19.054688 27.605469 18.917969 27.550781 18.820312 27.449219 C 18.71875 27.347656 18.664062 27.214844 18.664062 27.074219 L 18.664062 24.5 C 18.664062 23.488281 19.261719 22.570312 20.191406 22.164062 C 21.433594 21.621094 22.90625 20.886719 23.183594 19.410156 C 23.269531 18.933594 22.960938 18.472656 22.484375 18.378906 C 21.285156 18.140625 19.953125 18.230469 18.824219 18.734375 C 17.546875 19.308594 17.210938 20.257812 17.085938 21.539062 L 16.9375 22.914062 C 16.890625 23.335938 16.496094 23.65625 16.074219 23.65625 C 15.636719 23.65625 15.308594 23.324219 15.261719 22.886719 L 15.113281 21.539062 C 15.007812 20.441406 14.8125 19.378906 13.683594 18.875 C 12.390625 18.296875 11.09375 18.105469 9.714844 18.378906 C 9.238281 18.472656 8.929688 18.933594 9.015625 19.410156 C 9.296875 20.898438 10.757812 21.617188 12.007812 22.164062 C 12.9375 22.570312 13.535156 23.488281 13.535156 24.5 L 13.535156 27.074219 C 13.535156 27.367188 13.296875 27.605469 13.003906 27.605469 L 10.03125 27.605469 C 8.238281 27.605469 6.628906 26.167969 6.597656 24.378906 L 6.597656 17.039062 C 6.597656 16.335938 7.058594 15.714844 7.734375 15.511719 "/>
        </g>
    	</g>
    </g>
</svg>
`;let c$1=class extends R$2{constructor(){super(),n$1(this,"_wallet",null)}available(){return!0}async ready(){return!0}get id(){return"braavosMobile"}get name(){return"Braavos (mobile)"}get icon(){return{dark:o,light:o}}get wallet(){throw new Error("not implemented")}async connect(s={}){return await this.ensureWallet(),{account:"",chainId:BigInt(0)}}async disconnect(){throw new Error("not implemented")}async account(s){throw new Error("not implemented")}async chainId(){throw new Error("not implemented")}async request(s){throw new Error("not implemented")}async initEventListener(s){throw new Error("not implemented")}async removeEventListener(s){throw new Error("not implemented")}async ensureWallet(){window.open(`https://link.braavos.app/dapp/${window.origin}`,"_blank")}};var Ee$1=Object.defineProperty,Pe$1=(r,s,sf)=>s in r?Ee$1(r,s,{enumerable:!0,configurable:!0,writable:!0,value:sf}):r[s]=sf,J$1=(r,s,sf)=>(Pe$1(r,typeof s!="symbol"?s+"":s,sf),sf);const Re$1=()=>{const r=navigator.userAgent.toLowerCase(),s=/android|webos|iphone|ipad|ipod|blackberry|windows phone/.test(r),sf="ontouchstart"in window||navigator.maxTouchPoints>0,Nf=window.innerWidth<=768;return s&&(sf||Nf)},Ie$1=({argentMobileOptions:r,webWalletUrl:s})=>{const sf=typeof window<"u"?/^((?!chrome|android).)*safari/i.test(navigator.userAgent):!1,Nf=[];return sf||(Nf.push(new T$2({options:{id:"argentX"}})),Nf.push(new T$2({options:{id:"braavos"}})),T$2.isWalletInjected("metamask")&&Nf.push(new T$2({options:{id:"metamask"}})),T$2.isWalletInjected("fordefi")&&Nf.push(new T$2({options:{id:"fordefi"}})),T$2.isWalletInjected("keplr")&&Nf.push(new T$2({options:{id:"keplr"}}))),Nf.push(new U$2(r)),Re$1()&&Nf.push(new c$1),Nf.push(new bo$1({url:s})),Nf},Ve$1={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},be$1={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},M$1={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},F$1={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},P$1={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};let i$1=class ey{static getFirstMatch(s,sf){const Nf=sf.match(s);return Nf&&Nf.length>0&&Nf[1]||""}static getSecondMatch(s,sf){const Nf=sf.match(s);return Nf&&Nf.length>1&&Nf[2]||""}static matchAndReturnConst(s,sf,Nf){if(s.test(sf))return Nf}static getWindowsVersionName(s){switch(s){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(s){const sf=s.split(".").splice(0,2).map(Nf=>parseInt(Nf,10)||0);if(sf.push(0),sf[0]===10)switch(sf[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(s){const sf=s.split(".").splice(0,2).map(Nf=>parseInt(Nf,10)||0);if(sf.push(0),!(sf[0]===1&&sf[1]<5)){if(sf[0]===1&&sf[1]<6)return"Cupcake";if(sf[0]===1&&sf[1]>=6)return"Donut";if(sf[0]===2&&sf[1]<2)return"Eclair";if(sf[0]===2&&sf[1]===2)return"Froyo";if(sf[0]===2&&sf[1]>2)return"Gingerbread";if(sf[0]===3)return"Honeycomb";if(sf[0]===4&&sf[1]<1)return"Ice Cream Sandwich";if(sf[0]===4&&sf[1]<4)return"Jelly Bean";if(sf[0]===4&&sf[1]>=4)return"KitKat";if(sf[0]===5)return"Lollipop";if(sf[0]===6)return"Marshmallow";if(sf[0]===7)return"Nougat";if(sf[0]===8)return"Oreo";if(sf[0]===9)return"Pie"}}static getVersionPrecision(s){return s.split(".").length}static compareVersions(s,sf,Nf=!1){const ip=ey.getVersionPrecision(s),em=ey.getVersionPrecision(sf);let tm=Math.max(ip,em),nm=0;const rm=ey.map([s,sf],om=>{const im=tm-ey.getVersionPrecision(om),am=om+new Array(im+1).join(".0");return ey.map(am.split("."),sm=>new Array(20-sm.length).join("0")+sm).reverse()});for(Nf&&(nm=tm-Math.min(ip,em)),tm-=1;tm>=nm;){if(rm[0][tm]>rm[1][tm])return 1;if(rm[0][tm]===rm[1][tm]){if(tm===nm)return 0;tm-=1}else if(rm[0][tm]<rm[1][tm])return-1}}static map(s,sf){const Nf=[];let ip;if(Array.prototype.map)return Array.prototype.map.call(s,sf);for(ip=0;ip<s.length;ip+=1)Nf.push(sf(s[ip]));return Nf}static find(s,sf){let Nf,ip;if(Array.prototype.find)return Array.prototype.find.call(s,sf);for(Nf=0,ip=s.length;Nf<ip;Nf+=1){const em=s[Nf];if(sf(em,Nf))return em}}static assign(s,...sf){const Nf=s;let ip,em;if(Object.assign)return Object.assign(s,...sf);for(ip=0,em=sf.length;ip<em;ip+=1){const tm=sf[ip];typeof tm=="object"&&tm!==null&&Object.keys(tm).forEach(nm=>{Nf[nm]=tm[nm]})}return s}static getBrowserAlias(s){return Ve$1[s]}static getBrowserTypeByAlias(s){return be$1[s]||""}};const k$1=/version\/(\d+(\.?_?\d+)+)/i,De$1=[{test:[/googlebot/i],describe(r){const s={name:"Googlebot"},sf=i$1.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,r)||i$1.getFirstMatch(k$1,r);return sf&&(s.version=sf),s}},{test:[/opera/i],describe(r){const s={name:"Opera"},sf=i$1.getFirstMatch(k$1,r)||i$1.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,r);return sf&&(s.version=sf),s}},{test:[/opr\/|opios/i],describe(r){const s={name:"Opera"},sf=i$1.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,r)||i$1.getFirstMatch(k$1,r);return sf&&(s.version=sf),s}},{test:[/SamsungBrowser/i],describe(r){const s={name:"Samsung Internet for Android"},sf=i$1.getFirstMatch(k$1,r)||i$1.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,r);return sf&&(s.version=sf),s}},{test:[/Whale/i],describe(r){const s={name:"NAVER Whale Browser"},sf=i$1.getFirstMatch(k$1,r)||i$1.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,r);return sf&&(s.version=sf),s}},{test:[/MZBrowser/i],describe(r){const s={name:"MZ Browser"},sf=i$1.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,r)||i$1.getFirstMatch(k$1,r);return sf&&(s.version=sf),s}},{test:[/focus/i],describe(r){const s={name:"Focus"},sf=i$1.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,r)||i$1.getFirstMatch(k$1,r);return sf&&(s.version=sf),s}},{test:[/swing/i],describe(r){const s={name:"Swing"},sf=i$1.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,r)||i$1.getFirstMatch(k$1,r);return sf&&(s.version=sf),s}},{test:[/coast/i],describe(r){const s={name:"Opera Coast"},sf=i$1.getFirstMatch(k$1,r)||i$1.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,r);return sf&&(s.version=sf),s}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(r){const s={name:"Opera Touch"},sf=i$1.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,r)||i$1.getFirstMatch(k$1,r);return sf&&(s.version=sf),s}},{test:[/yabrowser/i],describe(r){const s={name:"Yandex Browser"},sf=i$1.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,r)||i$1.getFirstMatch(k$1,r);return sf&&(s.version=sf),s}},{test:[/ucbrowser/i],describe(r){const s={name:"UC Browser"},sf=i$1.getFirstMatch(k$1,r)||i$1.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,r);return sf&&(s.version=sf),s}},{test:[/Maxthon|mxios/i],describe(r){const s={name:"Maxthon"},sf=i$1.getFirstMatch(k$1,r)||i$1.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,r);return sf&&(s.version=sf),s}},{test:[/epiphany/i],describe(r){const s={name:"Epiphany"},sf=i$1.getFirstMatch(k$1,r)||i$1.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,r);return sf&&(s.version=sf),s}},{test:[/puffin/i],describe(r){const s={name:"Puffin"},sf=i$1.getFirstMatch(k$1,r)||i$1.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,r);return sf&&(s.version=sf),s}},{test:[/sleipnir/i],describe(r){const s={name:"Sleipnir"},sf=i$1.getFirstMatch(k$1,r)||i$1.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,r);return sf&&(s.version=sf),s}},{test:[/k-meleon/i],describe(r){const s={name:"K-Meleon"},sf=i$1.getFirstMatch(k$1,r)||i$1.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,r);return sf&&(s.version=sf),s}},{test:[/micromessenger/i],describe(r){const s={name:"WeChat"},sf=i$1.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,r)||i$1.getFirstMatch(k$1,r);return sf&&(s.version=sf),s}},{test:[/qqbrowser/i],describe(r){const s={name:/qqbrowserlite/i.test(r)?"QQ Browser Lite":"QQ Browser"},sf=i$1.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,r)||i$1.getFirstMatch(k$1,r);return sf&&(s.version=sf),s}},{test:[/msie|trident/i],describe(r){const s={name:"Internet Explorer"},sf=i$1.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,r);return sf&&(s.version=sf),s}},{test:[/\sedg\//i],describe(r){const s={name:"Microsoft Edge"},sf=i$1.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,r);return sf&&(s.version=sf),s}},{test:[/edg([ea]|ios)/i],describe(r){const s={name:"Microsoft Edge"},sf=i$1.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,r);return sf&&(s.version=sf),s}},{test:[/vivaldi/i],describe(r){const s={name:"Vivaldi"},sf=i$1.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,r);return sf&&(s.version=sf),s}},{test:[/seamonkey/i],describe(r){const s={name:"SeaMonkey"},sf=i$1.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,r);return sf&&(s.version=sf),s}},{test:[/sailfish/i],describe(r){const s={name:"Sailfish"},sf=i$1.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,r);return sf&&(s.version=sf),s}},{test:[/silk/i],describe(r){const s={name:"Amazon Silk"},sf=i$1.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,r);return sf&&(s.version=sf),s}},{test:[/phantom/i],describe(r){const s={name:"PhantomJS"},sf=i$1.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,r);return sf&&(s.version=sf),s}},{test:[/slimerjs/i],describe(r){const s={name:"SlimerJS"},sf=i$1.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,r);return sf&&(s.version=sf),s}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(r){const s={name:"BlackBerry"},sf=i$1.getFirstMatch(k$1,r)||i$1.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,r);return sf&&(s.version=sf),s}},{test:[/(web|hpw)[o0]s/i],describe(r){const s={name:"WebOS Browser"},sf=i$1.getFirstMatch(k$1,r)||i$1.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,r);return sf&&(s.version=sf),s}},{test:[/bada/i],describe(r){const s={name:"Bada"},sf=i$1.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,r);return sf&&(s.version=sf),s}},{test:[/tizen/i],describe(r){const s={name:"Tizen"},sf=i$1.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,r)||i$1.getFirstMatch(k$1,r);return sf&&(s.version=sf),s}},{test:[/qupzilla/i],describe(r){const s={name:"QupZilla"},sf=i$1.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,r)||i$1.getFirstMatch(k$1,r);return sf&&(s.version=sf),s}},{test:[/firefox|iceweasel|fxios/i],describe(r){const s={name:"Firefox"},sf=i$1.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,r);return sf&&(s.version=sf),s}},{test:[/electron/i],describe(r){const s={name:"Electron"},sf=i$1.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,r);return sf&&(s.version=sf),s}},{test:[/MiuiBrowser/i],describe(r){const s={name:"Miui"},sf=i$1.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,r);return sf&&(s.version=sf),s}},{test:[/chromium/i],describe(r){const s={name:"Chromium"},sf=i$1.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,r)||i$1.getFirstMatch(k$1,r);return sf&&(s.version=sf),s}},{test:[/chrome|crios|crmo/i],describe(r){const s={name:"Chrome"},sf=i$1.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,r);return sf&&(s.version=sf),s}},{test:[/GSA/i],describe(r){const s={name:"Google Search"},sf=i$1.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,r);return sf&&(s.version=sf),s}},{test(r){const s=!r.test(/like android/i),sf=r.test(/android/i);return s&&sf},describe(r){const s={name:"Android Browser"},sf=i$1.getFirstMatch(k$1,r);return sf&&(s.version=sf),s}},{test:[/playstation 4/i],describe(r){const s={name:"PlayStation 4"},sf=i$1.getFirstMatch(k$1,r);return sf&&(s.version=sf),s}},{test:[/safari|applewebkit/i],describe(r){const s={name:"Safari"},sf=i$1.getFirstMatch(k$1,r);return sf&&(s.version=sf),s}},{test:[/.*/i],describe(r){const s=/^(.*)\/(.*) /,sf=/^(.*)\/(.*)[ \t]\((.*)/,Nf=r.search("\\(")!==-1?sf:s;return{name:i$1.getFirstMatch(Nf,r),version:i$1.getSecondMatch(Nf,r)}}}],qe$1=[{test:[/Roku\/DVP/],describe(r){const s=i$1.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,r);return{name:F$1.Roku,version:s}}},{test:[/windows phone/i],describe(r){const s=i$1.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,r);return{name:F$1.WindowsPhone,version:s}}},{test:[/windows /i],describe(r){const s=i$1.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,r),sf=i$1.getWindowsVersionName(s);return{name:F$1.Windows,version:s,versionName:sf}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(r){const s={name:F$1.iOS},sf=i$1.getSecondMatch(/(Version\/)(\d[\d.]+)/,r);return sf&&(s.version=sf),s}},{test:[/macintosh/i],describe(r){const s=i$1.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,r).replace(/[_\s]/g,"."),sf=i$1.getMacOSVersionName(s),Nf={name:F$1.MacOS,version:s};return sf&&(Nf.versionName=sf),Nf}},{test:[/(ipod|iphone|ipad)/i],describe(r){const s=i$1.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,r).replace(/[_\s]/g,".");return{name:F$1.iOS,version:s}}},{test(r){const s=!r.test(/like android/i),sf=r.test(/android/i);return s&&sf},describe(r){const s=i$1.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,r),sf=i$1.getAndroidVersionName(s),Nf={name:F$1.Android,version:s};return sf&&(Nf.versionName=sf),Nf}},{test:[/(web|hpw)[o0]s/i],describe(r){const s=i$1.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,r),sf={name:F$1.WebOS};return s&&s.length&&(sf.version=s),sf}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(r){const s=i$1.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,r)||i$1.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,r)||i$1.getFirstMatch(/\bbb(\d+)/i,r);return{name:F$1.BlackBerry,version:s}}},{test:[/bada/i],describe(r){const s=i$1.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,r);return{name:F$1.Bada,version:s}}},{test:[/tizen/i],describe(r){const s=i$1.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,r);return{name:F$1.Tizen,version:s}}},{test:[/linux/i],describe(){return{name:F$1.Linux}}},{test:[/CrOS/],describe(){return{name:F$1.ChromeOS}}},{test:[/PlayStation 4/],describe(r){const s=i$1.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,r);return{name:F$1.PlayStation4,version:s}}}],Ge$1=[{test:[/googlebot/i],describe(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe(r){const s=i$1.getFirstMatch(/(can-l01)/i,r)&&"Nova",sf={type:M$1.mobile,vendor:"Huawei"};return s&&(sf.model=s),sf}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:M$1.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:M$1.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:M$1.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:M$1.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:M$1.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:M$1.tablet}}},{test(r){const s=r.test(/ipod|iphone/i),sf=r.test(/like (ipod|iphone)/i);return s&&!sf},describe(r){const s=i$1.getFirstMatch(/(ipod|iphone)/i,r);return{type:M$1.mobile,vendor:"Apple",model:s}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:M$1.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe(){return{type:M$1.mobile}}},{test(r){return r.getBrowserName(!0)==="blackberry"},describe(){return{type:M$1.mobile,vendor:"BlackBerry"}}},{test(r){return r.getBrowserName(!0)==="bada"},describe(){return{type:M$1.mobile}}},{test(r){return r.getBrowserName()==="windows phone"},describe(){return{type:M$1.mobile,vendor:"Microsoft"}}},{test(r){const s=Number(String(r.getOSVersion()).split(".")[0]);return r.getOSName(!0)==="android"&&s>=3},describe(){return{type:M$1.tablet}}},{test(r){return r.getOSName(!0)==="android"},describe(){return{type:M$1.mobile}}},{test(r){return r.getOSName(!0)==="macos"},describe(){return{type:M$1.desktop,vendor:"Apple"}}},{test(r){return r.getOSName(!0)==="windows"},describe(){return{type:M$1.desktop}}},{test(r){return r.getOSName(!0)==="linux"},describe(){return{type:M$1.desktop}}},{test(r){return r.getOSName(!0)==="playstation 4"},describe(){return{type:M$1.tv}}},{test(r){return r.getOSName(!0)==="roku"},describe(){return{type:M$1.tv}}}],Qe$1=[{test(r){return r.getBrowserName(!0)==="microsoft edge"},describe(r){if(/\sedg\//i.test(r))return{name:P$1.Blink};const s=i$1.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,r);return{name:P$1.EdgeHTML,version:s}}},{test:[/trident/i],describe(r){const s={name:P$1.Trident},sf=i$1.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,r);return sf&&(s.version=sf),s}},{test(r){return r.test(/presto/i)},describe(r){const s={name:P$1.Presto},sf=i$1.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,r);return sf&&(s.version=sf),s}},{test(r){const s=r.test(/gecko/i),sf=r.test(/like gecko/i);return s&&!sf},describe(r){const s={name:P$1.Gecko},sf=i$1.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,r);return sf&&(s.version=sf),s}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:P$1.Blink}}},{test:[/(apple)?webkit/i],describe(r){const s={name:P$1.WebKit},sf=i$1.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,r);return sf&&(s.version=sf),s}}];let se$1=class{constructor(s,sf=!1){if(s==null||s==="")throw new Error("UserAgent parameter can't be empty");this._ua=s,this.parsedResult={},sf!==!0&&this.parse()}getUA(){return this._ua}test(s){return s.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const s=i$1.find(De$1,sf=>{if(typeof sf.test=="function")return sf.test(this);if(sf.test instanceof Array)return sf.test.some(Nf=>this.test(Nf));throw new Error("Browser's test function is not valid")});return s&&(this.parsedResult.browser=s.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(s){return s?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const s=i$1.find(qe$1,sf=>{if(typeof sf.test=="function")return sf.test(this);if(sf.test instanceof Array)return sf.test.some(Nf=>this.test(Nf));throw new Error("Browser's test function is not valid")});return s&&(this.parsedResult.os=s.describe(this.getUA())),this.parsedResult.os}getOSName(s){const{name:sf}=this.getOS();return s?String(sf).toLowerCase()||"":sf||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(s=!1){const{type:sf}=this.getPlatform();return s?String(sf).toLowerCase()||"":sf||""}parsePlatform(){this.parsedResult.platform={};const s=i$1.find(Ge$1,sf=>{if(typeof sf.test=="function")return sf.test(this);if(sf.test instanceof Array)return sf.test.some(Nf=>this.test(Nf));throw new Error("Browser's test function is not valid")});return s&&(this.parsedResult.platform=s.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(s){return s?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const s=i$1.find(Qe$1,sf=>{if(typeof sf.test=="function")return sf.test(this);if(sf.test instanceof Array)return sf.test.some(Nf=>this.test(Nf));throw new Error("Browser's test function is not valid")});return s&&(this.parsedResult.engine=s.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return i$1.assign({},this.parsedResult)}satisfies(s){const sf={};let Nf=0;const ip={};let em=0;if(Object.keys(s).forEach(tm=>{const nm=s[tm];typeof nm=="string"?(ip[tm]=nm,em+=1):typeof nm=="object"&&(sf[tm]=nm,Nf+=1)}),Nf>0){const tm=Object.keys(sf),nm=i$1.find(tm,om=>this.isOS(om));if(nm){const om=this.satisfies(sf[nm]);if(om!==void 0)return om}const rm=i$1.find(tm,om=>this.isPlatform(om));if(rm){const om=this.satisfies(sf[rm]);if(om!==void 0)return om}}if(em>0){const tm=Object.keys(ip),nm=i$1.find(tm,rm=>this.isBrowser(rm,!0));if(nm!==void 0)return this.compareVersion(ip[nm])}}isBrowser(s,sf=!1){const Nf=this.getBrowserName().toLowerCase();let ip=s.toLowerCase();const em=i$1.getBrowserTypeByAlias(ip);return sf&&em&&(ip=em.toLowerCase()),ip===Nf}compareVersion(s){let sf=[0],Nf=s,ip=!1;const em=this.getBrowserVersion();if(typeof em=="string")return s[0]===">"||s[0]==="<"?(Nf=s.substr(1),s[1]==="="?(ip=!0,Nf=s.substr(2)):sf=[],s[0]===">"?sf.push(1):sf.push(-1)):s[0]==="="?Nf=s.substr(1):s[0]==="~"&&(ip=!0,Nf=s.substr(1)),sf.indexOf(i$1.compareVersions(em,Nf,ip))>-1}isOS(s){return this.getOSName(!0)===String(s).toLowerCase()}isPlatform(s){return this.getPlatformType(!0)===String(s).toLowerCase()}isEngine(s){return this.getEngineName(!0)===String(s).toLowerCase()}is(s,sf=!1){return this.isBrowser(s,sf)||this.isOS(s)||this.isPlatform(s)}some(s=[]){return s.some(sf=>this.is(sf))}};let Xe$1=class{static getParser(s,sf=!1){if(typeof s!="string")throw new Error("UserAgent should be a string");return new se$1(s,sf)}static parse(s){return new se$1(s).getResult()}static get BROWSER_MAP(){return be$1}static get ENGINE_MAP(){return P$1}static get OS_MAP(){return F$1}static get PLATFORMS_MAP(){return M$1}};const ae$1=typeof window<"u"?window:null;function He$1(){if(!ae$1)return null;switch(Xe$1.getParser(ae$1.navigator.userAgent).getBrowserName()?.toLowerCase()){case"firefox":return"firefox";case"microsoft edge":return"edge";case"android browser":case"chrome":case"chromium":case"electron":case"opera":case"vivaldi":return"chrome";default:return null}}var Ue$1=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis;const Ze$1=Ue$1;var Ke$1=typeof self=="object"&&self&&self.Object===Object&&self,Ye$1=Ze$1||Ke$1||Function("return this")();const $e$1=Ye$1;var Je$1=$e$1.Symbol;const Y$1=Je$1;var me$1=Object.prototype,et$1=me$1.hasOwnProperty,tt$1=me$1.toString,G$1=Y$1?Y$1.toStringTag:void 0;function rt$1(r){var s=et$1.call(r,G$1),sf=r[G$1];try{r[G$1]=void 0;var Nf=!0}catch{}var ip=tt$1.call(r);return Nf&&(s?r[G$1]=sf:delete r[G$1]),ip}var nt$1=Object.prototype,it$1=nt$1.toString;function ot$1(r){return it$1.call(r)}var st$1="[object Null]",at$1="[object Undefined]",ce$1=Y$1?Y$1.toStringTag:void 0;function ct$1(r){return r==null?r===void 0?at$1:st$1:ce$1&&ce$1 in Object(r)?rt$1(r):ot$1(r)}function lt$1(r){return r!=null&&typeof r=="object"}var dt$1=Array.isArray;const ut$1=dt$1;var ft$1="[object String]";function te$1(r){return typeof r=="string"||!ut$1(r)&&lt$1(r)&&ct$1(r)==ft$1}const wt$1=({availableConnectors:r,installedWallets:s,discoveryWallets:sf,storeVersion:Nf,customOrder:ip})=>{if(window?.starknet_argentX?.isInAppBrowser)return[];const em=s.map(tm=>r.find(nm=>nm.id===tm.id));return(ip?r:[...r.filter(tm=>em.includes(tm)),...r.filter(tm=>!em.includes(tm))]).map(tm=>{const nm=s.find(om=>om.id===tm.id);if(nm){const om=nm.id==="argentX"?{light:l$3,dark:l$3}:te$1(nm.icon)?{light:nm.icon,dark:nm.icon}:nm.icon;return{name:nm.name,id:nm.id,icon:om,connector:tm}}const rm=sf.filter(om=>!!om.downloads[Nf]).find(om=>om.id===tm.id);if(rm){const{downloads:om}=rm,im=rm.id==="argentX"?l$3:rm.icon;return{name:rm.name,id:rm.id,icon:{light:im,dark:im},connector:tm,download:om[Nf]}}return!tm||!tm.id||!tm.name?null:{name:tm.name,id:tm.id,icon:tm.icon,connector:tm,title:"title"in tm&&te$1(tm.title)?tm.title:void 0,subtitle:"subtitle"in tm&&te$1(tm.subtitle)?tm.subtitle:void 0}}).filter(tm=>tm!==null)};function R$1(){}function ve$1(r){return r()}function le$1(){return Object.create(null)}function j$1(r){r.forEach(ve$1)}function ye$1(r){return typeof r=="function"}function ke$1(r,s){return r!=r?s==s:r!==s||r&&typeof r=="object"||typeof r=="function"}let U$1;function _e$1(r,s){return r===s?!0:(U$1||(U$1=document.createElement("a")),U$1.href=s,r===U$1.href)}function gt$1(r){return Object.keys(r).length===0}function _$1(r,s){r.appendChild(s)}function W$1(r,s,sf){r.insertBefore(s,sf||null)}function E$1(r){r.parentNode&&r.parentNode.removeChild(r)}function ht$1(r,s){for(let sf=0;sf<r.length;sf+=1)r[sf]&&r[sf].d(s)}function B$1(r){return document.createElement(r)}function I$1(r){return document.createTextNode(r)}function z$1(){return I$1(" ")}function xe$1(){return I$1("")}function O$1(r,s,sf,Nf){return r.addEventListener(s,sf,Nf),()=>r.removeEventListener(s,sf,Nf)}function p$1(r,s,sf){sf==null?r.removeAttribute(s):r.getAttribute(s)!==sf&&r.setAttribute(s,sf)}function pt$1(r){return Array.from(r.childNodes)}function $$1(r,s){s=""+s,r.data!==s&&(r.data=s)}function Me$1(r,s,sf,Nf){sf==null?r.style.removeProperty(s):r.style.setProperty(s,sf,"")}let X$1;function Q$1(r){X$1=r}function bt$1(){if(!X$1)throw new Error("Function called outside component initialization");return X$1}function mt$1(r){bt$1().$$.on_mount.push(r)}const D$1=[],de$1=[];let q$1=[];const ue$1=[],vt$1=Promise.resolve();let ne$1=!1;function yt$1(){ne$1||(ne$1=!0,vt$1.then(Se$1))}function ie$1(r){q$1.push(r)}const re$2=new Set;let V$1=0;function Se$1(){if(V$1!==0)return;const r=X$1;do{try{for(;V$1<D$1.length;){const s=D$1[V$1];V$1++,Q$1(s),kt$1(s.$$)}}catch(s){throw D$1.length=0,V$1=0,s}for(Q$1(null),D$1.length=0,V$1=0;de$1.length;)de$1.pop()();for(let s=0;s<q$1.length;s+=1){const sf=q$1[s];re$2.has(sf)||(re$2.add(sf),sf())}q$1.length=0}while(D$1.length);for(;ue$1.length;)ue$1.pop()();ne$1=!1,re$2.clear(),Q$1(r)}function kt$1(r){if(r.fragment!==null){r.update(),j$1(r.before_update);const s=r.dirty;r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,s),r.after_update.forEach(ie$1)}}function _t$1(r){const s=[],sf=[];q$1.forEach(Nf=>r.indexOf(Nf)===-1?s.push(Nf):sf.push(Nf)),sf.forEach(Nf=>Nf()),q$1=s}const K$1=new Set;let T$1;function Be$1(){T$1={r:0,c:[],p:T$1}}function Fe$1(){T$1.r||j$1(T$1.c),T$1=T$1.p}function L$1(r,s){r&&r.i&&(K$1.delete(r),r.i(s))}function H$1(r,s,sf,Nf){if(r&&r.o){if(K$1.has(r))return;K$1.add(r),T$1.c.push(()=>{K$1.delete(r),Nf&&(sf&&r.d(1),Nf())}),r.o(s)}else Nf&&Nf()}function fe$1(r){return r?.length!==void 0?r:Array.from(r)}function xt$1(r){r&&r.c()}function Ce$1(r,s,sf){const{fragment:Nf,after_update:ip}=r.$$;Nf&&Nf.m(s,sf),ie$1(()=>{const em=r.$$.on_mount.map(ve$1).filter(ye$1);r.$$.on_destroy?r.$$.on_destroy.push(...em):j$1(em),r.$$.on_mount=[]}),ip.forEach(ie$1)}function Ae$1(r,s){const sf=r.$$;sf.fragment!==null&&(_t$1(sf.after_update),j$1(sf.on_destroy),sf.fragment&&sf.fragment.d(s),sf.on_destroy=sf.fragment=null,sf.ctx=[])}function Mt$1(r,s){r.$$.dirty[0]===-1&&(D$1.push(r),yt$1(),r.$$.dirty.fill(0)),r.$$.dirty[s/31|0]|=1<<s%31}function Oe$1(r,s,sf,Nf,ip,em,tm=null,nm=[-1]){const rm=X$1;Q$1(r);const om=r.$$={fragment:null,ctx:[],props:em,update:R$1,not_equal:ip,bound:le$1(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(s.context||(rm?rm.$$.context:[])),callbacks:le$1(),dirty:nm,skip_bound:!1,root:s.target||rm.$$.root};tm&&tm(om.root);let im=!1;if(om.ctx=sf?sf(r,s.props||{},(am,sm,...cm)=>{const hm=cm.length?cm[0]:sm;return om.ctx&&ip(om.ctx[am],om.ctx[am]=hm)&&(!om.skip_bound&&om.bound[am]&&om.bound[am](hm),im&&Mt$1(r,am)),sm}):[],om.update(),im=!0,j$1(om.before_update),om.fragment=Nf?Nf(om.ctx):!1,s.target){if(s.hydrate){const am=pt$1(s.target);om.fragment&&om.fragment.l(am),am.forEach(E$1)}else om.fragment&&om.fragment.c();s.intro&&L$1(r.$$.fragment),Ce$1(r,s.target,s.anchor),Se$1()}Q$1(rm)}let Ne$1=class{constructor(){J$1(this,"$$"),J$1(this,"$$set")}$destroy(){Ae$1(this,1),this.$destroy=R$1}$on(s,sf){if(!ye$1(sf))return R$1;const Nf=this.$$.callbacks[s]||(this.$$.callbacks[s]=[]);return Nf.push(sf),()=>{const ip=Nf.indexOf(sf);ip!==-1&&Nf.splice(ip,1)}}$set(s){this.$$set&&!gt$1(s)&&(this.$$.skip_bound=!0,this.$$set(s),this.$$.skip_bound=!1)}};const St$1="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(St$1);function Bt$1(r){let s,sf,Nf,ip,em,tm=((r[0].title??r[0].name)+""),nm,rm,om,im=((r[0].subtitle??"")+""),am,sm,cm,hm;function fm(_m,ym){return(_m[2]===_m[0]?.id?Ot$1:(_m[4]?At$1:Ct$1))}let pm=fm(r),mm=pm(r);return{c(){s=B$1("li"),sf=B$1("span"),Nf=z$1(),ip=B$1("div"),em=B$1("p"),nm=I$1(tm),rm=z$1(),om=B$1("p"),am=I$1(im),sm=z$1(),mm.c(),p$1(sf,"class","w-8 h-8"),p$1(em,"class","font-semibold text-base p"),p$1(om,"class","l2 p"),Me$1(om,"text-align","center"),p$1(ip,"class","flex flex-col justify-center items-center"),p$1(s,"class",`flex flex-row-reverse justify-between items-center 
            p-3 rounded-md cursor-pointer shadow-list-item 
            dark:shadow-none dark:bg-neutral-800 dark:text-white 
          hover:bg-neutral-100 dark:hover:bg-neutral-700 
          focus:outline-none focus:ring-2 
        focus:ring-neutral-200 dark:focus:ring-neutral-700 
          transition-colors`),p$1(s,"role","button"),p$1(s,"tabindex","0")},m(_m,ym){W$1(_m,s,ym),_$1(s,sf),_$1(s,Nf),_$1(s,ip),_$1(ip,em),_$1(em,nm),_$1(ip,rm),_$1(ip,om),_$1(om,am),_$1(s,sm),mm.m(s,null),cm||(hm=[O$1(s,"click",r[8]),O$1(s,"keyup",r[9])],cm=!0)},p(_m,ym){ym&1&&tm!==(tm=(_m[0].title??_m[0].name)+"")&&$$1(nm,tm),ym&1&&im!==(im=(_m[0].subtitle??"")+"")&&$$1(am,im),pm===(pm=fm(_m))&&mm?mm.p(_m,ym):(mm.d(1),mm=pm(_m),mm&&(mm.c(),mm.m(s,null)))},d(_m){_m&&E$1(s),mm.d(),cm=!1,j$1(hm)}}}function Ft$1(r){let s,sf,Nf,ip,em,tm,nm=(r[0].name+""),rm,om,im,am,sm,cm,hm,fm,pm;return{c(){s=B$1("a"),sf=B$1("li"),Nf=B$1("span"),ip=z$1(),em=B$1("p"),tm=I$1("Install "),rm=I$1(nm),om=z$1(),im=B$1("img"),p$1(Nf,"class","w-8 h-8"),p$1(em,"class","font-semibold text-base p"),p$1(im,"alt",am=r[0].name),_e$1(im.src,sm=r[3])||p$1(im,"src",sm),p$1(im,"class","w-8 h-8 rounded-full"),p$1(sf,"class",`flex flex-row-reverse justify-between items-center 
              p-3 rounded-md cursor-pointer shadow-list-item 
              dark:shadow-none dark:bg-neutral-800 dark:text-white 
            hover:bg-neutral-100 dark:hover:bg-neutral-700`),p$1(s,"aria-label",cm=r[0].name+" download link"),p$1(s,"href",hm=r[0].download),p$1(s,"target","_blank"),p$1(s,"rel","noopener noreferrer"),p$1(s,"class",`rounded-md focus:outline-none  focus:ring-2 
    focus:ring-neutral-200  dark:focus:ring-neutral-700 transition-colors`)},m(mm,_m){W$1(mm,s,_m),_$1(s,sf),_$1(sf,Nf),_$1(sf,ip),_$1(sf,em),_$1(em,tm),_$1(em,rm),_$1(sf,om),_$1(sf,im),fm||(pm=[O$1(sf,"click",r[6]),O$1(sf,"keyup",r[7])],fm=!0)},p(mm,_m){_m&1&&nm!==(nm=mm[0].name+"")&&$$1(rm,nm),_m&1&&am!==(am=mm[0].name)&&p$1(im,"alt",am),_m&1&&cm!==(cm=mm[0].name+" download link")&&p$1(s,"aria-label",cm),_m&1&&hm!==(hm=mm[0].download)&&p$1(s,"href",hm)},d(mm){mm&&E$1(s),fm=!1,j$1(pm)}}}function Ct$1(r){let s,sf,Nf;return{c(){s=B$1("img"),p$1(s,"alt",sf=r[0]?.name),_e$1(s.src,Nf=r[3])||p$1(s,"src",Nf),p$1(s,"class","w-8 h-8 rounded")},m(ip,em){W$1(ip,s,em)},p(ip,em){em&1&&sf!==(sf=ip[0]?.name)&&p$1(s,"alt",sf)},d(ip){ip&&E$1(s)}}}function At$1(r){let s;return{c(){s=B$1("div"),Me$1(s,"position","relative")},m(sf,Nf){W$1(sf,s,Nf),s.innerHTML=r[3]},p:R$1,d(sf){sf&&E$1(s)}}}function Ot$1(r){let s;return{c(){s=B$1("div"),s.innerHTML='<svg aria-hidden="true" class="w-8 h-8 text-neutral-300 animate-spin dark:text-neutral-600 fill-neutral-600 dark:fill-neutral-300" viewBox="0 0 100 101" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z" fill="currentColor"></path><path d="M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z" fill="currentFill"></path></svg> <span class="sr-only">Loading...</span>',p$1(s,"role","status")},m(sf,Nf){W$1(sf,s,Nf)},p:R$1,d(sf){sf&&E$1(s)}}}function Nt$1(r){let s;function sf(em,tm){return(em[0].download?Ft$1:Bt$1)}let Nf=sf(r),ip=Nf(r);return{c(){ip.c(),s=xe$1()},m(em,tm){ip.m(em,tm),W$1(em,s,tm)},p(em,[tm]){Nf===(Nf=sf(em))&&ip?ip.p(em,tm):(ip.d(1),ip=Nf(em),ip&&(ip.c(),ip.m(s.parentNode,s)))},i:R$1,o:R$1,d(em){em&&E$1(s),ip.d(em)}}}function Et$1(r,s,sf){let{wallet:Nf}=s,{theme:ip=null}=s,{cb:em=async()=>{}}=s,{loadingItem:tm=!1}=s;const nm=typeof Nf.icon=="string"?Nf.icon:ip==="dark"?Nf.icon.dark:Nf.icon.light,rm=nm?.startsWith("<svg"),om=()=>{em(null)},im=cm=>{cm.key==="Enter"&&em(null)},am=async()=>{em(Nf.connector)},sm=async cm=>{cm.key==="Enter"&&em(Nf.connector)};return r.$$set=cm=>{"wallet"in cm&&sf(0,Nf=cm.wallet),"theme"in cm&&sf(5,ip=cm.theme),"cb"in cm&&sf(1,em=cm.cb),"loadingItem"in cm&&sf(2,tm=cm.loadingItem)},[Nf,em,tm,nm,rm,ip,om,im,am,sm]}let Pt$1=class extends Ne$1{constructor(s){super(),Oe$1(this,s,Et$1,Nt$1,ke$1,{wallet:0,theme:5,cb:1,loadingItem:2})}};function we$1(r,s,sf){const Nf=r.slice();return Nf[16]=s[sf],Nf}function ge$1(r){let s,sf,Nf,ip,em,tm,nm,rm,om,im,am,sm,cm,hm,fm,pm=fe$1(r[1]),mm=[];for(let ym=0;ym<pm.length;ym+=1)mm[ym]=he$1(we$1(r,pm,ym));const _m=ym=>H$1(mm[ym],1,1,()=>{mm[ym]=null});return{c(){s=B$1("div"),sf=B$1("main"),Nf=B$1("header"),ip=B$1("h2"),ip.textContent="Connect to",em=z$1(),tm=B$1("h1"),nm=I$1(r[0]),rm=z$1(),om=B$1("span"),om.innerHTML='<svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9.77275 3.02275C9.99242 2.80308 9.99242 2.44692 9.77275 2.22725C9.55308 2.00758 9.19692 2.00758 8.97725 2.22725L6 5.20451L3.02275 2.22725C2.80308 2.00758 2.44692 2.00758 2.22725 2.22725C2.00758 2.44692 2.00758 2.80308 2.22725 3.02275L5.20451 6L2.22725 8.97725C2.00758 9.19692 2.00758 9.55308 2.22725 9.77275C2.44692 9.99242 2.80308 9.99242 3.02275 9.77275L6 6.79549L8.97725 9.77275C9.19692 9.99242 9.55308 9.99242 9.77275 9.77275C9.99242 9.55308 9.99242 9.19692 9.77275 8.97725L6.79549 6L9.77275 3.02275Z" fill="currentColor"></path></svg>',im=z$1(),am=B$1("ul");for(let ym=0;ym<mm.length;ym+=1)mm[ym].c();p$1(ip,"class","text-sm text-gray-400 font-semibold"),p$1(tm,"class",`text-xl font-semibold mb-6 
                  max-w-[240px] overflow-hidden 
                  whitespace-nowrap text-ellipsis`),p$1(om,"class",`absolute top-0 right-0 p-2 cursor-pointer
                  rounded-full bg-neutral-100 dark:bg-neutral-800
                  text-neutral-400 dark:text-white
                  hover:bg-neutral-100 dark:hover:bg-neutral-700
                  focus:outline-none focus:ring-2
                focus:ring-neutral-200 dark:focus:ring-neutral-700
                  transition-colors`),p$1(om,"role","button"),p$1(om,"tabindex","0"),p$1(om,"aria-label","Close"),p$1(Nf,"class","flex items-center justify-center flex-col mb-2 relative"),p$1(am,"class","flex flex-col gap-3"),p$1(sf,"role","dialog"),p$1(sf,"class",`rounded-3xl shadow-modal dark:shadow-none 
              w-full max-w-[380px] z-50 
              mx-6 p-6 pb-8 text-center 
              bg-slate-50 dark:bg-neutral-900 
            text-neutral-900 dark:text-white`),p$1(s,"part","starknetkit-modal"),p$1(s,"class",sm=`modal-font backdrop-blur-sm fixed inset-0 flex items-center 
            justify-center bg-black/25 z-[9999] ${r[4]}`)},m(ym,Sm){W$1(ym,s,Sm),_$1(s,sf),_$1(sf,Nf),_$1(Nf,ip),_$1(Nf,em),_$1(Nf,tm),_$1(tm,nm),_$1(Nf,rm),_$1(Nf,om),_$1(sf,im),_$1(sf,am);for(let jm=0;jm<mm.length;jm+=1)mm[jm]&&mm[jm].m(am,null);cm=!0,hm||(fm=[O$1(om,"click",r[8]),O$1(om,"keyup",r[9]),O$1(sf,"click",Lt$1),O$1(sf,"keyup",jt$1),O$1(s,"click",r[10]),O$1(s,"keyup",r[11])],hm=!0)},p(ym,Sm){if((!cm||Sm&1)&&$$1(nm,ym[0]),Sm&78){pm=fe$1(ym[1]);let jm;for(jm=0;jm<pm.length;jm+=1){const Pm=we$1(ym,pm,jm);mm[jm]?(mm[jm].p(Pm,Sm),L$1(mm[jm],1)):(mm[jm]=he$1(Pm),mm[jm].c(),L$1(mm[jm],1),mm[jm].m(am,null))}for(Be$1(),jm=pm.length;jm<mm.length;jm+=1)_m(jm);Fe$1()}(!cm||Sm&16&&sm!==(sm=`modal-font backdrop-blur-sm fixed inset-0 flex items-center 
            justify-center bg-black/25 z-[9999] ${ym[4]}`))&&p$1(s,"class",sm)},i(ym){if(!cm){for(let Sm=0;Sm<pm.length;Sm+=1)L$1(mm[Sm]);cm=!0}},o(ym){mm=mm.filter(Boolean);for(let Sm=0;Sm<mm.length;Sm+=1)H$1(mm[Sm]);cm=!1},d(ym){ym&&E$1(s),ht$1(mm,ym),hm=!1,j$1(fm)}}}function he$1(r){let s,sf;return s=new Pt$1({props:{wallet:(r[16]),loadingItem:(r[3]),cb:(r[6]),theme:(r[2])}}),{c(){xt$1(s.$$.fragment)},m(Nf,ip){Ce$1(s,Nf,ip),sf=!0},p(Nf,ip){const em={};ip&2&&(em.wallet=Nf[16]),ip&8&&(em.loadingItem=Nf[3]),ip&4&&(em.theme=Nf[2]),s.$set(em)},i(Nf){sf||(L$1(s.$$.fragment,Nf),sf=!0)},o(Nf){H$1(s.$$.fragment,Nf),sf=!1},d(Nf){Ae$1(s,Nf)}}}function zt$1(r){let s,sf,Nf=!r[5]&&r[1].length>1&&ge$1(r);return{c(){Nf&&Nf.c(),s=xe$1()},m(ip,em){Nf&&Nf.m(ip,em),W$1(ip,s,em),sf=!0},p(ip,[em]){!ip[5]&&ip[1].length>1?Nf?(Nf.p(ip,em),em&2&&L$1(Nf,1)):(Nf=ge$1(ip),Nf.c(),L$1(Nf,1),Nf.m(s.parentNode,s)):Nf&&(Be$1(),H$1(Nf,1,1,()=>{Nf=null}),Fe$1())},i(ip){sf||(L$1(Nf),sf=!0)},o(ip){H$1(Nf),sf=!1},d(ip){ip&&E$1(s),Nf&&Nf.d(ip)}}}const Lt$1=r=>r.stopPropagation(),jt$1=r=>{r.stopPropagation()};function Wt$1(r,s,sf){let{dappName:Nf=window?.document.title??""}=s,{modalWallets:ip}=s,{callback:em=async()=>{}}=s,{theme:tm=null}=s,nm=!1,rm=window?.starknet_argentX?.isInAppBrowser;const om=navigator.userAgent.toLowerCase().includes("braavos"),im=mm=>{sf(3,nm=mm)};let am=async mm=>{im(mm?.id??!1);try{await em(mm??null)}finally{im(!1)}},sm=tm==="dark"?"dark":"";mt$1(async()=>{if(tm==="dark"||tm===null&&window.matchMedia("(prefers-color-scheme: dark)").matches?sf(4,sm="dark"):sf(4,sm=""),rm&&window?.starknet_argentX){try{em(new T$2({options:{id:"argentX"}}))}catch{}return}if(om&&window?.starknet_braavos){try{em(new T$2({options:{id:"braavos"}}))}catch{}return}if(ip.length===1)try{const[mm]=ip;await em(mm.connector)}catch(mm){console.error(mm)}});const cm=()=>am(null),hm=mm=>{mm.key==="Enter"&&am(null)},fm=()=>am(null),pm=mm=>{mm.key==="Escape"&&am(null)};return r.$$set=mm=>{"dappName"in mm&&sf(0,Nf=mm.dappName),"modalWallets"in mm&&sf(1,ip=mm.modalWallets),"callback"in mm&&sf(7,em=mm.callback),"theme"in mm&&sf(2,tm=mm.theme)},[Nf,ip,tm,nm,sm,rm,am,em,cm,hm,fm,pm]}let Tt$1=class extends Ne$1{constructor(s){super(),Oe$1(this,s,Wt$1,zt$1,ke$1,{dappName:0,modalWallets:1,callback:7,theme:2})}};const Rt$1=`@import"https://fonts.googleapis.com/css2?family=Barlow:wght@500;600&display=swap";.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.visible{visibility:visible}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.inset-0{inset:0}.right-0{right:0}.top-0{top:0}.z-50{z-index:50}.z-\\[9999\\]{z-index:9999}.mx-6{margin-left:1.5rem;margin-right:1.5rem}.mb-2{margin-bottom:.5rem}.mb-6{margin-bottom:1.5rem}.block{display:block}.inline{display:inline}.flex{display:flex}.h-8{height:2rem}.w-8{width:2rem}.w-full{width:100%}.max-w-\\[240px\\]{max-width:240px}.max-w-\\[380px\\]{max-width:380px}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@keyframes spin{to{transform:rotate(360deg)}}.animate-spin{animation:spin 1s linear infinite}.cursor-pointer{cursor:pointer}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.items-center{align-items:center}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-3{gap:.75rem}.overflow-hidden{overflow:hidden}.text-ellipsis{text-overflow:ellipsis}.whitespace-nowrap{white-space:nowrap}.rounded{border-radius:.25rem}.rounded-3xl{border-radius:1.5rem}.rounded-full{border-radius:9999px}.rounded-md{border-radius:.375rem}.border{border-width:1px}.bg-black\\/25{background-color:#00000040}.bg-neutral-100{--tw-bg-opacity: 1;background-color:rgb(245 245 245 / var(--tw-bg-opacity, 1))}.bg-slate-50{--tw-bg-opacity: 1;background-color:rgb(248 250 252 / var(--tw-bg-opacity, 1))}.fill-neutral-600{fill:#525252}.p-2{padding:.5rem}.p-3{padding:.75rem}.p-6{padding:1.5rem}.pb-8{padding-bottom:2rem}.text-center{text-align:center}.text-base{font-size:1rem;line-height:1.5rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.font-semibold{font-weight:600}.text-gray-400{--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity, 1))}.text-neutral-300{--tw-text-opacity: 1;color:rgb(212 212 212 / var(--tw-text-opacity, 1))}.text-neutral-400{--tw-text-opacity: 1;color:rgb(163 163 163 / var(--tw-text-opacity, 1))}.text-neutral-900{--tw-text-opacity: 1;color:rgb(23 23 23 / var(--tw-text-opacity, 1))}.shadow-list-item{--tw-shadow: 0px 2px 12px rgba(0, 0, 0, .12);--tw-shadow-colored: 0px 2px 12px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-modal{--tw-shadow: 0px 4px 20px rgba(0, 0, 0, .5);--tw-shadow-colored: 0px 4px 20px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline{outline-style:solid}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.backdrop-blur-sm{--tw-backdrop-blur: blur(4px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.transition-colors{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html,:host{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}.modal-font{font-family:Barlow,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-webkit-text-size-adjust:100%;-moz-text-size-adjust:100%;text-size-adjust:100%;font-feature-settings:"kern"}.l2{color:#8c8c8c;font-size:12px;font-weight:500;line-height:14px;letter-spacing:0em;text-align:left}.p{margin:0}.hover\\:bg-neutral-100:hover{--tw-bg-opacity: 1;background-color:rgb(245 245 245 / var(--tw-bg-opacity, 1))}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-neutral-200:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(229 229 229 / var(--tw-ring-opacity, 1))}.dark\\:bg-neutral-800:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(38 38 38 / var(--tw-bg-opacity, 1))}.dark\\:bg-neutral-900:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(23 23 23 / var(--tw-bg-opacity, 1))}.dark\\:fill-neutral-300:is(.dark *){fill:#d4d4d4}.dark\\:text-neutral-600:is(.dark *){--tw-text-opacity: 1;color:rgb(82 82 82 / var(--tw-text-opacity, 1))}.dark\\:text-white:is(.dark *){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.dark\\:shadow-none:is(.dark *){--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.dark\\:hover\\:bg-neutral-700:hover:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(64 64 64 / var(--tw-bg-opacity, 1))}.dark\\:focus\\:ring-neutral-700:focus:is(.dark *){--tw-ring-opacity: 1;--tw-ring-color: rgb(64 64 64 / var(--tw-ring-opacity, 1))}
`;let N$1=null;const It$1=async({modalMode:r="canAsk",storeVersion:s=He$1(),modalTheme:sf,dappName:Nf,resultType:ip="wallet",...em})=>{const{webWalletUrl:tm=Tr$1,argentMobileOptions:nm}=em,{connectors:rm}=em;N$1=null;const om=!rm||rm.length===0?Ie$1({argentMobileOptions:nm,webWalletUrl:tm}):rm,im=localStorage.getItem("starknetLastConnectedWallet");if(r==="neverAsk")try{const hm=om.find(pm=>pm.id===im)??null;let fm=null;return hm&&ip==="wallet"&&(fm=await hm.connect()),{connector:hm,wallet:hm?.wallet??null,connectorData:fm}}catch(hm){throw M$3(),new Error(hm)}const am=await main.getAvailableWallets(em);if(r==="canAsk"&&im&&(((await main.getAuthorizedWallets(em)).find(hm=>hm.id===im)??am.length===1)&&am[0])){const hm=om.find(pm=>pm.id===im);let fm=null;return ip==="wallet"&&(fm=await hm?.connect()??null),hm&&(N$1=hm),{connector:N$1,connectorData:fm,wallet:hm?.wallet??null}}const sm=wt$1({availableConnectors:om,installedWallets:am,discoveryWallets:await main.getDiscoveryWallets(em),storeVersion:s,customOrder:rm?rm?.length>0:!1}),cm=()=>{const hm="starknetkit-modal-container",fm=document.getElementById(hm);if(fm){if(fm.shadowRoot)return fm.shadowRoot;fm.remove()}const pm=document.createElement("div");pm.id=hm,document.body.appendChild(pm);const mm=pm.attachShadow({mode:"open"});return mm.innerHTML=`<style>${Rt$1}</style>`,mm};return new Promise((hm,fm)=>{const pm=new Tt$1({target:cm(),props:{dappName:Nf,callback:async mm=>{try{if(N$1=mm,ip==="wallet"){const _m=await mm?.connect()??null;mm!==null&&F$3(mm.id),hm({connector:mm,connectorData:_m,wallet:mm?.wallet??null})}else hm({connector:mm,wallet:null,connectorData:null})}catch(_m){fm(_m)}finally{setTimeout(()=>pm.$destroy())}},theme:sf==="system"?null:sf??null,modalWallets:sm}})})};ArgentWallet=class{type="argent";platform="starknet";wallet=void 0;account=void 0;isAvailable(){return typeof window<"u"&&!!window.starknet_argentX}getInfo(){const s=this.isAvailable();return{type:this.type,available:s,version:s?window.starknet_argentX?.version||"Unknown":void 0,chainId:s?window.starknet_argentX?.chainId:void 0,name:"Argent",platform:this.platform}}async connect(){if(this.account)return{success:!0,wallet:this.type,account:this.account};try{if(!this.isAvailable())throw new Error("Argent is not available");const{wallet:s,connectorData:sf}=await It$1({connectors:[new T$2({options:{id:"argentX"}})]});if(!s)throw new Error("No wallet found");return this.wallet=s,this.account=sf?.account,{success:!0,wallet:this.type,account:this.account}}catch(s){return console.error("Error connecting to Argent:",s),{success:!1,wallet:this.type,error:s.message||"Unknown error"}}}async signTypedData(s){try{if(!this.isAvailable()||!this.wallet)throw new Error("Argent is not connected");const sf=await this.wallet.request({type:"wallet_signTypedData",params:s});return{success:!0,wallet:this.type,result:sf}}catch(sf){return console.error("Error signing typed data with Argent:",sf),{success:!1,wallet:this.type,error:sf.message||"Unknown error"}}}async sendTransaction(s){return{success:!1,wallet:this.type,error:"Not implemented"}}async switchChain(s){return console.warn("Chain switching for Argent may require custom implementation"),!1}async getBalance(s){try{if(!this.isAvailable()||!this.wallet)throw new Error("Argent is not connected");return{success:!0,wallet:this.type,result:"Implement based on Argent API"}}catch(sf){return console.error("Error getting balance from Argent:",sf),{success:!1,wallet:this.type,error:sf.message||"Unknown error"}}}};var browserPonyfill={exports:{}},hasRequiredBrowserPonyfill;function requireBrowserPonyfill(){return hasRequiredBrowserPonyfill||(hasRequiredBrowserPonyfill=1,function(r,s){var sf=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof globalThis<"u"&&globalThis,Nf=function(){function em(){this.fetch=!1,this.DOMException=sf.DOMException}return em.prototype=sf,new em}();(function(em){(function(tm){var nm=typeof em<"u"&&em||typeof self<"u"&&self||typeof em<"u"&&em||{},rm={searchParams:"URLSearchParams"in nm,iterable:"Symbol"in nm&&"iterator"in Symbol,blob:"FileReader"in nm&&"Blob"in nm&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in nm,arrayBuffer:"ArrayBuffer"in nm};function om(gm){return gm&&DataView.prototype.isPrototypeOf(gm)}if(rm.arrayBuffer)var im=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],am=ArrayBuffer.isView||function(gm){return gm&&im.indexOf(Object.prototype.toString.call(gm))>-1};function sm(gm){if(typeof gm!="string"&&(gm=String(gm)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(gm)||gm==="")throw new TypeError('Invalid character in header field name: "'+gm+'"');return gm.toLowerCase()}function cm(gm){return typeof gm!="string"&&(gm=String(gm)),gm}function hm(gm){var km={next:function(){var Mm=gm.shift();return{done:Mm===void 0,value:Mm}}};return rm.iterable&&(km[Symbol.iterator]=function(){return km}),km}function fm(gm){this.map={},gm instanceof fm?gm.forEach(function(km,Mm){this.append(Mm,km)},this):Array.isArray(gm)?gm.forEach(function(km){if(km.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+km.length);this.append(km[0],km[1])},this):gm&&Object.getOwnPropertyNames(gm).forEach(function(km){this.append(km,gm[km])},this)}fm.prototype.append=function(gm,km){gm=sm(gm),km=cm(km);var Mm=this.map[gm];this.map[gm]=Mm?Mm+", "+km:km},fm.prototype.delete=function(gm){delete this.map[sm(gm)]},fm.prototype.get=function(gm){return gm=sm(gm),this.has(gm)?this.map[gm]:null},fm.prototype.has=function(gm){return this.map.hasOwnProperty(sm(gm))},fm.prototype.set=function(gm,km){this.map[sm(gm)]=cm(km)},fm.prototype.forEach=function(gm,km){for(var Mm in this.map)this.map.hasOwnProperty(Mm)&&gm.call(km,this.map[Mm],Mm,this)},fm.prototype.keys=function(){var gm=[];return this.forEach(function(km,Mm){gm.push(Mm)}),hm(gm)},fm.prototype.values=function(){var gm=[];return this.forEach(function(km){gm.push(km)}),hm(gm)},fm.prototype.entries=function(){var gm=[];return this.forEach(function(km,Mm){gm.push([Mm,km])}),hm(gm)},rm.iterable&&(fm.prototype[Symbol.iterator]=fm.prototype.entries);function pm(gm){if(!gm._noBody){if(gm.bodyUsed)return Promise.reject(new TypeError("Already read"));gm.bodyUsed=!0}}function mm(gm){return new Promise(function(km,Mm){gm.onload=function(){km(gm.result)},gm.onerror=function(){Mm(gm.error)}})}function _m(gm){var km=new FileReader,Mm=mm(km);return km.readAsArrayBuffer(gm),Mm}function ym(gm){var km=new FileReader,Mm=mm(km),bm=/charset=([A-Za-z0-9_-]+)/.exec(gm.type),Em=bm?bm[1]:"utf-8";return km.readAsText(gm,Em),Mm}function Sm(gm){for(var km=new Uint8Array(gm),Mm=new Array(km.length),bm=0;bm<km.length;bm++)Mm[bm]=String.fromCharCode(km[bm]);return Mm.join("")}function jm(gm){if(gm.slice)return gm.slice(0);var km=new Uint8Array(gm.byteLength);return km.set(new Uint8Array(gm)),km.buffer}function Pm(){return this.bodyUsed=!1,this._initBody=function(gm){this.bodyUsed=this.bodyUsed,this._bodyInit=gm,gm?typeof gm=="string"?this._bodyText=gm:rm.blob&&Blob.prototype.isPrototypeOf(gm)?this._bodyBlob=gm:rm.formData&&FormData.prototype.isPrototypeOf(gm)?this._bodyFormData=gm:rm.searchParams&&URLSearchParams.prototype.isPrototypeOf(gm)?this._bodyText=gm.toString():rm.arrayBuffer&&rm.blob&&om(gm)?(this._bodyArrayBuffer=jm(gm.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):rm.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(gm)||am(gm))?this._bodyArrayBuffer=jm(gm):this._bodyText=gm=Object.prototype.toString.call(gm):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof gm=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):rm.searchParams&&URLSearchParams.prototype.isPrototypeOf(gm)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},rm.blob&&(this.blob=function(){var gm=pm(this);if(gm)return gm;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var gm=pm(this);return gm||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(rm.blob)return this.blob().then(_m);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var gm=pm(this);if(gm)return gm;if(this._bodyBlob)return ym(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(Sm(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},rm.formData&&(this.formData=function(){return this.text().then(Dm)}),this.json=function(){return this.text().then(JSON.parse)},this}var Bm=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function qm(gm){var km=gm.toUpperCase();return Bm.indexOf(km)>-1?km:gm}function Rm(gm,km){if(!(this instanceof Rm))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');km=km||{};var Mm=km.body;if(gm instanceof Rm){if(gm.bodyUsed)throw new TypeError("Already read");this.url=gm.url,this.credentials=gm.credentials,km.headers||(this.headers=new fm(gm.headers)),this.method=gm.method,this.mode=gm.mode,this.signal=gm.signal,!Mm&&gm._bodyInit!=null&&(Mm=gm._bodyInit,gm.bodyUsed=!0)}else this.url=String(gm);if(this.credentials=km.credentials||this.credentials||"same-origin",(km.headers||!this.headers)&&(this.headers=new fm(km.headers)),this.method=qm(km.method||this.method||"GET"),this.mode=km.mode||this.mode||null,this.signal=km.signal||this.signal||function(){if("AbortController"in nm){var $m=new AbortController;return $m.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&Mm)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(Mm),(this.method==="GET"||this.method==="HEAD")&&(km.cache==="no-store"||km.cache==="no-cache")){var bm=/([?&])_=[^&]*/;if(bm.test(this.url))this.url=this.url.replace(bm,"$1_="+(new Date).getTime());else{var Em=/\?/;this.url+=(Em.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}Rm.prototype.clone=function(){return new Rm(this,{body:this._bodyInit})};function Dm(gm){var km=new FormData;return gm.trim().split("&").forEach(function(Mm){if(Mm){var bm=Mm.split("="),Em=bm.shift().replace(/\+/g," "),$m=bm.join("=").replace(/\+/g," ");km.append(decodeURIComponent(Em),decodeURIComponent($m))}}),km}function Um(gm){var km=new fm,Mm=gm.replace(/\r?\n[\t ]+/g," ");return Mm.split("\r").map(function(bm){return bm.indexOf(`
`)===0?bm.substr(1,bm.length):bm}).forEach(function(bm){var Em=bm.split(":"),$m=Em.shift().trim();if($m){var Am=Em.join(":").trim();try{km.append($m,Am)}catch(lm){console.warn("Response "+lm.message)}}}),km}Pm.call(Rm.prototype);function Lm(gm,km){if(!(this instanceof Lm))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(km||(km={}),this.type="default",this.status=km.status===void 0?200:km.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=km.statusText===void 0?"":""+km.statusText,this.headers=new fm(km.headers),this.url=km.url||"",this._initBody(gm)}Pm.call(Lm.prototype),Lm.prototype.clone=function(){return new Lm(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new fm(this.headers),url:this.url})},Lm.error=function(){var gm=new Lm(null,{status:200,statusText:""});return gm.ok=!1,gm.status=0,gm.type="error",gm};var Im=[301,302,303,307,308];Lm.redirect=function(gm,km){if(Im.indexOf(km)===-1)throw new RangeError("Invalid status code");return new Lm(null,{status:km,headers:{location:gm}})},tm.DOMException=nm.DOMException;try{new tm.DOMException}catch{tm.DOMException=function(km,Mm){this.message=km,this.name=Mm;var bm=Error(km);this.stack=bm.stack},tm.DOMException.prototype=Object.create(Error.prototype),tm.DOMException.prototype.constructor=tm.DOMException}function dm(gm,km){return new Promise(function(Mm,bm){var Em=new Rm(gm,km);if(Em.signal&&Em.signal.aborted)return bm(new tm.DOMException("Aborted","AbortError"));var $m=new XMLHttpRequest;function Am(){$m.abort()}$m.onload=function(){var wm={statusText:$m.statusText,headers:Um($m.getAllResponseHeaders()||"")};Em.url.indexOf("file://")===0&&($m.status<200||$m.status>599)?wm.status=200:wm.status=$m.status,wm.url="responseURL"in $m?$m.responseURL:wm.headers.get("X-Request-URL");var xm="response"in $m?$m.response:$m.responseText;setTimeout(function(){Mm(new Lm(xm,wm))},0)},$m.onerror=function(){setTimeout(function(){bm(new TypeError("Network request failed"))},0)},$m.ontimeout=function(){setTimeout(function(){bm(new TypeError("Network request timed out"))},0)},$m.onabort=function(){setTimeout(function(){bm(new tm.DOMException("Aborted","AbortError"))},0)};function lm(wm){try{return wm===""&&nm.location.href?nm.location.href:wm}catch{return wm}}if($m.open(Em.method,lm(Em.url),!0),Em.credentials==="include"?$m.withCredentials=!0:Em.credentials==="omit"&&($m.withCredentials=!1),"responseType"in $m&&(rm.blob?$m.responseType="blob":rm.arrayBuffer&&($m.responseType="arraybuffer")),km&&typeof km.headers=="object"&&!(km.headers instanceof fm||nm.Headers&&km.headers instanceof nm.Headers)){var um=[];Object.getOwnPropertyNames(km.headers).forEach(function(wm){um.push(sm(wm)),$m.setRequestHeader(wm,cm(km.headers[wm]))}),Em.headers.forEach(function(wm,xm){um.indexOf(xm)===-1&&$m.setRequestHeader(xm,wm)})}else Em.headers.forEach(function(wm,xm){$m.setRequestHeader(xm,wm)});Em.signal&&(Em.signal.addEventListener("abort",Am),$m.onreadystatechange=function(){$m.readyState===4&&Em.signal.removeEventListener("abort",Am)}),$m.send(typeof Em._bodyInit>"u"?null:Em._bodyInit)})}return dm.polyfill=!0,nm.fetch||(nm.fetch=dm,nm.Headers=fm,nm.Request=Rm,nm.Response=Lm),tm.Headers=fm,tm.Request=Rm,tm.Response=Lm,tm.fetch=dm,tm})({})})(Nf),Nf.fetch.ponyfill=!0,delete Nf.fetch.polyfill;var ip=sf.fetch?sf:Nf;s=ip.fetch,s.default=ip.fetch,s.fetch=ip.fetch,s.Headers=ip.Headers,s.Request=ip.Request,s.Response=ip.Response,r.exports=s}(browserPonyfill,browserPonyfill.exports)),browserPonyfill.exports}var browserPonyfillExports=requireBrowserPonyfill();const e=getDefaultExportFromCjs(browserPonyfillExports);var browser$2={exports:{}},ms$1,hasRequiredMs;function requireMs(){if(hasRequiredMs)return ms$1;hasRequiredMs=1;var r=1e3,s=r*60,sf=s*60,Nf=sf*24,ip=Nf*7,em=Nf*365.25;ms$1=function(im,am){am=am||{};var sm=typeof im;if(sm==="string"&&im.length>0)return tm(im);if(sm==="number"&&isFinite(im))return am.long?rm(im):nm(im);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(im))};function tm(im){if(im=String(im),!(im.length>100)){var am=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(im);if(am){var sm=parseFloat(am[1]),cm=(am[2]||"ms").toLowerCase();switch(cm){case"years":case"year":case"yrs":case"yr":case"y":return sm*em;case"weeks":case"week":case"w":return sm*ip;case"days":case"day":case"d":return sm*Nf;case"hours":case"hour":case"hrs":case"hr":case"h":return sm*sf;case"minutes":case"minute":case"mins":case"min":case"m":return sm*s;case"seconds":case"second":case"secs":case"sec":case"s":return sm*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return sm;default:return}}}}function nm(im){var am=Math.abs(im);return am>=Nf?Math.round(im/Nf)+"d":am>=sf?Math.round(im/sf)+"h":am>=s?Math.round(im/s)+"m":am>=r?Math.round(im/r)+"s":im+"ms"}function rm(im){var am=Math.abs(im);return am>=Nf?om(im,am,Nf,"day"):am>=sf?om(im,am,sf,"hour"):am>=s?om(im,am,s,"minute"):am>=r?om(im,am,r,"second"):im+" ms"}function om(im,am,sm,cm){var hm=am>=sm*1.5;return Math.round(im/sm)+" "+cm+(hm?"s":"")}return ms$1}var common,hasRequiredCommon;function requireCommon(){if(hasRequiredCommon)return common;hasRequiredCommon=1;function r(s){Nf.debug=Nf,Nf.default=Nf,Nf.coerce=om,Nf.disable=nm,Nf.enable=em,Nf.enabled=rm,Nf.humanize=requireMs(),Nf.destroy=im,Object.keys(s).forEach(am=>{Nf[am]=s[am]}),Nf.names=[],Nf.skips=[],Nf.formatters={};function sf(am){let sm=0;for(let cm=0;cm<am.length;cm++)sm=(sm<<5)-sm+am.charCodeAt(cm),sm|=0;return Nf.colors[Math.abs(sm)%Nf.colors.length]}Nf.selectColor=sf;function Nf(am){let sm,cm=null,hm,fm;function pm(...mm){if(!pm.enabled)return;const _m=pm,ym=Number(new Date),Sm=ym-(sm||ym);_m.diff=Sm,_m.prev=sm,_m.curr=ym,sm=ym,mm[0]=Nf.coerce(mm[0]),typeof mm[0]!="string"&&mm.unshift("%O");let jm=0;mm[0]=mm[0].replace(/%([a-zA-Z%])/g,(Bm,qm)=>{if(Bm==="%%")return"%";jm++;const Rm=Nf.formatters[qm];if(typeof Rm=="function"){const Dm=mm[jm];Bm=Rm.call(_m,Dm),mm.splice(jm,1),jm--}return Bm}),Nf.formatArgs.call(_m,mm),(_m.log||Nf.log).apply(_m,mm)}return pm.namespace=am,pm.useColors=Nf.useColors(),pm.color=Nf.selectColor(am),pm.extend=ip,pm.destroy=Nf.destroy,Object.defineProperty(pm,"enabled",{enumerable:!0,configurable:!1,get:()=>cm!==null?cm:(hm!==Nf.namespaces&&(hm=Nf.namespaces,fm=Nf.enabled(am)),fm),set:mm=>{cm=mm}}),typeof Nf.init=="function"&&Nf.init(pm),pm}function ip(am,sm){const cm=Nf(this.namespace+(typeof sm>"u"?":":sm)+am);return cm.log=this.log,cm}function em(am){Nf.save(am),Nf.namespaces=am,Nf.names=[],Nf.skips=[];const sm=(typeof am=="string"?am:"").trim().replace(" ",",").split(",").filter(Boolean);for(const cm of sm)cm[0]==="-"?Nf.skips.push(cm.slice(1)):Nf.names.push(cm)}function tm(am,sm){let cm=0,hm=0,fm=-1,pm=0;for(;cm<am.length;)if(hm<sm.length&&(sm[hm]===am[cm]||sm[hm]==="*"))sm[hm]==="*"?(fm=hm,pm=cm,hm++):(cm++,hm++);else if(fm!==-1)hm=fm+1,pm++,cm=pm;else return!1;for(;hm<sm.length&&sm[hm]==="*";)hm++;return hm===sm.length}function nm(){const am=[...Nf.names,...Nf.skips.map(sm=>"-"+sm)].join(",");return Nf.enable(""),am}function rm(am){for(const sm of Nf.skips)if(tm(am,sm))return!1;for(const sm of Nf.names)if(tm(am,sm))return!0;return!1}function om(am){return am instanceof Error?am.stack||am.message:am}function im(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return Nf.enable(Nf.load()),Nf}return common=r,common}var hasRequiredBrowser$2;function requireBrowser$2(){return hasRequiredBrowser$2||(hasRequiredBrowser$2=1,function(r,s){s.formatArgs=Nf,s.save=ip,s.load=em,s.useColors=sf,s.storage=tm(),s.destroy=(()=>{let rm=!1;return()=>{rm||(rm=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),s.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function sf(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let rm;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(rm=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(rm[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Nf(rm){if(rm[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+rm[0]+(this.useColors?"%c ":" ")+"+"+r.exports.humanize(this.diff),!this.useColors)return;const om="color: "+this.color;rm.splice(1,0,om,"color: inherit");let im=0,am=0;rm[0].replace(/%[a-zA-Z%]/g,sm=>{sm!=="%%"&&(im++,sm==="%c"&&(am=im))}),rm.splice(am,0,om)}s.log=console.debug||console.log||(()=>{});function ip(rm){try{rm?s.storage.setItem("debug",rm):s.storage.removeItem("debug")}catch{}}function em(){let rm;try{rm=s.storage.getItem("debug")}catch{}return!rm&&typeof process<"u"&&"env"in process&&(rm=process.env.DEBUG),rm}function tm(){try{return localStorage}catch{}}r.exports=requireCommon()(s);const{formatters:nm}=r.exports;nm.j=function(rm){try{return JSON.stringify(rm)}catch(om){return"[UnexpectedJSONParseError]: "+om.message}}}(browser$2,browser$2.exports)),browser$2.exports}var browserExports$1=requireBrowser$2();const t=getDefaultExportFromCjs(browserExports$1);var eventemitter2={exports:{}};var hasRequiredEventemitter2;function requireEventemitter2(){return hasRequiredEventemitter2||(hasRequiredEventemitter2=1,function(r,s){(function(sf){var Nf=Object.hasOwnProperty,ip=Array.isArray?Array.isArray:function(Em){return Object.prototype.toString.call(Em)==="[object Array]"},em=10,tm=typeof process=="object"&&typeof process.nextTick=="function",nm=typeof Symbol=="function",rm=typeof Reflect=="object",om=typeof setImmediate=="function",im=om?setImmediate:setTimeout,am=nm?rm&&typeof Reflect.ownKeys=="function"?Reflect.ownKeys:function(bm){var Em=Object.getOwnPropertyNames(bm);return Em.push.apply(Em,Object.getOwnPropertySymbols(bm)),Em}:Object.keys;function sm(){this._events={},this._conf&&cm.call(this,this._conf)}function cm(bm){bm&&(this._conf=bm,bm.delimiter&&(this.delimiter=bm.delimiter),bm.maxListeners!==sf&&(this._maxListeners=bm.maxListeners),bm.wildcard&&(this.wildcard=bm.wildcard),bm.newListener&&(this._newListener=bm.newListener),bm.removeListener&&(this._removeListener=bm.removeListener),bm.verboseMemoryLeak&&(this.verboseMemoryLeak=bm.verboseMemoryLeak),bm.ignoreErrors&&(this.ignoreErrors=bm.ignoreErrors),this.wildcard&&(this.listenerTree={}))}function hm(bm,Em){var $m="(node) warning: possible EventEmitter memory leak detected. "+bm+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&($m+=" Event name: "+Em+"."),typeof process<"u"&&process.emitWarning){var Am=new Error($m);Am.name="MaxListenersExceededWarning",Am.emitter=this,Am.count=bm,process.emitWarning(Am)}else console.error($m),console.trace&&console.trace()}var fm=function(bm,Em,$m){var Am=arguments.length;switch(Am){case 0:return[];case 1:return[bm];case 2:return[bm,Em];case 3:return[bm,Em,$m];default:for(var lm=new Array(Am);Am--;)lm[Am]=arguments[Am];return lm}};function pm(bm,Em){for(var $m={},Am,lm=bm.length,um=0,wm=0;wm<lm;wm++)Am=bm[wm],$m[Am]=wm<um?Em[wm]:sf;return $m}function mm(bm,Em,$m){this._emitter=bm,this._target=Em,this._listeners={},this._listenersCount=0;var Am,lm;if(($m.on||$m.off)&&(Am=$m.on,lm=$m.off),Em.addEventListener?(Am=Em.addEventListener,lm=Em.removeEventListener):Em.addListener?(Am=Em.addListener,lm=Em.removeListener):Em.on&&(Am=Em.on,lm=Em.off),!Am&&!lm)throw Error("target does not implement any known event API");if(typeof Am!="function")throw TypeError("on method must be a function");if(typeof lm!="function")throw TypeError("off method must be a function");this._on=Am,this._off=lm;var um=bm._observers;um?um.push(this):bm._observers=[this]}Object.assign(mm.prototype,{subscribe:function(bm,Em,$m){var Am=this,lm=this._target,um=this._emitter,wm=this._listeners,xm=function(){var Tm=fm.apply(null,arguments),Om={data:Tm,name:Em,original:bm};if($m){var Hm=$m.call(lm,Om);Hm!==!1&&um.emit.apply(um,[Om.name].concat(Tm));return}um.emit.apply(um,[Em].concat(Tm))};if(wm[bm])throw Error("Event '"+bm+"' is already listening");this._listenersCount++,um._newListener&&um._removeListener&&!Am._onNewListener?(this._onNewListener=function(Tm){Tm===Em&&wm[bm]===null&&(wm[bm]=xm,Am._on.call(lm,bm,xm))},um.on("newListener",this._onNewListener),this._onRemoveListener=function(Tm){Tm===Em&&!um.hasListeners(Tm)&&wm[bm]&&(wm[bm]=null,Am._off.call(lm,bm,xm))},wm[bm]=null,um.on("removeListener",this._onRemoveListener)):(wm[bm]=xm,Am._on.call(lm,bm,xm))},unsubscribe:function(bm){var Em=this,$m=this._listeners,Am=this._emitter,lm,um,wm=this._off,xm=this._target,Tm;if(bm&&typeof bm!="string")throw TypeError("event must be a string");function Om(){Em._onNewListener&&(Am.off("newListener",Em._onNewListener),Am.off("removeListener",Em._onRemoveListener),Em._onNewListener=null,Em._onRemoveListener=null);var Hm=qm.call(Am,Em);Am._observers.splice(Hm,1)}if(bm){if(lm=$m[bm],!lm)return;wm.call(xm,bm,lm),delete $m[bm],--this._listenersCount||Om()}else{for(um=am($m),Tm=um.length;Tm-- >0;)bm=um[Tm],wm.call(xm,bm,$m[bm]);this._listeners={},this._listenersCount=0,Om()}}});function _m(bm,Em,$m,Am){var lm=Object.assign({},Em);if(!bm)return lm;if(typeof bm!="object")throw TypeError("options must be an object");var um=Object.keys(bm),wm=um.length,xm,Tm,Om;function Hm(Zm){throw Error('Invalid "'+xm+'" option value'+(Zm?". Reason: "+Zm:""))}for(var Km=0;Km<wm;Km++){if(xm=um[Km],!Nf.call(Em,xm))throw Error('Unknown "'+xm+'" option');Tm=bm[xm],Tm!==sf&&(Om=$m[xm],lm[xm]=Om?Om(Tm,Hm):Tm)}return lm}function ym(bm,Em){return(typeof bm!="function"||!bm.hasOwnProperty("prototype"))&&Em("value must be a constructor"),bm}function Sm(bm){var Em="value must be type of "+bm.join("|"),$m=bm.length,Am=bm[0],lm=bm[1];return $m===1?function(um,wm){if(typeof um===Am)return um;wm(Em)}:$m===2?function(um,wm){var xm=typeof um;if(xm===Am||xm===lm)return um;wm(Em)}:function(um,wm){for(var xm=typeof um,Tm=$m;Tm-- >0;)if(xm===bm[Tm])return um;wm(Em)}}var jm=Sm(["function"]),Pm=Sm(["object","function"]);function Bm(bm,Em,$m){var Am,lm,um=0,wm,xm=new bm(function(Tm,Om,Hm){$m=_m($m,{timeout:0,overload:!1},{timeout:function(zm,Wm){return zm*=1,(typeof zm!="number"||zm<0||!Number.isFinite(zm))&&Wm("timeout must be a positive number"),zm}}),Am=!$m.overload&&typeof bm.prototype.cancel=="function"&&typeof Hm=="function";function Km(){lm&&(lm=null),um&&(clearTimeout(um),um=0)}var Zm=function(zm){Km(),Tm(zm)},Vm=function(zm){Km(),Om(zm)};Am?Em(Zm,Vm,Hm):(lm=[function(zm){Vm(zm||Error("canceled"))}],Em(Zm,Vm,function(zm){if(wm)throw Error("Unable to subscribe on cancel event asynchronously");if(typeof zm!="function")throw TypeError("onCancel callback must be a function");lm.push(zm)}),wm=!0),$m.timeout>0&&(um=setTimeout(function(){var zm=Error("timeout");zm.code="ETIMEDOUT",um=0,xm.cancel(zm),Om(zm)},$m.timeout))});return Am||(xm.cancel=function(Tm){if(lm){for(var Om=lm.length,Hm=1;Hm<Om;Hm++)lm[Hm](Tm);lm[0](Tm),lm=null}}),xm}function qm(bm){var Em=this._observers;if(!Em)return-1;for(var $m=Em.length,Am=0;Am<$m;Am++)if(Em[Am]._target===bm)return Am;return-1}function Rm(bm,Em,$m,Am,lm){if(!$m)return null;if(Am===0){var um=typeof Em;if(um==="string"){var wm,xm,Tm=0,Om=0,Hm=this.delimiter,Km=Hm.length;if((xm=Em.indexOf(Hm))!==-1){wm=new Array(5);do wm[Tm++]=Em.slice(Om,xm),Om=xm+Km;while((xm=Em.indexOf(Hm,Om))!==-1);wm[Tm++]=Em.slice(Om),Em=wm,lm=Tm}else Em=[Em],lm=1}else um==="object"?lm=Em.length:(Em=[Em],lm=1)}var Zm=null,Vm,zm,Wm,Ym,Qm,mg=Em[Am],bg=Em[Am+1],vg,Xm;if(Am===lm)$m._listeners&&(typeof $m._listeners=="function"?(bm&&bm.push($m._listeners),Zm=[$m]):(bm&&bm.push.apply(bm,$m._listeners),Zm=[$m]));else if(mg==="*"){for(vg=am($m),xm=vg.length;xm-- >0;)Vm=vg[xm],Vm!=="_listeners"&&(Xm=Rm(bm,Em,$m[Vm],Am+1,lm),Xm&&(Zm?Zm.push.apply(Zm,Xm):Zm=Xm));return Zm}else if(mg==="**"){for(Qm=Am+1===lm||Am+2===lm&&bg==="*",Qm&&$m._listeners&&(Zm=Rm(bm,Em,$m,lm,lm)),vg=am($m),xm=vg.length;xm-- >0;)Vm=vg[xm],Vm!=="_listeners"&&(Vm==="*"||Vm==="**"?($m[Vm]._listeners&&!Qm&&(Xm=Rm(bm,Em,$m[Vm],lm,lm),Xm&&(Zm?Zm.push.apply(Zm,Xm):Zm=Xm)),Xm=Rm(bm,Em,$m[Vm],Am,lm)):Vm===bg?Xm=Rm(bm,Em,$m[Vm],Am+2,lm):Xm=Rm(bm,Em,$m[Vm],Am,lm),Xm&&(Zm?Zm.push.apply(Zm,Xm):Zm=Xm));return Zm}else $m[mg]&&(Zm=Rm(bm,Em,$m[mg],Am+1,lm));if(zm=$m["*"],zm&&Rm(bm,Em,zm,Am+1,lm),Wm=$m["**"],Wm)if(Am<lm)for(Wm._listeners&&Rm(bm,Em,Wm,lm,lm),vg=am(Wm),xm=vg.length;xm-- >0;)Vm=vg[xm],Vm!=="_listeners"&&(Vm===bg?Rm(bm,Em,Wm[Vm],Am+2,lm):Vm===mg?Rm(bm,Em,Wm[Vm],Am+1,lm):(Ym={},Ym[Vm]=Wm[Vm],Rm(bm,Em,{"**":Ym},Am+1,lm)));else Wm._listeners?Rm(bm,Em,Wm,lm,lm):Wm["*"]&&Wm["*"]._listeners&&Rm(bm,Em,Wm["*"],lm,lm);return Zm}function Dm(bm,Em,$m){var Am=0,lm=0,um,wm=this.delimiter,xm=wm.length,Tm;if(typeof bm=="string")if((um=bm.indexOf(wm))!==-1){Tm=new Array(5);do Tm[Am++]=bm.slice(lm,um),lm=um+xm;while((um=bm.indexOf(wm,lm))!==-1);Tm[Am++]=bm.slice(lm)}else Tm=[bm],Am=1;else Tm=bm,Am=bm.length;if(Am>1){for(um=0;um+1<Am;um++)if(Tm[um]==="**"&&Tm[um+1]==="**")return}var Om=this.listenerTree,Hm;for(um=0;um<Am;um++)if(Hm=Tm[um],Om=Om[Hm]||(Om[Hm]={}),um===Am-1)return Om._listeners?(typeof Om._listeners=="function"&&(Om._listeners=[Om._listeners]),$m?Om._listeners.unshift(Em):Om._listeners.push(Em),!Om._listeners.warned&&this._maxListeners>0&&Om._listeners.length>this._maxListeners&&(Om._listeners.warned=!0,hm.call(this,Om._listeners.length,Hm))):Om._listeners=Em,!0;return!0}function Um(bm,Em,$m,Am){for(var lm=am(bm),um=lm.length,wm,xm,Tm,Om=bm._listeners,Hm;um-- >0;)xm=lm[um],wm=bm[xm],xm==="_listeners"?Tm=$m:Tm=$m?$m.concat(xm):[xm],Hm=Am||typeof xm=="symbol",Om&&Em.push(Hm?Tm:Tm.join(this.delimiter)),typeof wm=="object"&&Um.call(this,wm,Em,Tm,Hm);return Em}function Lm(bm){for(var Em=am(bm),$m=Em.length,Am,lm,um;$m-- >0;)lm=Em[$m],Am=bm[lm],Am&&(um=!0,lm!=="_listeners"&&!Lm(Am)&&delete bm[lm]);return um}function Im(bm,Em,$m){this.emitter=bm,this.event=Em,this.listener=$m}Im.prototype.off=function(){return this.emitter.off(this.event,this.listener),this};function dm(bm,Em,$m){if($m===!0)lm=!0;else if($m===!1)Am=!0;else{if(!$m||typeof $m!="object")throw TypeError("options should be an object or true");var Am=$m.async,lm=$m.promisify,um=$m.nextTick,wm=$m.objectify}if(Am||um||lm){var xm=Em,Tm=Em._origin||Em;if(um&&!tm)throw Error("process.nextTick is not supported");lm===sf&&(lm=Em.constructor.name==="AsyncFunction"),Em=function(){var Om=arguments,Hm=this,Km=this.event;return lm?um?Promise.resolve():new Promise(function(Zm){im(Zm)}).then(function(){return Hm.event=Km,xm.apply(Hm,Om)}):(um?process.nextTick:im)(function(){Hm.event=Km,xm.apply(Hm,Om)})},Em._async=!0,Em._origin=Tm}return[Em,wm?new Im(this,bm,Em):this]}function gm(bm){this._events={},this._newListener=!1,this._removeListener=!1,this.verboseMemoryLeak=!1,cm.call(this,bm)}gm.EventEmitter2=gm,gm.prototype.listenTo=function(bm,Em,$m){if(typeof bm!="object")throw TypeError("target musts be an object");var Am=this;$m=_m($m,{on:sf,off:sf,reducers:sf},{on:jm,off:jm,reducers:Pm});function lm(um){if(typeof um!="object")throw TypeError("events must be an object");var wm=$m.reducers,xm=qm.call(Am,bm),Tm;xm===-1?Tm=new mm(Am,bm,$m):Tm=Am._observers[xm];for(var Om=am(um),Hm=Om.length,Km,Zm=typeof wm=="function",Vm=0;Vm<Hm;Vm++)Km=Om[Vm],Tm.subscribe(Km,um[Km]||Km,Zm?wm:wm&&wm[Km])}return ip(Em)?lm(pm(Em)):lm(typeof Em=="string"?pm(Em.split(/\s+/)):Em),this},gm.prototype.stopListeningTo=function(bm,Em){var $m=this._observers;if(!$m)return!1;var Am=$m.length,lm,um=!1;if(bm&&typeof bm!="object")throw TypeError("target should be an object");for(;Am-- >0;)lm=$m[Am],(!bm||lm._target===bm)&&(lm.unsubscribe(Em),um=!0);return um},gm.prototype.delimiter=".",gm.prototype.setMaxListeners=function(bm){bm!==sf&&(this._maxListeners=bm,this._conf||(this._conf={}),this._conf.maxListeners=bm)},gm.prototype.getMaxListeners=function(){return this._maxListeners},gm.prototype.event="",gm.prototype.once=function(bm,Em,$m){return this._once(bm,Em,!1,$m)},gm.prototype.prependOnceListener=function(bm,Em,$m){return this._once(bm,Em,!0,$m)},gm.prototype._once=function(bm,Em,$m,Am){return this._many(bm,1,Em,$m,Am)},gm.prototype.many=function(bm,Em,$m,Am){return this._many(bm,Em,$m,!1,Am)},gm.prototype.prependMany=function(bm,Em,$m,Am){return this._many(bm,Em,$m,!0,Am)},gm.prototype._many=function(bm,Em,$m,Am,lm){var um=this;if(typeof $m!="function")throw new Error("many only accepts instances of Function");function wm(){return--Em===0&&um.off(bm,wm),$m.apply(this,arguments)}return wm._origin=$m,this._on(bm,wm,Am,lm)},gm.prototype.emit=function(){if(!this._events&&!this._all)return!1;this._events||sm.call(this);var bm=arguments[0],Em,$m=this.wildcard,Am,lm,um,wm,xm;if(bm==="newListener"&&!this._newListener&&!this._events.newListener)return!1;if($m&&(Em=bm,bm!=="newListener"&&bm!=="removeListener"&&typeof bm=="object")){if(lm=bm.length,nm){for(um=0;um<lm;um++)if(typeof bm[um]=="symbol"){xm=!0;break}}xm||(bm=bm.join(this.delimiter))}var Tm=arguments.length,Om;if(this._all&&this._all.length)for(Om=this._all.slice(),um=0,lm=Om.length;um<lm;um++)switch(this.event=bm,Tm){case 1:Om[um].call(this,bm);break;case 2:Om[um].call(this,bm,arguments[1]);break;case 3:Om[um].call(this,bm,arguments[1],arguments[2]);break;default:Om[um].apply(this,arguments)}if($m)Om=[],Rm.call(this,Om,Em,this.listenerTree,0,lm);else if(Om=this._events[bm],typeof Om=="function"){switch(this.event=bm,Tm){case 1:Om.call(this);break;case 2:Om.call(this,arguments[1]);break;case 3:Om.call(this,arguments[1],arguments[2]);break;default:for(Am=new Array(Tm-1),wm=1;wm<Tm;wm++)Am[wm-1]=arguments[wm];Om.apply(this,Am)}return!0}else Om&&(Om=Om.slice());if(Om&&Om.length){if(Tm>3)for(Am=new Array(Tm-1),wm=1;wm<Tm;wm++)Am[wm-1]=arguments[wm];for(um=0,lm=Om.length;um<lm;um++)switch(this.event=bm,Tm){case 1:Om[um].call(this);break;case 2:Om[um].call(this,arguments[1]);break;case 3:Om[um].call(this,arguments[1],arguments[2]);break;default:Om[um].apply(this,Am)}return!0}else if(!this.ignoreErrors&&!this._all&&bm==="error")throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},gm.prototype.emitAsync=function(){if(!this._events&&!this._all)return!1;this._events||sm.call(this);var bm=arguments[0],Em=this.wildcard,$m,Am,lm,um,wm,xm;if(bm==="newListener"&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);if(Em&&($m=bm,bm!=="newListener"&&bm!=="removeListener"&&typeof bm=="object")){if(um=bm.length,nm){for(wm=0;wm<um;wm++)if(typeof bm[wm]=="symbol"){Am=!0;break}}Am||(bm=bm.join(this.delimiter))}var Tm=[],Om=arguments.length,Hm;if(this._all)for(wm=0,um=this._all.length;wm<um;wm++)switch(this.event=bm,Om){case 1:Tm.push(this._all[wm].call(this,bm));break;case 2:Tm.push(this._all[wm].call(this,bm,arguments[1]));break;case 3:Tm.push(this._all[wm].call(this,bm,arguments[1],arguments[2]));break;default:Tm.push(this._all[wm].apply(this,arguments))}if(Em?(Hm=[],Rm.call(this,Hm,$m,this.listenerTree,0)):Hm=this._events[bm],typeof Hm=="function")switch(this.event=bm,Om){case 1:Tm.push(Hm.call(this));break;case 2:Tm.push(Hm.call(this,arguments[1]));break;case 3:Tm.push(Hm.call(this,arguments[1],arguments[2]));break;default:for(lm=new Array(Om-1),xm=1;xm<Om;xm++)lm[xm-1]=arguments[xm];Tm.push(Hm.apply(this,lm))}else if(Hm&&Hm.length){if(Hm=Hm.slice(),Om>3)for(lm=new Array(Om-1),xm=1;xm<Om;xm++)lm[xm-1]=arguments[xm];for(wm=0,um=Hm.length;wm<um;wm++)switch(this.event=bm,Om){case 1:Tm.push(Hm[wm].call(this));break;case 2:Tm.push(Hm[wm].call(this,arguments[1]));break;case 3:Tm.push(Hm[wm].call(this,arguments[1],arguments[2]));break;default:Tm.push(Hm[wm].apply(this,lm))}}else if(!this.ignoreErrors&&!this._all&&bm==="error")return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(Tm)},gm.prototype.on=function(bm,Em,$m){return this._on(bm,Em,!1,$m)},gm.prototype.prependListener=function(bm,Em,$m){return this._on(bm,Em,!0,$m)},gm.prototype.onAny=function(bm){return this._onAny(bm,!1)},gm.prototype.prependAny=function(bm){return this._onAny(bm,!0)},gm.prototype.addListener=gm.prototype.on,gm.prototype._onAny=function(bm,Em){if(typeof bm!="function")throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),Em?this._all.unshift(bm):this._all.push(bm),this},gm.prototype._on=function(bm,Em,$m,Am){if(typeof bm=="function")return this._onAny(bm,Em),this;if(typeof Em!="function")throw new Error("on only accepts instances of Function");this._events||sm.call(this);var lm=this,um;return Am!==sf&&(um=dm.call(this,bm,Em,Am),Em=um[0],lm=um[1]),this._newListener&&this.emit("newListener",bm,Em),this.wildcard?(Dm.call(this,bm,Em,$m),lm):(this._events[bm]?(typeof this._events[bm]=="function"&&(this._events[bm]=[this._events[bm]]),$m?this._events[bm].unshift(Em):this._events[bm].push(Em),!this._events[bm].warned&&this._maxListeners>0&&this._events[bm].length>this._maxListeners&&(this._events[bm].warned=!0,hm.call(this,this._events[bm].length,bm))):this._events[bm]=Em,lm)},gm.prototype.off=function(bm,Em){if(typeof Em!="function")throw new Error("removeListener only takes instances of Function");var $m,Am=[];if(this.wildcard){var lm=typeof bm=="string"?bm.split(this.delimiter):bm.slice();if(Am=Rm.call(this,null,lm,this.listenerTree,0),!Am)return this}else{if(!this._events[bm])return this;$m=this._events[bm],Am.push({_listeners:$m})}for(var um=0;um<Am.length;um++){var wm=Am[um];if($m=wm._listeners,ip($m)){for(var xm=-1,Tm=0,Om=$m.length;Tm<Om;Tm++)if($m[Tm]===Em||$m[Tm].listener&&$m[Tm].listener===Em||$m[Tm]._origin&&$m[Tm]._origin===Em){xm=Tm;break}if(xm<0)continue;return this.wildcard?wm._listeners.splice(xm,1):this._events[bm].splice(xm,1),$m.length===0&&(this.wildcard?delete wm._listeners:delete this._events[bm]),this._removeListener&&this.emit("removeListener",bm,Em),this}else($m===Em||$m.listener&&$m.listener===Em||$m._origin&&$m._origin===Em)&&(this.wildcard?delete wm._listeners:delete this._events[bm],this._removeListener&&this.emit("removeListener",bm,Em))}return this.listenerTree&&Lm(this.listenerTree),this},gm.prototype.offAny=function(bm){var Em=0,$m=0,Am;if(bm&&this._all&&this._all.length>0){for(Am=this._all,Em=0,$m=Am.length;Em<$m;Em++)if(bm===Am[Em])return Am.splice(Em,1),this._removeListener&&this.emit("removeListenerAny",bm),this}else{if(Am=this._all,this._removeListener)for(Em=0,$m=Am.length;Em<$m;Em++)this.emit("removeListenerAny",Am[Em]);this._all=[]}return this},gm.prototype.removeListener=gm.prototype.off,gm.prototype.removeAllListeners=function(bm){if(bm===sf)return!this._events||sm.call(this),this;if(this.wildcard){var Em=Rm.call(this,null,bm,this.listenerTree,0),$m,Am;if(!Em)return this;for(Am=0;Am<Em.length;Am++)$m=Em[Am],$m._listeners=null;this.listenerTree&&Lm(this.listenerTree)}else this._events&&(this._events[bm]=null);return this},gm.prototype.listeners=function(bm){var Em=this._events,$m,Am,lm,um,wm;if(bm===sf){if(this.wildcard)throw Error("event name required for wildcard emitter");if(!Em)return[];for($m=am(Em),um=$m.length,lm=[];um-- >0;)Am=Em[$m[um]],typeof Am=="function"?lm.push(Am):lm.push.apply(lm,Am);return lm}else{if(this.wildcard){if(wm=this.listenerTree,!wm)return[];var xm=[],Tm=typeof bm=="string"?bm.split(this.delimiter):bm.slice();return Rm.call(this,xm,Tm,wm,0),xm}return Em?(Am=Em[bm],Am?typeof Am=="function"?[Am]:Am:[]):[]}},gm.prototype.eventNames=function(bm){var Em=this._events;return this.wildcard?Um.call(this,this.listenerTree,[],null,bm):Em?am(Em):[]},gm.prototype.listenerCount=function(bm){return this.listeners(bm).length},gm.prototype.hasListeners=function(bm){if(this.wildcard){var Em=[],$m=typeof bm=="string"?bm.split(this.delimiter):bm.slice();return Rm.call(this,Em,$m,this.listenerTree,0),Em.length>0}var Am=this._events,lm=this._all;return!!(lm&&lm.length||Am&&(bm===sf?am(Am).length:Am[bm]))},gm.prototype.listenersAny=function(){return this._all?this._all:[]},gm.prototype.waitFor=function(bm,Em){var $m=this,Am=typeof Em;return Am==="number"?Em={timeout:Em}:Am==="function"&&(Em={filter:Em}),Em=_m(Em,{timeout:0,filter:sf,handleError:!1,Promise,overload:!1},{filter:jm,Promise:ym}),Bm(Em.Promise,function(lm,um,wm){function xm(){var Tm=Em.filter;if(!(Tm&&!Tm.apply($m,arguments)))if($m.off(bm,xm),Em.handleError){var Om=arguments[0];Om?um(Om):lm(fm.apply(null,arguments).slice(1))}else lm(fm.apply(null,arguments))}wm(function(){$m.off(bm,xm)}),$m._on(bm,xm,!1)},{timeout:Em.timeout,overload:Em.overload})};function km(bm,Em,$m){$m=_m($m,{Promise,timeout:0,overload:!1},{Promise:ym});var Am=$m.Promise;return Bm(Am,function(lm,um,wm){var xm;if(typeof bm.addEventListener=="function"){xm=function(){lm(fm.apply(null,arguments))},wm(function(){bm.removeEventListener(Em,xm)}),bm.addEventListener(Em,xm,{once:!0});return}var Tm=function(){Om&&bm.removeListener("error",Om),lm(fm.apply(null,arguments))},Om;Em!=="error"&&(Om=function(Hm){bm.removeListener(Em,Tm),um(Hm)},bm.once("error",Om)),wm(function(){Om&&bm.removeListener("error",Om),bm.removeListener(Em,Tm)}),bm.once(Em,Tm)},{timeout:$m.timeout,overload:$m.overload})}var Mm=gm.prototype;Object.defineProperties(gm,{defaultMaxListeners:{get:function(){return Mm._maxListeners},set:function(bm){if(typeof bm!="number"||bm<0||Number.isNaN(bm))throw TypeError("n must be a non-negative number");Mm._maxListeners=bm},enumerable:!0},once:{value:km,writable:!0,configurable:!0}}),Object.defineProperties(Mm,{_maxListeners:{value:em,writable:!0,configurable:!0},_observers:{value:null,writable:!0,configurable:!0}}),r.exports=gm})()}(eventemitter2)),eventemitter2.exports}var eventemitter2Exports=requireEventemitter2();const n=getDefaultExportFromCjs(eventemitter2Exports);var getRandomValues,rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&(getRandomValues=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!getRandomValues))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}const REGEX=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function validate$1(r){return typeof r=="string"&&REGEX.test(r)}var byteToHex=[];for(var i=0;i<256;++i)byteToHex.push((i+256).toString(16).substr(1));function stringify$1(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,sf=(byteToHex[r[s+0]]+byteToHex[r[s+1]]+byteToHex[r[s+2]]+byteToHex[r[s+3]]+"-"+byteToHex[r[s+4]]+byteToHex[r[s+5]]+"-"+byteToHex[r[s+6]]+byteToHex[r[s+7]]+"-"+byteToHex[r[s+8]]+byteToHex[r[s+9]]+"-"+byteToHex[r[s+10]]+byteToHex[r[s+11]]+byteToHex[r[s+12]]+byteToHex[r[s+13]]+byteToHex[r[s+14]]+byteToHex[r[s+15]]).toLowerCase();if(!validate$1(sf))throw TypeError("Stringified UUID is invalid");return sf}var _nodeId,_clockseq,_lastMSecs=0,_lastNSecs=0;function v1(r,s,sf){var Nf=s&&sf||0,ip=s||new Array(16);r=r||{};var em=r.node||_nodeId,tm=r.clockseq!==void 0?r.clockseq:_clockseq;if(em==null||tm==null){var nm=r.random||(r.rng||rng)();em==null&&(em=_nodeId=[nm[0]|1,nm[1],nm[2],nm[3],nm[4],nm[5]]),tm==null&&(tm=_clockseq=(nm[6]<<8|nm[7])&16383)}var rm=r.msecs!==void 0?r.msecs:Date.now(),om=r.nsecs!==void 0?r.nsecs:_lastNSecs+1,im=rm-_lastMSecs+(om-_lastNSecs)/1e4;if(im<0&&r.clockseq===void 0&&(tm=tm+1&16383),(im<0||rm>_lastMSecs)&&r.nsecs===void 0&&(om=0),om>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");_lastMSecs=rm,_lastNSecs=om,_clockseq=tm,rm+=122192928e5;var am=((rm&0xfffffff)*1e4+om)%0x100000000;ip[Nf++]=am>>>24&255,ip[Nf++]=am>>>16&255,ip[Nf++]=am>>>8&255,ip[Nf++]=am&255;var sm=rm/0x100000000*1e4&0xfffffff;ip[Nf++]=sm>>>8&255,ip[Nf++]=sm&255,ip[Nf++]=sm>>>24&15|16,ip[Nf++]=sm>>>16&255,ip[Nf++]=tm>>>8|128,ip[Nf++]=tm&255;for(var cm=0;cm<6;++cm)ip[Nf+cm]=em[cm];return s||stringify$1(ip)}function parse$1(r){if(!validate$1(r))throw TypeError("Invalid UUID");var s,sf=new Uint8Array(16);return sf[0]=(s=parseInt(r.slice(0,8),16))>>>24,sf[1]=s>>>16&255,sf[2]=s>>>8&255,sf[3]=s&255,sf[4]=(s=parseInt(r.slice(9,13),16))>>>8,sf[5]=s&255,sf[6]=(s=parseInt(r.slice(14,18),16))>>>8,sf[7]=s&255,sf[8]=(s=parseInt(r.slice(19,23),16))>>>8,sf[9]=s&255,sf[10]=(s=parseInt(r.slice(24,36),16))/0x10000000000&255,sf[11]=s/0x100000000&255,sf[12]=s>>>24&255,sf[13]=s>>>16&255,sf[14]=s>>>8&255,sf[15]=s&255,sf}function stringToBytes(r){r=unescape(encodeURIComponent(r));for(var s=[],sf=0;sf<r.length;++sf)s.push(r.charCodeAt(sf));return s}var DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",URL$1="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function v35(r,s,sf){function Nf(ip,em,tm,nm){if(typeof ip=="string"&&(ip=stringToBytes(ip)),typeof em=="string"&&(em=parse$1(em)),em.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var rm=new Uint8Array(16+ip.length);if(rm.set(em),rm.set(ip,em.length),rm=sf(rm),rm[6]=rm[6]&15|s,rm[8]=rm[8]&63|128,tm){nm=nm||0;for(var om=0;om<16;++om)tm[nm+om]=rm[om];return tm}return stringify$1(rm)}try{Nf.name=r}catch{}return Nf.DNS=DNS,Nf.URL=URL$1,Nf}function md5(r){if(typeof r=="string"){var s=unescape(encodeURIComponent(r));r=new Uint8Array(s.length);for(var sf=0;sf<s.length;++sf)r[sf]=s.charCodeAt(sf)}return md5ToHexEncodedArray(wordsToMd5(bytesToWords(r),r.length*8))}function md5ToHexEncodedArray(r){for(var s=[],sf=r.length*32,Nf="0123456789abcdef",ip=0;ip<sf;ip+=8){var em=r[ip>>5]>>>ip%32&255,tm=parseInt(Nf.charAt(em>>>4&15)+Nf.charAt(em&15),16);s.push(tm)}return s}function getOutputLength(r){return(r+64>>>9<<4)+14+1}function wordsToMd5(r,s){r[s>>5]|=128<<s%32,r[getOutputLength(s)-1]=s;for(var sf=0x67452301,Nf=-0x10325477,ip=-0x67452302,em=0x10325476,tm=0;tm<r.length;tm+=16){var nm=sf,rm=Nf,om=ip,im=em;sf=md5ff(sf,Nf,ip,em,r[tm],7,-0x28955b88),em=md5ff(em,sf,Nf,ip,r[tm+1],12,-0x173848aa),ip=md5ff(ip,em,sf,Nf,r[tm+2],17,0x242070db),Nf=md5ff(Nf,ip,em,sf,r[tm+3],22,-0x3e423112),sf=md5ff(sf,Nf,ip,em,r[tm+4],7,-0xa83f051),em=md5ff(em,sf,Nf,ip,r[tm+5],12,0x4787c62a),ip=md5ff(ip,em,sf,Nf,r[tm+6],17,-0x57cfb9ed),Nf=md5ff(Nf,ip,em,sf,r[tm+7],22,-0x2b96aff),sf=md5ff(sf,Nf,ip,em,r[tm+8],7,0x698098d8),em=md5ff(em,sf,Nf,ip,r[tm+9],12,-0x74bb0851),ip=md5ff(ip,em,sf,Nf,r[tm+10],17,-42063),Nf=md5ff(Nf,ip,em,sf,r[tm+11],22,-0x76a32842),sf=md5ff(sf,Nf,ip,em,r[tm+12],7,0x6b901122),em=md5ff(em,sf,Nf,ip,r[tm+13],12,-0x2678e6d),ip=md5ff(ip,em,sf,Nf,r[tm+14],17,-0x5986bc72),Nf=md5ff(Nf,ip,em,sf,r[tm+15],22,0x49b40821),sf=md5gg(sf,Nf,ip,em,r[tm+1],5,-0x9e1da9e),em=md5gg(em,sf,Nf,ip,r[tm+6],9,-0x3fbf4cc0),ip=md5gg(ip,em,sf,Nf,r[tm+11],14,0x265e5a51),Nf=md5gg(Nf,ip,em,sf,r[tm],20,-0x16493856),sf=md5gg(sf,Nf,ip,em,r[tm+5],5,-0x29d0efa3),em=md5gg(em,sf,Nf,ip,r[tm+10],9,0x2441453),ip=md5gg(ip,em,sf,Nf,r[tm+15],14,-0x275e197f),Nf=md5gg(Nf,ip,em,sf,r[tm+4],20,-0x182c0438),sf=md5gg(sf,Nf,ip,em,r[tm+9],5,0x21e1cde6),em=md5gg(em,sf,Nf,ip,r[tm+14],9,-0x3cc8f82a),ip=md5gg(ip,em,sf,Nf,r[tm+3],14,-0xb2af279),Nf=md5gg(Nf,ip,em,sf,r[tm+8],20,0x455a14ed),sf=md5gg(sf,Nf,ip,em,r[tm+13],5,-0x561c16fb),em=md5gg(em,sf,Nf,ip,r[tm+2],9,-0x3105c08),ip=md5gg(ip,em,sf,Nf,r[tm+7],14,0x676f02d9),Nf=md5gg(Nf,ip,em,sf,r[tm+12],20,-0x72d5b376),sf=md5hh(sf,Nf,ip,em,r[tm+5],4,-378558),em=md5hh(em,sf,Nf,ip,r[tm+8],11,-0x788e097f),ip=md5hh(ip,em,sf,Nf,r[tm+11],16,0x6d9d6122),Nf=md5hh(Nf,ip,em,sf,r[tm+14],23,-0x21ac7f4),sf=md5hh(sf,Nf,ip,em,r[tm+1],4,-0x5b4115bc),em=md5hh(em,sf,Nf,ip,r[tm+4],11,0x4bdecfa9),ip=md5hh(ip,em,sf,Nf,r[tm+7],16,-0x944b4a0),Nf=md5hh(Nf,ip,em,sf,r[tm+10],23,-0x41404390),sf=md5hh(sf,Nf,ip,em,r[tm+13],4,0x289b7ec6),em=md5hh(em,sf,Nf,ip,r[tm],11,-0x155ed806),ip=md5hh(ip,em,sf,Nf,r[tm+3],16,-0x2b10cf7b),Nf=md5hh(Nf,ip,em,sf,r[tm+6],23,0x4881d05),sf=md5hh(sf,Nf,ip,em,r[tm+9],4,-0x262b2fc7),em=md5hh(em,sf,Nf,ip,r[tm+12],11,-0x1924661b),ip=md5hh(ip,em,sf,Nf,r[tm+15],16,0x1fa27cf8),Nf=md5hh(Nf,ip,em,sf,r[tm+2],23,-0x3b53a99b),sf=md5ii(sf,Nf,ip,em,r[tm],6,-0xbd6ddbc),em=md5ii(em,sf,Nf,ip,r[tm+7],10,0x432aff97),ip=md5ii(ip,em,sf,Nf,r[tm+14],15,-0x546bdc59),Nf=md5ii(Nf,ip,em,sf,r[tm+5],21,-0x36c5fc7),sf=md5ii(sf,Nf,ip,em,r[tm+12],6,0x655b59c3),em=md5ii(em,sf,Nf,ip,r[tm+3],10,-0x70f3336e),ip=md5ii(ip,em,sf,Nf,r[tm+10],15,-1051523),Nf=md5ii(Nf,ip,em,sf,r[tm+1],21,-0x7a7ba22f),sf=md5ii(sf,Nf,ip,em,r[tm+8],6,0x6fa87e4f),em=md5ii(em,sf,Nf,ip,r[tm+15],10,-0x1d31920),ip=md5ii(ip,em,sf,Nf,r[tm+6],15,-0x5cfebcec),Nf=md5ii(Nf,ip,em,sf,r[tm+13],21,0x4e0811a1),sf=md5ii(sf,Nf,ip,em,r[tm+4],6,-0x8ac817e),em=md5ii(em,sf,Nf,ip,r[tm+11],10,-0x42c50dcb),ip=md5ii(ip,em,sf,Nf,r[tm+2],15,0x2ad7d2bb),Nf=md5ii(Nf,ip,em,sf,r[tm+9],21,-0x14792c6f),sf=safeAdd(sf,nm),Nf=safeAdd(Nf,rm),ip=safeAdd(ip,om),em=safeAdd(em,im)}return[sf,Nf,ip,em]}function bytesToWords(r){if(r.length===0)return[];for(var s=r.length*8,sf=new Uint32Array(getOutputLength(s)),Nf=0;Nf<s;Nf+=8)sf[Nf>>5]|=(r[Nf/8]&255)<<Nf%32;return sf}function safeAdd(r,s){var sf=(r&65535)+(s&65535),Nf=(r>>16)+(s>>16)+(sf>>16);return Nf<<16|sf&65535}function bitRotateLeft(r,s){return r<<s|r>>>32-s}function md5cmn(r,s,sf,Nf,ip,em){return safeAdd(bitRotateLeft(safeAdd(safeAdd(s,r),safeAdd(Nf,em)),ip),sf)}function md5ff(r,s,sf,Nf,ip,em,tm){return md5cmn(s&sf|~s&Nf,r,s,ip,em,tm)}function md5gg(r,s,sf,Nf,ip,em,tm){return md5cmn(s&Nf|sf&~Nf,r,s,ip,em,tm)}function md5hh(r,s,sf,Nf,ip,em,tm){return md5cmn(s^sf^Nf,r,s,ip,em,tm)}function md5ii(r,s,sf,Nf,ip,em,tm){return md5cmn(sf^(s|~Nf),r,s,ip,em,tm)}var v3=v35("v3",48,md5);function v4(r,s,sf){r=r||{};var Nf=r.random||(r.rng||rng)();if(Nf[6]=Nf[6]&15|64,Nf[8]=Nf[8]&63|128,s){sf=sf||0;for(var ip=0;ip<16;++ip)s[sf+ip]=Nf[ip];return s}return stringify$1(Nf)}function f$1(r,s,sf,Nf){switch(r){case 0:return s&sf^~s&Nf;case 1:return s^sf^Nf;case 2:return s&sf^s&Nf^sf&Nf;case 3:return s^sf^Nf}}function ROTL(r,s){return r<<s|r>>>32-s}function sha1(r){var s=[0x5a827999,0x6ed9eba1,0x8f1bbcdc,0xca62c1d6],sf=[0x67452301,0xefcdab89,0x98badcfe,0x10325476,0xc3d2e1f0];if(typeof r=="string"){var Nf=unescape(encodeURIComponent(r));r=[];for(var ip=0;ip<Nf.length;++ip)r.push(Nf.charCodeAt(ip))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);for(var em=r.length/4+2,tm=Math.ceil(em/16),nm=new Array(tm),rm=0;rm<tm;++rm){for(var om=new Uint32Array(16),im=0;im<16;++im)om[im]=r[rm*64+im*4]<<24|r[rm*64+im*4+1]<<16|r[rm*64+im*4+2]<<8|r[rm*64+im*4+3];nm[rm]=om}nm[tm-1][14]=(r.length-1)*8/Math.pow(2,32),nm[tm-1][14]=Math.floor(nm[tm-1][14]),nm[tm-1][15]=(r.length-1)*8&0xffffffff;for(var am=0;am<tm;++am){for(var sm=new Uint32Array(80),cm=0;cm<16;++cm)sm[cm]=nm[am][cm];for(var hm=16;hm<80;++hm)sm[hm]=ROTL(sm[hm-3]^sm[hm-8]^sm[hm-14]^sm[hm-16],1);for(var fm=sf[0],pm=sf[1],mm=sf[2],_m=sf[3],ym=sf[4],Sm=0;Sm<80;++Sm){var jm=Math.floor(Sm/20),Pm=ROTL(fm,5)+f$1(jm,pm,mm,_m)+ym+s[jm]+sm[Sm]>>>0;ym=_m,_m=mm,mm=ROTL(pm,30)>>>0,pm=fm,fm=Pm}sf[0]=sf[0]+fm>>>0,sf[1]=sf[1]+pm>>>0,sf[2]=sf[2]+mm>>>0,sf[3]=sf[3]+_m>>>0,sf[4]=sf[4]+ym>>>0}return[sf[0]>>24&255,sf[0]>>16&255,sf[0]>>8&255,sf[0]&255,sf[1]>>24&255,sf[1]>>16&255,sf[1]>>8&255,sf[1]&255,sf[2]>>24&255,sf[2]>>16&255,sf[2]>>8&255,sf[2]&255,sf[3]>>24&255,sf[3]>>16&255,sf[3]>>8&255,sf[3]&255,sf[4]>>24&255,sf[4]>>16&255,sf[4]>>8&255,sf[4]&255]}var v5=v35("v5",80,sha1);const nil="00000000-0000-0000-0000-000000000000";function version$2(r){if(!validate$1(r))throw TypeError("Invalid UUID");return parseInt(r.substr(14,1),16)}const esmBrowser=Object.freeze(Object.defineProperty({__proto__:null,NIL:nil,parse:parse$1,stringify:stringify$1,v1,v3,v4,v5,validate:validate$1,version:version$2},Symbol.toStringTag,{value:"Module"})),PACKET_TYPES=Object.create(null);PACKET_TYPES.open="0";PACKET_TYPES.close="1";PACKET_TYPES.ping="2";PACKET_TYPES.pong="3";PACKET_TYPES.message="4";PACKET_TYPES.upgrade="5";PACKET_TYPES.noop="6";const PACKET_TYPES_REVERSE=Object.create(null);Object.keys(PACKET_TYPES).forEach(r=>{PACKET_TYPES_REVERSE[PACKET_TYPES[r]]=r});const ERROR_PACKET={type:"error",data:"parser error"},withNativeBlob$1=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",withNativeArrayBuffer$2=typeof ArrayBuffer=="function",isView$1=r=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(r):r&&r.buffer instanceof ArrayBuffer,encodePacket=({type:r,data:s},sf,Nf)=>withNativeBlob$1&&s instanceof Blob?sf?Nf(s):encodeBlobAsBase64(s,Nf):withNativeArrayBuffer$2&&(s instanceof ArrayBuffer||isView$1(s))?sf?Nf(s):encodeBlobAsBase64(new Blob([s]),Nf):Nf(PACKET_TYPES[r]+(s||"")),encodeBlobAsBase64=(r,s)=>{const sf=new FileReader;return sf.onload=function(){const Nf=sf.result.split(",")[1];s("b"+(Nf||""))},sf.readAsDataURL(r)};function toArray(r){return r instanceof Uint8Array?r:r instanceof ArrayBuffer?new Uint8Array(r):new Uint8Array(r.buffer,r.byteOffset,r.byteLength)}let TEXT_ENCODER;function encodePacketToBinary(r,s){if(withNativeBlob$1&&r.data instanceof Blob)return r.data.arrayBuffer().then(toArray).then(s);if(withNativeArrayBuffer$2&&(r.data instanceof ArrayBuffer||isView$1(r.data)))return s(toArray(r.data));encodePacket(r,!1,sf=>{TEXT_ENCODER||(TEXT_ENCODER=new TextEncoder),s(TEXT_ENCODER.encode(sf))})}const chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup$2=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let r=0;r<chars.length;r++)lookup$2[chars.charCodeAt(r)]=r;const decode$1=r=>{let s=r.length*.75,sf=r.length,Nf,ip=0,em,tm,nm,rm;r[r.length-1]==="="&&(s--,r[r.length-2]==="="&&s--);const om=new ArrayBuffer(s),im=new Uint8Array(om);for(Nf=0;Nf<sf;Nf+=4)em=lookup$2[r.charCodeAt(Nf)],tm=lookup$2[r.charCodeAt(Nf+1)],nm=lookup$2[r.charCodeAt(Nf+2)],rm=lookup$2[r.charCodeAt(Nf+3)],im[ip++]=em<<2|tm>>4,im[ip++]=(tm&15)<<4|nm>>2,im[ip++]=(nm&3)<<6|rm&63;return om},withNativeArrayBuffer$1=typeof ArrayBuffer=="function",decodePacket=(r,s)=>{if(typeof r!="string")return{type:"message",data:mapBinary(r,s)};const sf=r.charAt(0);return sf==="b"?{type:"message",data:decodeBase64Packet(r.substring(1),s)}:PACKET_TYPES_REVERSE[sf]?r.length>1?{type:PACKET_TYPES_REVERSE[sf],data:r.substring(1)}:{type:PACKET_TYPES_REVERSE[sf]}:ERROR_PACKET},decodeBase64Packet=(r,s)=>{if(withNativeArrayBuffer$1){const sf=decode$1(r);return mapBinary(sf,s)}else return{base64:!0,data:r}},mapBinary=(r,s)=>{switch(s){case"blob":return r instanceof Blob?r:new Blob([r]);case"arraybuffer":default:return r instanceof ArrayBuffer?r:r.buffer}},SEPARATOR="\x1e",encodePayload=(r,s)=>{const sf=r.length,Nf=new Array(sf);let ip=0;r.forEach((em,tm)=>{encodePacket(em,!1,nm=>{Nf[tm]=nm,++ip===sf&&s(Nf.join(SEPARATOR))})})},decodePayload=(r,s)=>{const sf=r.split(SEPARATOR),Nf=[];for(let ip=0;ip<sf.length;ip++){const em=decodePacket(sf[ip],s);if(Nf.push(em),em.type==="error")break}return Nf};function createPacketEncoderStream(){return new TransformStream({transform(r,s){encodePacketToBinary(r,sf=>{const Nf=sf.length;let ip;if(Nf<126)ip=new Uint8Array(1),new DataView(ip.buffer).setUint8(0,Nf);else if(Nf<65536){ip=new Uint8Array(3);const em=new DataView(ip.buffer);em.setUint8(0,126),em.setUint16(1,Nf)}else{ip=new Uint8Array(9);const em=new DataView(ip.buffer);em.setUint8(0,127),em.setBigUint64(1,BigInt(Nf))}r.data&&typeof r.data!="string"&&(ip[0]|=128),s.enqueue(ip),s.enqueue(sf)})}})}let TEXT_DECODER;function totalLength(r){return r.reduce((s,sf)=>s+sf.length,0)}function concatChunks(r,s){if(r[0].length===s)return r.shift();const sf=new Uint8Array(s);let Nf=0;for(let ip=0;ip<s;ip++)sf[ip]=r[0][Nf++],Nf===r[0].length&&(r.shift(),Nf=0);return r.length&&Nf<r[0].length&&(r[0]=r[0].slice(Nf)),sf}function createPacketDecoderStream(r,s){TEXT_DECODER||(TEXT_DECODER=new TextDecoder);const sf=[];let Nf=0,ip=-1,em=!1;return new TransformStream({transform(tm,nm){for(sf.push(tm);;){if(Nf===0){if(totalLength(sf)<1)break;const rm=concatChunks(sf,1);em=(rm[0]&128)===128,ip=rm[0]&127,ip<126?Nf=3:ip===126?Nf=1:Nf=2}else if(Nf===1){if(totalLength(sf)<2)break;const rm=concatChunks(sf,2);ip=new DataView(rm.buffer,rm.byteOffset,rm.length).getUint16(0),Nf=3}else if(Nf===2){if(totalLength(sf)<8)break;const rm=concatChunks(sf,8),om=new DataView(rm.buffer,rm.byteOffset,rm.length),im=om.getUint32(0);if(im>Math.pow(2,21)-1){nm.enqueue(ERROR_PACKET);break}ip=im*Math.pow(2,32)+om.getUint32(4),Nf=3}else{if(totalLength(sf)<ip)break;const rm=concatChunks(sf,ip);nm.enqueue(decodePacket(em?rm:TEXT_DECODER.decode(rm),s)),Nf=0}if(ip===0||ip>r){nm.enqueue(ERROR_PACKET);break}}}})}const protocol$1=4;function Emitter(r){if(r)return mixin(r)}function mixin(r){for(var s in Emitter.prototype)r[s]=Emitter.prototype[s];return r}Emitter.prototype.on=Emitter.prototype.addEventListener=function(r,s){return this._callbacks=this._callbacks||{},(this._callbacks["$"+r]=this._callbacks["$"+r]||[]).push(s),this};Emitter.prototype.once=function(r,s){function sf(){this.off(r,sf),s.apply(this,arguments)}return sf.fn=s,this.on(r,sf),this};Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(r,s){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var sf=this._callbacks["$"+r];if(!sf)return this;if(arguments.length==1)return delete this._callbacks["$"+r],this;for(var Nf,ip=0;ip<sf.length;ip++)if(Nf=sf[ip],Nf===s||Nf.fn===s){sf.splice(ip,1);break}return sf.length===0&&delete this._callbacks["$"+r],this};Emitter.prototype.emit=function(r){this._callbacks=this._callbacks||{};for(var s=new Array(arguments.length-1),sf=this._callbacks["$"+r],Nf=1;Nf<arguments.length;Nf++)s[Nf-1]=arguments[Nf];if(sf){sf=sf.slice(0);for(var Nf=0,ip=sf.length;Nf<ip;++Nf)sf[Nf].apply(this,s)}return this};Emitter.prototype.emitReserved=Emitter.prototype.emit;Emitter.prototype.listeners=function(r){return this._callbacks=this._callbacks||{},this._callbacks["$"+r]||[]};Emitter.prototype.hasListeners=function(r){return!!this.listeners(r).length};const nextTick=typeof Promise=="function"&&typeof Promise.resolve=="function"?s=>Promise.resolve().then(s):(s,sf)=>sf(s,0),globalThisShim=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),defaultBinaryType="arraybuffer";function createCookieJar(){}function pick(r,...s){return s.reduce((sf,Nf)=>(r.hasOwnProperty(Nf)&&(sf[Nf]=r[Nf]),sf),{})}const NATIVE_SET_TIMEOUT=globalThisShim.setTimeout,NATIVE_CLEAR_TIMEOUT=globalThisShim.clearTimeout;function installTimerFunctions(r,s){s.useNativeTimers?(r.setTimeoutFn=NATIVE_SET_TIMEOUT.bind(globalThisShim),r.clearTimeoutFn=NATIVE_CLEAR_TIMEOUT.bind(globalThisShim)):(r.setTimeoutFn=globalThisShim.setTimeout.bind(globalThisShim),r.clearTimeoutFn=globalThisShim.clearTimeout.bind(globalThisShim))}const BASE64_OVERHEAD=1.33;function byteLength(r){return typeof r=="string"?utf8Length(r):Math.ceil((r.byteLength||r.size)*BASE64_OVERHEAD)}function utf8Length(r){let s=0,sf=0;for(let Nf=0,ip=r.length;Nf<ip;Nf++)s=r.charCodeAt(Nf),s<128?sf+=1:s<2048?sf+=2:s<55296||s>=57344?sf+=3:(Nf++,sf+=4);return sf}function randomString(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function encode(r){let s="";for(let sf in r)r.hasOwnProperty(sf)&&(s.length&&(s+="&"),s+=encodeURIComponent(sf)+"="+encodeURIComponent(r[sf]));return s}function decode(r){let s={},sf=r.split("&");for(let Nf=0,ip=sf.length;Nf<ip;Nf++){let em=sf[Nf].split("=");s[decodeURIComponent(em[0])]=decodeURIComponent(em[1])}return s}class TransportError extends Error{constructor(s,sf,Nf){super(s),this.description=sf,this.context=Nf,this.type="TransportError"}}class Transport extends Emitter{constructor(s){super(),this.writable=!1,installTimerFunctions(this,s),this.opts=s,this.query=s.query,this.socket=s.socket,this.supportsBinary=!s.forceBase64}onError(s,sf,Nf){return super.emitReserved("error",new TransportError(s,sf,Nf)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(s){this.readyState==="open"&&this.write(s)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(s){const sf=decodePacket(s,this.socket.binaryType);this.onPacket(sf)}onPacket(s){super.emitReserved("packet",s)}onClose(s){this.readyState="closed",super.emitReserved("close",s)}pause(s){}createUri(s,sf={}){return s+"://"+this._hostname()+this._port()+this.opts.path+this._query(sf)}_hostname(){const s=this.opts.hostname;return s.indexOf(":")===-1?s:"["+s+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(s){const sf=encode(s);return sf.length?"?"+sf:""}}class Polling extends Transport{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(s){this.readyState="pausing";const sf=()=>{this.readyState="paused",s()};if(this._polling||!this.writable){let Nf=0;this._polling&&(Nf++,this.once("pollComplete",function(){--Nf||sf()})),this.writable||(Nf++,this.once("drain",function(){--Nf||sf()}))}else sf()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(s){const sf=Nf=>{if(this.readyState==="opening"&&Nf.type==="open"&&this.onOpen(),Nf.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(Nf)};decodePayload(s,this.socket.binaryType).forEach(sf),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const s=()=>{this.write([{type:"close"}])};this.readyState==="open"?s():this.once("open",s)}write(s){this.writable=!1,encodePayload(s,sf=>{this.doWrite(sf,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const s=this.opts.secure?"https":"http",sf=this.query||{};return this.opts.timestampRequests!==!1&&(sf[this.opts.timestampParam]=randomString()),!this.supportsBinary&&!sf.sid&&(sf.b64=1),this.createUri(s,sf)}}let value=!1;try{value=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch(r){}const hasCORS=value;function empty(){}class BaseXHR extends Polling{constructor(s){if(super(s),typeof location<"u"){const sf=location.protocol==="https:";let Nf=location.port;Nf||(Nf=sf?"443":"80"),this.xd=typeof location<"u"&&s.hostname!==location.hostname||Nf!==s.port}}doWrite(s,sf){const Nf=this.request({method:"POST",data:s});Nf.on("success",sf),Nf.on("error",(ip,em)=>{this.onError("xhr post error",ip,em)})}doPoll(){const s=this.request();s.on("data",this.onData.bind(this)),s.on("error",(sf,Nf)=>{this.onError("xhr poll error",sf,Nf)}),this.pollXhr=s}}class Request extends Emitter{constructor(s,sf,Nf){super(),this.createRequest=s,installTimerFunctions(this,Nf),this._opts=Nf,this._method=Nf.method||"GET",this._uri=sf,this._data=Nf.data!==void 0?Nf.data:null,this._create()}_create(){var s;const sf=pick(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");sf.xdomain=!!this._opts.xd;const Nf=this._xhr=this.createRequest(sf);try{Nf.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){Nf.setDisableHeaderCheck&&Nf.setDisableHeaderCheck(!0);for(let ip in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(ip)&&Nf.setRequestHeader(ip,this._opts.extraHeaders[ip])}}catch{}if(this._method==="POST")try{Nf.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{Nf.setRequestHeader("Accept","*/*")}catch{}(s=this._opts.cookieJar)===null||s===void 0||s.addCookies(Nf),"withCredentials"in Nf&&(Nf.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(Nf.timeout=this._opts.requestTimeout),Nf.onreadystatechange=()=>{var ip;Nf.readyState===3&&((ip=this._opts.cookieJar)===null||ip===void 0||ip.parseCookies(Nf.getResponseHeader("set-cookie"))),Nf.readyState===4&&(Nf.status===200||Nf.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof Nf.status=="number"?Nf.status:0)},0))},Nf.send(this._data)}catch(ip){this.setTimeoutFn(()=>{this._onError(ip)},0);return}typeof document<"u"&&(this._index=Request.requestsCount++,Request.requests[this._index]=this)}_onError(s){this.emitReserved("error",s,this._xhr),this._cleanup(!0)}_cleanup(s){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=empty,s)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Request.requests[this._index],this._xhr=null}}_onLoad(){const s=this._xhr.responseText;s!==null&&(this.emitReserved("data",s),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Request.requestsCount=0;Request.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",unloadHandler);else if(typeof addEventListener=="function"){const r="onpagehide"in globalThisShim?"pagehide":"unload";addEventListener(r,unloadHandler,!1)}}function unloadHandler(){for(let r in Request.requests)Request.requests.hasOwnProperty(r)&&Request.requests[r].abort()}const hasXHR2=function(){const r=newRequest({xdomain:!1});return r&&r.responseType!==null}();class XHR extends BaseXHR{constructor(s){super(s);const sf=s&&s.forceBase64;this.supportsBinary=hasXHR2&&!sf}request(s={}){return Object.assign(s,{xd:this.xd},this.opts),new Request(newRequest,this.uri(),s)}}function newRequest(r){const s=r.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!s||hasCORS))return new XMLHttpRequest}catch{}if(!s)try{return new globalThisShim[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const isReactNative=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class BaseWS extends Transport{get name(){return"websocket"}doOpen(){const s=this.uri(),sf=this.opts.protocols,Nf=isReactNative?{}:pick(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(Nf.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(s,sf,Nf)}catch(ip){return this.emitReserved("error",ip)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=s=>this.onClose({description:"websocket connection closed",context:s}),this.ws.onmessage=s=>this.onData(s.data),this.ws.onerror=s=>this.onError("websocket error",s)}write(s){this.writable=!1;for(let sf=0;sf<s.length;sf++){const Nf=s[sf],ip=sf===s.length-1;encodePacket(Nf,this.supportsBinary,em=>{try{this.doWrite(Nf,em)}catch{}ip&&nextTick(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const s=this.opts.secure?"wss":"ws",sf=this.query||{};return this.opts.timestampRequests&&(sf[this.opts.timestampParam]=randomString()),this.supportsBinary||(sf.b64=1),this.createUri(s,sf)}}const WebSocketCtor=globalThisShim.WebSocket||globalThisShim.MozWebSocket;class WS extends BaseWS{createSocket(s,sf,Nf){return isReactNative?new WebSocketCtor(s,sf,Nf):sf?new WebSocketCtor(s,sf):new WebSocketCtor(s)}doWrite(s,sf){this.ws.send(sf)}}class WT extends Transport{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(s){return this.emitReserved("error",s)}this._transport.closed.then(()=>{this.onClose()}).catch(s=>{this.onError("webtransport error",s)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(s=>{const sf=createPacketDecoderStream(Number.MAX_SAFE_INTEGER,this.socket.binaryType),Nf=s.readable.pipeThrough(sf).getReader(),ip=createPacketEncoderStream();ip.readable.pipeTo(s.writable),this._writer=ip.writable.getWriter();const em=()=>{Nf.read().then(({done:nm,value:rm})=>{nm||(this.onPacket(rm),em())}).catch(nm=>{})};em();const tm={type:"open"};this.query.sid&&(tm.data=`{"sid":"${this.query.sid}"}`),this._writer.write(tm).then(()=>this.onOpen())})})}write(s){this.writable=!1;for(let sf=0;sf<s.length;sf++){const Nf=s[sf],ip=sf===s.length-1;this._writer.write(Nf).then(()=>{ip&&nextTick(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var s;(s=this._transport)===null||s===void 0||s.close()}}const transports={websocket:WS,webtransport:WT,polling:XHR},re$1=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,parts=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function parse(r){if(r.length>8e3)throw"URI too long";const s=r,sf=r.indexOf("["),Nf=r.indexOf("]");sf!=-1&&Nf!=-1&&(r=r.substring(0,sf)+r.substring(sf,Nf).replace(/:/g,";")+r.substring(Nf,r.length));let ip=re$1.exec(r||""),em={},tm=14;for(;tm--;)em[parts[tm]]=ip[tm]||"";return sf!=-1&&Nf!=-1&&(em.source=s,em.host=em.host.substring(1,em.host.length-1).replace(/;/g,":"),em.authority=em.authority.replace("[","").replace("]","").replace(/;/g,":"),em.ipv6uri=!0),em.pathNames=pathNames(em,em.path),em.queryKey=queryKey(em,em.query),em}function pathNames(r,s){const sf=/\/{2,9}/g,Nf=s.replace(sf,"/").split("/");return(s.slice(0,1)=="/"||s.length===0)&&Nf.splice(0,1),s.slice(-1)=="/"&&Nf.splice(Nf.length-1,1),Nf}function queryKey(r,s){const sf={};return s.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(Nf,ip,em){ip&&(sf[ip]=em)}),sf}const withEventListeners=typeof addEventListener=="function"&&typeof removeEventListener=="function",OFFLINE_EVENT_LISTENERS=[];withEventListeners&&addEventListener("offline",()=>{OFFLINE_EVENT_LISTENERS.forEach(r=>r())},!1);class SocketWithoutUpgrade extends Emitter{constructor(s,sf){if(super(),this.binaryType=defaultBinaryType,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,s&&typeof s=="object"&&(sf=s,s=null),s){const Nf=parse(s);sf.hostname=Nf.host,sf.secure=Nf.protocol==="https"||Nf.protocol==="wss",sf.port=Nf.port,Nf.query&&(sf.query=Nf.query)}else sf.host&&(sf.hostname=parse(sf.host).host);installTimerFunctions(this,sf),this.secure=sf.secure!=null?sf.secure:typeof location<"u"&&location.protocol==="https:",sf.hostname&&!sf.port&&(sf.port=this.secure?"443":"80"),this.hostname=sf.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=sf.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},sf.transports.forEach(Nf=>{const ip=Nf.prototype.name;this.transports.push(ip),this._transportsByName[ip]=Nf}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},sf),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=decode(this.opts.query)),withEventListeners&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},OFFLINE_EVENT_LISTENERS.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(s){const sf=Object.assign({},this.opts.query);sf.EIO=protocol$1,sf.transport=s,this.id&&(sf.sid=this.id);const Nf=Object.assign({},this.opts,{query:sf,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[s]);return new this._transportsByName[s](Nf)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const s=this.opts.rememberUpgrade&&SocketWithoutUpgrade.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const sf=this.createTransport(s);sf.open(),this.setTransport(sf)}setTransport(s){this.transport&&this.transport.removeAllListeners(),this.transport=s,s.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",sf=>this._onClose("transport close",sf))}onOpen(){this.readyState="open",SocketWithoutUpgrade.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(s){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",s),this.emitReserved("heartbeat"),s.type){case"open":this.onHandshake(JSON.parse(s.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const sf=new Error("server error");sf.code=s.data,this._onError(sf);break;case"message":this.emitReserved("data",s.data),this.emitReserved("message",s.data);break}}onHandshake(s){this.emitReserved("handshake",s),this.id=s.sid,this.transport.query.sid=s.sid,this._pingInterval=s.pingInterval,this._pingTimeout=s.pingTimeout,this._maxPayload=s.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const s=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+s,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},s),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const s=this._getWritablePackets();this.transport.send(s),this._prevBufferLen=s.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let sf=1;for(let Nf=0;Nf<this.writeBuffer.length;Nf++){const ip=this.writeBuffer[Nf].data;if(ip&&(sf+=byteLength(ip)),Nf>0&&sf>this._maxPayload)return this.writeBuffer.slice(0,Nf);sf+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const s=Date.now()>this._pingTimeoutTime;return s&&(this._pingTimeoutTime=0,nextTick(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),s}write(s,sf,Nf){return this._sendPacket("message",s,sf,Nf),this}send(s,sf,Nf){return this._sendPacket("message",s,sf,Nf),this}_sendPacket(s,sf,Nf,ip){if(typeof sf=="function"&&(ip=sf,sf=void 0),typeof Nf=="function"&&(ip=Nf,Nf=null),this.readyState==="closing"||this.readyState==="closed")return;Nf=Nf||{},Nf.compress=Nf.compress!==!1;const em={type:s,data:sf,options:Nf};this.emitReserved("packetCreate",em),this.writeBuffer.push(em),ip&&this.once("flush",ip),this.flush()}close(){const s=()=>{this._onClose("forced close"),this.transport.close()},sf=()=>{this.off("upgrade",sf),this.off("upgradeError",sf),s()},Nf=()=>{this.once("upgrade",sf),this.once("upgradeError",sf)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?Nf():s()}):this.upgrading?Nf():s()),this}_onError(s){if(SocketWithoutUpgrade.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",s),this._onClose("transport error",s)}_onClose(s,sf){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),withEventListeners&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const Nf=OFFLINE_EVENT_LISTENERS.indexOf(this._offlineEventListener);Nf!==-1&&OFFLINE_EVENT_LISTENERS.splice(Nf,1)}this.readyState="closed",this.id=null,this.emitReserved("close",s,sf),this.writeBuffer=[],this._prevBufferLen=0}}}SocketWithoutUpgrade.protocol=protocol$1;class SocketWithUpgrade extends SocketWithoutUpgrade{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let s=0;s<this._upgrades.length;s++)this._probe(this._upgrades[s])}_probe(s){let sf=this.createTransport(s),Nf=!1;SocketWithoutUpgrade.priorWebsocketSuccess=!1;const ip=()=>{Nf||(sf.send([{type:"ping",data:"probe"}]),sf.once("packet",am=>{if(!Nf)if(am.type==="pong"&&am.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",sf),!sf)return;SocketWithoutUpgrade.priorWebsocketSuccess=sf.name==="websocket",this.transport.pause(()=>{Nf||this.readyState!=="closed"&&(im(),this.setTransport(sf),sf.send([{type:"upgrade"}]),this.emitReserved("upgrade",sf),sf=null,this.upgrading=!1,this.flush())})}else{const sm=new Error("probe error");sm.transport=sf.name,this.emitReserved("upgradeError",sm)}}))};function em(){Nf||(Nf=!0,im(),sf.close(),sf=null)}const tm=am=>{const sm=new Error("probe error: "+am);sm.transport=sf.name,em(),this.emitReserved("upgradeError",sm)};function nm(){tm("transport closed")}function rm(){tm("socket closed")}function om(am){sf&&am.name!==sf.name&&em()}const im=()=>{sf.removeListener("open",ip),sf.removeListener("error",tm),sf.removeListener("close",nm),this.off("close",rm),this.off("upgrading",om)};sf.once("open",ip),sf.once("error",tm),sf.once("close",nm),this.once("close",rm),this.once("upgrading",om),this._upgrades.indexOf("webtransport")!==-1&&s!=="webtransport"?this.setTimeoutFn(()=>{Nf||sf.open()},200):sf.open()}onHandshake(s){this._upgrades=this._filterUpgrades(s.upgrades),super.onHandshake(s)}_filterUpgrades(s){const sf=[];for(let Nf=0;Nf<s.length;Nf++)~this.transports.indexOf(s[Nf])&&sf.push(s[Nf]);return sf}}let Socket$1=class extends SocketWithUpgrade{constructor(s,sf={}){const Nf=typeof s=="object"?s:sf;(!Nf.transports||Nf.transports&&typeof Nf.transports[0]=="string")&&(Nf.transports=(Nf.transports||["polling","websocket","webtransport"]).map(ip=>transports[ip]).filter(ip=>!!ip)),super(s,Nf)}};function url(r,s="",sf){let Nf=r;sf=sf||typeof location<"u"&&location,r==null&&(r=sf.protocol+"//"+sf.host),typeof r=="string"&&(r.charAt(0)==="/"&&(r.charAt(1)==="/"?r=sf.protocol+r:r=sf.host+r),/^(https?|wss?):\/\//.test(r)||(typeof sf<"u"?r=sf.protocol+"//"+r:r="https://"+r),Nf=parse(r)),Nf.port||(/^(http|ws)$/.test(Nf.protocol)?Nf.port="80":/^(http|ws)s$/.test(Nf.protocol)&&(Nf.port="443")),Nf.path=Nf.path||"/";const em=Nf.host.indexOf(":")!==-1?"["+Nf.host+"]":Nf.host;return Nf.id=Nf.protocol+"://"+em+":"+Nf.port+s,Nf.href=Nf.protocol+"://"+em+(sf&&sf.port===Nf.port?"":":"+Nf.port),Nf}const withNativeArrayBuffer=typeof ArrayBuffer=="function",isView=r=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(r):r.buffer instanceof ArrayBuffer,toString=Object.prototype.toString,withNativeBlob=typeof Blob=="function"||typeof Blob<"u"&&toString.call(Blob)==="[object BlobConstructor]",withNativeFile=typeof File=="function"||typeof File<"u"&&toString.call(File)==="[object FileConstructor]";function isBinary(r){return withNativeArrayBuffer&&(r instanceof ArrayBuffer||isView(r))||withNativeBlob&&r instanceof Blob||withNativeFile&&r instanceof File}function hasBinary(r,s){if(!r||typeof r!="object")return!1;if(Array.isArray(r)){for(let sf=0,Nf=r.length;sf<Nf;sf++)if(hasBinary(r[sf]))return!0;return!1}if(isBinary(r))return!0;if(r.toJSON&&typeof r.toJSON=="function"&&arguments.length===1)return hasBinary(r.toJSON(),!0);for(const sf in r)if(Object.prototype.hasOwnProperty.call(r,sf)&&hasBinary(r[sf]))return!0;return!1}function deconstructPacket(r){const s=[],sf=r.data,Nf=r;return Nf.data=_deconstructPacket(sf,s),Nf.attachments=s.length,{packet:Nf,buffers:s}}function _deconstructPacket(r,s){if(!r)return r;if(isBinary(r)){const sf={_placeholder:!0,num:s.length};return s.push(r),sf}else if(Array.isArray(r)){const sf=new Array(r.length);for(let Nf=0;Nf<r.length;Nf++)sf[Nf]=_deconstructPacket(r[Nf],s);return sf}else if(typeof r=="object"&&!(r instanceof Date)){const sf={};for(const Nf in r)Object.prototype.hasOwnProperty.call(r,Nf)&&(sf[Nf]=_deconstructPacket(r[Nf],s));return sf}return r}function reconstructPacket(r,s){return r.data=_reconstructPacket(r.data,s),delete r.attachments,r}function _reconstructPacket(r,s){if(!r)return r;if(r&&r._placeholder===!0){if(typeof r.num=="number"&&r.num>=0&&r.num<s.length)return s[r.num];throw new Error("illegal attachments")}else if(Array.isArray(r))for(let sf=0;sf<r.length;sf++)r[sf]=_reconstructPacket(r[sf],s);else if(typeof r=="object")for(const sf in r)Object.prototype.hasOwnProperty.call(r,sf)&&(r[sf]=_reconstructPacket(r[sf],s));return r}const RESERVED_EVENTS$1=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],protocol=5;var PacketType;(function(r){r[r.CONNECT=0]="CONNECT",r[r.DISCONNECT=1]="DISCONNECT",r[r.EVENT=2]="EVENT",r[r.ACK=3]="ACK",r[r.CONNECT_ERROR=4]="CONNECT_ERROR",r[r.BINARY_EVENT=5]="BINARY_EVENT",r[r.BINARY_ACK=6]="BINARY_ACK"})(PacketType||(PacketType={}));class Encoder{constructor(s){this.replacer=s}encode(s){return(s.type===PacketType.EVENT||s.type===PacketType.ACK)&&hasBinary(s)?this.encodeAsBinary({type:s.type===PacketType.EVENT?PacketType.BINARY_EVENT:PacketType.BINARY_ACK,nsp:s.nsp,data:s.data,id:s.id}):[this.encodeAsString(s)]}encodeAsString(s){let sf=""+s.type;return(s.type===PacketType.BINARY_EVENT||s.type===PacketType.BINARY_ACK)&&(sf+=s.attachments+"-"),s.nsp&&s.nsp!=="/"&&(sf+=s.nsp+","),s.id!=null&&(sf+=s.id),s.data!=null&&(sf+=JSON.stringify(s.data,this.replacer)),sf}encodeAsBinary(s){const sf=deconstructPacket(s),Nf=this.encodeAsString(sf.packet),ip=sf.buffers;return ip.unshift(Nf),ip}}function isObject$1(r){return Object.prototype.toString.call(r)==="[object Object]"}class Decoder extends Emitter{constructor(s){super(),this.reviver=s}add(s){let sf;if(typeof s=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");sf=this.decodeString(s);const Nf=sf.type===PacketType.BINARY_EVENT;Nf||sf.type===PacketType.BINARY_ACK?(sf.type=Nf?PacketType.EVENT:PacketType.ACK,this.reconstructor=new BinaryReconstructor(sf),sf.attachments===0&&super.emitReserved("decoded",sf)):super.emitReserved("decoded",sf)}else if(isBinary(s)||s.base64)if(this.reconstructor)sf=this.reconstructor.takeBinaryData(s),sf&&(this.reconstructor=null,super.emitReserved("decoded",sf));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+s)}decodeString(s){let sf=0;const Nf={type:Number(s.charAt(0))};if(PacketType[Nf.type]===void 0)throw new Error("unknown packet type "+Nf.type);if(Nf.type===PacketType.BINARY_EVENT||Nf.type===PacketType.BINARY_ACK){const em=sf+1;for(;s.charAt(++sf)!=="-"&&sf!=s.length;);const tm=s.substring(em,sf);if(tm!=Number(tm)||s.charAt(sf)!=="-")throw new Error("Illegal attachments");Nf.attachments=Number(tm)}if(s.charAt(sf+1)==="/"){const em=sf+1;for(;++sf&&!(s.charAt(sf)===","||sf===s.length););Nf.nsp=s.substring(em,sf)}else Nf.nsp="/";const ip=s.charAt(sf+1);if(ip!==""&&Number(ip)==ip){const em=sf+1;for(;++sf;){const tm=s.charAt(sf);if(tm==null||Number(tm)!=tm){--sf;break}if(sf===s.length)break}Nf.id=Number(s.substring(em,sf+1))}if(s.charAt(++sf)){const em=this.tryParse(s.substr(sf));if(Decoder.isPayloadValid(Nf.type,em))Nf.data=em;else throw new Error("invalid payload")}return Nf}tryParse(s){try{return JSON.parse(s,this.reviver)}catch{return!1}}static isPayloadValid(s,sf){switch(s){case PacketType.CONNECT:return isObject$1(sf);case PacketType.DISCONNECT:return sf===void 0;case PacketType.CONNECT_ERROR:return typeof sf=="string"||isObject$1(sf);case PacketType.EVENT:case PacketType.BINARY_EVENT:return Array.isArray(sf)&&(typeof sf[0]=="number"||typeof sf[0]=="string"&&RESERVED_EVENTS$1.indexOf(sf[0])===-1);case PacketType.ACK:case PacketType.BINARY_ACK:return Array.isArray(sf)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class BinaryReconstructor{constructor(s){this.packet=s,this.buffers=[],this.reconPack=s}takeBinaryData(s){if(this.buffers.push(s),this.buffers.length===this.reconPack.attachments){const sf=reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),sf}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const parser=Object.freeze(Object.defineProperty({__proto__:null,Decoder,Encoder,get PacketType(){return PacketType},protocol},Symbol.toStringTag,{value:"Module"}));function on$1(r,s,sf){return r.on(s,sf),function(){r.off(s,sf)}}const RESERVED_EVENTS=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Socket extends Emitter{constructor(s,sf,Nf){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=s,this.nsp=sf,Nf&&Nf.auth&&(this.auth=Nf.auth),this._opts=Object.assign({},Nf),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const s=this.io;this.subs=[on$1(s,"open",this.onopen.bind(this)),on$1(s,"packet",this.onpacket.bind(this)),on$1(s,"error",this.onerror.bind(this)),on$1(s,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...s){return s.unshift("message"),this.emit.apply(this,s),this}emit(s,...sf){var Nf,ip,em;if(RESERVED_EVENTS.hasOwnProperty(s))throw new Error('"'+s.toString()+'" is a reserved event name');if(sf.unshift(s),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(sf),this;const tm={type:PacketType.EVENT,data:sf};if(tm.options={},tm.options.compress=this.flags.compress!==!1,typeof sf[sf.length-1]=="function"){const im=this.ids++,am=sf.pop();this._registerAckCallback(im,am),tm.id=im}const nm=(ip=(Nf=this.io.engine)===null||Nf===void 0?void 0:Nf.transport)===null||ip===void 0?void 0:ip.writable,rm=this.connected&&!(!((em=this.io.engine)===null||em===void 0)&&em._hasPingExpired());return this.flags.volatile&&!nm||(rm?(this.notifyOutgoingListeners(tm),this.packet(tm)):this.sendBuffer.push(tm)),this.flags={},this}_registerAckCallback(s,sf){var Nf;const ip=(Nf=this.flags.timeout)!==null&&Nf!==void 0?Nf:this._opts.ackTimeout;if(ip===void 0){this.acks[s]=sf;return}const em=this.io.setTimeoutFn(()=>{delete this.acks[s];for(let nm=0;nm<this.sendBuffer.length;nm++)this.sendBuffer[nm].id===s&&this.sendBuffer.splice(nm,1);sf.call(this,new Error("operation has timed out"))},ip),tm=(...nm)=>{this.io.clearTimeoutFn(em),sf.apply(this,nm)};tm.withError=!0,this.acks[s]=tm}emitWithAck(s,...sf){return new Promise((Nf,ip)=>{const em=(tm,nm)=>tm?ip(tm):Nf(nm);em.withError=!0,sf.push(em),this.emit(s,...sf)})}_addToQueue(s){let sf;typeof s[s.length-1]=="function"&&(sf=s.pop());const Nf={id:this._queueSeq++,tryCount:0,pending:!1,args:s,flags:Object.assign({fromQueue:!0},this.flags)};s.push((ip,...em)=>Nf!==this._queue[0]?void 0:(ip!==null?Nf.tryCount>this._opts.retries&&(this._queue.shift(),sf&&sf(ip)):(this._queue.shift(),sf&&sf(null,...em)),Nf.pending=!1,this._drainQueue())),this._queue.push(Nf),this._drainQueue()}_drainQueue(s=!1){if(!this.connected||this._queue.length===0)return;const sf=this._queue[0];sf.pending&&!s||(sf.pending=!0,sf.tryCount++,this.flags=sf.flags,this.emit.apply(this,sf.args))}packet(s){s.nsp=this.nsp,this.io._packet(s)}onopen(){typeof this.auth=="function"?this.auth(s=>{this._sendConnectPacket(s)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(s){this.packet({type:PacketType.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},s):s})}onerror(s){this.connected||this.emitReserved("connect_error",s)}onclose(s,sf){this.connected=!1,delete this.id,this.emitReserved("disconnect",s,sf),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(s=>{if(!this.sendBuffer.some(Nf=>String(Nf.id)===s)){const Nf=this.acks[s];delete this.acks[s],Nf.withError&&Nf.call(this,new Error("socket has been disconnected"))}})}onpacket(s){if(s.nsp===this.nsp)switch(s.type){case PacketType.CONNECT:s.data&&s.data.sid?this.onconnect(s.data.sid,s.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case PacketType.EVENT:case PacketType.BINARY_EVENT:this.onevent(s);break;case PacketType.ACK:case PacketType.BINARY_ACK:this.onack(s);break;case PacketType.DISCONNECT:this.ondisconnect();break;case PacketType.CONNECT_ERROR:this.destroy();const Nf=new Error(s.data.message);Nf.data=s.data.data,this.emitReserved("connect_error",Nf);break}}onevent(s){const sf=s.data||[];s.id!=null&&sf.push(this.ack(s.id)),this.connected?this.emitEvent(sf):this.receiveBuffer.push(Object.freeze(sf))}emitEvent(s){if(this._anyListeners&&this._anyListeners.length){const sf=this._anyListeners.slice();for(const Nf of sf)Nf.apply(this,s)}super.emit.apply(this,s),this._pid&&s.length&&typeof s[s.length-1]=="string"&&(this._lastOffset=s[s.length-1])}ack(s){const sf=this;let Nf=!1;return function(...ip){Nf||(Nf=!0,sf.packet({type:PacketType.ACK,id:s,data:ip}))}}onack(s){const sf=this.acks[s.id];typeof sf=="function"&&(delete this.acks[s.id],sf.withError&&s.data.unshift(null),sf.apply(this,s.data))}onconnect(s,sf){this.id=s,this.recovered=sf&&this._pid===sf,this._pid=sf,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(s=>this.emitEvent(s)),this.receiveBuffer=[],this.sendBuffer.forEach(s=>{this.notifyOutgoingListeners(s),this.packet(s)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(s=>s()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:PacketType.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(s){return this.flags.compress=s,this}get volatile(){return this.flags.volatile=!0,this}timeout(s){return this.flags.timeout=s,this}onAny(s){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(s),this}prependAny(s){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(s),this}offAny(s){if(!this._anyListeners)return this;if(s){const sf=this._anyListeners;for(let Nf=0;Nf<sf.length;Nf++)if(s===sf[Nf])return sf.splice(Nf,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(s){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(s),this}prependAnyOutgoing(s){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(s),this}offAnyOutgoing(s){if(!this._anyOutgoingListeners)return this;if(s){const sf=this._anyOutgoingListeners;for(let Nf=0;Nf<sf.length;Nf++)if(s===sf[Nf])return sf.splice(Nf,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(s){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const sf=this._anyOutgoingListeners.slice();for(const Nf of sf)Nf.apply(this,s.data)}}}function Backoff(r){r=r||{},this.ms=r.min||100,this.max=r.max||1e4,this.factor=r.factor||2,this.jitter=r.jitter>0&&r.jitter<=1?r.jitter:0,this.attempts=0}Backoff.prototype.duration=function(){var r=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var s=Math.random(),sf=Math.floor(s*this.jitter*r);r=(Math.floor(s*10)&1)==0?r-sf:r+sf}return Math.min(r,this.max)|0};Backoff.prototype.reset=function(){this.attempts=0};Backoff.prototype.setMin=function(r){this.ms=r};Backoff.prototype.setMax=function(r){this.max=r};Backoff.prototype.setJitter=function(r){this.jitter=r};class Manager extends Emitter{constructor(s,sf){var Nf;super(),this.nsps={},this.subs=[],s&&typeof s=="object"&&(sf=s,s=void 0),sf=sf||{},sf.path=sf.path||"/socket.io",this.opts=sf,installTimerFunctions(this,sf),this.reconnection(sf.reconnection!==!1),this.reconnectionAttempts(sf.reconnectionAttempts||1/0),this.reconnectionDelay(sf.reconnectionDelay||1e3),this.reconnectionDelayMax(sf.reconnectionDelayMax||5e3),this.randomizationFactor((Nf=sf.randomizationFactor)!==null&&Nf!==void 0?Nf:.5),this.backoff=new Backoff({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(sf.timeout==null?2e4:sf.timeout),this._readyState="closed",this.uri=s;const ip=sf.parser||parser;this.encoder=new ip.Encoder,this.decoder=new ip.Decoder,this._autoConnect=sf.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(s){return arguments.length?(this._reconnection=!!s,s||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(s){return s===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=s,this)}reconnectionDelay(s){var sf;return s===void 0?this._reconnectionDelay:(this._reconnectionDelay=s,(sf=this.backoff)===null||sf===void 0||sf.setMin(s),this)}randomizationFactor(s){var sf;return s===void 0?this._randomizationFactor:(this._randomizationFactor=s,(sf=this.backoff)===null||sf===void 0||sf.setJitter(s),this)}reconnectionDelayMax(s){var sf;return s===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=s,(sf=this.backoff)===null||sf===void 0||sf.setMax(s),this)}timeout(s){return arguments.length?(this._timeout=s,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(s){if(~this._readyState.indexOf("open"))return this;this.engine=new Socket$1(this.uri,this.opts);const sf=this.engine,Nf=this;this._readyState="opening",this.skipReconnect=!1;const ip=on$1(sf,"open",function(){Nf.onopen(),s&&s()}),em=nm=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",nm),s?s(nm):this.maybeReconnectOnOpen()},tm=on$1(sf,"error",em);if(this._timeout!==!1){const nm=this._timeout,rm=this.setTimeoutFn(()=>{ip(),em(new Error("timeout")),sf.close()},nm);this.opts.autoUnref&&rm.unref(),this.subs.push(()=>{this.clearTimeoutFn(rm)})}return this.subs.push(ip),this.subs.push(tm),this}connect(s){return this.open(s)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const s=this.engine;this.subs.push(on$1(s,"ping",this.onping.bind(this)),on$1(s,"data",this.ondata.bind(this)),on$1(s,"error",this.onerror.bind(this)),on$1(s,"close",this.onclose.bind(this)),on$1(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(s){try{this.decoder.add(s)}catch(sf){this.onclose("parse error",sf)}}ondecoded(s){nextTick(()=>{this.emitReserved("packet",s)},this.setTimeoutFn)}onerror(s){this.emitReserved("error",s)}socket(s,sf){let Nf=this.nsps[s];return Nf?this._autoConnect&&!Nf.active&&Nf.connect():(Nf=new Socket(this,s,sf),this.nsps[s]=Nf),Nf}_destroy(s){const sf=Object.keys(this.nsps);for(const Nf of sf)if(this.nsps[Nf].active)return;this._close()}_packet(s){const sf=this.encoder.encode(s);for(let Nf=0;Nf<sf.length;Nf++)this.engine.write(sf[Nf],s.options)}cleanup(){this.subs.forEach(s=>s()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(s,sf){var Nf;this.cleanup(),(Nf=this.engine)===null||Nf===void 0||Nf.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",s,sf),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const s=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const sf=this.backoff.duration();this._reconnecting=!0;const Nf=this.setTimeoutFn(()=>{s.skipReconnect||(this.emitReserved("reconnect_attempt",s.backoff.attempts),!s.skipReconnect&&s.open(ip=>{ip?(s._reconnecting=!1,s.reconnect(),this.emitReserved("reconnect_error",ip)):s.onreconnect()}))},sf);this.opts.autoUnref&&Nf.unref(),this.subs.push(()=>{this.clearTimeoutFn(Nf)})}}onreconnect(){const s=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",s)}}const cache$1={};function lookup$1(r,s){typeof r=="object"&&(s=r,r=void 0),s=s||{};const sf=url(r,s.path||"/socket.io"),Nf=sf.source,ip=sf.id,em=sf.path,tm=cache$1[ip]&&em in cache$1[ip].nsps,nm=s.forceNew||s["force new connection"]||s.multiplex===!1||tm;let rm;return nm?rm=new Manager(Nf,s):(cache$1[ip]||(cache$1[ip]=new Manager(Nf,s)),rm=cache$1[ip]),sf.query&&!s.query&&(s.query=sf.queryKey),rm.socket(sf.path,s)}Object.assign(lookup$1,{Manager,Socket,io:lookup$1,connect:lookup$1});function a(r,s,sf,Nf){return new(sf||(sf=Promise))(function(ip,em){function tm(om){try{rm(Nf.next(om))}catch(im){em(im)}}function nm(om){try{rm(Nf.throw(om))}catch(im){em(im)}}function rm(om){var im;om.done?ip(om.value):(im=om.value,im instanceof sf?im:new sf(function(am){am(im)})).then(tm,nm)}rm((Nf=Nf.apply(r,s||[])).next())})}var c=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{},l=[],d=[],u=typeof Uint8Array<"u"?Uint8Array:Array,h=!1;function f(){h=!0;for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)l[s]=r[s],d[r.charCodeAt(s)]=s;d[45]=62,d[95]=63}function p(r,s,sf){for(var Nf,ip,em=[],tm=s;tm<sf;tm+=3)Nf=(r[tm]<<16)+(r[tm+1]<<8)+r[tm+2],em.push(l[(ip=Nf)>>18&63]+l[ip>>12&63]+l[ip>>6&63]+l[63&ip]);return em.join("")}function g(r){var s;h||f();for(var sf=r.length,Nf=sf%3,ip="",em=[],tm=16383,nm=0,rm=sf-Nf;nm<rm;nm+=tm)em.push(p(r,nm,nm+tm>rm?rm:nm+tm));return Nf===1?(s=r[sf-1],ip+=l[s>>2],ip+=l[s<<4&63],ip+="=="):Nf===2&&(s=(r[sf-2]<<8)+r[sf-1],ip+=l[s>>10],ip+=l[s>>4&63],ip+=l[s<<2&63],ip+="="),em.push(ip),em.join("")}function m(r,s,sf,Nf,ip){var em,tm,nm=8*ip-Nf-1,rm=(1<<nm)-1,om=rm>>1,im=-7,am=sf?ip-1:0,sm=sf?-1:1,cm=r[s+am];for(am+=sm,em=cm&(1<<-im)-1,cm>>=-im,im+=nm;im>0;em=256*em+r[s+am],am+=sm,im-=8);for(tm=em&(1<<-im)-1,em>>=-im,im+=Nf;im>0;tm=256*tm+r[s+am],am+=sm,im-=8);if(em===0)em=1-om;else{if(em===rm)return tm?NaN:1/0*(cm?-1:1);tm+=Math.pow(2,Nf),em-=om}return(cm?-1:1)*tm*Math.pow(2,em-Nf)}function y(r,s,sf,Nf,ip,em){var tm,nm,rm,om=8*em-ip-1,im=(1<<om)-1,am=im>>1,sm=ip===23?Math.pow(2,-24)-Math.pow(2,-77):0,cm=Nf?0:em-1,hm=Nf?1:-1,fm=s<0||s===0&&1/s<0?1:0;for(s=Math.abs(s),isNaN(s)||s===1/0?(nm=isNaN(s)?1:0,tm=im):(tm=Math.floor(Math.log(s)/Math.LN2),s*(rm=Math.pow(2,-tm))<1&&(tm--,rm*=2),(s+=tm+am>=1?sm/rm:sm*Math.pow(2,1-am))*rm>=2&&(tm++,rm/=2),tm+am>=im?(nm=0,tm=im):tm+am>=1?(nm=(s*rm-1)*Math.pow(2,ip),tm+=am):(nm=s*Math.pow(2,am-1)*Math.pow(2,ip),tm=0));ip>=8;r[sf+cm]=255&nm,cm+=hm,nm/=256,ip-=8);for(tm=tm<<ip|nm,om+=ip;om>0;r[sf+cm]=255&tm,cm+=hm,tm/=256,om-=8);r[sf+cm-hm]|=128*fm}var v={}.toString,b=Array.isArray||function(r){return v.call(r)=="[object Array]"};_.TYPED_ARRAY_SUPPORT=c.TYPED_ARRAY_SUPPORT===void 0||c.TYPED_ARRAY_SUPPORT;var w=E();function E(){return _.TYPED_ARRAY_SUPPORT?0x7fffffff:0x3fffffff}function S(r,s){if(E()<s)throw new RangeError("Invalid typed array length");return _.TYPED_ARRAY_SUPPORT?(r=new Uint8Array(s)).__proto__=_.prototype:(r===null&&(r=new _(s)),r.length=s),r}function _(r,s,sf){if(!(_.TYPED_ARRAY_SUPPORT||this instanceof _))return new _(r,s,sf);if(typeof r=="number"){if(typeof s=="string")throw new Error("If encoding is specified then the first argument must be a string");return x(this,r)}return C(this,r,s,sf)}function C(r,s,sf,Nf){if(typeof s=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&s instanceof ArrayBuffer?function(ip,em,tm,nm){if(em.byteLength,tm<0||em.byteLength<tm)throw new RangeError("'offset' is out of bounds");if(em.byteLength<tm+(nm||0))throw new RangeError("'length' is out of bounds");return em=tm===void 0&&nm===void 0?new Uint8Array(em):nm===void 0?new Uint8Array(em,tm):new Uint8Array(em,tm,nm),_.TYPED_ARRAY_SUPPORT?(ip=em).__proto__=_.prototype:ip=M(ip,em),ip}(r,s,sf,Nf):typeof s=="string"?function(ip,em,tm){if(typeof tm=="string"&&tm!==""||(tm="utf8"),!_.isEncoding(tm))throw new TypeError('"encoding" must be a valid string encoding');var nm=0|R(em,tm);ip=S(ip,nm);var rm=ip.write(em,tm);return rm!==nm&&(ip=ip.slice(0,rm)),ip}(r,s,sf):function(ip,em){if(I(em)){var tm=0|A(em.length);return(ip=S(ip,tm)).length===0||em.copy(ip,0,0,tm),ip}if(em){if(typeof ArrayBuffer<"u"&&em.buffer instanceof ArrayBuffer||"length"in em)return typeof em.length!="number"||(nm=em.length)!=nm?S(ip,0):M(ip,em);if(em.type==="Buffer"&&b(em.data))return M(ip,em.data)}var nm;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(r,s)}function k(r){if(typeof r!="number")throw new TypeError('"size" argument must be a number');if(r<0)throw new RangeError('"size" argument must not be negative')}function x(r,s){if(k(s),r=S(r,s<0?0:0|A(s)),!_.TYPED_ARRAY_SUPPORT)for(var sf=0;sf<s;++sf)r[sf]=0;return r}function M(r,s){var sf=s.length<0?0:0|A(s.length);r=S(r,sf);for(var Nf=0;Nf<sf;Nf+=1)r[Nf]=255&s[Nf];return r}function A(r){if(r>=E())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+E().toString(16)+" bytes");return 0|r}function I(r){return!(r==null||!r._isBuffer)}function R(r,s){if(I(r))return r.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(r)||r instanceof ArrayBuffer))return r.byteLength;typeof r!="string"&&(r=""+r);var sf=r.length;if(sf===0)return 0;for(var Nf=!1;;)switch(s){case"ascii":case"latin1":case"binary":return sf;case"utf8":case"utf-8":case void 0:return re(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*sf;case"hex":return sf>>>1;case"base64":return ie(r).length;default:if(Nf)return re(r).length;s=(""+s).toLowerCase(),Nf=!0}}function P(r,s,sf){var Nf=!1;if((s===void 0||s<0)&&(s=0),s>this.length||((sf===void 0||sf>this.length)&&(sf=this.length),sf<=0)||(sf>>>=0)<=(s>>>=0))return"";for(r||(r="utf8");;)switch(r){case"hex":return W(this,s,sf);case"utf8":case"utf-8":return H(this,s,sf);case"ascii":return z(this,s,sf);case"latin1":case"binary":return q(this,s,sf);case"base64":return U(this,s,sf);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return V(this,s,sf);default:if(Nf)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),Nf=!0}}function T(r,s,sf){var Nf=r[s];r[s]=r[sf],r[sf]=Nf}function O(r,s,sf,Nf,ip){if(r.length===0)return-1;if(typeof sf=="string"?(Nf=sf,sf=0):sf>0x7fffffff?sf=0x7fffffff:sf<-0x80000000&&(sf=-0x80000000),sf=+sf,isNaN(sf)&&(sf=ip?0:r.length-1),sf<0&&(sf=r.length+sf),sf>=r.length){if(ip)return-1;sf=r.length-1}else if(sf<0){if(!ip)return-1;sf=0}if(typeof s=="string"&&(s=_.from(s,Nf)),I(s))return s.length===0?-1:L(r,s,sf,Nf,ip);if(typeof s=="number")return s&=255,_.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?ip?Uint8Array.prototype.indexOf.call(r,s,sf):Uint8Array.prototype.lastIndexOf.call(r,s,sf):L(r,[s],sf,Nf,ip);throw new TypeError("val must be string, number or Buffer")}function L(r,s,sf,Nf,ip){var em,tm=1,nm=r.length,rm=s.length;if(Nf!==void 0&&((Nf=String(Nf).toLowerCase())==="ucs2"||Nf==="ucs-2"||Nf==="utf16le"||Nf==="utf-16le")){if(r.length<2||s.length<2)return-1;tm=2,nm/=2,rm/=2,sf/=2}function om(cm,hm){return tm===1?cm[hm]:cm.readUInt16BE(hm*tm)}if(ip){var im=-1;for(em=sf;em<nm;em++)if(om(r,em)===om(s,im===-1?0:em-im)){if(im===-1&&(im=em),em-im+1===rm)return im*tm}else im!==-1&&(em-=em-im),im=-1}else for(sf+rm>nm&&(sf=nm-rm),em=sf;em>=0;em--){for(var am=!0,sm=0;sm<rm;sm++)if(om(r,em+sm)!==om(s,sm)){am=!1;break}if(am)return em}return-1}function N(r,s,sf,Nf){sf=Number(sf)||0;var ip=r.length-sf;Nf?(Nf=Number(Nf))>ip&&(Nf=ip):Nf=ip;var em=s.length;if(em%2!=0)throw new TypeError("Invalid hex string");Nf>em/2&&(Nf=em/2);for(var tm=0;tm<Nf;++tm){var nm=parseInt(s.substr(2*tm,2),16);if(isNaN(nm))return tm;r[sf+tm]=nm}return tm}function $(r,s,sf,Nf){return oe(re(s,r.length-sf),r,sf,Nf)}function D(r,s,sf,Nf){return oe(function(ip){for(var em=[],tm=0;tm<ip.length;++tm)em.push(255&ip.charCodeAt(tm));return em}(s),r,sf,Nf)}function B(r,s,sf,Nf){return D(r,s,sf,Nf)}function K(r,s,sf,Nf){return oe(ie(s),r,sf,Nf)}function j(r,s,sf,Nf){return oe(function(ip,em){for(var tm,nm,rm,om=[],im=0;im<ip.length&&!((em-=2)<0);++im)nm=(tm=ip.charCodeAt(im))>>8,rm=tm%256,om.push(rm),om.push(nm);return om}(s,r.length-sf),r,sf,Nf)}function U(r,s,sf){return s===0&&sf===r.length?g(r):g(r.slice(s,sf))}function H(r,s,sf){sf=Math.min(r.length,sf);for(var Nf=[],ip=s;ip<sf;){var em,tm,nm,rm,om=r[ip],im=null,am=om>239?4:om>223?3:om>191?2:1;if(ip+am<=sf)switch(am){case 1:om<128&&(im=om);break;case 2:(192&(em=r[ip+1]))==128&&(rm=(31&om)<<6|63&em)>127&&(im=rm);break;case 3:em=r[ip+1],tm=r[ip+2],(192&em)==128&&(192&tm)==128&&(rm=(15&om)<<12|(63&em)<<6|63&tm)>2047&&(rm<55296||rm>57343)&&(im=rm);break;case 4:em=r[ip+1],tm=r[ip+2],nm=r[ip+3],(192&em)==128&&(192&tm)==128&&(192&nm)==128&&(rm=(15&om)<<18|(63&em)<<12|(63&tm)<<6|63&nm)>65535&&rm<1114112&&(im=rm)}im===null?(im=65533,am=1):im>65535&&(im-=65536,Nf.push(im>>>10&1023|55296),im=56320|1023&im),Nf.push(im),ip+=am}return function(sm){var cm=sm.length;if(cm<=F)return String.fromCharCode.apply(String,sm);for(var hm="",fm=0;fm<cm;)hm+=String.fromCharCode.apply(String,sm.slice(fm,fm+=F));return hm}(Nf)}_.poolSize=8192,_._augment=function(r){return r.__proto__=_.prototype,r},_.from=function(r,s,sf){return C(null,r,s,sf)},_.TYPED_ARRAY_SUPPORT&&(_.prototype.__proto__=Uint8Array.prototype,_.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&_[Symbol.species]),_.alloc=function(r,s,sf){return function(Nf,ip,em,tm){return k(ip),ip<=0?S(Nf,ip):em!==void 0?typeof tm=="string"?S(Nf,ip).fill(em,tm):S(Nf,ip).fill(em):S(Nf,ip)}(null,r,s,sf)},_.allocUnsafe=function(r){return x(null,r)},_.allocUnsafeSlow=function(r){return x(null,r)},_.isBuffer=se,_.compare=function(r,s){if(!I(r)||!I(s))throw new TypeError("Arguments must be Buffers");if(r===s)return 0;for(var sf=r.length,Nf=s.length,ip=0,em=Math.min(sf,Nf);ip<em;++ip)if(r[ip]!==s[ip]){sf=r[ip],Nf=s[ip];break}return sf<Nf?-1:Nf<sf?1:0},_.isEncoding=function(r){switch(String(r).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},_.concat=function(r,s){if(!b(r))throw new TypeError('"list" argument must be an Array of Buffers');if(r.length===0)return _.alloc(0);var sf;if(s===void 0)for(s=0,sf=0;sf<r.length;++sf)s+=r[sf].length;var Nf=_.allocUnsafe(s),ip=0;for(sf=0;sf<r.length;++sf){var em=r[sf];if(!I(em))throw new TypeError('"list" argument must be an Array of Buffers');em.copy(Nf,ip),ip+=em.length}return Nf},_.byteLength=R,_.prototype._isBuffer=!0,_.prototype.swap16=function(){var r=this.length;if(r%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var s=0;s<r;s+=2)T(this,s,s+1);return this},_.prototype.swap32=function(){var r=this.length;if(r%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var s=0;s<r;s+=4)T(this,s,s+3),T(this,s+1,s+2);return this},_.prototype.swap64=function(){var r=this.length;if(r%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var s=0;s<r;s+=8)T(this,s,s+7),T(this,s+1,s+6),T(this,s+2,s+5),T(this,s+3,s+4);return this},_.prototype.toString=function(){var r=0|this.length;return r===0?"":arguments.length===0?H(this,0,r):P.apply(this,arguments)},_.prototype.equals=function(r){if(!I(r))throw new TypeError("Argument must be a Buffer");return this===r||_.compare(this,r)===0},_.prototype.inspect=function(){var r="";return this.length>0&&(r=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(r+=" ... ")),"<Buffer "+r+">"},_.prototype.compare=function(r,s,sf,Nf,ip){if(!I(r))throw new TypeError("Argument must be a Buffer");if(s===void 0&&(s=0),sf===void 0&&(sf=r?r.length:0),Nf===void 0&&(Nf=0),ip===void 0&&(ip=this.length),s<0||sf>r.length||Nf<0||ip>this.length)throw new RangeError("out of range index");if(Nf>=ip&&s>=sf)return 0;if(Nf>=ip)return-1;if(s>=sf)return 1;if(this===r)return 0;for(var em=(ip>>>=0)-(Nf>>>=0),tm=(sf>>>=0)-(s>>>=0),nm=Math.min(em,tm),rm=this.slice(Nf,ip),om=r.slice(s,sf),im=0;im<nm;++im)if(rm[im]!==om[im]){em=rm[im],tm=om[im];break}return em<tm?-1:tm<em?1:0},_.prototype.includes=function(r,s,sf){return this.indexOf(r,s,sf)!==-1},_.prototype.indexOf=function(r,s,sf){return O(this,r,s,sf,!0)},_.prototype.lastIndexOf=function(r,s,sf){return O(this,r,s,sf,!1)},_.prototype.write=function(r,s,sf,Nf){if(s===void 0)Nf="utf8",sf=this.length,s=0;else if(sf===void 0&&typeof s=="string")Nf=s,sf=this.length,s=0;else{if(!isFinite(s))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");s|=0,isFinite(sf)?(sf|=0,Nf===void 0&&(Nf="utf8")):(Nf=sf,sf=void 0)}var ip=this.length-s;if((sf===void 0||sf>ip)&&(sf=ip),r.length>0&&(sf<0||s<0)||s>this.length)throw new RangeError("Attempt to write outside buffer bounds");Nf||(Nf="utf8");for(var em=!1;;)switch(Nf){case"hex":return N(this,r,s,sf);case"utf8":case"utf-8":return $(this,r,s,sf);case"ascii":return D(this,r,s,sf);case"latin1":case"binary":return B(this,r,s,sf);case"base64":return K(this,r,s,sf);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,r,s,sf);default:if(em)throw new TypeError("Unknown encoding: "+Nf);Nf=(""+Nf).toLowerCase(),em=!0}},_.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var F=4096;function z(r,s,sf){var Nf="";sf=Math.min(r.length,sf);for(var ip=s;ip<sf;++ip)Nf+=String.fromCharCode(127&r[ip]);return Nf}function q(r,s,sf){var Nf="";sf=Math.min(r.length,sf);for(var ip=s;ip<sf;++ip)Nf+=String.fromCharCode(r[ip]);return Nf}function W(r,s,sf){var Nf=r.length;(!s||s<0)&&(s=0),(!sf||sf<0||sf>Nf)&&(sf=Nf);for(var ip="",em=s;em<sf;++em)ip+=ne(r[em]);return ip}function V(r,s,sf){for(var Nf=r.slice(s,sf),ip="",em=0;em<Nf.length;em+=2)ip+=String.fromCharCode(Nf[em]+256*Nf[em+1]);return ip}function G(r,s,sf){if(r%1!=0||r<0)throw new RangeError("offset is not uint");if(r+s>sf)throw new RangeError("Trying to access beyond buffer length")}function Y(r,s,sf,Nf,ip,em){if(!I(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(s>ip||s<em)throw new RangeError('"value" argument is out of bounds');if(sf+Nf>r.length)throw new RangeError("Index out of range")}function Z(r,s,sf,Nf){s<0&&(s=65535+s+1);for(var ip=0,em=Math.min(r.length-sf,2);ip<em;++ip)r[sf+ip]=(s&255<<8*(Nf?ip:1-ip))>>>8*(Nf?ip:1-ip)}function J(r,s,sf,Nf){s<0&&(s=0xffffffff+s+1);for(var ip=0,em=Math.min(r.length-sf,4);ip<em;++ip)r[sf+ip]=s>>>8*(Nf?ip:3-ip)&255}function X(r,s,sf,Nf,ip,em){if(sf+Nf>r.length)throw new RangeError("Index out of range");if(sf<0)throw new RangeError("Index out of range")}function Q(r,s,sf,Nf,ip){return ip||X(r,0,sf,4),y(r,s,sf,Nf,23,4),sf+4}function ee(r,s,sf,Nf,ip){return ip||X(r,0,sf,8),y(r,s,sf,Nf,52,8),sf+8}_.prototype.slice=function(r,s){var sf,Nf=this.length;if((r=~~r)<0?(r+=Nf)<0&&(r=0):r>Nf&&(r=Nf),(s=s===void 0?Nf:~~s)<0?(s+=Nf)<0&&(s=0):s>Nf&&(s=Nf),s<r&&(s=r),_.TYPED_ARRAY_SUPPORT)(sf=this.subarray(r,s)).__proto__=_.prototype;else{var ip=s-r;sf=new _(ip,void 0);for(var em=0;em<ip;++em)sf[em]=this[em+r]}return sf},_.prototype.readUIntLE=function(r,s,sf){r|=0,s|=0,sf||G(r,s,this.length);for(var Nf=this[r],ip=1,em=0;++em<s&&(ip*=256);)Nf+=this[r+em]*ip;return Nf},_.prototype.readUIntBE=function(r,s,sf){r|=0,s|=0,sf||G(r,s,this.length);for(var Nf=this[r+--s],ip=1;s>0&&(ip*=256);)Nf+=this[r+--s]*ip;return Nf},_.prototype.readUInt8=function(r,s){return s||G(r,1,this.length),this[r]},_.prototype.readUInt16LE=function(r,s){return s||G(r,2,this.length),this[r]|this[r+1]<<8},_.prototype.readUInt16BE=function(r,s){return s||G(r,2,this.length),this[r]<<8|this[r+1]},_.prototype.readUInt32LE=function(r,s){return s||G(r,4,this.length),(this[r]|this[r+1]<<8|this[r+2]<<16)+0x1000000*this[r+3]},_.prototype.readUInt32BE=function(r,s){return s||G(r,4,this.length),0x1000000*this[r]+(this[r+1]<<16|this[r+2]<<8|this[r+3])},_.prototype.readIntLE=function(r,s,sf){r|=0,s|=0,sf||G(r,s,this.length);for(var Nf=this[r],ip=1,em=0;++em<s&&(ip*=256);)Nf+=this[r+em]*ip;return Nf>=(ip*=128)&&(Nf-=Math.pow(2,8*s)),Nf},_.prototype.readIntBE=function(r,s,sf){r|=0,s|=0,sf||G(r,s,this.length);for(var Nf=s,ip=1,em=this[r+--Nf];Nf>0&&(ip*=256);)em+=this[r+--Nf]*ip;return em>=(ip*=128)&&(em-=Math.pow(2,8*s)),em},_.prototype.readInt8=function(r,s){return s||G(r,1,this.length),128&this[r]?-1*(255-this[r]+1):this[r]},_.prototype.readInt16LE=function(r,s){s||G(r,2,this.length);var sf=this[r]|this[r+1]<<8;return 32768&sf?0xffff0000|sf:sf},_.prototype.readInt16BE=function(r,s){s||G(r,2,this.length);var sf=this[r+1]|this[r]<<8;return 32768&sf?0xffff0000|sf:sf},_.prototype.readInt32LE=function(r,s){return s||G(r,4,this.length),this[r]|this[r+1]<<8|this[r+2]<<16|this[r+3]<<24},_.prototype.readInt32BE=function(r,s){return s||G(r,4,this.length),this[r]<<24|this[r+1]<<16|this[r+2]<<8|this[r+3]},_.prototype.readFloatLE=function(r,s){return s||G(r,4,this.length),m(this,r,!0,23,4)},_.prototype.readFloatBE=function(r,s){return s||G(r,4,this.length),m(this,r,!1,23,4)},_.prototype.readDoubleLE=function(r,s){return s||G(r,8,this.length),m(this,r,!0,52,8)},_.prototype.readDoubleBE=function(r,s){return s||G(r,8,this.length),m(this,r,!1,52,8)},_.prototype.writeUIntLE=function(r,s,sf,Nf){r=+r,s|=0,sf|=0,Nf||Y(this,r,s,sf,Math.pow(2,8*sf)-1,0);var ip=1,em=0;for(this[s]=255&r;++em<sf&&(ip*=256);)this[s+em]=r/ip&255;return s+sf},_.prototype.writeUIntBE=function(r,s,sf,Nf){r=+r,s|=0,sf|=0,Nf||Y(this,r,s,sf,Math.pow(2,8*sf)-1,0);var ip=sf-1,em=1;for(this[s+ip]=255&r;--ip>=0&&(em*=256);)this[s+ip]=r/em&255;return s+sf},_.prototype.writeUInt8=function(r,s,sf){return r=+r,s|=0,sf||Y(this,r,s,1,255,0),_.TYPED_ARRAY_SUPPORT||(r=Math.floor(r)),this[s]=255&r,s+1},_.prototype.writeUInt16LE=function(r,s,sf){return r=+r,s|=0,sf||Y(this,r,s,2,65535,0),_.TYPED_ARRAY_SUPPORT?(this[s]=255&r,this[s+1]=r>>>8):Z(this,r,s,!0),s+2},_.prototype.writeUInt16BE=function(r,s,sf){return r=+r,s|=0,sf||Y(this,r,s,2,65535,0),_.TYPED_ARRAY_SUPPORT?(this[s]=r>>>8,this[s+1]=255&r):Z(this,r,s,!1),s+2},_.prototype.writeUInt32LE=function(r,s,sf){return r=+r,s|=0,sf||Y(this,r,s,4,0xffffffff,0),_.TYPED_ARRAY_SUPPORT?(this[s+3]=r>>>24,this[s+2]=r>>>16,this[s+1]=r>>>8,this[s]=255&r):J(this,r,s,!0),s+4},_.prototype.writeUInt32BE=function(r,s,sf){return r=+r,s|=0,sf||Y(this,r,s,4,0xffffffff,0),_.TYPED_ARRAY_SUPPORT?(this[s]=r>>>24,this[s+1]=r>>>16,this[s+2]=r>>>8,this[s+3]=255&r):J(this,r,s,!1),s+4},_.prototype.writeIntLE=function(r,s,sf,Nf){if(r=+r,s|=0,!Nf){var ip=Math.pow(2,8*sf-1);Y(this,r,s,sf,ip-1,-ip)}var em=0,tm=1,nm=0;for(this[s]=255&r;++em<sf&&(tm*=256);)r<0&&nm===0&&this[s+em-1]!==0&&(nm=1),this[s+em]=(r/tm>>0)-nm&255;return s+sf},_.prototype.writeIntBE=function(r,s,sf,Nf){if(r=+r,s|=0,!Nf){var ip=Math.pow(2,8*sf-1);Y(this,r,s,sf,ip-1,-ip)}var em=sf-1,tm=1,nm=0;for(this[s+em]=255&r;--em>=0&&(tm*=256);)r<0&&nm===0&&this[s+em+1]!==0&&(nm=1),this[s+em]=(r/tm>>0)-nm&255;return s+sf},_.prototype.writeInt8=function(r,s,sf){return r=+r,s|=0,sf||Y(this,r,s,1,127,-128),_.TYPED_ARRAY_SUPPORT||(r=Math.floor(r)),r<0&&(r=255+r+1),this[s]=255&r,s+1},_.prototype.writeInt16LE=function(r,s,sf){return r=+r,s|=0,sf||Y(this,r,s,2,32767,-32768),_.TYPED_ARRAY_SUPPORT?(this[s]=255&r,this[s+1]=r>>>8):Z(this,r,s,!0),s+2},_.prototype.writeInt16BE=function(r,s,sf){return r=+r,s|=0,sf||Y(this,r,s,2,32767,-32768),_.TYPED_ARRAY_SUPPORT?(this[s]=r>>>8,this[s+1]=255&r):Z(this,r,s,!1),s+2},_.prototype.writeInt32LE=function(r,s,sf){return r=+r,s|=0,sf||Y(this,r,s,4,0x7fffffff,-0x80000000),_.TYPED_ARRAY_SUPPORT?(this[s]=255&r,this[s+1]=r>>>8,this[s+2]=r>>>16,this[s+3]=r>>>24):J(this,r,s,!0),s+4},_.prototype.writeInt32BE=function(r,s,sf){return r=+r,s|=0,sf||Y(this,r,s,4,0x7fffffff,-0x80000000),r<0&&(r=0xffffffff+r+1),_.TYPED_ARRAY_SUPPORT?(this[s]=r>>>24,this[s+1]=r>>>16,this[s+2]=r>>>8,this[s+3]=255&r):J(this,r,s,!1),s+4},_.prototype.writeFloatLE=function(r,s,sf){return Q(this,r,s,!0,sf)},_.prototype.writeFloatBE=function(r,s,sf){return Q(this,r,s,!1,sf)},_.prototype.writeDoubleLE=function(r,s,sf){return ee(this,r,s,!0,sf)},_.prototype.writeDoubleBE=function(r,s,sf){return ee(this,r,s,!1,sf)},_.prototype.copy=function(r,s,sf,Nf){if(sf||(sf=0),Nf||Nf===0||(Nf=this.length),s>=r.length&&(s=r.length),s||(s=0),Nf>0&&Nf<sf&&(Nf=sf),Nf===sf||r.length===0||this.length===0)return 0;if(s<0)throw new RangeError("targetStart out of bounds");if(sf<0||sf>=this.length)throw new RangeError("sourceStart out of bounds");if(Nf<0)throw new RangeError("sourceEnd out of bounds");Nf>this.length&&(Nf=this.length),r.length-s<Nf-sf&&(Nf=r.length-s+sf);var ip,em=Nf-sf;if(this===r&&sf<s&&s<Nf)for(ip=em-1;ip>=0;--ip)r[ip+s]=this[ip+sf];else if(em<1e3||!_.TYPED_ARRAY_SUPPORT)for(ip=0;ip<em;++ip)r[ip+s]=this[ip+sf];else Uint8Array.prototype.set.call(r,this.subarray(sf,sf+em),s);return em},_.prototype.fill=function(r,s,sf,Nf){if(typeof r=="string"){if(typeof s=="string"?(Nf=s,s=0,sf=this.length):typeof sf=="string"&&(Nf=sf,sf=this.length),r.length===1){var ip=r.charCodeAt(0);ip<256&&(r=ip)}if(Nf!==void 0&&typeof Nf!="string")throw new TypeError("encoding must be a string");if(typeof Nf=="string"&&!_.isEncoding(Nf))throw new TypeError("Unknown encoding: "+Nf)}else typeof r=="number"&&(r&=255);if(s<0||this.length<s||this.length<sf)throw new RangeError("Out of range index");if(sf<=s)return this;var em;if(s>>>=0,sf=sf===void 0?this.length:sf>>>0,r||(r=0),typeof r=="number")for(em=s;em<sf;++em)this[em]=r;else{var tm=I(r)?r:re(new _(r,Nf).toString()),nm=tm.length;for(em=0;em<sf-s;++em)this[em+s]=tm[em%nm]}return this};var te=/[^+\/0-9A-Za-z-_]/g;function ne(r){return r<16?"0"+r.toString(16):r.toString(16)}function re(r,s){var sf;s=s||1/0;for(var Nf=r.length,ip=null,em=[],tm=0;tm<Nf;++tm){if((sf=r.charCodeAt(tm))>55295&&sf<57344){if(!ip){if(sf>56319){(s-=3)>-1&&em.push(239,191,189);continue}if(tm+1===Nf){(s-=3)>-1&&em.push(239,191,189);continue}ip=sf;continue}if(sf<56320){(s-=3)>-1&&em.push(239,191,189),ip=sf;continue}sf=65536+(ip-55296<<10|sf-56320)}else ip&&(s-=3)>-1&&em.push(239,191,189);if(ip=null,sf<128){if((s-=1)<0)break;em.push(sf)}else if(sf<2048){if((s-=2)<0)break;em.push(sf>>6|192,63&sf|128)}else if(sf<65536){if((s-=3)<0)break;em.push(sf>>12|224,sf>>6&63|128,63&sf|128)}else{if(!(sf<1114112))throw new Error("Invalid code point");if((s-=4)<0)break;em.push(sf>>18|240,sf>>12&63|128,sf>>6&63|128,63&sf|128)}}return em}function ie(r){return function(s){var sf,Nf,ip,em,tm,nm;h||f();var rm=s.length;if(rm%4>0)throw new Error("Invalid string. Length must be a multiple of 4");tm=s[rm-2]==="="?2:s[rm-1]==="="?1:0,nm=new u(3*rm/4-tm),ip=tm>0?rm-4:rm;var om=0;for(sf=0,Nf=0;sf<ip;sf+=4,Nf+=3)em=d[s.charCodeAt(sf)]<<18|d[s.charCodeAt(sf+1)]<<12|d[s.charCodeAt(sf+2)]<<6|d[s.charCodeAt(sf+3)],nm[om++]=em>>16&255,nm[om++]=em>>8&255,nm[om++]=255&em;return tm===2?(em=d[s.charCodeAt(sf)]<<2|d[s.charCodeAt(sf+1)]>>4,nm[om++]=255&em):tm===1&&(em=d[s.charCodeAt(sf)]<<10|d[s.charCodeAt(sf+1)]<<4|d[s.charCodeAt(sf+2)]>>2,nm[om++]=em>>8&255,nm[om++]=255&em),nm}(function(s){if((s=function(sf){return sf.trim?sf.trim():sf.replace(/^\s+|\s+$/g,"")}(s).replace(te,"")).length<2)return"";for(;s.length%4!=0;)s+="=";return s}(r))}function oe(r,s,sf,Nf){for(var ip=0;ip<Nf&&!(ip+sf>=s.length||ip>=r.length);++ip)s[ip+sf]=r[ip];return ip}function se(r){return r!=null&&(!!r._isBuffer||ae(r)||function(s){return typeof s.readFloatLE=="function"&&typeof s.slice=="function"&&ae(s.slice(0,0))}(r))}function ae(r){return!!r.constructor&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)}var ce=Object.freeze({__proto__:null,Buffer:_,INSPECT_MAX_BYTES:50,SlowBuffer:function(r){return+r!=r&&(r=0),_.alloc(+r)},isBuffer:se,kMaxLength:w}),le=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function de(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function ue(r){if(r.__esModule)return r;var s=r.default;if(typeof s=="function"){var sf=function Nf(){return this instanceof Nf?Reflect.construct(s,arguments,this.constructor):s.apply(this,arguments)};sf.prototype=s.prototype}else sf={};return Object.defineProperty(sf,"__esModule",{value:!0}),Object.keys(r).forEach(function(Nf){var ip=Object.getOwnPropertyDescriptor(r,Nf);Object.defineProperty(sf,Nf,ip.get?ip:{enumerable:!0,get:function(){return r[Nf]}})}),sf}var he={},fe={},pe={};function ge(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`positive integer expected, not ${r}`)}function me(r){if(typeof r!="boolean")throw new Error(`boolean expected, not ${r}`)}function ye(r){return r instanceof Uint8Array||r!=null&&typeof r=="object"&&r.constructor.name==="Uint8Array"}function ve(r,...s){if(!ye(r))throw new Error("Uint8Array expected");if(s.length>0&&!s.includes(r.length))throw new Error(`Uint8Array expected of length ${s}, not of length=${r.length}`)}function be(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("hash must be wrapped by utils.wrapConstructor");ge(r.outputLen),ge(r.blockLen)}function we(r,s=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(s&&r.finished)throw new Error("Hash#digest() has already been called")}function Ee(r,s){ve(r);const sf=s.outputLen;if(r.length<sf)throw new Error(`digestInto() expects output buffer of length at least ${sf}`)}Object.defineProperty(pe,"__esModule",{value:!0}),pe.isBytes=ye,pe.number=ge,pe.bool=me,pe.bytes=ve,pe.hash=be,pe.exists=we,pe.output=Ee;const Se={number:ge,bool:me,bytes:ve,hash:be,exists:we,output:Ee};pe.default=Se,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.wrapCipher=r.Hash=r.nextTick=r.isLE=r.createView=r.u32=r.u16=r.u8=void 0,r.bytesToHex=Nf,r.hexToBytes=tm,r.hexToNumber=nm,r.bytesToNumberBE=function(am){return nm(Nf(am))},r.numberToBytesBE=function(am,sm){return tm(am.toString(16).padStart(2*sm,"0"))},r.asyncLoop=async function(am,sm,cm){let hm=Date.now();for(let fm=0;fm<am;fm++){cm(fm);const pm=Date.now()-hm;pm>=0&&pm<sm||(await (0,r.nextTick)(),hm+=pm)}},r.utf8ToBytes=rm,r.bytesToUtf8=function(am){return new TextDecoder().decode(am)},r.toBytes=function(am){if(typeof am=="string")am=rm(am);else{if(!(0,s.isBytes)(am))throw new Error("Uint8Array expected, got "+typeof am);am=im(am)}return am},r.concatBytes=function(...am){let sm=0;for(let hm=0;hm<am.length;hm++){const fm=am[hm];(0,s.bytes)(fm),sm+=fm.length}const cm=new Uint8Array(sm);for(let hm=0,fm=0;hm<am.length;hm++){const pm=am[hm];cm.set(pm,fm),fm+=pm.length}return cm},r.checkOpts=function(am,sm){if(sm==null||typeof sm!="object")throw new Error("options must be defined");return Object.assign(am,sm)},r.equalBytes=function(am,sm){if(am.length!==sm.length)return!1;let cm=0;for(let hm=0;hm<am.length;hm++)cm|=am[hm]^sm[hm];return cm===0},r.setBigUint64=om,r.u64Lengths=function(am,sm){const cm=new Uint8Array(16),hm=(0,r.createView)(cm);return om(hm,0,BigInt(sm?sm.length:0),!0),om(hm,8,BigInt(am.length),!0),cm},r.isAligned32=function(am){return am.byteOffset%4==0},r.copyBytes=im,r.clean=function(...am){for(let sm=0;sm<am.length;sm++)am[sm].fill(0)};const s=pe;if(r.u8=am=>new Uint8Array(am.buffer,am.byteOffset,am.byteLength),r.u16=am=>new Uint16Array(am.buffer,am.byteOffset,Math.floor(am.byteLength/2)),r.u32=am=>new Uint32Array(am.buffer,am.byteOffset,Math.floor(am.byteLength/4)),r.createView=am=>new DataView(am.buffer,am.byteOffset,am.byteLength),r.isLE=new Uint8Array(new Uint32Array([0x11223344]).buffer)[0]===68,!r.isLE)throw new Error("Non little-endian hardware is not supported");const sf=Array.from({length:256},(am,sm)=>sm.toString(16).padStart(2,"0"));function Nf(am){(0,s.bytes)(am);let sm="";for(let cm=0;cm<am.length;cm++)sm+=sf[am[cm]];return sm}const ip={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function em(am){return am>=ip._0&&am<=ip._9?am-ip._0:am>=ip._A&&am<=ip._F?am-(ip._A-10):am>=ip._a&&am<=ip._f?am-(ip._a-10):void 0}function tm(am){if(typeof am!="string")throw new Error("hex string expected, got "+typeof am);const sm=am.length,cm=sm/2;if(sm%2)throw new Error("padded hex string expected, got unpadded hex of length "+sm);const hm=new Uint8Array(cm);for(let fm=0,pm=0;fm<cm;fm++,pm+=2){const mm=em(am.charCodeAt(pm)),_m=em(am.charCodeAt(pm+1));if(mm===void 0||_m===void 0){const ym=am[pm]+am[pm+1];throw new Error('hex string expected, got non-hex character "'+ym+'" at index '+pm)}hm[fm]=16*mm+_m}return hm}function nm(am){if(typeof am!="string")throw new Error("hex string expected, got "+typeof am);return BigInt(am===""?"0":`0x${am}`)}function rm(am){if(typeof am!="string")throw new Error("string expected, got "+typeof am);return new Uint8Array(new TextEncoder().encode(am))}r.nextTick=async()=>{},r.Hash=class{};function om(am,sm,cm,hm){if(typeof am.setBigUint64=="function")return am.setBigUint64(sm,cm,hm);const fm=BigInt(32),pm=BigInt(0xffffffff),mm=Number(cm>>fm&pm),_m=Number(cm&pm),ym=hm?4:0,Sm=hm?0:4;am.setUint32(sm+ym,mm,hm),am.setUint32(sm+Sm,_m,hm)}function im(am){return Uint8Array.from(am)}r.wrapCipher=(am,sm)=>(Object.assign(sm,am),sm)}(fe);var _e={},Ce={};Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.AEAD_TAG_LENGTH=Ce.XCHACHA20_NONCE_LENGTH=Ce.CURVE25519_PUBLIC_KEY_SIZE=Ce.ETH_PUBLIC_KEY_SIZE=Ce.UNCOMPRESSED_PUBLIC_KEY_SIZE=Ce.COMPRESSED_PUBLIC_KEY_SIZE=Ce.SECRET_KEY_LENGTH=void 0,Ce.SECRET_KEY_LENGTH=32,Ce.COMPRESSED_PUBLIC_KEY_SIZE=33,Ce.UNCOMPRESSED_PUBLIC_KEY_SIZE=65,Ce.ETH_PUBLIC_KEY_SIZE=64,Ce.CURVE25519_PUBLIC_KEY_SIZE=32,Ce.XCHACHA20_NONCE_LENGTH=24,Ce.AEAD_TAG_LENGTH=16,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.ephemeralKeySize=r.symmetricNonceLength=r.symmetricAlgorithm=r.isHkdfKeyCompressed=r.isEphemeralKeyCompressed=r.ellipticCurve=r.ECIES_CONFIG=void 0;var s=Ce,sf=function(){this.ellipticCurve="secp256k1",this.isEphemeralKeyCompressed=!1,this.isHkdfKeyCompressed=!1,this.symmetricAlgorithm="aes-256-gcm",this.symmetricNonceLength=16};r.ECIES_CONFIG=new sf,r.ellipticCurve=function(){return r.ECIES_CONFIG.ellipticCurve},r.isEphemeralKeyCompressed=function(){return r.ECIES_CONFIG.isEphemeralKeyCompressed},r.isHkdfKeyCompressed=function(){return r.ECIES_CONFIG.isHkdfKeyCompressed},r.symmetricAlgorithm=function(){return r.ECIES_CONFIG.symmetricAlgorithm},r.symmetricNonceLength=function(){return r.ECIES_CONFIG.symmetricNonceLength},r.ephemeralKeySize=function(){var Nf={secp256k1:r.ECIES_CONFIG.isEphemeralKeyCompressed?s.COMPRESSED_PUBLIC_KEY_SIZE:s.UNCOMPRESSED_PUBLIC_KEY_SIZE,x25519:s.CURVE25519_PUBLIC_KEY_SIZE,ed25519:s.CURVE25519_PUBLIC_KEY_SIZE};if(r.ECIES_CONFIG.ellipticCurve in Nf)return Nf[r.ECIES_CONFIG.ellipticCurve];throw new Error("Not implemented")}}(_e);var ke={},xe={},Me={},Ae={},Ie={},Re={};Object.defineProperty(Re,"__esModule",{value:!0}),Re.crypto=void 0,Re.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.gcm=r.ctr=r.cbc=r.utils=void 0,r.randomBytes=ip,r.getWebcryptoSubtle=em,r.managedNonce=function(rm){return(0,sf.number)(rm.nonceLength),(om,...im)=>({encrypt(am,...sm){const{nonceLength:cm}=rm,hm=ip(cm),fm=rm(om,hm,...im).encrypt(am,...sm),pm=(0,Nf.concatBytes)(hm,fm);return fm.fill(0),pm},decrypt(am,...sm){const{nonceLength:cm}=rm,hm=am.subarray(0,cm),fm=am.subarray(cm);return rm(om,hm,...im).decrypt(fm,...sm)}})};const s=Re,sf=pe,Nf=fe;function ip(rm=32){if(s.crypto&&typeof s.crypto.getRandomValues=="function")return s.crypto.getRandomValues(new Uint8Array(rm));if(s.crypto&&typeof s.crypto.randomBytes=="function")return s.crypto.randomBytes(rm);throw new Error("crypto.getRandomValues must be defined")}function em(){if(s.crypto&&typeof s.crypto.subtle=="object"&&s.crypto.subtle!=null)return s.crypto.subtle;throw new Error("crypto.subtle must be defined")}r.utils={async encrypt(rm,om,im,am){const sm=em(),cm=await sm.importKey("raw",rm,om,!0,["encrypt"]),hm=await sm.encrypt(im,cm,am);return new Uint8Array(hm)},async decrypt(rm,om,im,am){const sm=em(),cm=await sm.importKey("raw",rm,om,!0,["decrypt"]),hm=await sm.decrypt(im,cm,am);return new Uint8Array(hm)}};const tm={CBC:"AES-CBC",CTR:"AES-CTR",GCM:"AES-GCM"};function nm(rm){return(om,im,am)=>{(0,sf.bytes)(om),(0,sf.bytes)(im);const sm={name:rm,length:8*om.length},cm=function(hm,fm,pm){if(hm===tm.CBC)return{name:tm.CBC,iv:fm};if(hm===tm.CTR)return{name:tm.CTR,counter:fm,length:64};if(hm===tm.GCM)return pm?{name:tm.GCM,iv:fm,additionalData:pm}:{name:tm.GCM,iv:fm};throw new Error("unknown aes block mode")}(rm,im,am);return{encrypt:hm=>((0,sf.bytes)(hm),r.utils.encrypt(om,sm,cm,hm)),decrypt:hm=>((0,sf.bytes)(hm),r.utils.decrypt(om,sm,cm,hm))}}}r.cbc=nm(tm.CBC),r.ctr=nm(tm.CTR),r.gcm=nm(tm.GCM)}(Ie);var Pe={},Te={},Oe={},Le={};function Ne(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`positive integer expected, not ${r}`)}function $e(r){if(typeof r!="boolean")throw new Error(`boolean expected, not ${r}`)}function De(r){return r instanceof Uint8Array||r!=null&&typeof r=="object"&&r.constructor.name==="Uint8Array"}function Be(r,...s){if(!De(r))throw new Error("Uint8Array expected");if(s.length>0&&!s.includes(r.length))throw new Error(`Uint8Array expected of length ${s}, not of length=${r.length}`)}function Ke(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Ne(r.outputLen),Ne(r.blockLen)}function je(r,s=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(s&&r.finished)throw new Error("Hash#digest() has already been called")}function Ue(r,s){Be(r);const sf=s.outputLen;if(r.length<sf)throw new Error(`digestInto() expects output buffer of length at least ${sf}`)}Object.defineProperty(Le,"__esModule",{value:!0}),Le.isBytes=De,Le.number=Ne,Le.bool=$e,Le.bytes=Be,Le.hash=Ke,Le.exists=je,Le.output=Ue;const He={number:Ne,bool:$e,bytes:Be,hash:Ke,exists:je,output:Ue};Le.default=He;var Fe={},ze={};Object.defineProperty(ze,"__esModule",{value:!0}),ze.crypto=void 0,ze.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.Hash=r.nextTick=r.byteSwapIfBE=r.byteSwap=r.isLE=r.rotl=r.rotr=r.createView=r.u32=r.u8=void 0,r.isBytes=function(om){return om instanceof Uint8Array||om!=null&&typeof om=="object"&&om.constructor.name==="Uint8Array"},r.byteSwap32=function(om){for(let im=0;im<om.length;im++)om[im]=(0,r.byteSwap)(om[im])},r.bytesToHex=function(om){(0,sf.bytes)(om);let im="";for(let am=0;am<om.length;am++)im+=Nf[om[am]];return im},r.hexToBytes=function(om){if(typeof om!="string")throw new Error("hex string expected, got "+typeof om);const im=om.length,am=im/2;if(im%2)throw new Error("padded hex string expected, got unpadded hex of length "+im);const sm=new Uint8Array(am);for(let cm=0,hm=0;cm<am;cm++,hm+=2){const fm=em(om.charCodeAt(hm)),pm=em(om.charCodeAt(hm+1));if(fm===void 0||pm===void 0){const mm=om[hm]+om[hm+1];throw new Error('hex string expected, got non-hex character "'+mm+'" at index '+hm)}sm[cm]=16*fm+pm}return sm},r.asyncLoop=async function(om,im,am){let sm=Date.now();for(let cm=0;cm<om;cm++){am(cm);const hm=Date.now()-sm;hm>=0&&hm<im||(await (0,r.nextTick)(),sm+=hm)}},r.utf8ToBytes=tm,r.toBytes=nm,r.concatBytes=function(...om){let im=0;for(let sm=0;sm<om.length;sm++){const cm=om[sm];(0,sf.bytes)(cm),im+=cm.length}const am=new Uint8Array(im);for(let sm=0,cm=0;sm<om.length;sm++){const hm=om[sm];am.set(hm,cm),cm+=hm.length}return am},r.checkOpts=function(om,im){if(im!==void 0&&rm.call(im)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(om,im)},r.wrapConstructor=function(om){const im=sm=>om().update(nm(sm)).digest(),am=om();return im.outputLen=am.outputLen,im.blockLen=am.blockLen,im.create=()=>om(),im},r.wrapConstructorWithOpts=function(om){const im=(sm,cm)=>om(cm).update(nm(sm)).digest(),am=om({});return im.outputLen=am.outputLen,im.blockLen=am.blockLen,im.create=sm=>om(sm),im},r.wrapXOFConstructorWithOpts=function(om){const im=(sm,cm)=>om(cm).update(nm(sm)).digest(),am=om({});return im.outputLen=am.outputLen,im.blockLen=am.blockLen,im.create=sm=>om(sm),im},r.randomBytes=function(om=32){if(s.crypto&&typeof s.crypto.getRandomValues=="function")return s.crypto.getRandomValues(new Uint8Array(om));if(s.crypto&&typeof s.crypto.randomBytes=="function")return s.crypto.randomBytes(om);throw new Error("crypto.getRandomValues must be defined")};const s=ze,sf=Le;r.u8=om=>new Uint8Array(om.buffer,om.byteOffset,om.byteLength),r.u32=om=>new Uint32Array(om.buffer,om.byteOffset,Math.floor(om.byteLength/4)),r.createView=om=>new DataView(om.buffer,om.byteOffset,om.byteLength),r.rotr=(om,im)=>om<<32-im|om>>>im,r.rotl=(om,im)=>om<<im|om>>>32-im>>>0,r.isLE=new Uint8Array(new Uint32Array([0x11223344]).buffer)[0]===68,r.byteSwap=om=>om<<24&0xff000000|om<<8&0xff0000|om>>>8&65280|om>>>24&255,r.byteSwapIfBE=r.isLE?om=>om:om=>(0,r.byteSwap)(om);const Nf=Array.from({length:256},(om,im)=>im.toString(16).padStart(2,"0")),ip={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function em(om){return om>=ip._0&&om<=ip._9?om-ip._0:om>=ip._A&&om<=ip._F?om-(ip._A-10):om>=ip._a&&om<=ip._f?om-(ip._a-10):void 0}function tm(om){if(typeof om!="string")throw new Error("utf8ToBytes expected string, got "+typeof om);return new Uint8Array(new TextEncoder().encode(om))}function nm(om){return typeof om=="string"&&(om=tm(om)),(0,sf.bytes)(om),om}r.nextTick=async()=>{},r.Hash=class{clone(){return this._cloneInto()}};const rm={}.toString}(Fe),Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.HashMD=Oe.Maj=Oe.Chi=void 0;const qe=Le,We=Fe;Oe.Chi=(r,s,sf)=>r&s^~r&sf;Oe.Maj=(r,s,sf)=>r&s^r&sf^s&sf;Oe.HashMD=class extends We.Hash{constructor(r,s,sf,Nf){super(),this.blockLen=r,this.outputLen=s,this.padOffset=sf,this.isLE=Nf,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(r),this.view=(0,We.createView)(this.buffer)}update(r){(0,qe.exists)(this);const{view:s,buffer:sf,blockLen:Nf}=this,ip=(r=(0,We.toBytes)(r)).length;for(let em=0;em<ip;){const tm=Math.min(Nf-this.pos,ip-em);if(tm!==Nf)sf.set(r.subarray(em,em+tm),this.pos),this.pos+=tm,em+=tm,this.pos===Nf&&(this.process(s,0),this.pos=0);else{const nm=(0,We.createView)(r);for(;Nf<=ip-em;em+=Nf)this.process(nm,em)}}return this.length+=r.length,this.roundClean(),this}digestInto(r){(0,qe.exists)(this),(0,qe.output)(r,this),this.finished=!0;const{buffer:s,view:sf,blockLen:Nf,isLE:ip}=this;let{pos:em}=this;s[em++]=128,this.buffer.subarray(em).fill(0),this.padOffset>Nf-em&&(this.process(sf,0),em=0);for(let im=em;im<Nf;im++)s[im]=0;(function(im,am,sm,cm){if(typeof im.setBigUint64=="function")return im.setBigUint64(am,sm,cm);const hm=BigInt(32),fm=BigInt(0xffffffff),pm=Number(sm>>hm&fm),mm=Number(sm&fm),_m=cm?4:0,ym=cm?0:4;im.setUint32(am+_m,pm,cm),im.setUint32(am+ym,mm,cm)})(sf,Nf-8,BigInt(8*this.length),ip),this.process(sf,0);const tm=(0,We.createView)(r),nm=this.outputLen;if(nm%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const rm=nm/4,om=this.get();if(rm>om.length)throw new Error("_sha2: outputLen bigger than state");for(let im=0;im<rm;im++)tm.setUint32(4*im,om[im],ip)}digest(){const{buffer:r,outputLen:s}=this;this.digestInto(r);const sf=r.slice(0,s);return this.destroy(),sf}_cloneInto(r){r||(r=new this.constructor),r.set(...this.get());const{blockLen:s,buffer:sf,length:Nf,finished:ip,destroyed:em,pos:tm}=this;return r.length=Nf,r.pos=tm,r.finished=ip,r.destroyed=em,Nf%s&&r.buffer.set(sf),r}};var Ve={};Object.defineProperty(Ve,"__esModule",{value:!0}),Ve.add5L=Ve.add5H=Ve.add4H=Ve.add4L=Ve.add3H=Ve.add3L=Ve.rotlBL=Ve.rotlBH=Ve.rotlSL=Ve.rotlSH=Ve.rotr32L=Ve.rotr32H=Ve.rotrBL=Ve.rotrBH=Ve.rotrSL=Ve.rotrSH=Ve.shrSL=Ve.shrSH=Ve.toBig=void 0,Ve.fromBig=Ze,Ve.split=Je,Ve.add=ut;const Ge=BigInt(2**32-1),Ye=BigInt(32);function Ze(r,s=!1){return s?{h:Number(r&Ge),l:Number(r>>Ye&Ge)}:{h:0|Number(r>>Ye&Ge),l:0|Number(r&Ge)}}function Je(r,s=!1){let sf=new Uint32Array(r.length),Nf=new Uint32Array(r.length);for(let ip=0;ip<r.length;ip++){const{h:em,l:tm}=Ze(r[ip],s);[sf[ip],Nf[ip]]=[em,tm]}return[sf,Nf]}const Xe=(r,s)=>BigInt(r>>>0)<<Ye|BigInt(s>>>0);Ve.toBig=Xe;const Qe=(r,s,sf)=>r>>>sf;Ve.shrSH=Qe;const et=(r,s,sf)=>r<<32-sf|s>>>sf;Ve.shrSL=et;const tt=(r,s,sf)=>r>>>sf|s<<32-sf;Ve.rotrSH=tt;const nt=(r,s,sf)=>r<<32-sf|s>>>sf;Ve.rotrSL=nt;const rt=(r,s,sf)=>r<<64-sf|s>>>sf-32;Ve.rotrBH=rt;const it=(r,s,sf)=>r>>>sf-32|s<<64-sf;Ve.rotrBL=it;const ot=(r,s)=>s;Ve.rotr32H=ot;const st=(r,s)=>r;Ve.rotr32L=st;const at=(r,s,sf)=>r<<sf|s>>>32-sf;Ve.rotlSH=at;const ct=(r,s,sf)=>s<<sf|r>>>32-sf;Ve.rotlSL=ct;const lt=(r,s,sf)=>s<<sf-32|r>>>64-sf;Ve.rotlBH=lt;const dt=(r,s,sf)=>r<<sf-32|s>>>64-sf;function ut(r,s,sf,Nf){const ip=(s>>>0)+(Nf>>>0);return{h:r+sf+(ip/2**32|0)|0,l:0|ip}}Ve.rotlBL=dt;const ht=(r,s,sf)=>(r>>>0)+(s>>>0)+(sf>>>0);Ve.add3L=ht;const ft=(r,s,sf,Nf)=>s+sf+Nf+(r/2**32|0)|0;Ve.add3H=ft;const pt=(r,s,sf,Nf)=>(r>>>0)+(s>>>0)+(sf>>>0)+(Nf>>>0);Ve.add4L=pt;const gt=(r,s,sf,Nf,ip)=>s+sf+Nf+ip+(r/2**32|0)|0;Ve.add4H=gt;const mt=(r,s,sf,Nf,ip)=>(r>>>0)+(s>>>0)+(sf>>>0)+(Nf>>>0)+(ip>>>0);Ve.add5L=mt;const yt=(r,s,sf,Nf,ip,em)=>s+sf+Nf+ip+em+(r/2**32|0)|0;Ve.add5H=yt;const vt={fromBig:Ze,split:Je,toBig:Xe,shrSH:Qe,shrSL:et,rotrSH:tt,rotrSL:nt,rotrBH:rt,rotrBL:it,rotr32H:ot,rotr32L:st,rotlSH:at,rotlSL:ct,rotlBH:lt,rotlBL:dt,add:ut,add3L:ht,add3H:ft,add4L:pt,add4H:gt,add5H:yt,add5L:mt};Ve.default=vt,Object.defineProperty(Te,"__esModule",{value:!0}),Te.sha384=Te.sha512_256=Te.sha512_224=Te.sha512=Te.SHA384=Te.SHA512_256=Te.SHA512_224=Te.SHA512=void 0;const bt=Oe,wt=Ve,Et=Fe,[St,_t]=wt.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))),Ct=new Uint32Array(80),kt=new Uint32Array(80);class xt extends bt.HashMD{constructor(){super(128,64,16,!1),this.Ah=0x6a09e667,this.Al=-0xc4336f8,this.Bh=-0x4498517b,this.Bl=-0x7b3558c5,this.Ch=0x3c6ef372,this.Cl=-0x16b07d5,this.Dh=-0x5ab00ac6,this.Dl=0x5f1d36f1,this.Eh=0x510e527f,this.El=-0x52197d2f,this.Fh=-0x64fa9774,this.Fl=0x2b3e6c1f,this.Gh=0x1f83d9ab,this.Gl=-0x4be4295,this.Hh=0x5be0cd19,this.Hl=0x137e2179}get(){const{Ah:s,Al:sf,Bh:Nf,Bl:ip,Ch:em,Cl:tm,Dh:nm,Dl:rm,Eh:om,El:im,Fh:am,Fl:sm,Gh:cm,Gl:hm,Hh:fm,Hl:pm}=this;return[s,sf,Nf,ip,em,tm,nm,rm,om,im,am,sm,cm,hm,fm,pm]}set(s,sf,Nf,ip,em,tm,nm,rm,om,im,am,sm,cm,hm,fm,pm){this.Ah=0|s,this.Al=0|sf,this.Bh=0|Nf,this.Bl=0|ip,this.Ch=0|em,this.Cl=0|tm,this.Dh=0|nm,this.Dl=0|rm,this.Eh=0|om,this.El=0|im,this.Fh=0|am,this.Fl=0|sm,this.Gh=0|cm,this.Gl=0|hm,this.Hh=0|fm,this.Hl=0|pm}process(s,sf){for(let ym=0;ym<16;ym++,sf+=4)Ct[ym]=s.getUint32(sf),kt[ym]=s.getUint32(sf+=4);for(let ym=16;ym<80;ym++){const Sm=0|Ct[ym-15],jm=0|kt[ym-15],Pm=wt.default.rotrSH(Sm,jm,1)^wt.default.rotrSH(Sm,jm,8)^wt.default.shrSH(Sm,jm,7),Bm=wt.default.rotrSL(Sm,jm,1)^wt.default.rotrSL(Sm,jm,8)^wt.default.shrSL(Sm,jm,7),qm=0|Ct[ym-2],Rm=0|kt[ym-2],Dm=wt.default.rotrSH(qm,Rm,19)^wt.default.rotrBH(qm,Rm,61)^wt.default.shrSH(qm,Rm,6),Um=wt.default.rotrSL(qm,Rm,19)^wt.default.rotrBL(qm,Rm,61)^wt.default.shrSL(qm,Rm,6),Lm=wt.default.add4L(Bm,Um,kt[ym-7],kt[ym-16]),Im=wt.default.add4H(Lm,Pm,Dm,Ct[ym-7],Ct[ym-16]);Ct[ym]=0|Im,kt[ym]=0|Lm}let{Ah:Nf,Al:ip,Bh:em,Bl:tm,Ch:nm,Cl:rm,Dh:om,Dl:im,Eh:am,El:sm,Fh:cm,Fl:hm,Gh:fm,Gl:pm,Hh:mm,Hl:_m}=this;for(let ym=0;ym<80;ym++){const Sm=wt.default.rotrSH(am,sm,14)^wt.default.rotrSH(am,sm,18)^wt.default.rotrBH(am,sm,41),jm=wt.default.rotrSL(am,sm,14)^wt.default.rotrSL(am,sm,18)^wt.default.rotrBL(am,sm,41),Pm=am&cm^~am&fm,Bm=sm&hm^~sm&pm,qm=wt.default.add5L(_m,jm,Bm,_t[ym],kt[ym]),Rm=wt.default.add5H(qm,mm,Sm,Pm,St[ym],Ct[ym]),Dm=0|qm,Um=wt.default.rotrSH(Nf,ip,28)^wt.default.rotrBH(Nf,ip,34)^wt.default.rotrBH(Nf,ip,39),Lm=wt.default.rotrSL(Nf,ip,28)^wt.default.rotrBL(Nf,ip,34)^wt.default.rotrBL(Nf,ip,39),Im=Nf&em^Nf&nm^em&nm,dm=ip&tm^ip&rm^tm&rm;mm=0|fm,_m=0|pm,fm=0|cm,pm=0|hm,cm=0|am,hm=0|sm,{h:am,l:sm}=wt.default.add(0|om,0|im,0|Rm,0|Dm),om=0|nm,im=0|rm,nm=0|em,rm=0|tm,em=0|Nf,tm=0|ip;const gm=wt.default.add3L(Dm,Lm,dm);Nf=wt.default.add3H(gm,Rm,Um,Im),ip=0|gm}({h:Nf,l:ip}=wt.default.add(0|this.Ah,0|this.Al,0|Nf,0|ip)),{h:em,l:tm}=wt.default.add(0|this.Bh,0|this.Bl,0|em,0|tm),{h:nm,l:rm}=wt.default.add(0|this.Ch,0|this.Cl,0|nm,0|rm),{h:om,l:im}=wt.default.add(0|this.Dh,0|this.Dl,0|om,0|im),{h:am,l:sm}=wt.default.add(0|this.Eh,0|this.El,0|am,0|sm),{h:cm,l:hm}=wt.default.add(0|this.Fh,0|this.Fl,0|cm,0|hm),{h:fm,l:pm}=wt.default.add(0|this.Gh,0|this.Gl,0|fm,0|pm),{h:mm,l:_m}=wt.default.add(0|this.Hh,0|this.Hl,0|mm,0|_m),this.set(Nf,ip,em,tm,nm,rm,om,im,am,sm,cm,hm,fm,pm,mm,_m)}roundClean(){Ct.fill(0),kt.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}Te.SHA512=xt;class Mt extends xt{constructor(){super(),this.Ah=-0x73c2c838,this.Al=0x19544da2,this.Bh=0x73e19966,this.Bl=-0x76232b2a,this.Ch=0x1dfab7ae,this.Cl=0x32ff9c82,this.Dh=0x679dd514,this.Dl=0x582f9fcf,this.Eh=0xf6d2b69,this.El=0x7bd44da8,this.Fh=0x77e36f73,this.Fl=0x4c48942,this.Gh=0x3f9d85a8,this.Gl=0x6a1d36c8,this.Hh=0x1112e6ad,this.Hl=-0x6e296d5f,this.outputLen=28}}Te.SHA512_224=Mt;class At extends xt{constructor(){super(),this.Ah=0x22312194,this.Al=-0x3d408d4,this.Bh=-0x60aaa05d,this.Bl=-0x37b39b3e,this.Ch=0x2393b86b,this.Cl=0x6f53b151,this.Dh=-0x69c788e7,this.Dl=0x5940eabd,this.Eh=-0x69d7c11e,this.El=-0x5771001d,this.Fh=-0x41a1e1db,this.Fl=0x53863992,this.Gh=0x2b0199fc,this.Gl=0x2c85b8aa,this.Hh=0xeb72ddc,this.Hl=-0x7e3ad35e,this.outputLen=32}}Te.SHA512_256=At;class It extends xt{constructor(){super(),this.Ah=-0x344462a3,this.Al=-0x3efa6128,this.Bh=0x629a292a,this.Bl=0x367cd507,this.Ch=-0x6ea6fea6,this.Cl=0x3070dd17,this.Dh=0x152fecd8,this.Dl=-0x8f1a6c7,this.Eh=0x67332667,this.El=-4191439,this.Fh=-0x714bb579,this.Fl=0x68581511,this.Gh=-0x24f3d1f3,this.Gl=0x64f98fa7,this.Hh=0x47b5481d,this.Hl=-0x4105b05c,this.outputLen=48}}Te.SHA384=It,Te.sha512=(0,Et.wrapConstructor)(()=>new xt),Te.sha512_224=(0,Et.wrapConstructor)(()=>new Mt),Te.sha512_256=(0,Et.wrapConstructor)(()=>new At),Te.sha384=(0,Et.wrapConstructor)(()=>new It);var Rt={},Pt={},Tt={},Ot={};Object.defineProperty(Ot,"__esModule",{value:!0}),Ot.notImplemented=Ot.bitMask=void 0,Ot.isBytes=Dt,Ot.abytes=Bt,Ot.abool=function(r,s){if(typeof s!="boolean")throw new Error(`${r} must be valid boolean, got "${s}".`)},Ot.bytesToHex=jt,Ot.numberToHexUnpadded=Ut,Ot.hexToNumber=Ht,Ot.hexToBytes=qt,Ot.bytesToNumberBE=function(r){return Ht(jt(r))},Ot.bytesToNumberLE=function(r){return Bt(r),Ht(jt(Uint8Array.from(r).reverse()))},Ot.numberToBytesBE=Wt,Ot.numberToBytesLE=function(r,s){return Wt(r,s).reverse()},Ot.numberToVarBytesBE=function(r){return qt(Ut(r))},Ot.ensureBytes=function(r,s,sf){let Nf;if(typeof s=="string")try{Nf=qt(s)}catch(em){throw new Error(`${r} must be valid hex string, got "${s}". Cause: ${em}`)}else{if(!Dt(s))throw new Error(`${r} must be hex string or Uint8Array`);Nf=Uint8Array.from(s)}const ip=Nf.length;if(typeof sf=="number"&&ip!==sf)throw new Error(`${r} expected ${sf} bytes, got ${ip}`);return Nf},Ot.concatBytes=Vt,Ot.equalBytes=function(r,s){if(r.length!==s.length)return!1;let sf=0;for(let Nf=0;Nf<r.length;Nf++)sf|=r[Nf]^s[Nf];return sf===0},Ot.utf8ToBytes=function(r){if(typeof r!="string")throw new Error("utf8ToBytes expected string, got "+typeof r);return new Uint8Array(new TextEncoder().encode(r))},Ot.inRange=Yt,Ot.aInRange=function(r,s,sf,Nf){if(!Yt(s,sf,Nf))throw new Error(`expected valid ${r}: ${sf} <= n < ${Nf}, got ${typeof s} ${s}`)},Ot.bitLen=function(r){let s;for(s=0;r>Lt;r>>=Nt,s+=1);return s},Ot.bitGet=function(r,s){return r>>BigInt(s)&Nt},Ot.bitSet=function(r,s,sf){return r|(sf?Nt:Lt)<<BigInt(s)},Ot.createHmacDrbg=function(r,s,sf){if(typeof r!="number"||r<2)throw new Error("hashLen must be a number");if(typeof s!="number"||s<2)throw new Error("qByteLen must be a number");if(typeof sf!="function")throw new Error("hmacFn must be a function");let Nf=Zt(r),ip=Zt(r),em=0;const tm=()=>{Nf.fill(1),ip.fill(0),em=0},nm=(...im)=>sf(ip,Nf,...im),rm=(im=Zt())=>{ip=nm(Jt([0]),im),Nf=nm(),im.length!==0&&(ip=nm(Jt([1]),im),Nf=nm())},om=()=>{if(em++>=1e3)throw new Error("drbg: tried 1000 values");let im=0;const am=[];for(;im<s;){Nf=nm();const sm=Nf.slice();am.push(sm),im+=Nf.length}return Vt(...am)};return(im,am)=>{let sm;for(tm(),rm(im);!(sm=am(om()));)rm();return tm(),sm}},Ot.validateObject=function(r,s,sf={}){const Nf=(ip,em,tm)=>{const nm=Xt[em];if(typeof nm!="function")throw new Error(`Invalid validator "${em}", expected function`);const rm=r[ip];if(!(tm&&rm===void 0||nm(rm,r)))throw new Error(`Invalid param ${String(ip)}=${rm} (${typeof rm}), expected ${em}`)};for(const[ip,em]of Object.entries(s))Nf(ip,em,!1);for(const[ip,em]of Object.entries(sf))Nf(ip,em,!0);return r},Ot.memoized=function(r){const s=new WeakMap;return(sf,...Nf)=>{const ip=s.get(sf);if(ip!==void 0)return ip;const em=r(sf,...Nf);return s.set(sf,em),em}};const Lt=BigInt(0),Nt=BigInt(1),$t=BigInt(2);function Dt(r){return r instanceof Uint8Array||r!=null&&typeof r=="object"&&r.constructor.name==="Uint8Array"}function Bt(r){if(!Dt(r))throw new Error("Uint8Array expected")}const Kt=Array.from({length:256},(r,s)=>s.toString(16).padStart(2,"0"));function jt(r){Bt(r);let s="";for(let sf=0;sf<r.length;sf++)s+=Kt[r[sf]];return s}function Ut(r){const s=r.toString(16);return 1&s.length?`0${s}`:s}function Ht(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);return BigInt(r===""?"0":`0x${r}`)}const Ft={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function zt(r){return r>=Ft._0&&r<=Ft._9?r-Ft._0:r>=Ft._A&&r<=Ft._F?r-(Ft._A-10):r>=Ft._a&&r<=Ft._f?r-(Ft._a-10):void 0}function qt(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);const s=r.length,sf=s/2;if(s%2)throw new Error("padded hex string expected, got unpadded hex of length "+s);const Nf=new Uint8Array(sf);for(let ip=0,em=0;ip<sf;ip++,em+=2){const tm=zt(r.charCodeAt(em)),nm=zt(r.charCodeAt(em+1));if(tm===void 0||nm===void 0){const rm=r[em]+r[em+1];throw new Error('hex string expected, got non-hex character "'+rm+'" at index '+em)}Nf[ip]=16*tm+nm}return Nf}function Wt(r,s){return qt(r.toString(16).padStart(2*s,"0"))}function Vt(...r){let s=0;for(let Nf=0;Nf<r.length;Nf++){const ip=r[Nf];Bt(ip),s+=ip.length}const sf=new Uint8Array(s);for(let Nf=0,ip=0;Nf<r.length;Nf++){const em=r[Nf];sf.set(em,ip),ip+=em.length}return sf}const Gt=r=>typeof r=="bigint"&&Lt<=r;function Yt(r,s,sf){return Gt(r)&&Gt(s)&&Gt(sf)&&s<=r&&r<sf}Ot.bitMask=r=>($t<<BigInt(r-1))-Nt;const Zt=r=>new Uint8Array(r),Jt=r=>Uint8Array.from(r),Xt={bigint:r=>typeof r=="bigint",function:r=>typeof r=="function",boolean:r=>typeof r=="boolean",string:r=>typeof r=="string",stringOrUint8Array:r=>typeof r=="string"||Dt(r),isSafeInteger:r=>Number.isSafeInteger(r),array:r=>Array.isArray(r),field:(r,s)=>s.Fp.isValid(r),hash:r=>typeof r=="function"&&Number.isSafeInteger(r.outputLen)};Ot.notImplemented=()=>{throw new Error("not implemented")},Object.defineProperty(Tt,"__esModule",{value:!0}),Tt.isNegativeLE=void 0,Tt.mod=cn,Tt.pow=ln,Tt.pow2=function(r,s,sf){let Nf=r;for(;s-- >en;)Nf*=Nf,Nf%=sf;return Nf},Tt.invert=dn,Tt.tonelliShanks=un,Tt.FpSqrt=hn,Tt.validateField=function(r){const s=fn.reduce((sf,Nf)=>(sf[Nf]="function",sf),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return(0,Qt.validateObject)(r,s)},Tt.FpPow=pn,Tt.FpInvertBatch=gn,Tt.FpDiv=function(r,s,sf){return r.mul(s,typeof sf=="bigint"?dn(sf,r.ORDER):r.inv(sf))},Tt.FpLegendre=mn,Tt.FpIsSquare=function(r){const s=mn(r.ORDER);return sf=>{const Nf=s(r,sf);return r.eql(Nf,r.ZERO)||r.eql(Nf,r.ONE)}},Tt.nLength=yn,Tt.Field=function(r,s,sf=!1,Nf={}){if(r<=en)throw new Error(`Expected Field ORDER > 0, got ${r}`);const{nBitLength:ip,nByteLength:em}=yn(r,s);if(em>2048)throw new Error("Field lengths over 2048 bytes are not supported");const tm=hn(r),nm=Object.freeze({ORDER:r,BITS:ip,BYTES:em,MASK:(0,Qt.bitMask)(ip),ZERO:en,ONE:tn,create:rm=>cn(rm,r),isValid:rm=>{if(typeof rm!="bigint")throw new Error("Invalid field element: expected bigint, got "+typeof rm);return en<=rm&&rm<r},is0:rm=>rm===en,isOdd:rm=>(rm&tn)===tn,neg:rm=>cn(-rm,r),eql:(rm,om)=>rm===om,sqr:rm=>cn(rm*rm,r),add:(rm,om)=>cn(rm+om,r),sub:(rm,om)=>cn(rm-om,r),mul:(rm,om)=>cn(rm*om,r),pow:(rm,om)=>pn(nm,rm,om),div:(rm,om)=>cn(rm*dn(om,r),r),sqrN:rm=>rm*rm,addN:(rm,om)=>rm+om,subN:(rm,om)=>rm-om,mulN:(rm,om)=>rm*om,inv:rm=>dn(rm,r),sqrt:Nf.sqrt||(rm=>tm(nm,rm)),invertBatch:rm=>gn(nm,rm),cmov:(rm,om,im)=>im?om:rm,toBytes:rm=>sf?(0,Qt.numberToBytesLE)(rm,em):(0,Qt.numberToBytesBE)(rm,em),fromBytes:rm=>{if(rm.length!==em)throw new Error(`Fp.fromBytes: expected ${em}, got ${rm.length}`);return sf?(0,Qt.bytesToNumberLE)(rm):(0,Qt.bytesToNumberBE)(rm)}});return Object.freeze(nm)},Tt.FpSqrtOdd=function(r,s){if(!r.isOdd)throw new Error("Field doesn't have isOdd");const sf=r.sqrt(s);return r.isOdd(sf)?sf:r.neg(sf)},Tt.FpSqrtEven=function(r,s){if(!r.isOdd)throw new Error("Field doesn't have isOdd");const sf=r.sqrt(s);return r.isOdd(sf)?r.neg(sf):sf},Tt.hashToPrivateScalar=function(r,s,sf=!1){r=(0,Qt.ensureBytes)("privateHash",r);const Nf=r.length,ip=yn(s).nByteLength+8;if(ip<24||Nf<ip||Nf>1024)throw new Error(`hashToPrivateScalar: expected ${ip}-1024 bytes of input, got ${Nf}`);const em=sf?(0,Qt.bytesToNumberLE)(r):(0,Qt.bytesToNumberBE)(r);return cn(em,s-tn)+tn},Tt.getFieldBytesLength=vn,Tt.getMinHashLength=bn$2,Tt.mapHashToField=function(r,s,sf=!1){const Nf=r.length,ip=vn(s),em=bn$2(s);if(Nf<16||Nf<em||Nf>1024)throw new Error(`expected ${em}-1024 bytes of input, got ${Nf}`);const tm=cn(sf?(0,Qt.bytesToNumberBE)(r):(0,Qt.bytesToNumberLE)(r),s-tn)+tn;return sf?(0,Qt.numberToBytesLE)(tm,ip):(0,Qt.numberToBytesBE)(tm,ip)};const Qt=Ot,en=BigInt(0),tn=BigInt(1),nn=BigInt(2),rn=BigInt(3),on=BigInt(4),sn=BigInt(5),an=BigInt(8);function cn(r,s){const sf=r%s;return sf>=en?sf:s+sf}function ln(r,s,sf){if(sf<=en||s<en)throw new Error("Expected power/modulo > 0");if(sf===tn)return en;let Nf=tn;for(;s>en;)s&tn&&(Nf=Nf*r%sf),r=r*r%sf,s>>=tn;return Nf}function dn(r,s){if(r===en||s<=en)throw new Error(`invert: expected positive integers, got n=${r} mod=${s}`);let sf=cn(r,s),Nf=s,ip=en,em=tn;for(;sf!==en;){const tm=Nf%sf,nm=ip-em*(Nf/sf);Nf=sf,sf=tm,ip=em,em=nm}if(Nf!==tn)throw new Error("invert: does not exist");return cn(ip,s)}function un(r){const s=(r-tn)/nn;let sf,Nf,ip;for(sf=r-tn,Nf=0;sf%nn===en;sf/=nn,Nf++);for(ip=nn;ip<r&&ln(ip,s,r)!==r-tn;ip++);if(Nf===1){const tm=(r+tn)/on;return function(nm,rm){const om=nm.pow(rm,tm);if(!nm.eql(nm.sqr(om),rm))throw new Error("Cannot find square root");return om}}const em=(sf+tn)/nn;return function(tm,nm){if(tm.pow(nm,s)===tm.neg(tm.ONE))throw new Error("Cannot find square root");let rm=Nf,om=tm.pow(tm.mul(tm.ONE,ip),sf),im=tm.pow(nm,em),am=tm.pow(nm,sf);for(;!tm.eql(am,tm.ONE);){if(tm.eql(am,tm.ZERO))return tm.ZERO;let sm=1;for(let hm=tm.sqr(am);sm<rm&&!tm.eql(hm,tm.ONE);sm++)hm=tm.sqr(hm);const cm=tm.pow(om,tn<<BigInt(rm-sm-1));om=tm.sqr(cm),im=tm.mul(im,cm),am=tm.mul(am,om),rm=sm}return im}}function hn(r){if(r%on===rn){const s=(r+tn)/on;return function(sf,Nf){const ip=sf.pow(Nf,s);if(!sf.eql(sf.sqr(ip),Nf))throw new Error("Cannot find square root");return ip}}if(r%an===sn){const s=(r-sn)/an;return function(sf,Nf){const ip=sf.mul(Nf,nn),em=sf.pow(ip,s),tm=sf.mul(Nf,em),nm=sf.mul(sf.mul(tm,nn),em),rm=sf.mul(tm,sf.sub(nm,sf.ONE));if(!sf.eql(sf.sqr(rm),Nf))throw new Error("Cannot find square root");return rm}}return un(r)}BigInt(9),BigInt(16);Tt.isNegativeLE=(r,s)=>(cn(r,s)&tn)===tn;const fn=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function pn(r,s,sf){if(sf<en)throw new Error("Expected power > 0");if(sf===en)return r.ONE;if(sf===tn)return s;let Nf=r.ONE,ip=s;for(;sf>en;)sf&tn&&(Nf=r.mul(Nf,ip)),ip=r.sqr(ip),sf>>=tn;return Nf}function gn(r,s){const sf=new Array(s.length),Nf=s.reduce((em,tm,nm)=>r.is0(tm)?em:(sf[nm]=em,r.mul(em,tm)),r.ONE),ip=r.inv(Nf);return s.reduceRight((em,tm,nm)=>r.is0(tm)?em:(sf[nm]=r.mul(em,sf[nm]),r.mul(em,tm)),ip),sf}function mn(r){const s=(r-tn)/nn;return(sf,Nf)=>sf.pow(Nf,s)}function yn(r,s){const sf=s!==void 0?s:r.toString(2).length;return{nBitLength:sf,nByteLength:Math.ceil(sf/8)}}function vn(r){if(typeof r!="bigint")throw new Error("field order must be bigint");const s=r.toString(2).length;return Math.ceil(s/8)}function bn$2(r){const s=vn(r);return s+Math.ceil(s/2)}Object.defineProperty(Pt,"__esModule",{value:!0}),Pt.wNAF=function(r,s){const sf=(em,tm)=>{const nm=tm.negate();return em?nm:tm},Nf=em=>{if(!Number.isSafeInteger(em)||em<=0||em>s)throw new Error(`Wrong window size=${em}, should be [1..${s}]`)},ip=em=>(Nf(em),{windows:Math.ceil(s/em)+1,windowSize:2**(em-1)});return{constTimeNegate:sf,unsafeLadder(em,tm){let nm=r.ZERO,rm=em;for(;tm>Sn;)tm&_n&&(nm=nm.add(rm)),rm=rm.double(),tm>>=_n;return nm},precomputeWindow(em,tm){const{windows:nm,windowSize:rm}=ip(tm),om=[];let im=em,am=im;for(let sm=0;sm<nm;sm++){am=im,om.push(am);for(let cm=1;cm<rm;cm++)am=am.add(im),om.push(am);im=am.double()}return om},wNAF(em,tm,nm){const{windows:rm,windowSize:om}=ip(em);let im=r.ZERO,am=r.BASE;const sm=BigInt(2**em-1),cm=2**em,hm=BigInt(em);for(let fm=0;fm<rm;fm++){const pm=fm*om;let mm=Number(nm&sm);nm>>=hm,mm>om&&(mm-=cm,nm+=_n);const _m=pm,ym=pm+Math.abs(mm)-1,Sm=fm%2!=0,jm=mm<0;mm===0?am=am.add(sf(Sm,tm[_m])):im=im.add(sf(jm,tm[ym]))}return{p:im,f:am}},wNAFCached(em,tm,nm){const rm=kn.get(em)||1;let om=Cn.get(em);return om||(om=this.precomputeWindow(em,rm),rm!==1&&Cn.set(em,nm(om))),this.wNAF(rm,om,tm)},setWindowSize(em,tm){Nf(tm),kn.set(em,tm),Cn.delete(em)}}},Pt.pippenger=function(r,s,sf,Nf){if(!Array.isArray(sf)||!Array.isArray(Nf)||Nf.length!==sf.length)throw new Error("arrays of points and scalars must have equal length");Nf.forEach((im,am)=>{if(!s.isValid(im))throw new Error(`wrong scalar at index ${am}`)}),sf.forEach((im,am)=>{if(!(im instanceof r))throw new Error(`wrong point at index ${am}`)});const ip=(0,En.bitLen)(BigInt(sf.length)),em=ip>12?ip-3:ip>4?ip-2:ip?2:1,tm=(1<<em)-1,nm=new Array(tm+1).fill(r.ZERO),rm=Math.floor((s.BITS-1)/em)*em;let om=r.ZERO;for(let im=rm;im>=0;im-=em){nm.fill(r.ZERO);for(let sm=0;sm<Nf.length;sm++){const cm=Nf[sm],hm=Number(cm>>BigInt(im)&BigInt(tm));nm[hm]=nm[hm].add(sf[sm])}let am=r.ZERO;for(let sm=nm.length-1,cm=r.ZERO;sm>0;sm--)cm=cm.add(nm[sm]),am=am.add(cm);if(om=om.add(am),im!==0)for(let sm=0;sm<em;sm++)om=om.double()}return om},Pt.validateBasic=function(r){return(0,wn.validateField)(r.Fp),(0,En.validateObject)(r,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,wn.nLength)(r.n,r.nBitLength),...r,p:r.Fp.ORDER})};const wn=Tt,En=Ot,Sn=BigInt(0),_n=BigInt(1),Cn=new WeakMap,kn=new WeakMap;Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.twistedEdwards=function(r){const s=function(Im){const dm=(0,xn.validateBasic)(Im);return An.validateObject(Im,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...dm})}(r),{Fp:sf,n:Nf,prehash:ip,hash:em,randomBytes:tm,nByteLength:nm,h:rm}=s,om=Tn<<BigInt(8*nm)-Pn,im=sf.create,am=(0,Mn.Field)(s.n,s.nBitLength),sm=s.uvRatio||((Im,dm)=>{try{return{isValid:!0,value:sf.sqrt(Im*sf.inv(dm))}}catch{return{isValid:!1,value:Rn}}}),cm=s.adjustScalarBytes||(Im=>Im),hm=s.domain||((Im,dm,gm)=>{if((0,In.abool)("phflag",gm),dm.length||gm)throw new Error("Contexts/pre-hash are not supported");return Im});function fm(Im,dm){An.aInRange("coordinate "+Im,dm,Rn,om)}function pm(Im){if(!(Im instanceof ym))throw new Error("ExtendedPoint expected")}const mm=(0,In.memoized)((Im,dm)=>{const{ex:gm,ey:km,ez:Mm}=Im,bm=Im.is0();dm==null&&(dm=bm?On:sf.inv(Mm));const Em=im(gm*dm),$m=im(km*dm),Am=im(Mm*dm);if(bm)return{x:Rn,y:Pn};if(Am!==Pn)throw new Error("invZ was invalid");return{x:Em,y:$m}}),_m=(0,In.memoized)(Im=>{const{a:dm,d:gm}=s;if(Im.is0())throw new Error("bad point: ZERO");const{ex:km,ey:Mm,ez:bm,et:Em}=Im,$m=im(km*km),Am=im(Mm*Mm),lm=im(bm*bm),um=im(lm*lm),wm=im($m*dm);if(im(lm*im(wm+Am))!==im(um+im(gm*im($m*Am))))throw new Error("bad point: equation left != right (1)");if(im(km*Mm)!==im(bm*Em))throw new Error("bad point: equation left != right (2)");return!0});class ym{constructor(dm,gm,km,Mm){this.ex=dm,this.ey=gm,this.ez=km,this.et=Mm,fm("x",dm),fm("y",gm),fm("z",km),fm("t",Mm),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(dm){if(dm instanceof ym)throw new Error("extended point not allowed");const{x:gm,y:km}=dm||{};return fm("x",gm),fm("y",km),new ym(gm,km,Pn,im(gm*km))}static normalizeZ(dm){const gm=sf.invertBatch(dm.map(km=>km.ez));return dm.map((km,Mm)=>km.toAffine(gm[Mm])).map(ym.fromAffine)}static msm(dm,gm){return(0,xn.pippenger)(ym,am,dm,gm)}_setWindowSize(dm){Pm.setWindowSize(this,dm)}assertValidity(){_m(this)}equals(dm){pm(dm);const{ex:gm,ey:km,ez:Mm}=this,{ex:bm,ey:Em,ez:$m}=dm,Am=im(gm*$m),lm=im(bm*Mm),um=im(km*$m),wm=im(Em*Mm);return Am===lm&&um===wm}is0(){return this.equals(ym.ZERO)}negate(){return new ym(im(-this.ex),this.ey,this.ez,im(-this.et))}double(){const{a:dm}=s,{ex:gm,ey:km,ez:Mm}=this,bm=im(gm*gm),Em=im(km*km),$m=im(Tn*im(Mm*Mm)),Am=im(dm*bm),lm=gm+km,um=im(im(lm*lm)-bm-Em),wm=Am+Em,xm=wm-$m,Tm=Am-Em,Om=im(um*xm),Hm=im(wm*Tm),Km=im(um*Tm),Zm=im(xm*wm);return new ym(Om,Hm,Zm,Km)}add(dm){pm(dm);const{a:gm,d:km}=s,{ex:Mm,ey:bm,ez:Em,et:$m}=this,{ex:Am,ey:lm,ez:um,et:wm}=dm;if(gm===BigInt(-1)){const bg=im((bm-Mm)*(lm+Am)),vg=im((bm+Mm)*(lm-Am)),Xm=im(vg-bg);if(Xm===Rn)return this.double();const Eg=im(Em*Tn*wm),_g=im($m*Tn*um),Ag=_g+Eg,kg=vg+bg,xg=_g-Eg,Cg=im(Ag*Xm),Sg=im(kg*xg),Fm=im(Ag*xg),Cm=im(Xm*kg);return new ym(Cg,Sg,Cm,Fm)}const xm=im(Mm*Am),Tm=im(bm*lm),Om=im($m*km*wm),Hm=im(Em*um),Km=im((Mm+bm)*(Am+lm)-xm-Tm),Zm=Hm-Om,Vm=Hm+Om,zm=im(Tm-gm*xm),Wm=im(Km*Zm),Ym=im(Vm*zm),Qm=im(Km*zm),mg=im(Zm*Vm);return new ym(Wm,Ym,mg,Qm)}subtract(dm){return this.add(dm.negate())}wNAF(dm){return Pm.wNAFCached(this,dm,ym.normalizeZ)}multiply(dm){const gm=dm;An.aInRange("scalar",gm,Pn,Nf);const{p:km,f:Mm}=this.wNAF(gm);return ym.normalizeZ([km,Mm])[0]}multiplyUnsafe(dm){const gm=dm;return An.aInRange("scalar",gm,Rn,Nf),gm===Rn?jm:this.equals(jm)||gm===Pn?this:this.equals(Sm)?this.wNAF(gm).p:Pm.unsafeLadder(this,gm)}isSmallOrder(){return this.multiplyUnsafe(rm).is0()}isTorsionFree(){return Pm.unsafeLadder(this,Nf).is0()}toAffine(dm){return mm(this,dm)}clearCofactor(){const{h:dm}=s;return dm===Pn?this:this.multiplyUnsafe(dm)}static fromHex(dm,gm=!1){const{d:km,a:Mm}=s,bm=sf.BYTES;dm=(0,In.ensureBytes)("pointHex",dm,bm),(0,In.abool)("zip215",gm);const Em=dm.slice(),$m=dm[bm-1];Em[bm-1]=-129&$m;const Am=An.bytesToNumberLE(Em),lm=gm?om:sf.ORDER;An.aInRange("pointHex.y",Am,Rn,lm);const um=im(Am*Am),wm=im(um-Pn),xm=im(km*um-Mm);let{isValid:Tm,value:Om}=sm(wm,xm);if(!Tm)throw new Error("Point.fromHex: invalid y coordinate");const Hm=(Om&Pn)===Pn,Km=(128&$m)!=0;if(!gm&&Om===Rn&&Km)throw new Error("Point.fromHex: x=0 and x_0=1");return Km!==Hm&&(Om=im(-Om)),ym.fromAffine({x:Om,y:Am})}static fromPrivateKey(dm){return Rm(dm).point}toRawBytes(){const{x:dm,y:gm}=this.toAffine(),km=An.numberToBytesLE(gm,sf.BYTES);return km[km.length-1]|=dm&Pn?128:0,km}toHex(){return An.bytesToHex(this.toRawBytes())}}ym.BASE=new ym(s.Gx,s.Gy,Pn,im(s.Gx*s.Gy)),ym.ZERO=new ym(Rn,Pn,Pn,Rn);const{BASE:Sm,ZERO:jm}=ym,Pm=(0,xn.wNAF)(ym,8*nm);function Bm(Im){return(0,Mn.mod)(Im,Nf)}function qm(Im){return Bm(An.bytesToNumberLE(Im))}function Rm(Im){const dm=nm;Im=(0,In.ensureBytes)("private key",Im,dm);const gm=(0,In.ensureBytes)("hashed private key",em(Im),2*dm),km=cm(gm.slice(0,dm)),Mm=gm.slice(dm,2*dm),bm=qm(km),Em=Sm.multiply(bm),$m=Em.toRawBytes();return{head:km,prefix:Mm,scalar:bm,point:Em,pointBytes:$m}}function Dm(Im=new Uint8Array,...dm){const gm=An.concatBytes(...dm);return qm(em(hm(gm,(0,In.ensureBytes)("context",Im),!!ip)))}const Um=Ln;return Sm._setWindowSize(8),{CURVE:s,getPublicKey:function(Im){return Rm(Im).pointBytes},sign:function(Im,dm,gm={}){Im=(0,In.ensureBytes)("message",Im),ip&&(Im=ip(Im));const{prefix:km,scalar:Mm,pointBytes:bm}=Rm(dm),Em=Dm(gm.context,km,Im),$m=Sm.multiply(Em).toRawBytes(),Am=Bm(Em+Dm(gm.context,$m,bm,Im)*Mm);An.aInRange("signature.s",Am,Rn,Nf);const lm=An.concatBytes($m,An.numberToBytesLE(Am,sf.BYTES));return(0,In.ensureBytes)("result",lm,2*nm)},verify:function(Im,dm,gm,km=Um){const{context:Mm,zip215:bm}=km,Em=sf.BYTES;Im=(0,In.ensureBytes)("signature",Im,2*Em),dm=(0,In.ensureBytes)("message",dm),bm!==void 0&&(0,In.abool)("zip215",bm),ip&&(dm=ip(dm));const $m=An.bytesToNumberLE(Im.slice(Em,2*Em));let Am,lm,um;try{Am=ym.fromHex(gm,bm),lm=ym.fromHex(Im.slice(0,Em),bm),um=Sm.multiplyUnsafe($m)}catch{return!1}if(!bm&&Am.isSmallOrder())return!1;const wm=Dm(Mm,lm.toRawBytes(),Am.toRawBytes(),dm);return lm.add(Am.multiplyUnsafe(wm)).subtract(um).clearCofactor().equals(ym.ZERO)},ExtendedPoint:ym,utils:{getExtendedPublicKey:Rm,randomPrivateKey:()=>tm(sf.BYTES),precompute:(Im=8,dm=ym.BASE)=>(dm._setWindowSize(Im),dm.multiply(BigInt(3)),dm)}}};const xn=Pt,Mn=Tt,An=Ot,In=Ot,Rn=BigInt(0),Pn=BigInt(1),Tn=BigInt(2),On=BigInt(8),Ln={zip215:!0};var Nn={};Object.defineProperty(Nn,"__esModule",{value:!0}),Nn.expand_message_xmd=Hn,Nn.expand_message_xof=Fn,Nn.hash_to_field=zn,Nn.isogenyMap=function(r,s){const sf=s.map(Nf=>Array.from(Nf).reverse());return(Nf,ip)=>{const[em,tm,nm,rm]=sf.map(om=>om.reduce((im,am)=>r.add(r.mul(im,Nf),am)));return Nf=r.div(em,tm),ip=r.mul(ip,r.div(nm,rm)),{x:Nf,y:ip}}},Nn.createHasher=function(r,s,sf){if(typeof s!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(Nf,ip){const em=zn(Nf,2,{...sf,DST:sf.DST,...ip}),tm=r.fromAffine(s(em[0])),nm=r.fromAffine(s(em[1])),rm=tm.add(nm).clearCofactor();return rm.assertValidity(),rm},encodeToCurve(Nf,ip){const em=zn(Nf,1,{...sf,DST:sf.encodeDST,...ip}),tm=r.fromAffine(s(em[0])).clearCofactor();return tm.assertValidity(),tm},mapToCurve(Nf){if(!Array.isArray(Nf))throw new Error("mapToCurve: expected array of bigints");for(const em of Nf)if(typeof em!="bigint")throw new Error(`mapToCurve: expected array of bigints, got ${em} in array`);const ip=r.fromAffine(s(Nf)).clearCofactor();return ip.assertValidity(),ip}}};const $n=Tt,Dn=Ot,Bn=Dn.bytesToNumberBE;function Kn(r,s){if(Un(r),Un(s),r<0||r>=1<<8*s)throw new Error(`bad I2OSP call: value=${r} length=${s}`);const sf=Array.from({length:s}).fill(0);for(let Nf=s-1;Nf>=0;Nf--)sf[Nf]=255&r,r>>>=8;return new Uint8Array(sf)}function jn(r,s){const sf=new Uint8Array(r.length);for(let Nf=0;Nf<r.length;Nf++)sf[Nf]=r[Nf]^s[Nf];return sf}function Un(r){if(!Number.isSafeInteger(r))throw new Error("number expected")}function Hn(r,s,sf,Nf){(0,Dn.abytes)(r),(0,Dn.abytes)(s),Un(sf),s.length>255&&(s=Nf((0,Dn.concatBytes)((0,Dn.utf8ToBytes)("H2C-OVERSIZE-DST-"),s)));const{outputLen:ip,blockLen:em}=Nf,tm=Math.ceil(sf/ip);if(sf>65535||tm>255)throw new Error("expand_message_xmd: invalid lenInBytes");const nm=(0,Dn.concatBytes)(s,Kn(s.length,1)),rm=Kn(0,em),om=Kn(sf,2),im=new Array(tm),am=Nf((0,Dn.concatBytes)(rm,r,om,Kn(0,1),nm));im[0]=Nf((0,Dn.concatBytes)(am,Kn(1,1),nm));for(let sm=1;sm<=tm;sm++){const cm=[jn(am,im[sm-1]),Kn(sm+1,1),nm];im[sm]=Nf((0,Dn.concatBytes)(...cm))}return(0,Dn.concatBytes)(...im).slice(0,sf)}function Fn(r,s,sf,Nf,ip){if((0,Dn.abytes)(r),(0,Dn.abytes)(s),Un(sf),s.length>255){const em=Math.ceil(2*Nf/8);s=ip.create({dkLen:em}).update((0,Dn.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(s).digest()}if(sf>65535||s.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return ip.create({dkLen:sf}).update(r).update(Kn(sf,2)).update(s).update(Kn(s.length,1)).digest()}function zn(r,s,sf){(0,Dn.validateObject)(sf,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:Nf,k:ip,m:em,hash:tm,expand:nm,DST:rm}=sf;(0,Dn.abytes)(r),Un(s);const om=typeof rm=="string"?(0,Dn.utf8ToBytes)(rm):rm,im=Nf.toString(2).length,am=Math.ceil((im+ip)/8),sm=s*em*am;let cm;if(nm==="xmd")cm=Hn(r,om,sm,tm);else if(nm==="xof")cm=Fn(r,om,sm,ip,tm);else{if(nm!=="_internal_pass")throw new Error('expand must be "xmd" or "xof"');cm=r}const hm=new Array(s);for(let fm=0;fm<s;fm++){const pm=new Array(em);for(let mm=0;mm<em;mm++){const _m=am*(mm+fm*em),ym=cm.subarray(_m,_m+am);pm[mm]=(0,$n.mod)(Bn(ym),Nf)}hm[fm]=pm}return hm}var qn={};Object.defineProperty(qn,"__esModule",{value:!0}),qn.montgomery=function(r){const s=function(fm){return(0,Vn.validateObject)(fm,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...fm})}(r),{P:sf}=s,Nf=fm=>(0,Wn.mod)(fm,sf),ip=s.montgomeryBits,em=Math.ceil(ip/8),tm=s.nByteLength,nm=s.adjustScalarBytes||(fm=>fm),rm=s.powPminus2||(fm=>(0,Wn.pow)(fm,sf-BigInt(2),sf));function om(fm,pm,mm){const _m=Nf(fm*(pm-mm));return[pm=Nf(pm-_m),mm=Nf(mm+_m)]}const im=(s.a-BigInt(2))/BigInt(4);function am(fm){return(0,Vn.numberToBytesLE)(Nf(fm),em)}function sm(fm,pm){const mm=function(Sm){const jm=(0,Vn.ensureBytes)("u coordinate",Sm,em);return tm===32&&(jm[31]&=127),(0,Vn.bytesToNumberLE)(jm)}(pm),_m=function(Sm){const jm=(0,Vn.ensureBytes)("scalar",Sm),Pm=jm.length;if(Pm!==em&&Pm!==tm)throw new Error(`Expected ${em} or ${tm} bytes, got ${Pm}`);return(0,Vn.bytesToNumberLE)(nm(jm))}(fm),ym=function(Sm,jm){(0,Vn.aInRange)("u",Sm,Gn,sf),(0,Vn.aInRange)("scalar",jm,Gn,sf);const Pm=jm,Bm=Sm;let qm,Rm=Yn,Dm=Gn,Um=Sm,Lm=Yn,Im=Gn;for(let gm=BigInt(ip-1);gm>=Gn;gm--){const km=Pm>>gm&Yn;Im^=km,qm=om(Im,Rm,Um),Rm=qm[0],Um=qm[1],qm=om(Im,Dm,Lm),Dm=qm[0],Lm=qm[1],Im=km;const Mm=Rm+Dm,bm=Nf(Mm*Mm),Em=Rm-Dm,$m=Nf(Em*Em),Am=bm-$m,lm=Um+Lm,um=Nf((Um-Lm)*Mm),wm=Nf(lm*Em),xm=um+wm,Tm=um-wm;Um=Nf(xm*xm),Lm=Nf(Bm*Nf(Tm*Tm)),Rm=Nf(bm*$m),Dm=Nf(Am*(bm+Nf(im*Am)))}qm=om(Im,Rm,Um),Rm=qm[0],Um=qm[1],qm=om(Im,Dm,Lm),Dm=qm[0],Lm=qm[1];const dm=rm(Dm);return Nf(Rm*dm)}(mm,_m);if(ym===Gn)throw new Error("Invalid private or public key received");return am(ym)}const cm=am(s.Gu);function hm(fm){return sm(fm,cm)}return{scalarMult:sm,scalarMultBase:hm,getSharedSecret:(fm,pm)=>sm(fm,pm),getPublicKey:fm=>hm(fm),utils:{randomPrivateKey:()=>s.randomBytes(s.nByteLength)},GuBytes:cm}};const Wn=Tt,Vn=Ot,Gn=BigInt(0),Yn=BigInt(1);(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.hash_to_ristretto255=r.hashToRistretto255=r.RistrettoPoint=r.encodeToCurve=r.hashToCurve=r.edwardsToMontgomery=r.x25519=r.ed25519ph=r.ed25519ctx=r.ed25519=r.ED25519_TORSION_SUBGROUP=void 0,r.edwardsToMontgomeryPub=Pm,r.edwardsToMontgomeryPriv=function(wm){const xm=Sm.hash(wm.subarray(0,32));return Sm.adjustScalarBytes(xm).subarray(0,32)};const s=Te,sf=Fe,Nf=Rt,ip=Nn,em=Tt,tm=qn,nm=Ot,rm=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),om=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),im=BigInt(0),am=BigInt(1),sm=BigInt(2),cm=BigInt(3),hm=BigInt(5),fm=BigInt(8);function pm(wm){const xm=BigInt(10),Tm=BigInt(20),Om=BigInt(40),Hm=BigInt(80),Km=rm,Zm=wm*wm%Km*wm%Km,Vm=(0,em.pow2)(Zm,sm,Km)*Zm%Km,zm=(0,em.pow2)(Vm,am,Km)*wm%Km,Wm=(0,em.pow2)(zm,hm,Km)*zm%Km,Ym=(0,em.pow2)(Wm,xm,Km)*Wm%Km,Qm=(0,em.pow2)(Ym,Tm,Km)*Ym%Km,mg=(0,em.pow2)(Qm,Om,Km)*Qm%Km,bg=(0,em.pow2)(mg,Hm,Km)*mg%Km,vg=(0,em.pow2)(bg,Hm,Km)*mg%Km,Xm=(0,em.pow2)(vg,xm,Km)*Wm%Km;return{pow_p_5_8:(0,em.pow2)(Xm,sm,Km)*wm%Km,b2:Zm}}function mm(wm){return wm[0]&=248,wm[31]&=127,wm[31]|=64,wm}function _m(wm,xm){const Tm=rm,Om=(0,em.mod)(xm*xm*xm,Tm),Hm=pm(wm*(0,em.mod)(Om*Om*xm,Tm)).pow_p_5_8;let Km=(0,em.mod)(wm*Om*Hm,Tm);const Zm=(0,em.mod)(xm*Km*Km,Tm),Vm=Km,zm=(0,em.mod)(Km*om,Tm),Wm=Zm===wm,Ym=Zm===(0,em.mod)(-wm,Tm),Qm=Zm===(0,em.mod)(-wm*om,Tm);return Wm&&(Km=Vm),(Ym||Qm)&&(Km=zm),(0,em.isNegativeLE)(Km,Tm)&&(Km=(0,em.mod)(-Km,Tm)),{isValid:Wm||Ym,value:Km}}r.ED25519_TORSION_SUBGROUP=["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"];const ym=(0,em.Field)(rm,void 0,!0),Sm={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:ym,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:fm,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:s.sha512,randomBytes:sf.randomBytes,adjustScalarBytes:mm,uvRatio:_m};function jm(wm,xm,Tm){if(xm.length>255)throw new Error("Context is too big");return(0,sf.concatBytes)((0,sf.utf8ToBytes)("SigEd25519 no Ed25519 collisions"),new Uint8Array([Tm?1:0,xm.length]),xm,wm)}function Pm(wm){const{y:xm}=r.ed25519.ExtendedPoint.fromHex(wm),Tm=BigInt(1);return ym.toBytes(ym.create((Tm+xm)*ym.inv(Tm-xm)))}r.ed25519=(0,Nf.twistedEdwards)(Sm),r.ed25519ctx=(0,Nf.twistedEdwards)({...Sm,domain:jm}),r.ed25519ph=(0,Nf.twistedEdwards)(Object.assign({},Sm,{domain:jm,prehash:s.sha512})),r.x25519=(0,tm.montgomery)({P:rm,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:wm=>{const xm=rm,{pow_p_5_8:Tm,b2:Om}=pm(wm);return(0,em.mod)((0,em.pow2)(Tm,cm,xm)*Om,xm)},adjustScalarBytes:mm,randomBytes:sf.randomBytes}),r.edwardsToMontgomery=Pm;const Bm=(ym.ORDER+cm)/fm,qm=ym.pow(sm,Bm),Rm=ym.sqrt(ym.neg(ym.ONE)),Dm=(0,em.FpSqrtEven)(ym,ym.neg(BigInt(486664)));function Um(wm){const{xMn:xm,xMd:Tm,yMn:Om,yMd:Hm}=function(mg){const bg=(ym.ORDER-hm)/fm,vg=BigInt(486662);let Xm=ym.sqr(mg);Xm=ym.mul(Xm,sm);let Eg=ym.add(Xm,ym.ONE),_g=ym.neg(vg),Ag=ym.sqr(Eg),kg=ym.mul(Ag,Eg),xg=ym.mul(Xm,vg);xg=ym.mul(xg,_g),xg=ym.add(xg,Ag),xg=ym.mul(xg,_g);let Cg=ym.sqr(kg);Ag=ym.sqr(Cg),Cg=ym.mul(Cg,kg),Cg=ym.mul(Cg,xg),Ag=ym.mul(Ag,Cg);let Sg=ym.pow(Ag,bg);Sg=ym.mul(Sg,Cg);let Fm=ym.mul(Sg,Rm);Ag=ym.sqr(Sg),Ag=ym.mul(Ag,kg);let Cm=ym.eql(Ag,xg),Nm=ym.cmov(Fm,Sg,Cm),Gm=ym.mul(_g,Xm),Jm=ym.mul(Sg,mg);Jm=ym.mul(Jm,qm);let yg=ym.mul(Jm,Rm),wg=ym.mul(xg,Xm);Ag=ym.sqr(Jm),Ag=ym.mul(Ag,kg);let Tg=ym.eql(Ag,wg),$g=ym.cmov(yg,Jm,Tg);Ag=ym.sqr(Nm),Ag=ym.mul(Ag,kg);let Mg=ym.eql(Ag,xg),jg=ym.cmov(Gm,_g,Mg),Ig=ym.cmov($g,Nm,Mg),Ng=ym.isOdd(Ig);return Ig=ym.cmov(Ig,ym.neg(Ig),Mg!==Ng),{xMn:jg,xMd:Eg,yMn:Ig,yMd:am}}(wm);let Km=ym.mul(xm,Hm);Km=ym.mul(Km,Dm);let Zm=ym.mul(Tm,Om),Vm=ym.sub(xm,Tm),zm=ym.add(xm,Tm),Wm=ym.mul(Zm,zm),Ym=ym.eql(Wm,ym.ZERO);Km=ym.cmov(Km,ym.ZERO,Ym),Zm=ym.cmov(Zm,ym.ONE,Ym),Vm=ym.cmov(Vm,ym.ONE,Ym),zm=ym.cmov(zm,ym.ONE,Ym);const Qm=ym.invertBatch([Zm,zm]);return{x:ym.mul(Km,Qm[0]),y:ym.mul(Vm,Qm[1])}}const Lm=(0,ip.createHasher)(r.ed25519.ExtendedPoint,wm=>Um(wm[0]),{DST:"edwards25519_XMD:SHA-512_ELL2_RO_",encodeDST:"edwards25519_XMD:SHA-512_ELL2_NU_",p:ym.ORDER,m:1,k:128,expand:"xmd",hash:s.sha512});function Im(wm){if(!(wm instanceof um))throw new Error("RistrettoPoint expected")}r.hashToCurve=Lm.hashToCurve,r.encodeToCurve=Lm.encodeToCurve;const dm=om,gm=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),km=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),Mm=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),bm=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),Em=wm=>_m(am,wm),$m=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Am=wm=>r.ed25519.CURVE.Fp.create((0,nm.bytesToNumberLE)(wm)&$m);function lm(wm){const{d:xm}=r.ed25519.CURVE,Tm=r.ed25519.CURVE.Fp.ORDER,Om=r.ed25519.CURVE.Fp.create,Hm=Om(dm*wm*wm),Km=Om((Hm+am)*Mm);let Zm=BigInt(-1);const Vm=Om((Zm-xm*Hm)*Om(Hm+xm));let{isValid:zm,value:Wm}=_m(Km,Vm),Ym=Om(Wm*wm);(0,em.isNegativeLE)(Ym,Tm)||(Ym=Om(-Ym)),zm||(Wm=Ym),zm||(Zm=Hm);const Qm=Om(Zm*(Hm-am)*bm-Vm),mg=Wm*Wm,bg=Om((Wm+Wm)*Vm),vg=Om(Qm*gm),Xm=Om(am-mg),Eg=Om(am+mg);return new r.ed25519.ExtendedPoint(Om(bg*Eg),Om(Xm*vg),Om(vg*Eg),Om(bg*Xm))}class um{constructor(xm){this.ep=xm}static fromAffine(xm){return new um(r.ed25519.ExtendedPoint.fromAffine(xm))}static hashToCurve(xm){xm=(0,nm.ensureBytes)("ristrettoHash",xm,64);const Tm=lm(Am(xm.slice(0,32))),Om=lm(Am(xm.slice(32,64)));return new um(Tm.add(Om))}static fromHex(xm){xm=(0,nm.ensureBytes)("ristrettoHex",xm,32);const{a:Tm,d:Om}=r.ed25519.CURVE,Hm=r.ed25519.CURVE.Fp.ORDER,Km=r.ed25519.CURVE.Fp.create,Zm="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",Vm=Am(xm);if(!(0,nm.equalBytes)((0,nm.numberToBytesLE)(Vm,32),xm)||(0,em.isNegativeLE)(Vm,Hm))throw new Error(Zm);const zm=Km(Vm*Vm),Wm=Km(am+Tm*zm),Ym=Km(am-Tm*zm),Qm=Km(Wm*Wm),mg=Km(Ym*Ym),bg=Km(Tm*Om*Qm-mg),{isValid:vg,value:Xm}=Em(Km(bg*mg)),Eg=Km(Xm*Ym),_g=Km(Xm*Eg*bg);let Ag=Km((Vm+Vm)*Eg);(0,em.isNegativeLE)(Ag,Hm)&&(Ag=Km(-Ag));const kg=Km(Wm*_g),xg=Km(Ag*kg);if(!vg||(0,em.isNegativeLE)(xg,Hm)||kg===im)throw new Error(Zm);return new um(new r.ed25519.ExtendedPoint(Ag,kg,am,xg))}toRawBytes(){let{ex:xm,ey:Tm,ez:Om,et:Hm}=this.ep;const Km=r.ed25519.CURVE.Fp.ORDER,Zm=r.ed25519.CURVE.Fp.create,Vm=Zm(Zm(Om+Tm)*Zm(Om-Tm)),zm=Zm(xm*Tm),Wm=Zm(zm*zm),{value:Ym}=Em(Zm(Vm*Wm)),Qm=Zm(Ym*Vm),mg=Zm(Ym*zm),bg=Zm(Qm*mg*Hm);let vg;if((0,em.isNegativeLE)(Hm*bg,Km)){let Eg=Zm(Tm*dm),_g=Zm(xm*dm);xm=Eg,Tm=_g,vg=Zm(Qm*km)}else vg=mg;(0,em.isNegativeLE)(xm*bg,Km)&&(Tm=Zm(-Tm));let Xm=Zm((Om-Tm)*vg);return(0,em.isNegativeLE)(Xm,Km)&&(Xm=Zm(-Xm)),(0,nm.numberToBytesLE)(Xm,32)}toHex(){return(0,nm.bytesToHex)(this.toRawBytes())}toString(){return this.toHex()}equals(xm){Im(xm);const{ex:Tm,ey:Om}=this.ep,{ex:Hm,ey:Km}=xm.ep,Zm=r.ed25519.CURVE.Fp.create,Vm=Zm(Tm*Km)===Zm(Om*Hm),zm=Zm(Om*Km)===Zm(Tm*Hm);return Vm||zm}add(xm){return Im(xm),new um(this.ep.add(xm.ep))}subtract(xm){return Im(xm),new um(this.ep.subtract(xm.ep))}multiply(xm){return new um(this.ep.multiply(xm))}multiplyUnsafe(xm){return new um(this.ep.multiplyUnsafe(xm))}double(){return new um(this.ep.double())}negate(){return new um(this.ep.negate())}}r.RistrettoPoint=(um.BASE||(um.BASE=new um(r.ed25519.ExtendedPoint.BASE)),um.ZERO||(um.ZERO=new um(r.ed25519.ExtendedPoint.ZERO)),um),r.hashToRistretto255=(wm,xm)=>{const Tm=xm.DST,Om=typeof Tm=="string"?(0,sf.utf8ToBytes)(Tm):Tm,Hm=(0,ip.expand_message_xmd)(wm,Om,64,s.sha512);return um.hashToCurve(Hm)},r.hash_to_ristretto255=r.hashToRistretto255})(Pe);var Zn={},Jn={};Object.defineProperty(Jn,"__esModule",{value:!0}),Jn.sha224=Jn.sha256=Jn.SHA256=void 0;const Xn=Oe,Qn=Fe,er=new Uint32Array([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),tr=new Uint32Array([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]),nr=new Uint32Array(64);class rr extends Xn.HashMD{constructor(){super(64,32,8,!1),this.A=0|tr[0],this.B=0|tr[1],this.C=0|tr[2],this.D=0|tr[3],this.E=0|tr[4],this.F=0|tr[5],this.G=0|tr[6],this.H=0|tr[7]}get(){const{A:s,B:sf,C:Nf,D:ip,E:em,F:tm,G:nm,H:rm}=this;return[s,sf,Nf,ip,em,tm,nm,rm]}set(s,sf,Nf,ip,em,tm,nm,rm){this.A=0|s,this.B=0|sf,this.C=0|Nf,this.D=0|ip,this.E=0|em,this.F=0|tm,this.G=0|nm,this.H=0|rm}process(s,sf){for(let am=0;am<16;am++,sf+=4)nr[am]=s.getUint32(sf,!1);for(let am=16;am<64;am++){const sm=nr[am-15],cm=nr[am-2],hm=(0,Qn.rotr)(sm,7)^(0,Qn.rotr)(sm,18)^sm>>>3,fm=(0,Qn.rotr)(cm,17)^(0,Qn.rotr)(cm,19)^cm>>>10;nr[am]=fm+nr[am-7]+hm+nr[am-16]|0}let{A:Nf,B:ip,C:em,D:tm,E:nm,F:rm,G:om,H:im}=this;for(let am=0;am<64;am++){const sm=im+((0,Qn.rotr)(nm,6)^(0,Qn.rotr)(nm,11)^(0,Qn.rotr)(nm,25))+(0,Xn.Chi)(nm,rm,om)+er[am]+nr[am]|0,cm=((0,Qn.rotr)(Nf,2)^(0,Qn.rotr)(Nf,13)^(0,Qn.rotr)(Nf,22))+(0,Xn.Maj)(Nf,ip,em)|0;im=om,om=rm,rm=nm,nm=tm+sm|0,tm=em,em=ip,ip=Nf,Nf=sm+cm|0}Nf=Nf+this.A|0,ip=ip+this.B|0,em=em+this.C|0,tm=tm+this.D|0,nm=nm+this.E|0,rm=rm+this.F|0,om=om+this.G|0,im=im+this.H|0,this.set(Nf,ip,em,tm,nm,rm,om,im)}roundClean(){nr.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}Jn.SHA256=rr;class ir extends rr{constructor(){super(),this.A=-0x3efa6128,this.B=0x367cd507,this.C=0x3070dd17,this.D=-0x8f1a6c7,this.E=-4191439,this.F=0x68581511,this.G=0x64f98fa7,this.H=-0x4105b05c,this.outputLen=28}}Jn.sha256=(0,Qn.wrapConstructor)(()=>new rr),Jn.sha224=(0,Qn.wrapConstructor)(()=>new ir);var or={},sr={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.hmac=r.HMAC=void 0;const s=Le,sf=Fe;class Nf extends sf.Hash{constructor(em,tm){super(),this.finished=!1,this.destroyed=!1,(0,s.hash)(em);const nm=(0,sf.toBytes)(tm);if(this.iHash=em.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const rm=this.blockLen,om=new Uint8Array(rm);om.set(nm.length>rm?em.create().update(nm).digest():nm);for(let im=0;im<om.length;im++)om[im]^=54;this.iHash.update(om),this.oHash=em.create();for(let im=0;im<om.length;im++)om[im]^=106;this.oHash.update(om),om.fill(0)}update(em){return(0,s.exists)(this),this.iHash.update(em),this}digestInto(em){(0,s.exists)(this),(0,s.bytes)(em,this.outputLen),this.finished=!0,this.iHash.digestInto(em),this.oHash.update(em),this.oHash.digestInto(em),this.destroy()}digest(){const em=new Uint8Array(this.oHash.outputLen);return this.digestInto(em),em}_cloneInto(em){em||(em=Object.create(Object.getPrototypeOf(this),{}));const{oHash:tm,iHash:nm,finished:rm,destroyed:om,blockLen:im,outputLen:am}=this;return em.finished=rm,em.destroyed=om,em.blockLen=im,em.outputLen=am,em.oHash=tm._cloneInto(em.oHash),em.iHash=nm._cloneInto(em.iHash),em}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}r.HMAC=Nf,r.hmac=(ip,em,tm)=>new Nf(ip,em).update(tm).digest(),r.hmac.create=(ip,em)=>new Nf(ip,em)})(sr);var ar={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.DER=void 0,r.weierstrassPoints=cm,r.weierstrass=function(fm){const pm=function(wm){const xm=(0,s.validateBasic)(wm);return Nf.validateObject(xm,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...xm})}(fm),{Fp:mm,n:_m}=pm,ym=mm.BYTES+1,Sm=2*mm.BYTES+1;function jm(wm){return sf.mod(wm,_m)}function Pm(wm){return sf.invert(wm,_m)}const{ProjectivePoint:Bm,normPrivateKeyToScalar:qm,weierstrassEquation:Rm,isWithinCurveOrder:Dm}=cm({...pm,toBytes(wm,xm,Tm){const Om=xm.toAffine(),Hm=mm.toBytes(Om.x),Km=Nf.concatBytes;return(0,ip.abool)("isCompressed",Tm),Tm?Km(Uint8Array.from([xm.hasEvenY()?2:3]),Hm):Km(Uint8Array.from([4]),Hm,mm.toBytes(Om.y))},fromBytes(wm){const xm=wm.length,Tm=wm[0],Om=wm.subarray(1);if(xm!==ym||Tm!==2&&Tm!==3){if(xm===Sm&&Tm===4)return{x:mm.fromBytes(Om.subarray(0,mm.BYTES)),y:mm.fromBytes(Om.subarray(mm.BYTES,2*mm.BYTES))};throw new Error(`Point of length ${xm} was invalid. Expected ${ym} compressed bytes or ${Sm} uncompressed bytes`)}{const Hm=Nf.bytesToNumberBE(Om);if(!Nf.inRange(Hm,om,mm.ORDER))throw new Error("Point is not on curve");const Km=Rm(Hm);let Zm;try{Zm=mm.sqrt(Km)}catch(Vm){const zm=Vm instanceof Error?": "+Vm.message:"";throw new Error("Point is not on curve"+zm)}return(1&Tm)==1!=((Zm&om)===om)&&(Zm=mm.neg(Zm)),{x:Hm,y:Zm}}}}),Um=wm=>Nf.bytesToHex(Nf.numberToBytesBE(wm,pm.nByteLength));function Lm(wm){return wm>_m>>om}const Im=(wm,xm,Tm)=>Nf.bytesToNumberBE(wm.slice(xm,Tm));class dm{constructor(xm,Tm,Om){this.r=xm,this.s=Tm,this.recovery=Om,this.assertValidity()}static fromCompact(xm){const Tm=pm.nByteLength;return xm=(0,ip.ensureBytes)("compactSignature",xm,2*Tm),new dm(Im(xm,0,Tm),Im(xm,Tm,2*Tm))}static fromDER(xm){const{r:Tm,s:Om}=r.DER.toSig((0,ip.ensureBytes)("DER",xm));return new dm(Tm,Om)}assertValidity(){Nf.aInRange("r",this.r,om,_m),Nf.aInRange("s",this.s,om,_m)}addRecoveryBit(xm){return new dm(this.r,this.s,xm)}recoverPublicKey(xm){const{r:Tm,s:Om,recovery:Hm}=this,Km=bm((0,ip.ensureBytes)("msgHash",xm));if(Hm==null||![0,1,2,3].includes(Hm))throw new Error("recovery id invalid");const Zm=Hm===2||Hm===3?Tm+pm.n:Tm;if(Zm>=mm.ORDER)throw new Error("recovery id 2 or 3 invalid");const Vm=(1&Hm)==0?"02":"03",zm=Bm.fromHex(Vm+Um(Zm)),Wm=Pm(Zm),Ym=jm(-Km*Wm),Qm=jm(Om*Wm),mg=Bm.BASE.multiplyAndAddUnsafe(zm,Ym,Qm);if(!mg)throw new Error("point at infinify");return mg.assertValidity(),mg}hasHighS(){return Lm(this.s)}normalizeS(){return this.hasHighS()?new dm(this.r,jm(-this.s),this.recovery):this}toDERRawBytes(){return Nf.hexToBytes(this.toDERHex())}toDERHex(){return r.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Nf.hexToBytes(this.toCompactHex())}toCompactHex(){return Um(this.r)+Um(this.s)}}const gm={isValidPrivateKey(wm){try{return qm(wm),!0}catch{return!1}},normPrivateKeyToScalar:qm,randomPrivateKey:()=>{const wm=sf.getMinHashLength(pm.n);return sf.mapHashToField(pm.randomBytes(wm),pm.n)},precompute:(wm=8,xm=Bm.BASE)=>(xm._setWindowSize(wm),xm.multiply(BigInt(3)),xm)};function km(wm){const xm=Nf.isBytes(wm),Tm=typeof wm=="string",Om=(xm||Tm)&&wm.length;return xm?Om===ym||Om===Sm:Tm?Om===2*ym||Om===2*Sm:wm instanceof Bm}const Mm=pm.bits2int||function(wm){const xm=Nf.bytesToNumberBE(wm),Tm=8*wm.length-pm.nBitLength;return Tm>0?xm>>BigInt(Tm):xm},bm=pm.bits2int_modN||function(wm){return jm(Mm(wm))},Em=Nf.bitMask(pm.nBitLength);function $m(wm){return Nf.aInRange(`num < 2^${pm.nBitLength}`,wm,rm,Em),Nf.numberToBytesBE(wm,pm.nByteLength)}function Am(wm,xm,Tm=lm){if(["recovered","canonical"].some(bg=>bg in Tm))throw new Error("sign() legacy options not supported");const{hash:Om,randomBytes:Hm}=pm;let{lowS:Km,prehash:Zm,extraEntropy:Vm}=Tm;Km==null&&(Km=!0),wm=(0,ip.ensureBytes)("msgHash",wm),em(Tm),Zm&&(wm=(0,ip.ensureBytes)("prehashed msgHash",Om(wm)));const zm=bm(wm),Wm=qm(xm),Ym=[$m(Wm),$m(zm)];if(Vm!=null&&Vm!==!1){const bg=Vm===!0?Hm(mm.BYTES):Vm;Ym.push((0,ip.ensureBytes)("extraEntropy",bg))}const Qm=Nf.concatBytes(...Ym),mg=zm;return{seed:Qm,k2sig:function(bg){const vg=Mm(bg);if(!Dm(vg))return;const Xm=Pm(vg),Eg=Bm.BASE.multiply(vg).toAffine(),_g=jm(Eg.x);if(_g===rm)return;const Ag=jm(Xm*jm(mg+_g*Wm));if(Ag===rm)return;let kg=(Eg.x===_g?0:2)|Number(Eg.y&om),xg=Ag;return Km&&Lm(Ag)&&(xg=function(Cg){return Lm(Cg)?jm(-Cg):Cg}(Ag),kg^=1),new dm(_g,xg,kg)}}}const lm={lowS:pm.lowS,prehash:!1},um={lowS:pm.lowS,prehash:!1};return Bm.BASE._setWindowSize(8),{CURVE:pm,getPublicKey:function(wm,xm=!0){return Bm.fromPrivateKey(wm).toRawBytes(xm)},getSharedSecret:function(wm,xm,Tm=!0){if(km(wm))throw new Error("first arg must be private key");if(!km(xm))throw new Error("second arg must be public key");return Bm.fromHex(xm).multiply(qm(wm)).toRawBytes(Tm)},sign:function(wm,xm,Tm=lm){const{seed:Om,k2sig:Hm}=Am(wm,xm,Tm),Km=pm;return Nf.createHmacDrbg(Km.hash.outputLen,Km.nByteLength,Km.hmac)(Om,Hm)},verify:function(wm,xm,Tm,Om=um){const Hm=wm;if(xm=(0,ip.ensureBytes)("msgHash",xm),Tm=(0,ip.ensureBytes)("publicKey",Tm),"strict"in Om)throw new Error("options.strict was renamed to lowS");em(Om);const{lowS:Km,prehash:Zm}=Om;let Vm,zm;try{if(typeof Hm=="string"||Nf.isBytes(Hm))try{Vm=dm.fromDER(Hm)}catch(_g){if(!(_g instanceof r.DER.Err))throw _g;Vm=dm.fromCompact(Hm)}else{if(typeof Hm!="object"||typeof Hm.r!="bigint"||typeof Hm.s!="bigint")throw new Error("PARSE");{const{r:_g,s:Ag}=Hm;Vm=new dm(_g,Ag)}}zm=Bm.fromHex(Tm)}catch(_g){if(_g.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(Km&&Vm.hasHighS())return!1;Zm&&(xm=pm.hash(xm));const{r:Wm,s:Ym}=Vm,Qm=bm(xm),mg=Pm(Ym),bg=jm(Qm*mg),vg=jm(Wm*mg),Xm=Bm.BASE.multiplyAndAddUnsafe(zm,bg,vg)?.toAffine();return Xm?jm(Xm.x)===Wm:!1},ProjectivePoint:Bm,Signature:dm,utils:gm}},r.SWUFpSqrtRatio=hm,r.mapToCurveSimpleSWU=function(fm,pm){if(sf.validateField(fm),!fm.isValid(pm.A)||!fm.isValid(pm.B)||!fm.isValid(pm.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const mm=hm(fm,pm.Z);if(!fm.isOdd)throw new Error("Fp.isOdd is not implemented!");return _m=>{let ym,Sm,jm,Pm,Bm,qm,Rm,Dm;ym=fm.sqr(_m),ym=fm.mul(ym,pm.Z),Sm=fm.sqr(ym),Sm=fm.add(Sm,ym),jm=fm.add(Sm,fm.ONE),jm=fm.mul(jm,pm.B),Pm=fm.cmov(pm.Z,fm.neg(Sm),!fm.eql(Sm,fm.ZERO)),Pm=fm.mul(Pm,pm.A),Sm=fm.sqr(jm),qm=fm.sqr(Pm),Bm=fm.mul(qm,pm.A),Sm=fm.add(Sm,Bm),Sm=fm.mul(Sm,jm),qm=fm.mul(qm,Pm),Bm=fm.mul(qm,pm.B),Sm=fm.add(Sm,Bm),Rm=fm.mul(ym,jm);const{isValid:Um,value:Lm}=mm(Sm,qm);Dm=fm.mul(ym,_m),Dm=fm.mul(Dm,Lm),Rm=fm.cmov(Rm,jm,Um),Dm=fm.cmov(Dm,Lm,Um);const Im=fm.isOdd(_m)===fm.isOdd(Dm);return Dm=fm.cmov(fm.neg(Dm),Dm,Im),Rm=fm.div(Rm,Pm),{x:Rm,y:Dm}}};const s=Pt,sf=Tt,Nf=Ot,ip=Ot;function em(fm){fm.lowS!==void 0&&(0,ip.abool)("lowS",fm.lowS),fm.prehash!==void 0&&(0,ip.abool)("prehash",fm.prehash)}const{bytesToNumberBE:tm,hexToBytes:nm}=Nf;r.DER={Err:class extends Error{constructor(fm=""){super(fm)}},_tlv:{encode:(fm,pm)=>{const{Err:mm}=r.DER;if(fm<0||fm>256)throw new mm("tlv.encode: wrong tag");if(1&pm.length)throw new mm("tlv.encode: unpadded data");const _m=pm.length/2,ym=Nf.numberToHexUnpadded(_m);if(ym.length/2&128)throw new mm("tlv.encode: long form length too big");const Sm=_m>127?Nf.numberToHexUnpadded(ym.length/2|128):"";return`${Nf.numberToHexUnpadded(fm)}${Sm}${ym}${pm}`},decode(fm,pm){const{Err:mm}=r.DER;let _m=0;if(fm<0||fm>256)throw new mm("tlv.encode: wrong tag");if(pm.length<2||pm[_m++]!==fm)throw new mm("tlv.decode: wrong tlv");const ym=pm[_m++];let Sm=0;if(128&ym){const Pm=127&ym;if(!Pm)throw new mm("tlv.decode(long): indefinite length not supported");if(Pm>4)throw new mm("tlv.decode(long): byte length is too big");const Bm=pm.subarray(_m,_m+Pm);if(Bm.length!==Pm)throw new mm("tlv.decode: length bytes not complete");if(Bm[0]===0)throw new mm("tlv.decode(long): zero leftmost byte");for(const qm of Bm)Sm=Sm<<8|qm;if(_m+=Pm,Sm<128)throw new mm("tlv.decode(long): not minimal encoding")}else Sm=ym;const jm=pm.subarray(_m,_m+Sm);if(jm.length!==Sm)throw new mm("tlv.decode: wrong value length");return{v:jm,l:pm.subarray(_m+Sm)}}},_int:{encode(fm){const{Err:pm}=r.DER;if(fm<rm)throw new pm("integer: negative integers are not allowed");let mm=Nf.numberToHexUnpadded(fm);if(8&Number.parseInt(mm[0],16)&&(mm="00"+mm),1&mm.length)throw new pm("unexpected assertion");return mm},decode(fm){const{Err:pm}=r.DER;if(128&fm[0])throw new pm("Invalid signature integer: negative");if(fm[0]===0&&!(128&fm[1]))throw new pm("Invalid signature integer: unnecessary leading zero");return tm(fm)}},toSig(fm){const{Err:pm,_int:mm,_tlv:_m}=r.DER,ym=typeof fm=="string"?nm(fm):fm;Nf.abytes(ym);const{v:Sm,l:jm}=_m.decode(48,ym);if(jm.length)throw new pm("Invalid signature: left bytes after parsing");const{v:Pm,l:Bm}=_m.decode(2,Sm),{v:qm,l:Rm}=_m.decode(2,Bm);if(Rm.length)throw new pm("Invalid signature: left bytes after parsing");return{r:mm.decode(Pm),s:mm.decode(qm)}},hexFromSig(fm){const{_tlv:pm,_int:mm}=r.DER,_m=`${pm.encode(2,mm.encode(fm.r))}${pm.encode(2,mm.encode(fm.s))}`;return pm.encode(48,_m)}};const rm=BigInt(0),om=BigInt(1),im=BigInt(2),am=BigInt(3),sm=BigInt(4);function cm(fm){const pm=function(Im){const dm=(0,s.validateBasic)(Im);Nf.validateObject(dm,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:gm,Fp:km,a:Mm}=dm;if(gm){if(!km.eql(Mm,km.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof gm!="object"||typeof gm.beta!="bigint"||typeof gm.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...dm})}(fm),{Fp:mm}=pm,_m=sf.Field(pm.n,pm.nBitLength),ym=pm.toBytes||((Im,dm,gm)=>{const km=dm.toAffine();return Nf.concatBytes(Uint8Array.from([4]),mm.toBytes(km.x),mm.toBytes(km.y))}),Sm=pm.fromBytes||(Im=>{const dm=Im.subarray(1);return{x:mm.fromBytes(dm.subarray(0,mm.BYTES)),y:mm.fromBytes(dm.subarray(mm.BYTES,2*mm.BYTES))}});function jm(Im){const{a:dm,b:gm}=pm,km=mm.sqr(Im),Mm=mm.mul(km,Im);return mm.add(mm.add(Mm,mm.mul(Im,dm)),gm)}if(!mm.eql(mm.sqr(pm.Gy),jm(pm.Gx)))throw new Error("bad generator point: equation left != right");function Pm(Im){const{allowedPrivateKeyLengths:dm,nByteLength:gm,wrapPrivateKey:km,n:Mm}=pm;if(dm&&typeof Im!="bigint"){if(Nf.isBytes(Im)&&(Im=Nf.bytesToHex(Im)),typeof Im!="string"||!dm.includes(Im.length))throw new Error("Invalid key");Im=Im.padStart(2*gm,"0")}let bm;try{bm=typeof Im=="bigint"?Im:Nf.bytesToNumberBE((0,ip.ensureBytes)("private key",Im,gm))}catch{throw new Error(`private key must be ${gm} bytes, hex or bigint, not ${typeof Im}`)}return km&&(bm=sf.mod(bm,Mm)),Nf.aInRange("private key",bm,om,Mm),bm}function Bm(Im){if(!(Im instanceof Dm))throw new Error("ProjectivePoint expected")}const qm=(0,ip.memoized)((Im,dm)=>{const{px:gm,py:km,pz:Mm}=Im;if(mm.eql(Mm,mm.ONE))return{x:gm,y:km};const bm=Im.is0();dm==null&&(dm=bm?mm.ONE:mm.inv(Mm));const Em=mm.mul(gm,dm),$m=mm.mul(km,dm),Am=mm.mul(Mm,dm);if(bm)return{x:mm.ZERO,y:mm.ZERO};if(!mm.eql(Am,mm.ONE))throw new Error("invZ was invalid");return{x:Em,y:$m}}),Rm=(0,ip.memoized)(Im=>{if(Im.is0()){if(pm.allowInfinityPoint&&!mm.is0(Im.py))return;throw new Error("bad point: ZERO")}const{x:dm,y:gm}=Im.toAffine();if(!mm.isValid(dm)||!mm.isValid(gm))throw new Error("bad point: x or y not FE");const km=mm.sqr(gm),Mm=jm(dm);if(!mm.eql(km,Mm))throw new Error("bad point: equation left != right");if(!Im.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class Dm{constructor(dm,gm,km){if(this.px=dm,this.py=gm,this.pz=km,dm==null||!mm.isValid(dm))throw new Error("x required");if(gm==null||!mm.isValid(gm))throw new Error("y required");if(km==null||!mm.isValid(km))throw new Error("z required");Object.freeze(this)}static fromAffine(dm){const{x:gm,y:km}=dm||{};if(!dm||!mm.isValid(gm)||!mm.isValid(km))throw new Error("invalid affine point");if(dm instanceof Dm)throw new Error("projective point not allowed");const Mm=bm=>mm.eql(bm,mm.ZERO);return Mm(gm)&&Mm(km)?Dm.ZERO:new Dm(gm,km,mm.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(dm){const gm=mm.invertBatch(dm.map(km=>km.pz));return dm.map((km,Mm)=>km.toAffine(gm[Mm])).map(Dm.fromAffine)}static fromHex(dm){const gm=Dm.fromAffine(Sm((0,ip.ensureBytes)("pointHex",dm)));return gm.assertValidity(),gm}static fromPrivateKey(dm){return Dm.BASE.multiply(Pm(dm))}static msm(dm,gm){return(0,s.pippenger)(Dm,_m,dm,gm)}_setWindowSize(dm){Lm.setWindowSize(this,dm)}assertValidity(){Rm(this)}hasEvenY(){const{y:dm}=this.toAffine();if(mm.isOdd)return!mm.isOdd(dm);throw new Error("Field doesn't support isOdd")}equals(dm){Bm(dm);const{px:gm,py:km,pz:Mm}=this,{px:bm,py:Em,pz:$m}=dm,Am=mm.eql(mm.mul(gm,$m),mm.mul(bm,Mm)),lm=mm.eql(mm.mul(km,$m),mm.mul(Em,Mm));return Am&&lm}negate(){return new Dm(this.px,mm.neg(this.py),this.pz)}double(){const{a:dm,b:gm}=pm,km=mm.mul(gm,am),{px:Mm,py:bm,pz:Em}=this;let $m=mm.ZERO,Am=mm.ZERO,lm=mm.ZERO,um=mm.mul(Mm,Mm),wm=mm.mul(bm,bm),xm=mm.mul(Em,Em),Tm=mm.mul(Mm,bm);return Tm=mm.add(Tm,Tm),lm=mm.mul(Mm,Em),lm=mm.add(lm,lm),$m=mm.mul(dm,lm),Am=mm.mul(km,xm),Am=mm.add($m,Am),$m=mm.sub(wm,Am),Am=mm.add(wm,Am),Am=mm.mul($m,Am),$m=mm.mul(Tm,$m),lm=mm.mul(km,lm),xm=mm.mul(dm,xm),Tm=mm.sub(um,xm),Tm=mm.mul(dm,Tm),Tm=mm.add(Tm,lm),lm=mm.add(um,um),um=mm.add(lm,um),um=mm.add(um,xm),um=mm.mul(um,Tm),Am=mm.add(Am,um),xm=mm.mul(bm,Em),xm=mm.add(xm,xm),um=mm.mul(xm,Tm),$m=mm.sub($m,um),lm=mm.mul(xm,wm),lm=mm.add(lm,lm),lm=mm.add(lm,lm),new Dm($m,Am,lm)}add(dm){Bm(dm);const{px:gm,py:km,pz:Mm}=this,{px:bm,py:Em,pz:$m}=dm;let Am=mm.ZERO,lm=mm.ZERO,um=mm.ZERO;const wm=pm.a,xm=mm.mul(pm.b,am);let Tm=mm.mul(gm,bm),Om=mm.mul(km,Em),Hm=mm.mul(Mm,$m),Km=mm.add(gm,km),Zm=mm.add(bm,Em);Km=mm.mul(Km,Zm),Zm=mm.add(Tm,Om),Km=mm.sub(Km,Zm),Zm=mm.add(gm,Mm);let Vm=mm.add(bm,$m);return Zm=mm.mul(Zm,Vm),Vm=mm.add(Tm,Hm),Zm=mm.sub(Zm,Vm),Vm=mm.add(km,Mm),Am=mm.add(Em,$m),Vm=mm.mul(Vm,Am),Am=mm.add(Om,Hm),Vm=mm.sub(Vm,Am),um=mm.mul(wm,Zm),Am=mm.mul(xm,Hm),um=mm.add(Am,um),Am=mm.sub(Om,um),um=mm.add(Om,um),lm=mm.mul(Am,um),Om=mm.add(Tm,Tm),Om=mm.add(Om,Tm),Hm=mm.mul(wm,Hm),Zm=mm.mul(xm,Zm),Om=mm.add(Om,Hm),Hm=mm.sub(Tm,Hm),Hm=mm.mul(wm,Hm),Zm=mm.add(Zm,Hm),Tm=mm.mul(Om,Zm),lm=mm.add(lm,Tm),Tm=mm.mul(Vm,Zm),Am=mm.mul(Km,Am),Am=mm.sub(Am,Tm),Tm=mm.mul(Km,Om),um=mm.mul(Vm,um),um=mm.add(um,Tm),new Dm(Am,lm,um)}subtract(dm){return this.add(dm.negate())}is0(){return this.equals(Dm.ZERO)}wNAF(dm){return Lm.wNAFCached(this,dm,Dm.normalizeZ)}multiplyUnsafe(dm){Nf.aInRange("scalar",dm,rm,pm.n);const gm=Dm.ZERO;if(dm===rm)return gm;if(dm===om)return this;const{endo:km}=pm;if(!km)return Lm.unsafeLadder(this,dm);let{k1neg:Mm,k1:bm,k2neg:Em,k2:$m}=km.splitScalar(dm),Am=gm,lm=gm,um=this;for(;bm>rm||$m>rm;)bm&om&&(Am=Am.add(um)),$m&om&&(lm=lm.add(um)),um=um.double(),bm>>=om,$m>>=om;return Mm&&(Am=Am.negate()),Em&&(lm=lm.negate()),lm=new Dm(mm.mul(lm.px,km.beta),lm.py,lm.pz),Am.add(lm)}multiply(dm){const{endo:gm,n:km}=pm;let Mm,bm;if(Nf.aInRange("scalar",dm,om,km),gm){const{k1neg:Em,k1:$m,k2neg:Am,k2:lm}=gm.splitScalar(dm);let{p:um,f:wm}=this.wNAF($m),{p:xm,f:Tm}=this.wNAF(lm);um=Lm.constTimeNegate(Em,um),xm=Lm.constTimeNegate(Am,xm),xm=new Dm(mm.mul(xm.px,gm.beta),xm.py,xm.pz),Mm=um.add(xm),bm=wm.add(Tm)}else{const{p:Em,f:$m}=this.wNAF(dm);Mm=Em,bm=$m}return Dm.normalizeZ([Mm,bm])[0]}multiplyAndAddUnsafe(dm,gm,km){const Mm=Dm.BASE,bm=($m,Am)=>Am!==rm&&Am!==om&&$m.equals(Mm)?$m.multiply(Am):$m.multiplyUnsafe(Am),Em=bm(this,gm).add(bm(dm,km));return Em.is0()?void 0:Em}toAffine(dm){return qm(this,dm)}isTorsionFree(){const{h:dm,isTorsionFree:gm}=pm;if(dm===om)return!0;if(gm)return gm(Dm,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:dm,clearCofactor:gm}=pm;return dm===om?this:gm?gm(Dm,this):this.multiplyUnsafe(pm.h)}toRawBytes(dm=!0){return(0,ip.abool)("isCompressed",dm),this.assertValidity(),ym(Dm,this,dm)}toHex(dm=!0){return(0,ip.abool)("isCompressed",dm),Nf.bytesToHex(this.toRawBytes(dm))}}Dm.BASE=new Dm(pm.Gx,pm.Gy,mm.ONE),Dm.ZERO=new Dm(mm.ZERO,mm.ONE,mm.ZERO);const Um=pm.nBitLength,Lm=(0,s.wNAF)(Dm,pm.endo?Math.ceil(Um/2):Um);return{CURVE:pm,ProjectivePoint:Dm,normPrivateKeyToScalar:Pm,weierstrassEquation:jm,isWithinCurveOrder:function(Im){return Nf.inRange(Im,om,pm.n)}}}function hm(fm,pm){const mm=fm.ORDER;let _m=rm;for(let Im=mm-om;Im%im===rm;Im/=im)_m+=om;const ym=_m,Sm=im<<ym-om-om,jm=Sm*im,Pm=(mm-om)/jm,Bm=(Pm-om)/im,qm=jm-om,Rm=Sm,Dm=fm.pow(pm,Pm),Um=fm.pow(pm,(Pm+om)/im);let Lm=(Im,dm)=>{let gm=Dm,km=fm.pow(dm,qm),Mm=fm.sqr(km);Mm=fm.mul(Mm,dm);let bm=fm.mul(Im,Mm);bm=fm.pow(bm,Bm),bm=fm.mul(bm,km),km=fm.mul(bm,dm),Mm=fm.mul(bm,Im);let Em=fm.mul(Mm,km);bm=fm.pow(Em,Rm);let $m=fm.eql(bm,fm.ONE);km=fm.mul(Mm,Um),bm=fm.mul(Em,gm),Mm=fm.cmov(km,Mm,$m),Em=fm.cmov(bm,Em,$m);for(let Am=ym;Am>om;Am--){let lm=Am-im;lm=im<<lm-om;let um=fm.pow(Em,lm);const wm=fm.eql(um,fm.ONE);km=fm.mul(Mm,gm),gm=fm.mul(gm,gm),um=fm.mul(Em,gm),Mm=fm.cmov(km,Mm,wm),Em=fm.cmov(um,Em,wm)}return{isValid:$m,value:Mm}};if(fm.ORDER%sm===am){const Im=(fm.ORDER-am)/sm,dm=fm.sqrt(fm.neg(pm));Lm=(gm,km)=>{let Mm=fm.sqr(km);const bm=fm.mul(gm,km);Mm=fm.mul(Mm,bm);let Em=fm.pow(Mm,Im);Em=fm.mul(Em,bm);const $m=fm.mul(Em,dm),Am=fm.mul(fm.sqr(Em),km),lm=fm.eql(Am,gm);return{isValid:lm,value:fm.cmov($m,Em,lm)}}}return Lm}})(ar),Object.defineProperty(or,"__esModule",{value:!0}),or.getHash=ur,or.createCurve=function(r,s){const sf=Nf=>(0,dr.weierstrass)({...r,...ur(Nf)});return Object.freeze({...sf(s),create:sf})};const cr=sr,lr=Fe,dr=ar;function ur(r){return{hash:r,hmac:(s,...sf)=>(0,cr.hmac)(r,s,(0,lr.concatBytes)(...sf)),randomBytes:lr.randomBytes}}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.encodeToCurve=r.hashToCurve=r.schnorr=r.secp256k1=void 0;const s=Jn,sf=Fe,Nf=or,ip=Nn,em=Tt,tm=Ot,nm=ar,rm=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),om=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),im=BigInt(1),am=BigInt(2),sm=(bm,Em)=>(bm+Em/am)/Em;function cm(bm){const Em=rm,$m=BigInt(3),Am=BigInt(6),lm=BigInt(11),um=BigInt(22),wm=BigInt(23),xm=BigInt(44),Tm=BigInt(88),Om=bm*bm*bm%Em,Hm=Om*Om*bm%Em,Km=(0,em.pow2)(Hm,$m,Em)*Hm%Em,Zm=(0,em.pow2)(Km,$m,Em)*Hm%Em,Vm=(0,em.pow2)(Zm,am,Em)*Om%Em,zm=(0,em.pow2)(Vm,lm,Em)*Vm%Em,Wm=(0,em.pow2)(zm,um,Em)*zm%Em,Ym=(0,em.pow2)(Wm,xm,Em)*Wm%Em,Qm=(0,em.pow2)(Ym,Tm,Em)*Ym%Em,mg=(0,em.pow2)(Qm,xm,Em)*Wm%Em,bg=(0,em.pow2)(mg,$m,Em)*Hm%Em,vg=(0,em.pow2)(bg,wm,Em)*zm%Em,Xm=(0,em.pow2)(vg,Am,Em)*Om%Em,Eg=(0,em.pow2)(Xm,am,Em);if(!hm.eql(hm.sqr(Eg),bm))throw new Error("Cannot find square root");return Eg}const hm=(0,em.Field)(rm,void 0,void 0,{sqrt:cm});r.secp256k1=(0,Nf.createCurve)({a:BigInt(0),b:BigInt(7),Fp:hm,n:om,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:bm=>{const Em=om,$m=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),Am=-im*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),lm=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),um=$m,wm=BigInt("0x100000000000000000000000000000000"),xm=sm(um*bm,Em),Tm=sm(-Am*bm,Em);let Om=(0,em.mod)(bm-xm*$m-Tm*lm,Em),Hm=(0,em.mod)(-xm*Am-Tm*um,Em);const Km=Om>wm,Zm=Hm>wm;if(Km&&(Om=Em-Om),Zm&&(Hm=Em-Hm),Om>wm||Hm>wm)throw new Error("splitScalar: Endomorphism failed, k="+bm);return{k1neg:Km,k1:Om,k2neg:Zm,k2:Hm}}}},s.sha256);const fm=BigInt(0),pm={};function mm(bm,...Em){let $m=pm[bm];if($m===void 0){const Am=(0,s.sha256)(Uint8Array.from(bm,lm=>lm.charCodeAt(0)));$m=(0,tm.concatBytes)(Am,Am),pm[bm]=$m}return(0,s.sha256)((0,tm.concatBytes)($m,...Em))}const _m=bm=>bm.toRawBytes(!0).slice(1),ym=bm=>(0,tm.numberToBytesBE)(bm,32),Sm=bm=>(0,em.mod)(bm,rm),jm=bm=>(0,em.mod)(bm,om),Pm=r.secp256k1.ProjectivePoint,Bm=(bm,Em,$m)=>Pm.BASE.multiplyAndAddUnsafe(bm,Em,$m);function qm(bm){let Em=r.secp256k1.utils.normPrivateKeyToScalar(bm),$m=Pm.fromPrivateKey(Em);return{scalar:$m.hasEvenY()?Em:jm(-Em),bytes:_m($m)}}function Rm(bm){(0,tm.aInRange)("x",bm,im,rm);const Em=Sm(bm*bm);let $m=cm(Sm(Em*bm+BigInt(7)));$m%am!==fm&&($m=Sm(-$m));const Am=new Pm(bm,$m,im);return Am.assertValidity(),Am}const Dm=tm.bytesToNumberBE;function Um(...bm){return jm(Dm(mm("BIP0340/challenge",...bm)))}function Lm(bm){return qm(bm).bytes}function Im(bm,Em,$m=(0,sf.randomBytes)(32)){const Am=(0,tm.ensureBytes)("message",bm),{bytes:lm,scalar:um}=qm(Em),wm=(0,tm.ensureBytes)("auxRand",$m,32),xm=ym(um^Dm(mm("BIP0340/aux",wm))),Tm=mm("BIP0340/nonce",xm,lm,Am),Om=jm(Dm(Tm));if(Om===fm)throw new Error("sign failed: k is zero");const{bytes:Hm,scalar:Km}=qm(Om),Zm=Um(Hm,lm,Am),Vm=new Uint8Array(64);if(Vm.set(Hm,0),Vm.set(ym(jm(Km+Zm*um)),32),!dm(Vm,Am,lm))throw new Error("sign: Invalid signature produced");return Vm}function dm(bm,Em,$m){const Am=(0,tm.ensureBytes)("signature",bm,64),lm=(0,tm.ensureBytes)("message",Em),um=(0,tm.ensureBytes)("publicKey",$m,32);try{const wm=Rm(Dm(um)),xm=Dm(Am.subarray(0,32));if(!(0,tm.inRange)(xm,im,rm))return!1;const Tm=Dm(Am.subarray(32,64));if(!(0,tm.inRange)(Tm,im,om))return!1;const Om=Um(ym(xm),_m(wm),lm),Hm=Bm(wm,Tm,jm(-Om));return!(!Hm||!Hm.hasEvenY()||Hm.toAffine().x!==xm)}catch{return!1}}r.schnorr={getPublicKey:Lm,sign:Im,verify:dm,utils:{randomPrivateKey:r.secp256k1.utils.randomPrivateKey,lift_x:Rm,pointToBytes:_m,numberToBytesBE:tm.numberToBytesBE,bytesToNumberBE:tm.bytesToNumberBE,taggedHash:mm,mod:em.mod}};const gm=(0,ip.isogenyMap)(hm,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(bm=>bm.map(Em=>BigInt(Em)))),km=(0,nm.mapToCurveSimpleSWU)(hm,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:hm.create(BigInt("-11"))}),Mm=(0,ip.createHasher)(r.secp256k1.ProjectivePoint,bm=>{const{x:Em,y:$m}=km(hm.create(bm[0]));return gm(Em,$m)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:hm.ORDER,m:1,k:128,expand:"xmd",hash:s.sha256});r.hashToCurve=Mm.hashToCurve,r.encodeToCurve=Mm.encodeToCurve})(Zn);var hr={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.decodeHex=r.remove0x=void 0;var s=fe;r.remove0x=function(sf){return sf.startsWith("0x")||sf.startsWith("0X")?sf.slice(2):sf},r.decodeHex=function(sf){return(0,s.hexToBytes)((0,r.remove0x)(sf))}})(hr),function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.hexToPublicKey=r.convertPublicKeyFormat=r.getSharedPoint=r.getPublicKey=r.isValidPrivateKey=r.getValidSecret=void 0;var s=Ie,sf=Pe,Nf=Zn,ip=_e,em=Ce,tm=hr;r.getValidSecret=function(){var im;do im=(0,s.randomBytes)(em.SECRET_KEY_LENGTH);while(!(0,r.isValidPrivateKey)(im));return im},r.isValidPrivateKey=function(im){return nm((0,ip.ellipticCurve)(),function(am){return am.utils.isValidPrivateKey(im)},function(){return!0},function(){return!0})},r.getPublicKey=function(im){return nm((0,ip.ellipticCurve)(),function(am){return am.getPublicKey(im)},function(am){return am.getPublicKey(im)},function(am){return am.getPublicKey(im)})},r.getSharedPoint=function(im,am,sm){return nm((0,ip.ellipticCurve)(),function(cm){return cm.getSharedSecret(im,am,sm)},function(cm){return cm.getSharedSecret(im,am)},function(cm){return om(cm,im,am)})},r.convertPublicKeyFormat=function(im,am){return nm((0,ip.ellipticCurve)(),function(sm){return sm.getSharedSecret(BigInt(1),im,am)},function(){return im},function(){return im})};function nm(im,am,sm,cm){if(im==="secp256k1")return am(Nf.secp256k1);if(im==="x25519")return sm(sf.x25519);if(im==="ed25519")return cm(sf.ed25519);throw new Error("Not implemented")}r.hexToPublicKey=function(im){var am=(0,tm.decodeHex)(im);return nm((0,ip.ellipticCurve)(),function(){return rm(am)},function(){return am},function(){return am})};var rm=function(im){if(im.length===em.ETH_PUBLIC_KEY_SIZE){var am=new Uint8Array(1+im.length);return am.set([4]),am.set(im,1),am}return im},om=function(im,am,sm){var cm=im.utils.getExtendedPublicKey(am).scalar;return im.ExtendedPoint.fromHex(sm).multiply(cm).toRawBytes()}}(Ae);var fr={},pr={};Object.defineProperty(pr,"__esModule",{value:!0}),pr.hkdf=void 0,pr.extract=vr,pr.expand=Er;const gr=Le,mr=Fe,yr=sr;function vr(r,s,sf){return(0,gr.hash)(r),sf===void 0&&(sf=new Uint8Array(r.outputLen)),(0,yr.hmac)(r,(0,mr.toBytes)(sf),(0,mr.toBytes)(s))}const br=new Uint8Array([0]),wr=new Uint8Array;function Er(r,s,sf,Nf=32){if((0,gr.hash)(r),(0,gr.number)(Nf),Nf>255*r.outputLen)throw new Error("Length should be <= 255*HashLen");const ip=Math.ceil(Nf/r.outputLen);sf===void 0&&(sf=wr);const em=new Uint8Array(ip*r.outputLen),tm=yr.hmac.create(r,s),nm=tm._cloneInto(),rm=new Uint8Array(tm.outputLen);for(let om=0;om<ip;om++)br[0]=om+1,nm.update(om===0?wr:rm).update(sf).update(br).digestInto(rm),em.set(rm,r.outputLen*om),tm._cloneInto(nm);return tm.destroy(),nm.destroy(),rm.fill(0),br.fill(0),em.slice(0,Nf)}pr.hkdf=(r,s,sf,Nf,ip)=>Er(r,vr(r,s,sf),Nf,ip),function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.getSharedKey=r.deriveKey=void 0;var s=fe,sf=pr,Nf=Jn;r.deriveKey=function(ip,em,tm){return(0,sf.hkdf)(Nf.sha256,ip,em,tm,32)},r.getSharedKey=function(){for(var ip=[],em=0;em<arguments.length;em++)ip[em]=arguments[em];return(0,r.deriveKey)(s.concatBytes.apply(void 0,ip))}}(fr);var Sr={},_r={},Cr={},kr={};Object.defineProperty(kr,"__esModule",{value:!0}),kr.polyval=kr.ghash=void 0,kr._toGHASHKey=Tr;const xr=pe,Mr=fe,Ar=16,Ir=new Uint8Array(16),Rr=(0,Mr.u32)(Ir),Pr=r=>(r>>>0&255)<<24|(r>>>8&255)<<16|(r>>>16&255)<<8|r>>>24&255|0;function Tr(r){r.reverse();const s=1&r[15];let sf=0;for(let Nf=0;Nf<r.length;Nf++){const ip=r[Nf];r[Nf]=ip>>>1|sf,sf=(1&ip)<<7}return r[0]^=225&-s,r}class Or{constructor(s,sf){this.blockLen=Ar,this.outputLen=Ar,this.s0=0,this.s1=0,this.s2=0,this.s3=0,this.finished=!1,s=(0,Mr.toBytes)(s),(0,xr.bytes)(s,16);const Nf=(0,Mr.createView)(s);let ip=Nf.getUint32(0,!1),em=Nf.getUint32(4,!1),tm=Nf.getUint32(8,!1),nm=Nf.getUint32(12,!1);const rm=[];for(let mm=0;mm<128;mm++)rm.push({s0:Pr(ip),s1:Pr(em),s2:Pr(tm),s3:Pr(nm)}),{s0:ip,s1:em,s2:tm,s3:nm}={s3:(am=tm)<<31|(sm=nm)>>>1,s2:(im=em)<<31|am>>>1,s1:(om=ip)<<31|im>>>1,s0:om>>>1^225<<24&-(1&sm)};var om,im,am,sm;const cm=(mm=>mm>65536?8:mm>1024?4:2)(sf||1024);if(![1,2,4,8].includes(cm))throw new Error(`ghash: wrong window size=${cm}, should be 2, 4 or 8`);this.W=cm;const hm=128/cm,fm=this.windowSize=2**cm,pm=[];for(let mm=0;mm<hm;mm++)for(let _m=0;_m<fm;_m++){let ym=0,Sm=0,jm=0,Pm=0;for(let Bm=0;Bm<cm;Bm++){if(!(_m>>>cm-Bm-1&1))continue;const{s0:qm,s1:Rm,s2:Dm,s3:Um}=rm[cm*mm+Bm];ym^=qm,Sm^=Rm,jm^=Dm,Pm^=Um}pm.push({s0:ym,s1:Sm,s2:jm,s3:Pm})}this.t=pm}_updateBlock(s,sf,Nf,ip){s^=this.s0,sf^=this.s1,Nf^=this.s2,ip^=this.s3;const{W:em,t:tm,windowSize:nm}=this;let rm=0,om=0,im=0,am=0;const sm=(1<<em)-1;let cm=0;for(const hm of[s,sf,Nf,ip])for(let fm=0;fm<4;fm++){const pm=hm>>>8*fm&255;for(let mm=8/em-1;mm>=0;mm--){const _m=pm>>>em*mm&sm,{s0:ym,s1:Sm,s2:jm,s3:Pm}=tm[cm*nm+_m];rm^=ym,om^=Sm,im^=jm,am^=Pm,cm+=1}}this.s0=rm,this.s1=om,this.s2=im,this.s3=am}update(s){s=(0,Mr.toBytes)(s),(0,xr.exists)(this);const sf=(0,Mr.u32)(s),Nf=Math.floor(s.length/Ar),ip=s.length%Ar;for(let em=0;em<Nf;em++)this._updateBlock(sf[4*em+0],sf[4*em+1],sf[4*em+2],sf[4*em+3]);return ip&&(Ir.set(s.subarray(Nf*Ar)),this._updateBlock(Rr[0],Rr[1],Rr[2],Rr[3]),(0,Mr.clean)(Rr)),this}destroy(){const{t:s}=this;for(const sf of s)sf.s0=0,sf.s1=0,sf.s2=0,sf.s3=0}digestInto(s){(0,xr.exists)(this),(0,xr.output)(s,this),this.finished=!0;const{s0:sf,s1:Nf,s2:ip,s3:em}=this,tm=(0,Mr.u32)(s);return tm[0]=sf,tm[1]=Nf,tm[2]=ip,tm[3]=em,s}digest(){const s=new Uint8Array(Ar);return this.digestInto(s),this.destroy(),s}}class Lr extends Or{constructor(s,sf){s=(0,Mr.toBytes)(s);const Nf=Tr((0,Mr.copyBytes)(s));super(Nf,sf),(0,Mr.clean)(Nf)}update(s){s=(0,Mr.toBytes)(s),(0,xr.exists)(this);const sf=(0,Mr.u32)(s),Nf=s.length%Ar,ip=Math.floor(s.length/Ar);for(let em=0;em<ip;em++)this._updateBlock(Pr(sf[4*em+3]),Pr(sf[4*em+2]),Pr(sf[4*em+1]),Pr(sf[4*em+0]));return Nf&&(Ir.set(s.subarray(ip*Ar)),this._updateBlock(Pr(Rr[3]),Pr(Rr[2]),Pr(Rr[1]),Pr(Rr[0])),(0,Mr.clean)(Rr)),this}digestInto(s){(0,xr.exists)(this),(0,xr.output)(s,this),this.finished=!0;const{s0:sf,s1:Nf,s2:ip,s3:em}=this,tm=(0,Mr.u32)(s);return tm[0]=sf,tm[1]=Nf,tm[2]=ip,tm[3]=em,s.reverse()}}function Nr(r){const s=(Nf,ip)=>r(ip,Nf.length).update((0,Mr.toBytes)(Nf)).digest(),sf=r(new Uint8Array(16),0);return s.outputLen=sf.outputLen,s.blockLen=sf.blockLen,s.create=(Nf,ip)=>r(Nf,ip),s}kr.ghash=Nr((r,s)=>new Or(r,s)),kr.polyval=Nr((r,s)=>new Lr(r,s)),Object.defineProperty(Cr,"__esModule",{value:!0}),Cr.unsafe=Cr.aeskwp=Cr.aeskw=Cr.siv=Cr.gcm=Cr.cfb=Cr.cbc=Cr.ecb=Cr.ctr=void 0,Cr.expandKeyLE=Qr,Cr.expandKeyDecLE=ei;const $r=pe,Dr=kr,Br=fe,Kr=16,jr=new Uint8Array(Kr),Ur=283;function Hr(r){return r<<1^Ur&-(r>>7)}function Fr(r,s){let sf=0;for(;s>0;s>>=1)sf^=r&-(1&s),r=Hr(r);return sf}const zr=(()=>{const r=new Uint8Array(256);for(let sf=0,Nf=1;sf<256;sf++,Nf^=Hr(Nf))r[sf]=Nf;const s=new Uint8Array(256);s[0]=99;for(let sf=0;sf<255;sf++){let Nf=r[255-sf];Nf|=Nf<<8,s[r[sf]]=255&(Nf^Nf>>4^Nf>>5^Nf>>6^Nf>>7^99)}return(0,Br.clean)(r),s})(),qr=zr.map((r,s)=>zr.indexOf(s)),Wr=r=>r<<24|r>>>8,Vr=r=>r<<8|r>>>24,Gr=r=>r<<24&0xff000000|r<<8&0xff0000|r>>>8&65280|r>>>24&255;function Yr(r,s){if(r.length!==256)throw new Error("Wrong sbox length");const sf=new Uint32Array(256).map((om,im)=>s(r[im])),Nf=sf.map(Vr),ip=Nf.map(Vr),em=ip.map(Vr),tm=new Uint32Array(65536),nm=new Uint32Array(65536),rm=new Uint16Array(65536);for(let om=0;om<256;om++)for(let im=0;im<256;im++){const am=256*om+im;tm[am]=sf[om]^Nf[im],nm[am]=ip[om]^em[im],rm[am]=r[om]<<8|r[im]}return{sbox:r,sbox2:rm,T0:sf,T1:Nf,T2:ip,T3:em,T01:tm,T23:nm}}const Zr=Yr(zr,r=>Fr(r,3)<<24|r<<16|r<<8|Fr(r,2)),Jr=Yr(qr,r=>Fr(r,11)<<24|Fr(r,13)<<16|Fr(r,9)<<8|Fr(r,14)),Xr=(()=>{const r=new Uint8Array(16);for(let s=0,sf=1;s<16;s++,sf=Hr(sf))r[s]=sf;return r})();function Qr(r){(0,$r.bytes)(r);const s=r.length;if(![16,24,32].includes(s))throw new Error(`aes: wrong key size: should be 16, 24 or 32, got: ${s}`);const{sbox2:sf}=Zr,Nf=[];(0,Br.isAligned32)(r)||Nf.push(r=(0,Br.copyBytes)(r));const ip=(0,Br.u32)(r),em=ip.length,tm=rm=>ni(sf,rm,rm,rm,rm),nm=new Uint32Array(s+28);nm.set(ip);for(let rm=em;rm<nm.length;rm++){let om=nm[rm-1];rm%em==0?om=tm(Wr(om))^Xr[rm/em-1]:em>6&&rm%em==4&&(om=tm(om)),nm[rm]=nm[rm-em]^om}return(0,Br.clean)(...Nf),nm}function ei(r){const s=Qr(r),sf=s.slice(),Nf=s.length,{sbox2:ip}=Zr,{T0:em,T1:tm,T2:nm,T3:rm}=Jr;for(let om=0;om<Nf;om+=4)for(let im=0;im<4;im++)sf[om+im]=s[Nf-om-4+im];(0,Br.clean)(s);for(let om=4;om<Nf-4;om++){const im=sf[om],am=ni(ip,im,im,im,im);sf[om]=em[255&am]^tm[am>>>8&255]^nm[am>>>16&255]^rm[am>>>24]}return sf}function ti(r,s,sf,Nf,ip,em){return r[sf<<8&65280|Nf>>>8&255]^s[ip>>>8&65280|em>>>24&255]}function ni(r,s,sf,Nf,ip){return r[255&s|65280&sf]|r[Nf>>>16&255|ip>>>16&65280]<<16}function ri(r,s,sf,Nf,ip){const{sbox2:em,T01:tm,T23:nm}=Zr;let rm=0;s^=r[rm++],sf^=r[rm++],Nf^=r[rm++],ip^=r[rm++];const om=r.length/4-2;for(let im=0;im<om;im++){const am=r[rm++]^ti(tm,nm,s,sf,Nf,ip),sm=r[rm++]^ti(tm,nm,sf,Nf,ip,s),cm=r[rm++]^ti(tm,nm,Nf,ip,s,sf),hm=r[rm++]^ti(tm,nm,ip,s,sf,Nf);s=am,sf=sm,Nf=cm,ip=hm}return{s0:r[rm++]^ni(em,s,sf,Nf,ip),s1:r[rm++]^ni(em,sf,Nf,ip,s),s2:r[rm++]^ni(em,Nf,ip,s,sf),s3:r[rm++]^ni(em,ip,s,sf,Nf)}}function ii(r,s,sf,Nf,ip){const{sbox2:em,T01:tm,T23:nm}=Jr;let rm=0;s^=r[rm++],sf^=r[rm++],Nf^=r[rm++],ip^=r[rm++];const om=r.length/4-2;for(let im=0;im<om;im++){const am=r[rm++]^ti(tm,nm,s,ip,Nf,sf),sm=r[rm++]^ti(tm,nm,sf,s,ip,Nf),cm=r[rm++]^ti(tm,nm,Nf,sf,s,ip),hm=r[rm++]^ti(tm,nm,ip,Nf,sf,s);s=am,sf=sm,Nf=cm,ip=hm}return{s0:r[rm++]^ni(em,s,ip,Nf,sf),s1:r[rm++]^ni(em,sf,s,ip,Nf),s2:r[rm++]^ni(em,Nf,sf,s,ip),s3:r[rm++]^ni(em,ip,Nf,sf,s)}}function oi(r,s){if(s===void 0)return new Uint8Array(r);if((0,$r.bytes)(s),s.length<r)throw new Error(`aes: wrong destination length, expected at least ${r}, got: ${s.length}`);if(!(0,Br.isAligned32)(s))throw new Error("unaligned dst");return s}function si(r,s,sf,Nf){(0,$r.bytes)(s,Kr),(0,$r.bytes)(sf);const ip=sf.length;Nf=oi(ip,Nf);const em=s,tm=(0,Br.u32)(em);let{s0:nm,s1:rm,s2:om,s3:im}=ri(r,tm[0],tm[1],tm[2],tm[3]);const am=(0,Br.u32)(sf),sm=(0,Br.u32)(Nf);for(let hm=0;hm+4<=am.length;hm+=4){sm[hm+0]=am[hm+0]^nm,sm[hm+1]=am[hm+1]^rm,sm[hm+2]=am[hm+2]^om,sm[hm+3]=am[hm+3]^im;let fm=1;for(let pm=em.length-1;pm>=0;pm--)fm=fm+(255&em[pm])|0,em[pm]=255&fm,fm>>>=8;({s0:nm,s1:rm,s2:om,s3:im}=ri(r,tm[0],tm[1],tm[2],tm[3]))}const cm=Kr*Math.floor(am.length/4);if(cm<ip){const hm=new Uint32Array([nm,rm,om,im]),fm=(0,Br.u8)(hm);for(let pm=cm,mm=0;pm<ip;pm++,mm++)Nf[pm]=sf[pm]^fm[mm];(0,Br.clean)(hm)}return Nf}function ai(r,s,sf,Nf,ip){(0,$r.bytes)(sf,Kr),(0,$r.bytes)(Nf),ip=oi(Nf.length,ip);const em=sf,tm=(0,Br.u32)(em),nm=(0,Br.createView)(em),rm=(0,Br.u32)(Nf),om=(0,Br.u32)(ip),im=s?0:12,am=Nf.length;let sm=nm.getUint32(im,s),{s0:cm,s1:hm,s2:fm,s3:pm}=ri(r,tm[0],tm[1],tm[2],tm[3]);for(let _m=0;_m+4<=rm.length;_m+=4)om[_m+0]=rm[_m+0]^cm,om[_m+1]=rm[_m+1]^hm,om[_m+2]=rm[_m+2]^fm,om[_m+3]=rm[_m+3]^pm,sm=sm+1>>>0,nm.setUint32(im,sm,s),{s0:cm,s1:hm,s2:fm,s3:pm}=ri(r,tm[0],tm[1],tm[2],tm[3]);const mm=Kr*Math.floor(rm.length/4);if(mm<am){const _m=new Uint32Array([cm,hm,fm,pm]),ym=(0,Br.u8)(_m);for(let Sm=mm,jm=0;Sm<am;Sm++,jm++)ip[Sm]=Nf[Sm]^ym[jm];(0,Br.clean)(_m)}return ip}function ci(r){if((0,$r.bytes)(r),r.length%Kr!=0)throw new Error("aes/(cbc-ecb).decrypt ciphertext should consist of blocks with size 16")}function li(r,s,sf){(0,$r.bytes)(r);let Nf=r.length;const ip=Nf%Kr;if(!s&&ip!==0)throw new Error("aec/(cbc-ecb): unpadded plaintext with disabled padding");(0,Br.isAligned32)(r)||(r=(0,Br.copyBytes)(r));const em=(0,Br.u32)(r);if(s){let nm=Kr-ip;nm||(nm=Kr),Nf+=nm}const tm=oi(Nf,sf);return{b:em,o:(0,Br.u32)(tm),out:tm}}function di(r,s){if(!s)return r;const sf=r.length;if(!sf)throw new Error("aes/pcks5: empty ciphertext not allowed");const Nf=r[sf-1];if(Nf<=0||Nf>16)throw new Error("aes/pcks5: wrong padding");const ip=r.subarray(0,-Nf);for(let em=0;em<Nf;em++)if(r[sf-em-1]!==Nf)throw new Error("aes/pcks5: wrong padding");return ip}function ui(r){const s=new Uint8Array(16),sf=(0,Br.u32)(s);s.set(r);const Nf=Kr-r.length;for(let ip=Kr-Nf;ip<Kr;ip++)s[ip]=Nf;return sf}function hi(r,s,sf,Nf,ip){const em=ip==null?0:ip.length,tm=r.create(sf,Nf.length+em);ip&&tm.update(ip),tm.update(Nf);const nm=new Uint8Array(16),rm=(0,Br.createView)(nm);ip&&(0,Br.setBigUint64)(rm,0,BigInt(8*em),s),(0,Br.setBigUint64)(rm,8,BigInt(8*Nf.length),s),tm.update(nm);const om=tm.digest();return(0,Br.clean)(nm),om}Cr.ctr=(0,Br.wrapCipher)({blockSize:16,nonceLength:16},function(r,s){function sf(Nf,ip){if((0,$r.bytes)(Nf),ip!==void 0&&((0,$r.bytes)(ip),!(0,Br.isAligned32)(ip)))throw new Error("unaligned destination");const em=Qr(r),tm=(0,Br.copyBytes)(s),nm=[em,tm];(0,Br.isAligned32)(Nf)||nm.push(Nf=(0,Br.copyBytes)(Nf));const rm=si(em,tm,Nf,ip);return(0,Br.clean)(...nm),rm}return(0,$r.bytes)(r),(0,$r.bytes)(s,Kr),{encrypt:(Nf,ip)=>sf(Nf,ip),decrypt:(Nf,ip)=>sf(Nf,ip)}}),Cr.ecb=(0,Br.wrapCipher)({blockSize:16},function(r,s={}){(0,$r.bytes)(r);const sf=!s.disablePadding;return{encrypt(Nf,ip){const{b:em,o:tm,out:nm}=li(Nf,sf,ip),rm=Qr(r);let om=0;for(;om+4<=em.length;){const{s0:im,s1:am,s2:sm,s3:cm}=ri(rm,em[om+0],em[om+1],em[om+2],em[om+3]);tm[om++]=im,tm[om++]=am,tm[om++]=sm,tm[om++]=cm}if(sf){const im=ui(Nf.subarray(4*om)),{s0:am,s1:sm,s2:cm,s3:hm}=ri(rm,im[0],im[1],im[2],im[3]);tm[om++]=am,tm[om++]=sm,tm[om++]=cm,tm[om++]=hm}return(0,Br.clean)(rm),nm},decrypt(Nf,ip){ci(Nf);const em=ei(r),tm=oi(Nf.length,ip),nm=[em];(0,Br.isAligned32)(Nf)||nm.push(Nf=(0,Br.copyBytes)(Nf));const rm=(0,Br.u32)(Nf),om=(0,Br.u32)(tm);for(let im=0;im+4<=rm.length;){const{s0:am,s1:sm,s2:cm,s3:hm}=ii(em,rm[im+0],rm[im+1],rm[im+2],rm[im+3]);om[im++]=am,om[im++]=sm,om[im++]=cm,om[im++]=hm}return(0,Br.clean)(...nm),di(tm,sf)}}}),Cr.cbc=(0,Br.wrapCipher)({blockSize:16,nonceLength:16},function(r,s,sf={}){(0,$r.bytes)(r),(0,$r.bytes)(s,16);const Nf=!sf.disablePadding;return{encrypt(ip,em){const tm=Qr(r),{b:nm,o:rm,out:om}=li(ip,Nf,em);let im=s;const am=[tm];(0,Br.isAligned32)(im)||am.push(im=(0,Br.copyBytes)(im));const sm=(0,Br.u32)(im);let cm=sm[0],hm=sm[1],fm=sm[2],pm=sm[3],mm=0;for(;mm+4<=nm.length;)cm^=nm[mm+0],hm^=nm[mm+1],fm^=nm[mm+2],pm^=nm[mm+3],{s0:cm,s1:hm,s2:fm,s3:pm}=ri(tm,cm,hm,fm,pm),rm[mm++]=cm,rm[mm++]=hm,rm[mm++]=fm,rm[mm++]=pm;if(Nf){const _m=ui(ip.subarray(4*mm));cm^=_m[0],hm^=_m[1],fm^=_m[2],pm^=_m[3],{s0:cm,s1:hm,s2:fm,s3:pm}=ri(tm,cm,hm,fm,pm),rm[mm++]=cm,rm[mm++]=hm,rm[mm++]=fm,rm[mm++]=pm}return(0,Br.clean)(...am),om},decrypt(ip,em){ci(ip);const tm=ei(r);let nm=s;const rm=[tm];(0,Br.isAligned32)(nm)||rm.push(nm=(0,Br.copyBytes)(nm));const om=(0,Br.u32)(nm),im=oi(ip.length,em);(0,Br.isAligned32)(ip)||rm.push(ip=(0,Br.copyBytes)(ip));const am=(0,Br.u32)(ip),sm=(0,Br.u32)(im);let cm=om[0],hm=om[1],fm=om[2],pm=om[3];for(let mm=0;mm+4<=am.length;){const _m=cm,ym=hm,Sm=fm,jm=pm;cm=am[mm+0],hm=am[mm+1],fm=am[mm+2],pm=am[mm+3];const{s0:Pm,s1:Bm,s2:qm,s3:Rm}=ii(tm,cm,hm,fm,pm);sm[mm++]=Pm^_m,sm[mm++]=Bm^ym,sm[mm++]=qm^Sm,sm[mm++]=Rm^jm}return(0,Br.clean)(...rm),di(im,Nf)}}}),Cr.cfb=(0,Br.wrapCipher)({blockSize:16,nonceLength:16},function(r,s){function sf(Nf,ip,em){(0,$r.bytes)(Nf);const tm=Nf.length;em=oi(tm,em);const nm=Qr(r);let rm=s;const om=[nm];(0,Br.isAligned32)(rm)||om.push(rm=(0,Br.copyBytes)(rm)),(0,Br.isAligned32)(Nf)||om.push(Nf=(0,Br.copyBytes)(Nf));const im=(0,Br.u32)(Nf),am=(0,Br.u32)(em),sm=ip?am:im,cm=(0,Br.u32)(rm);let hm=cm[0],fm=cm[1],pm=cm[2],mm=cm[3];for(let ym=0;ym+4<=im.length;){const{s0:Sm,s1:jm,s2:Pm,s3:Bm}=ri(nm,hm,fm,pm,mm);am[ym+0]=im[ym+0]^Sm,am[ym+1]=im[ym+1]^jm,am[ym+2]=im[ym+2]^Pm,am[ym+3]=im[ym+3]^Bm,hm=sm[ym++],fm=sm[ym++],pm=sm[ym++],mm=sm[ym++]}const _m=Kr*Math.floor(im.length/4);if(_m<tm){({s0:hm,s1:fm,s2:pm,s3:mm}=ri(nm,hm,fm,pm,mm));const ym=(0,Br.u8)(new Uint32Array([hm,fm,pm,mm]));for(let Sm=_m,jm=0;Sm<tm;Sm++,jm++)em[Sm]=Nf[Sm]^ym[jm];(0,Br.clean)(ym)}return(0,Br.clean)(...om),em}return(0,$r.bytes)(r),(0,$r.bytes)(s,16),{encrypt:(Nf,ip)=>sf(Nf,!0,ip),decrypt:(Nf,ip)=>sf(Nf,!1,ip)}}),Cr.gcm=(0,Br.wrapCipher)({blockSize:16,nonceLength:12,tagLength:16},function(r,s,sf){if((0,$r.bytes)(r),(0,$r.bytes)(s),sf!==void 0&&(0,$r.bytes)(sf),s.length<8)throw new Error("aes/gcm: invalid nonce length");const Nf=16;function ip(tm,nm,rm){const om=hi(Dr.ghash,!1,tm,rm,sf);for(let im=0;im<nm.length;im++)om[im]^=nm[im];return om}function em(){const tm=Qr(r),nm=jr.slice(),rm=jr.slice();if(ai(tm,!1,rm,rm,nm),s.length===12)rm.set(s);else{const om=jr.slice(),im=(0,Br.createView)(om);(0,Br.setBigUint64)(im,8,BigInt(8*s.length),!1);const am=Dr.ghash.create(nm).update(s).update(om);am.digestInto(rm),am.destroy()}return{xk:tm,authKey:nm,counter:rm,tagMask:ai(tm,!1,rm,jr)}}return{encrypt(tm){(0,$r.bytes)(tm);const{xk:nm,authKey:rm,counter:om,tagMask:im}=em(),am=new Uint8Array(tm.length+Nf),sm=[nm,rm,om,im];(0,Br.isAligned32)(tm)||sm.push(tm=(0,Br.copyBytes)(tm)),ai(nm,!1,om,tm,am);const cm=ip(rm,im,am.subarray(0,am.length-Nf));return sm.push(cm),am.set(cm,tm.length),(0,Br.clean)(...sm),am},decrypt(tm){if((0,$r.bytes)(tm),tm.length<Nf)throw new Error("aes/gcm: ciphertext less than tagLen (16)");const{xk:nm,authKey:rm,counter:om,tagMask:im}=em(),am=[nm,rm,im,om];(0,Br.isAligned32)(tm)||am.push(tm=(0,Br.copyBytes)(tm));const sm=tm.subarray(0,-16),cm=tm.subarray(-16),hm=ip(rm,im,sm);if(am.push(hm),!(0,Br.equalBytes)(hm,cm))throw new Error("aes/gcm: invalid ghash tag");const fm=ai(nm,!1,om,sm);return(0,Br.clean)(...am),fm}}});const fi=(r,s,sf)=>Nf=>{if(!Number.isSafeInteger(Nf)||s>Nf||Nf>sf)throw new Error(`${r}: invalid value=${Nf}, must be [${s}..${sf}]`)};function pi(r){return r!=null&&typeof r=="object"&&(r instanceof Uint32Array||r.constructor.name==="Uint32Array")}function gi(r,s){if((0,$r.bytes)(s,16),!pi(r))throw new Error("_encryptBlock accepts result of expandKeyLE");const sf=(0,Br.u32)(s);let{s0:Nf,s1:ip,s2:em,s3:tm}=ri(r,sf[0],sf[1],sf[2],sf[3]);return sf[0]=Nf,sf[1]=ip,sf[2]=em,sf[3]=tm,s}function mi(r,s){if((0,$r.bytes)(s,16),!pi(r))throw new Error("_decryptBlock accepts result of expandKeyLE");const sf=(0,Br.u32)(s);let{s0:Nf,s1:ip,s2:em,s3:tm}=ii(r,sf[0],sf[1],sf[2],sf[3]);return sf[0]=Nf,sf[1]=ip,sf[2]=em,sf[3]=tm,s}Cr.siv=(0,Br.wrapCipher)({blockSize:16,nonceLength:12,tagLength:16},function(r,s,sf){const Nf=fi("AAD",0,0x1000000000),ip=fi("plaintext",0,2**36),em=fi("nonce",12,12),tm=fi("ciphertext",16,2**36+16);function nm(){const im=Qr(r),am=new Uint8Array(r.length),sm=new Uint8Array(16),cm=[im,am];let hm=s;(0,Br.isAligned32)(hm)||cm.push(hm=(0,Br.copyBytes)(hm));const fm=(0,Br.u32)(hm);let pm=0,mm=fm[0],_m=fm[1],ym=fm[2],Sm=0;for(const Pm of[sm,am].map(Br.u32)){const Bm=(0,Br.u32)(Pm);for(let qm=0;qm<Bm.length;qm+=2){const{s0:Rm,s1:Dm}=ri(im,pm,mm,_m,ym);Bm[qm+0]=Rm,Bm[qm+1]=Dm,pm=++Sm}}const jm={authKey:sm,encKey:Qr(am)};return(0,Br.clean)(...cm),jm}function rm(im,am,sm){const cm=hi(Dr.polyval,!0,am,sm,sf);for(let ym=0;ym<12;ym++)cm[ym]^=s[ym];cm[15]&=127;const hm=(0,Br.u32)(cm);let fm=hm[0],pm=hm[1],mm=hm[2],_m=hm[3];return{s0:fm,s1:pm,s2:mm,s3:_m}=ri(im,fm,pm,mm,_m),hm[0]=fm,hm[1]=pm,hm[2]=mm,hm[3]=_m,cm}function om(im,am,sm){let cm=(0,Br.copyBytes)(am);cm[15]|=128;const hm=ai(im,!0,cm,sm);return(0,Br.clean)(cm),hm}return(0,$r.bytes)(r,16,24,32),(0,$r.bytes)(s),em(s.length),sf!==void 0&&((0,$r.bytes)(sf),Nf(sf.length)),{encrypt(im){(0,$r.bytes)(im),ip(im.length);const{encKey:am,authKey:sm}=nm(),cm=rm(am,sm,im),hm=[am,sm,cm];(0,Br.isAligned32)(im)||hm.push(im=(0,Br.copyBytes)(im));const fm=new Uint8Array(im.length+16);return fm.set(cm,im.length),fm.set(om(am,cm,im)),(0,Br.clean)(...hm),fm},decrypt(im){(0,$r.bytes)(im),tm(im.length);const am=im.subarray(-16),{encKey:sm,authKey:cm}=nm(),hm=[sm,cm];(0,Br.isAligned32)(im)||hm.push(im=(0,Br.copyBytes)(im));const fm=om(sm,am,im.subarray(0,-16)),pm=rm(sm,cm,fm);if(hm.push(pm),!(0,Br.equalBytes)(am,pm))throw(0,Br.clean)(...hm),new Error("invalid polyval tag");return(0,Br.clean)(...hm),fm}}});const yi={encrypt(r,s){if(s.length>=2**32)throw new Error("plaintext should be less than 4gb");const sf=Qr(r);if(s.length===16)gi(sf,s);else{const Nf=(0,Br.u32)(s);let ip=Nf[0],em=Nf[1];for(let tm=0,nm=1;tm<6;tm++)for(let rm=2;rm<Nf.length;rm+=2,nm++){const{s0:om,s1:im,s2:am,s3:sm}=ri(sf,ip,em,Nf[rm],Nf[rm+1]);ip=om,em=im^Gr(nm),Nf[rm]=am,Nf[rm+1]=sm}Nf[0]=ip,Nf[1]=em}sf.fill(0)},decrypt(r,s){if(s.length-8>=2**32)throw new Error("ciphertext should be less than 4gb");const sf=ei(r),Nf=s.length/8-1;if(Nf===1)mi(sf,s);else{const ip=(0,Br.u32)(s);let em=ip[0],tm=ip[1];for(let nm=0,rm=6*Nf;nm<6;nm++)for(let om=2*Nf;om>=1;om-=2,rm--){tm^=Gr(rm);const{s0:im,s1:am,s2:sm,s3:cm}=ii(sf,em,tm,ip[om],ip[om+1]);em=im,tm=am,ip[om]=sm,ip[om+1]=cm}ip[0]=em,ip[1]=tm}sf.fill(0)}},vi=new Uint8Array(8).fill(166);Cr.aeskw=(0,Br.wrapCipher)({blockSize:8},r=>({encrypt(s){if((0,$r.bytes)(s),!s.length||s.length%8!=0)throw new Error("invalid plaintext length");if(s.length===8)throw new Error("8-byte keys not allowed in AESKW, use AESKWP instead");const sf=(0,Br.concatBytes)(vi,s);return yi.encrypt(r,sf),sf},decrypt(s){if((0,$r.bytes)(s),s.length%8!=0||s.length<24)throw new Error("invalid ciphertext length");const sf=(0,Br.copyBytes)(s);if(yi.decrypt(r,sf),!(0,Br.equalBytes)(sf.subarray(0,8),vi))throw new Error("integrity check failed");return sf.subarray(0,8).fill(0),sf.subarray(8)}}));const bi=0xa65959a6;Cr.aeskwp=(0,Br.wrapCipher)({blockSize:8},r=>({encrypt(s){if((0,$r.bytes)(s),!s.length)throw new Error("invalid plaintext length");const sf=8*Math.ceil(s.length/8),Nf=new Uint8Array(8+sf);Nf.set(s,8);const ip=(0,Br.u32)(Nf);return ip[0]=bi,ip[1]=Gr(s.length),yi.encrypt(r,Nf),Nf},decrypt(s){if((0,$r.bytes)(s),s.length<16)throw new Error("invalid ciphertext length");const sf=(0,Br.copyBytes)(s),Nf=(0,Br.u32)(sf);yi.decrypt(r,sf);const ip=Gr(Nf[1])>>>0,em=8*Math.ceil(ip/8);if(Nf[0]!==bi||sf.length-8!==em)throw new Error("integrity check failed");for(let tm=ip;tm<em;tm++)if(sf[8+tm]!==0)throw new Error("integrity check failed");return sf.subarray(0,8).fill(0),sf.subarray(8,8+ip)}})),Cr.unsafe={expandKeyLE:Qr,expandKeyDecLE:ei,encrypt:ri,decrypt:ii,encryptBlock:gi,decryptBlock:mi,ctrCounter:si,ctr32:ai},Object.defineProperty(_r,"__esModule",{value:!0}),_r.aes256cbc=_r.aes256gcm=void 0;var wi=Cr;_r.aes256gcm=function(r,s,sf){return(0,wi.gcm)(r,s,sf)};_r.aes256cbc=function(r,s,sf){return(0,wi.cbc)(r,s)};var Ei={},Si={},_i={};Object.defineProperty(_i,"__esModule",{value:!0}),_i.sigma=void 0,_i.rotl=function(r,s){return r<<s|r>>>32-s},_i.createCipher=function(r,s){const{allowShortKeys:sf,extendNonceFn:Nf,counterLength:ip,counterRight:em,rounds:tm}=(0,ki.checkOpts)({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},s);if(typeof r!="function")throw new Error("core must be a function");return(0,Ci.number)(ip),(0,Ci.number)(tm),(0,Ci.bool)(em),(0,Ci.bool)(sf),(nm,rm,om,im,am=0)=>{(0,Ci.bytes)(nm),(0,Ci.bytes)(rm),(0,Ci.bytes)(om);const sm=om.length;if(im===void 0&&(im=new Uint8Array(sm)),(0,Ci.bytes)(im),(0,Ci.number)(am),am<0||am>=Li)throw new Error("arx: counter overflow");if(im.length<sm)throw new Error(`arx: output (${im.length}) is shorter than data (${sm})`);const cm=[];let hm,fm,pm=nm.length;if(pm===32)cm.push(hm=(0,ki.copyBytes)(nm)),fm=Ri;else{if(pm!==16||!sf)throw new Error(`arx: invalid 32-byte key, got length=${pm}`);hm=new Uint8Array(32),hm.set(nm),hm.set(nm,16),fm=Ii,cm.push(hm)}Pi(rm)||cm.push(rm=(0,ki.copyBytes)(rm));const mm=(0,ki.u32)(hm);if(Nf){if(rm.length!==24)throw new Error("arx: extended nonce must be 24 bytes");Nf(fm,mm,(0,ki.u32)(rm.subarray(0,16)),mm),rm=rm.subarray(16)}const _m=16-ip;if(_m!==rm.length)throw new Error(`arx: nonce must be ${_m} or 16 bytes`);if(_m!==12){const Sm=new Uint8Array(12);Sm.set(rm,em?0:12-rm.length),rm=Sm,cm.push(rm)}const ym=(0,ki.u32)(rm);return function(Sm,jm,Pm,Bm,qm,Rm,Dm,Um){const Lm=qm.length,Im=new Uint8Array(Ti),dm=(0,ki.u32)(Im),gm=Pi(qm)&&Pi(Rm),km=gm?(0,ki.u32)(qm):Ni,Mm=gm?(0,ki.u32)(Rm):Ni;for(let bm=0;bm<Lm;Dm++){if(Sm(jm,Pm,Bm,dm,Dm,Um),Dm>=Li)throw new Error("arx: counter overflow");const Em=Math.min(Ti,Lm-bm);if(gm&&Em===Ti){const $m=bm/4;if(bm%4!=0)throw new Error("arx: invalid block position");for(let Am,lm=0;lm<Oi;lm++)Am=$m+lm,Mm[Am]=km[Am]^dm[lm];bm+=Ti}else{for(let $m,Am=0;Am<Em;Am++)$m=bm+Am,Rm[$m]=qm[$m]^Im[Am];bm+=Em}}}(r,fm,mm,ym,om,im,am,tm),(0,ki.clean)(...cm),im}};const Ci=pe,ki=fe,xi=r=>Uint8Array.from(r.split("").map(s=>s.charCodeAt(0))),Mi=xi("expand 16-byte k"),Ai=xi("expand 32-byte k"),Ii=(0,ki.u32)(Mi),Ri=(0,ki.u32)(Ai);function Pi(r){return r.byteOffset%4==0}_i.sigma=Ri.slice();const Ti=64,Oi=16,Li=2**32-1,Ni=new Uint32Array;var $i={};Object.defineProperty($i,"__esModule",{value:!0}),$i.poly1305=void 0,$i.wrapConstructorWithKey=Ui;const Di=pe,Bi=fe,Ki=(r,s)=>255&r[s++]|(255&r[s++])<<8;class ji{constructor(s){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,s=(0,Bi.toBytes)(s),(0,Di.bytes)(s,32);const sf=Ki(s,0),Nf=Ki(s,2),ip=Ki(s,4),em=Ki(s,6),tm=Ki(s,8),nm=Ki(s,10),rm=Ki(s,12),om=Ki(s,14);this.r[0]=8191&sf,this.r[1]=8191&(sf>>>13|Nf<<3),this.r[2]=7939&(Nf>>>10|ip<<6),this.r[3]=8191&(ip>>>7|em<<9),this.r[4]=255&(em>>>4|tm<<12),this.r[5]=tm>>>1&8190,this.r[6]=8191&(tm>>>14|nm<<2),this.r[7]=8065&(nm>>>11|rm<<5),this.r[8]=8191&(rm>>>8|om<<8),this.r[9]=om>>>5&127;for(let im=0;im<8;im++)this.pad[im]=Ki(s,16+2*im)}process(s,sf,Nf=!1){const ip=Nf?0:2048,{h:em,r:tm}=this,nm=tm[0],rm=tm[1],om=tm[2],im=tm[3],am=tm[4],sm=tm[5],cm=tm[6],hm=tm[7],fm=tm[8],pm=tm[9],mm=Ki(s,sf+0),_m=Ki(s,sf+2),ym=Ki(s,sf+4),Sm=Ki(s,sf+6),jm=Ki(s,sf+8),Pm=Ki(s,sf+10),Bm=Ki(s,sf+12),qm=Ki(s,sf+14);let Rm=em[0]+(8191&mm),Dm=em[1]+(8191&(mm>>>13|_m<<3)),Um=em[2]+(8191&(_m>>>10|ym<<6)),Lm=em[3]+(8191&(ym>>>7|Sm<<9)),Im=em[4]+(8191&(Sm>>>4|jm<<12)),dm=em[5]+(jm>>>1&8191),gm=em[6]+(8191&(jm>>>14|Pm<<2)),km=em[7]+(8191&(Pm>>>11|Bm<<5)),Mm=em[8]+(8191&(Bm>>>8|qm<<8)),bm=em[9]+(qm>>>5|ip),Em=0,$m=Em+Rm*nm+Dm*(5*pm)+Um*(5*fm)+Lm*(5*hm)+Im*(5*cm);Em=$m>>>13,$m&=8191,$m+=dm*(5*sm)+gm*(5*am)+km*(5*im)+Mm*(5*om)+bm*(5*rm),Em+=$m>>>13,$m&=8191;let Am=Em+Rm*rm+Dm*nm+Um*(5*pm)+Lm*(5*fm)+Im*(5*hm);Em=Am>>>13,Am&=8191,Am+=dm*(5*cm)+gm*(5*sm)+km*(5*am)+Mm*(5*im)+bm*(5*om),Em+=Am>>>13,Am&=8191;let lm=Em+Rm*om+Dm*rm+Um*nm+Lm*(5*pm)+Im*(5*fm);Em=lm>>>13,lm&=8191,lm+=dm*(5*hm)+gm*(5*cm)+km*(5*sm)+Mm*(5*am)+bm*(5*im),Em+=lm>>>13,lm&=8191;let um=Em+Rm*im+Dm*om+Um*rm+Lm*nm+Im*(5*pm);Em=um>>>13,um&=8191,um+=dm*(5*fm)+gm*(5*hm)+km*(5*cm)+Mm*(5*sm)+bm*(5*am),Em+=um>>>13,um&=8191;let wm=Em+Rm*am+Dm*im+Um*om+Lm*rm+Im*nm;Em=wm>>>13,wm&=8191,wm+=dm*(5*pm)+gm*(5*fm)+km*(5*hm)+Mm*(5*cm)+bm*(5*sm),Em+=wm>>>13,wm&=8191;let xm=Em+Rm*sm+Dm*am+Um*im+Lm*om+Im*rm;Em=xm>>>13,xm&=8191,xm+=dm*nm+gm*(5*pm)+km*(5*fm)+Mm*(5*hm)+bm*(5*cm),Em+=xm>>>13,xm&=8191;let Tm=Em+Rm*cm+Dm*sm+Um*am+Lm*im+Im*om;Em=Tm>>>13,Tm&=8191,Tm+=dm*rm+gm*nm+km*(5*pm)+Mm*(5*fm)+bm*(5*hm),Em+=Tm>>>13,Tm&=8191;let Om=Em+Rm*hm+Dm*cm+Um*sm+Lm*am+Im*im;Em=Om>>>13,Om&=8191,Om+=dm*om+gm*rm+km*nm+Mm*(5*pm)+bm*(5*fm),Em+=Om>>>13,Om&=8191;let Hm=Em+Rm*fm+Dm*hm+Um*cm+Lm*sm+Im*am;Em=Hm>>>13,Hm&=8191,Hm+=dm*im+gm*om+km*rm+Mm*nm+bm*(5*pm),Em+=Hm>>>13,Hm&=8191;let Km=Em+Rm*pm+Dm*fm+Um*hm+Lm*cm+Im*sm;Em=Km>>>13,Km&=8191,Km+=dm*am+gm*im+km*om+Mm*rm+bm*nm,Em+=Km>>>13,Km&=8191,Em=(Em<<2)+Em|0,Em=Em+$m|0,$m=8191&Em,Em>>>=13,Am+=Em,em[0]=$m,em[1]=Am,em[2]=lm,em[3]=um,em[4]=wm,em[5]=xm,em[6]=Tm,em[7]=Om,em[8]=Hm,em[9]=Km}finalize(){const{h:s,pad:sf}=this,Nf=new Uint16Array(10);let ip=s[1]>>>13;s[1]&=8191;for(let nm=2;nm<10;nm++)s[nm]+=ip,ip=s[nm]>>>13,s[nm]&=8191;s[0]+=5*ip,ip=s[0]>>>13,s[0]&=8191,s[1]+=ip,ip=s[1]>>>13,s[1]&=8191,s[2]+=ip,Nf[0]=s[0]+5,ip=Nf[0]>>>13,Nf[0]&=8191;for(let nm=1;nm<10;nm++)Nf[nm]=s[nm]+ip,ip=Nf[nm]>>>13,Nf[nm]&=8191;Nf[9]-=8192;let em=(1^ip)-1;for(let nm=0;nm<10;nm++)Nf[nm]&=em;em=~em;for(let nm=0;nm<10;nm++)s[nm]=s[nm]&em|Nf[nm];s[0]=65535&(s[0]|s[1]<<13),s[1]=65535&(s[1]>>>3|s[2]<<10),s[2]=65535&(s[2]>>>6|s[3]<<7),s[3]=65535&(s[3]>>>9|s[4]<<4),s[4]=65535&(s[4]>>>12|s[5]<<1|s[6]<<14),s[5]=65535&(s[6]>>>2|s[7]<<11),s[6]=65535&(s[7]>>>5|s[8]<<8),s[7]=65535&(s[8]>>>8|s[9]<<5);let tm=s[0]+sf[0];s[0]=65535&tm;for(let nm=1;nm<8;nm++)tm=(s[nm]+sf[nm]|0)+(tm>>>16)|0,s[nm]=65535&tm;(0,Bi.clean)(Nf)}update(s){(0,Di.exists)(this);const{buffer:sf,blockLen:Nf}=this,ip=(s=(0,Bi.toBytes)(s)).length;for(let em=0;em<ip;){const tm=Math.min(Nf-this.pos,ip-em);if(tm!==Nf)sf.set(s.subarray(em,em+tm),this.pos),this.pos+=tm,em+=tm,this.pos===Nf&&(this.process(sf,0,!1),this.pos=0);else for(;Nf<=ip-em;em+=Nf)this.process(s,em)}return this}destroy(){(0,Bi.clean)(this.h,this.r,this.buffer,this.pad)}digestInto(s){(0,Di.exists)(this),(0,Di.output)(s,this),this.finished=!0;const{buffer:sf,h:Nf}=this;let{pos:ip}=this;if(ip){for(sf[ip++]=1;ip<16;ip++)sf[ip]=0;this.process(sf,0,!0)}this.finalize();let em=0;for(let tm=0;tm<8;tm++)s[em++]=Nf[tm]>>>0,s[em++]=Nf[tm]>>>8;return s}digest(){const{buffer:s,outputLen:sf}=this;this.digestInto(s);const Nf=s.slice(0,sf);return this.destroy(),Nf}}function Ui(r){const s=(Nf,ip)=>r(ip).update((0,Bi.toBytes)(Nf)).digest(),sf=r(new Uint8Array(32));return s.outputLen=sf.outputLen,s.blockLen=sf.blockLen,s.create=Nf=>r(Nf),s}$i.poly1305=Ui(r=>new ji(r)),function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.xchacha20poly1305=r.chacha20poly1305=r._poly1305_aead=r.chacha12=r.chacha8=r.xchacha20=r.chacha20=r.chacha20orig=void 0,r.hchacha=tm;const s=_i,sf=pe,Nf=$i,ip=fe;function em(am,sm,cm,hm,fm,pm=20){let mm=am[0],_m=am[1],ym=am[2],Sm=am[3],jm=sm[0],Pm=sm[1],Bm=sm[2],qm=sm[3],Rm=sm[4],Dm=sm[5],Um=sm[6],Lm=sm[7],Im=fm,dm=cm[0],gm=cm[1],km=cm[2],Mm=mm,bm=_m,Em=ym,$m=Sm,Am=jm,lm=Pm,um=Bm,wm=qm,xm=Rm,Tm=Dm,Om=Um,Hm=Lm,Km=Im,Zm=dm,Vm=gm,zm=km;for(let Ym=0;Ym<pm;Ym+=2)Mm=Mm+Am|0,Km=(0,s.rotl)(Km^Mm,16),xm=xm+Km|0,Am=(0,s.rotl)(Am^xm,12),Mm=Mm+Am|0,Km=(0,s.rotl)(Km^Mm,8),xm=xm+Km|0,Am=(0,s.rotl)(Am^xm,7),bm=bm+lm|0,Zm=(0,s.rotl)(Zm^bm,16),Tm=Tm+Zm|0,lm=(0,s.rotl)(lm^Tm,12),bm=bm+lm|0,Zm=(0,s.rotl)(Zm^bm,8),Tm=Tm+Zm|0,lm=(0,s.rotl)(lm^Tm,7),Em=Em+um|0,Vm=(0,s.rotl)(Vm^Em,16),Om=Om+Vm|0,um=(0,s.rotl)(um^Om,12),Em=Em+um|0,Vm=(0,s.rotl)(Vm^Em,8),Om=Om+Vm|0,um=(0,s.rotl)(um^Om,7),$m=$m+wm|0,zm=(0,s.rotl)(zm^$m,16),Hm=Hm+zm|0,wm=(0,s.rotl)(wm^Hm,12),$m=$m+wm|0,zm=(0,s.rotl)(zm^$m,8),Hm=Hm+zm|0,wm=(0,s.rotl)(wm^Hm,7),Mm=Mm+lm|0,zm=(0,s.rotl)(zm^Mm,16),Om=Om+zm|0,lm=(0,s.rotl)(lm^Om,12),Mm=Mm+lm|0,zm=(0,s.rotl)(zm^Mm,8),Om=Om+zm|0,lm=(0,s.rotl)(lm^Om,7),bm=bm+um|0,Km=(0,s.rotl)(Km^bm,16),Hm=Hm+Km|0,um=(0,s.rotl)(um^Hm,12),bm=bm+um|0,Km=(0,s.rotl)(Km^bm,8),Hm=Hm+Km|0,um=(0,s.rotl)(um^Hm,7),Em=Em+wm|0,Zm=(0,s.rotl)(Zm^Em,16),xm=xm+Zm|0,wm=(0,s.rotl)(wm^xm,12),Em=Em+wm|0,Zm=(0,s.rotl)(Zm^Em,8),xm=xm+Zm|0,wm=(0,s.rotl)(wm^xm,7),$m=$m+Am|0,Vm=(0,s.rotl)(Vm^$m,16),Tm=Tm+Vm|0,Am=(0,s.rotl)(Am^Tm,12),$m=$m+Am|0,Vm=(0,s.rotl)(Vm^$m,8),Tm=Tm+Vm|0,Am=(0,s.rotl)(Am^Tm,7);let Wm=0;hm[Wm++]=mm+Mm|0,hm[Wm++]=_m+bm|0,hm[Wm++]=ym+Em|0,hm[Wm++]=Sm+$m|0,hm[Wm++]=jm+Am|0,hm[Wm++]=Pm+lm|0,hm[Wm++]=Bm+um|0,hm[Wm++]=qm+wm|0,hm[Wm++]=Rm+xm|0,hm[Wm++]=Dm+Tm|0,hm[Wm++]=Um+Om|0,hm[Wm++]=Lm+Hm|0,hm[Wm++]=Im+Km|0,hm[Wm++]=dm+Zm|0,hm[Wm++]=gm+Vm|0,hm[Wm++]=km+zm|0}function tm(am,sm,cm,hm){let fm=am[0],pm=am[1],mm=am[2],_m=am[3],ym=sm[0],Sm=sm[1],jm=sm[2],Pm=sm[3],Bm=sm[4],qm=sm[5],Rm=sm[6],Dm=sm[7],Um=cm[0],Lm=cm[1],Im=cm[2],dm=cm[3];for(let km=0;km<20;km+=2)fm=fm+ym|0,Um=(0,s.rotl)(Um^fm,16),Bm=Bm+Um|0,ym=(0,s.rotl)(ym^Bm,12),fm=fm+ym|0,Um=(0,s.rotl)(Um^fm,8),Bm=Bm+Um|0,ym=(0,s.rotl)(ym^Bm,7),pm=pm+Sm|0,Lm=(0,s.rotl)(Lm^pm,16),qm=qm+Lm|0,Sm=(0,s.rotl)(Sm^qm,12),pm=pm+Sm|0,Lm=(0,s.rotl)(Lm^pm,8),qm=qm+Lm|0,Sm=(0,s.rotl)(Sm^qm,7),mm=mm+jm|0,Im=(0,s.rotl)(Im^mm,16),Rm=Rm+Im|0,jm=(0,s.rotl)(jm^Rm,12),mm=mm+jm|0,Im=(0,s.rotl)(Im^mm,8),Rm=Rm+Im|0,jm=(0,s.rotl)(jm^Rm,7),_m=_m+Pm|0,dm=(0,s.rotl)(dm^_m,16),Dm=Dm+dm|0,Pm=(0,s.rotl)(Pm^Dm,12),_m=_m+Pm|0,dm=(0,s.rotl)(dm^_m,8),Dm=Dm+dm|0,Pm=(0,s.rotl)(Pm^Dm,7),fm=fm+Sm|0,dm=(0,s.rotl)(dm^fm,16),Rm=Rm+dm|0,Sm=(0,s.rotl)(Sm^Rm,12),fm=fm+Sm|0,dm=(0,s.rotl)(dm^fm,8),Rm=Rm+dm|0,Sm=(0,s.rotl)(Sm^Rm,7),pm=pm+jm|0,Um=(0,s.rotl)(Um^pm,16),Dm=Dm+Um|0,jm=(0,s.rotl)(jm^Dm,12),pm=pm+jm|0,Um=(0,s.rotl)(Um^pm,8),Dm=Dm+Um|0,jm=(0,s.rotl)(jm^Dm,7),mm=mm+Pm|0,Lm=(0,s.rotl)(Lm^mm,16),Bm=Bm+Lm|0,Pm=(0,s.rotl)(Pm^Bm,12),mm=mm+Pm|0,Lm=(0,s.rotl)(Lm^mm,8),Bm=Bm+Lm|0,Pm=(0,s.rotl)(Pm^Bm,7),_m=_m+ym|0,Im=(0,s.rotl)(Im^_m,16),qm=qm+Im|0,ym=(0,s.rotl)(ym^qm,12),_m=_m+ym|0,Im=(0,s.rotl)(Im^_m,8),qm=qm+Im|0,ym=(0,s.rotl)(ym^qm,7);let gm=0;hm[gm++]=fm,hm[gm++]=pm,hm[gm++]=mm,hm[gm++]=_m,hm[gm++]=Um,hm[gm++]=Lm,hm[gm++]=Im,hm[gm++]=dm}r.chacha20orig=(0,s.createCipher)(em,{counterRight:!1,counterLength:8,allowShortKeys:!0}),r.chacha20=(0,s.createCipher)(em,{counterRight:!1,counterLength:4,allowShortKeys:!1}),r.xchacha20=(0,s.createCipher)(em,{counterRight:!1,counterLength:8,extendNonceFn:tm,allowShortKeys:!1}),r.chacha8=(0,s.createCipher)(em,{counterRight:!1,counterLength:4,rounds:8}),r.chacha12=(0,s.createCipher)(em,{counterRight:!1,counterLength:4,rounds:12});const nm=new Uint8Array(16),rm=(am,sm)=>{am.update(sm);const cm=sm.length%16;cm&&am.update(nm.subarray(cm))},om=new Uint8Array(32);function im(am,sm,cm,hm,fm){const pm=am(sm,cm,om),mm=Nf.poly1305.create(pm);fm&&rm(mm,fm),rm(mm,hm);const _m=new Uint8Array(16),ym=(0,ip.createView)(_m);(0,ip.setBigUint64)(ym,0,BigInt(fm?fm.length:0),!0),(0,ip.setBigUint64)(ym,8,BigInt(hm.length),!0),mm.update(_m);const Sm=mm.digest();return(0,ip.clean)(pm,_m),Sm}r._poly1305_aead=am=>(sm,cm,hm)=>((0,sf.bytes)(sm,32),(0,sf.bytes)(cm),{encrypt(pm,mm){const _m=pm.length,ym=_m+16;mm?(0,sf.bytes)(mm,ym):mm=new Uint8Array(ym),am(sm,cm,pm,mm,1);const Sm=im(am,sm,cm,mm.subarray(0,-16),hm);return mm.set(Sm,_m),(0,ip.clean)(Sm),mm},decrypt(pm,mm){const _m=pm.length,ym=_m-16;if(_m<16)throw new Error("encrypted data must be at least 16 bytes");mm?(0,sf.bytes)(mm,ym):mm=new Uint8Array(ym);const Sm=pm.subarray(0,-16),jm=pm.subarray(-16),Pm=im(am,sm,cm,Sm,hm);if(!(0,ip.equalBytes)(jm,Pm))throw new Error("invalid tag");return am(sm,cm,Sm,mm,1),(0,ip.clean)(Pm),mm}}),r.chacha20poly1305=(0,ip.wrapCipher)({blockSize:64,nonceLength:12,tagLength:16},(0,r._poly1305_aead)(r.chacha20)),r.xchacha20poly1305=(0,ip.wrapCipher)({blockSize:64,nonceLength:24,tagLength:16},(0,r._poly1305_aead)(r.xchacha20))}(Si),Object.defineProperty(Ei,"__esModule",{value:!0}),Ei.xchacha20=void 0;var Hi,Fi,zi,qi=Si;Ei.xchacha20=function(r,s,sf){return(0,qi.xchacha20poly1305)(r,s,sf)},function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.aesDecrypt=r.aesEncrypt=r.symDecrypt=r.symEncrypt=void 0;var s=fe,sf=Ie,Nf=_r,ip=Ei,em=_e,tm=Ce;r.symEncrypt=function(im,am,sm){return nm(rm,im,am,sm)};function nm(im,am,sm,cm){var hm=(0,em.symmetricAlgorithm)();if(hm==="aes-256-gcm")return im(Nf.aes256gcm,am,sm,(0,em.symmetricNonceLength)(),tm.AEAD_TAG_LENGTH,cm);if(hm==="xchacha20")return im(ip.xchacha20,am,sm,tm.XCHACHA20_NONCE_LENGTH,tm.AEAD_TAG_LENGTH,cm);if(hm==="aes-256-cbc")return im(Nf.aes256cbc,am,sm,16,0);throw new Error("Not implemented")}function rm(im,am,sm,cm,hm,fm){var pm=(0,sf.randomBytes)(cm),mm=im(am,pm,fm).encrypt(sm);if(hm===0)return(0,s.concatBytes)(pm,mm);var _m=mm.length-hm,ym=mm.subarray(0,_m),Sm=mm.subarray(_m);return(0,s.concatBytes)(pm,Sm,ym)}function om(im,am,sm,cm,hm,fm){var pm=sm.subarray(0,cm),mm=im(am,Uint8Array.from(pm),fm),_m=sm.subarray(cm);if(hm===0)return mm.decrypt(_m);var ym=_m.subarray(0,hm),Sm=_m.subarray(hm);return mm.decrypt((0,s.concatBytes)(Sm,ym))}r.symDecrypt=function(im,am,sm){return nm(om,im,am,sm)},r.aesEncrypt=r.symEncrypt,r.aesDecrypt=r.symDecrypt}(Sr),Hi=Me,Fi=le&&le.__createBinding||(Object.create?function(r,s,sf,Nf){Nf===void 0&&(Nf=sf);var ip=Object.getOwnPropertyDescriptor(s,sf);ip&&!("get"in ip?!s.__esModule:ip.writable||ip.configurable)||(ip={enumerable:!0,get:function(){return s[sf]}}),Object.defineProperty(r,Nf,ip)}:function(r,s,sf,Nf){Nf===void 0&&(Nf=sf),r[Nf]=s[sf]}),zi=le&&le.__exportStar||function(r,s){for(var sf in r)sf==="default"||Object.prototype.hasOwnProperty.call(s,sf)||Fi(s,r,sf)},Object.defineProperty(Hi,"__esModule",{value:!0}),zi(Ae,Hi),zi(fr,Hi),zi(hr,Hi),zi(Sr,Hi);var Wi={};Object.defineProperty(Wi,"__esModule",{value:!0}),Wi.PublicKey=void 0;var Vi=fe,Gi=Me,Yi=function(){function r(s){this.data=(0,Gi.convertPublicKeyFormat)(s,!0)}return r.fromHex=function(s){return new r((0,Gi.hexToPublicKey)(s))},Object.defineProperty(r.prototype,"uncompressed",{get:function(){return _.from((0,Gi.convertPublicKeyFormat)(this.data,!1))},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"compressed",{get:function(){return _.from(this.data)},enumerable:!1,configurable:!0}),r.prototype.toHex=function(s){return s===void 0&&(s=!0),(0,Vi.bytesToHex)(s?this.data:this.uncompressed)},r.prototype.decapsulate=function(s,sf){sf===void 0&&(sf=!1);var Nf=sf?this.data:this.uncompressed,ip=s.multiply(this,sf);return(0,Gi.getSharedKey)(Nf,ip)},r.prototype.equals=function(s){return(0,Vi.equalBytes)(this.data,s.data)},r}();Wi.PublicKey=Yi,Object.defineProperty(xe,"__esModule",{value:!0}),xe.PrivateKey=void 0;var Zi=fe,Ji=Me,Xi=Wi,Qi=function(){function r(s){if(s===void 0)this.data=(0,Ji.getValidSecret)();else{if(!(0,Ji.isValidPrivateKey)(s))throw new Error("Invalid private key");this.data=s}this.publicKey=new Xi.PublicKey((0,Ji.getPublicKey)(this.data))}return r.fromHex=function(s){return new r((0,Ji.decodeHex)(s))},Object.defineProperty(r.prototype,"secret",{get:function(){return _.from(this.data)},enumerable:!1,configurable:!0}),r.prototype.toHex=function(){return(0,Zi.bytesToHex)(this.data)},r.prototype.encapsulate=function(s,sf){sf===void 0&&(sf=!1);var Nf=sf?this.publicKey.compressed:this.publicKey.uncompressed,ip=this.multiply(s,sf);return(0,Ji.getSharedKey)(Nf,ip)},r.prototype.multiply=function(s,sf){return sf===void 0&&(sf=!1),(0,Ji.getSharedPoint)(this.data,s.compressed,sf)},r.prototype.equals=function(s){return(0,Zi.equalBytes)(this.data,s.data)},r}();xe.PrivateKey=Qi,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.PublicKey=r.PrivateKey=void 0;var s=xe;Object.defineProperty(r,"PrivateKey",{enumerable:!0,get:function(){return s.PrivateKey}});var sf=Wi;Object.defineProperty(r,"PublicKey",{enumerable:!0,get:function(){return sf.PublicKey}})}(ke),function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.utils=r.PublicKey=r.PrivateKey=r.ECIES_CONFIG=void 0,r.encrypt=function(nm,rm){var om=new Nf.PrivateKey,im=nm instanceof Uint8Array?new Nf.PublicKey(nm):Nf.PublicKey.fromHex(nm),am=om.encapsulate(im,(0,sf.isHkdfKeyCompressed)()),sm=(0,sf.isEphemeralKeyCompressed)()?om.publicKey.compressed:om.publicKey.uncompressed,cm=(0,ip.symEncrypt)(am,rm);return _.from((0,s.concatBytes)(sm,cm))},r.decrypt=function(nm,rm){var om=nm instanceof Uint8Array?new Nf.PrivateKey(nm):Nf.PrivateKey.fromHex(nm),im=(0,sf.ephemeralKeySize)(),am=new Nf.PublicKey(rm.subarray(0,im)),sm=rm.subarray(im),cm=am.decapsulate(om,(0,sf.isHkdfKeyCompressed)());return _.from((0,ip.symDecrypt)(cm,sm))};var s=fe,sf=_e,Nf=ke,ip=Me,em=_e;Object.defineProperty(r,"ECIES_CONFIG",{enumerable:!0,get:function(){return em.ECIES_CONFIG}});var tm=ke;Object.defineProperty(r,"PrivateKey",{enumerable:!0,get:function(){return tm.PrivateKey}}),Object.defineProperty(r,"PublicKey",{enumerable:!0,get:function(){return tm.PublicKey}}),r.utils={aesEncrypt:ip.aesEncrypt,aesDecrypt:ip.aesDecrypt,symEncrypt:ip.symEncrypt,symDecrypt:ip.symDecrypt,decodeHex:ip.decodeHex,getValidSecret:ip.getValidSecret,remove0x:ip.remove0x}}(he);const eo=t("KeyExchange:Layer"),to=t("SocketService:Layer"),no=t("Ecies:Layer"),ro=t("RemoteCommunication:Layer");eo.color="##95c44e",to.color="#f638d7",no.color="#465b9c",ro.color="#47a2be";const io={KeyExchange:eo,SocketService:to,Ecies:no,RemoteCommunication:ro};let oo,so=[],ao=[];const co=(r,s)=>a(void 0,void 0,void 0,function*(){oo=s,ao.push(r),function(sf){return a(this,void 0,void 0,function*(){if(!oo||!sf)return;(function(){const tm=ao;ao=so,so=tm})();const Nf=oo.endsWith("/")?`${oo}evt`:`${oo}/evt`,ip=Object.assign({},sf);if(delete ip.params,sf.params)for(const[tm,nm]of Object.entries(sf.params))ip[tm]=nm;const em=JSON.stringify(ip);io.RemoteCommunication(`[sendBufferedEvents] Sending ${so.length} analytics events to ${Nf}`);try{const tm=yield e(Nf,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:em}),nm=yield tm.text();io.RemoteCommunication(`[sendBufferedEvents] Response: ${nm}`),so.length=0}catch{}})}(r).catch(()=>{})});class lo{constructor(s){this.enabled=!0,s?.debug&&t.enable("Ecies:Layer"),this.ecies=s?.privateKey?he.PrivateKey.fromHex(s.privateKey):new he.PrivateKey,io.Ecies("[ECIES constructor()] initialized secret: ",this.ecies.toHex()),io.Ecies("[ECIES constructor()] initialized public: ",this.ecies.publicKey.toHex()),io.Ecies("[ECIES constructor()] init with",this)}generateECIES(){this.ecies=new he.PrivateKey}getPublicKey(){return this.ecies.publicKey.toHex()}encrypt(s,sf){let Nf=s;if(this.enabled)try{io.Ecies("[ECIES: encrypt()] using otherPublicKey",sf);const ip=_.from(s),em=he.encrypt(sf,ip);Nf=_.from(em).toString("base64")}catch(ip){throw io.Ecies("[ECIES: encrypt()] error encrypt:",ip),io.Ecies("[ECIES: encrypt()] private: ",this.ecies.toHex()),io.Ecies("[ECIES: encrypt()] data: ",s),io.Ecies("[ECIES: encrypt()] otherkey: ",sf),ip}return Nf}decrypt(s){let sf=s;if(this.enabled)try{io.Ecies("[ECIES: decrypt()] using privateKey",this.ecies.toHex());const Nf=_.from(s.toString(),"base64");sf=he.decrypt(this.ecies.toHex(),Nf).toString()}catch(Nf){throw io.Ecies("[ECIES: decrypt()] error decrypt",Nf),io.Ecies("[ECIES: decrypt()] private: ",this.ecies.toHex()),io.Ecies("[ECIES: decrypt()] encryptedData: ",s),Nf}return sf}getKeyInfo(){return{private:this.ecies.toHex(),public:this.ecies.publicKey.toHex()}}toString(){io.Ecies("[ECIES: toString()]",this.getKeyInfo())}}var uo={version:"0.32.0"};const ho="https://metamask-sdk.api.cx.metamask.io/",fo=["websocket"],po=6048e5,go=3e3,mo={ETH_REQUESTACCOUNTS:"eth_requestAccounts"};function yo(r){const{context:s}=r;io.RemoteCommunication(`[RemoteCommunication: clean()] context=${s}`),r.channelConfig=void 0,r.ready=!1,r.originatorConnectStarted=!1}var vo,bo,wo,Eo,So,_o,Co;(Co=vo||(vo={})).DISCONNECTED="disconnected",Co.WAITING="waiting",Co.TIMEOUT="timeout",Co.LINKED="linked",Co.PAUSED="paused",Co.TERMINATED="terminated",function(r){r.KEY_INFO="key_info",r.SERVICE_STATUS="service_status",r.PROVIDER_UPDATE="provider_update",r.RPC_UPDATE="rpc_update",r.KEYS_EXCHANGED="keys_exchanged",r.JOIN_CHANNEL="join_channel",r.PUBLIC_KEY="public_key",r.CHANNEL_CREATED="channel_created",r.CLIENTS_CONNECTED="clients_connected",r.CLIENTS_DISCONNECTED="clients_disconnected",r.CLIENTS_WAITING="clients_waiting",r.CLIENTS_READY="clients_ready",r.REJECTED="rejected",r.WALLET_INIT="wallet_init",r.CHANNEL_PERSISTENCE="channel_persistence",r.CONFIG="config",r.MESSAGE_ACK="ack",r.SOCKET_DISCONNECTED="socket_disconnected",r.SOCKET_RECONNECT="socket_reconnect",r.OTP="otp",r.SDK_RPC_CALL="sdk_rpc_call",r.AUTHORIZED="authorized",r.CONNECTION_STATUS="connection_status",r.MESSAGE="message",r.TERMINATE="terminate"}(bo||(bo={})),(wo||(wo={})).KEY_EXCHANGE="key_exchange",function(r){r.KEY_HANDSHAKE_START="key_handshake_start",r.KEY_HANDSHAKE_CHECK="key_handshake_check",r.KEY_HANDSHAKE_SYN="key_handshake_SYN",r.KEY_HANDSHAKE_SYNACK="key_handshake_SYNACK",r.KEY_HANDSHAKE_ACK="key_handshake_ACK",r.KEY_HANDSHAKE_WALLET="key_handshake_wallet",r.KEY_HANDSHAKE_NONE="none"}(Eo||(Eo={}));class ko extends eventemitter2Exports.EventEmitter2{constructor({communicationLayer:s,otherPublicKey:sf,context:Nf,ecies:ip,logging:em}){super(),this.keysExchanged=!1,this.step=Eo.KEY_HANDSHAKE_NONE,this.debug=!1,this.context=Nf,this.communicationLayer=s,ip?.privateKey&&sf&&(io.KeyExchange(`[KeyExchange: constructor()] otherPubKey=${sf} set keysExchanged to true!`,ip),this.keysExchanged=!0),this.myECIES=new lo(Object.assign(Object.assign({},ip),{debug:em?.eciesLayer})),this.communicationLayer.state.eciesInstance=this.myECIES,this.myPublicKey=this.myECIES.getPublicKey(),this.debug=em?.keyExchangeLayer===!0,sf&&this.setOtherPublicKey(sf),this.communicationLayer.on(wo.KEY_EXCHANGE,this.onKeyExchangeMessage.bind(this))}onKeyExchangeMessage(s){const{relayPersistence:sf}=this.communicationLayer.remote.state;if(io.KeyExchange(`[KeyExchange: onKeyExchangeMessage()] context=${this.context} keysExchanged=${this.keysExchanged} relayPersistence=${sf}`,s),sf)return void io.KeyExchange("[KeyExchange: onKeyExchangeMessage()] Ignoring key exchange message because relay persistence is activated");const{message:Nf}=s;this.keysExchanged&&io.KeyExchange(`[KeyExchange: onKeyExchangeMessage()] context=${this.context} received handshake while already exchanged. step=${this.step} otherPubKey=${this.otherPublicKey}`),this.emit(bo.KEY_INFO,Nf.type),Nf.type===Eo.KEY_HANDSHAKE_SYN?(this.checkStep([Eo.KEY_HANDSHAKE_NONE,Eo.KEY_HANDSHAKE_ACK]),io.KeyExchange("[KeyExchange: onKeyExchangeMessage()] KEY_HANDSHAKE_SYN",Nf),Nf.pubkey&&this.setOtherPublicKey(Nf.pubkey),this.communicationLayer.sendMessage({type:Eo.KEY_HANDSHAKE_SYNACK,pubkey:this.myPublicKey}).catch(ip=>{io.KeyExchange("[KeyExchange: onKeyExchangeMessage()] Error sending KEY_HANDSHAKE_SYNACK",ip)}),this.setStep(Eo.KEY_HANDSHAKE_ACK)):Nf.type===Eo.KEY_HANDSHAKE_SYNACK?(this.checkStep([Eo.KEY_HANDSHAKE_SYNACK,Eo.KEY_HANDSHAKE_ACK,Eo.KEY_HANDSHAKE_NONE]),io.KeyExchange("[KeyExchange: onKeyExchangeMessage()] KEY_HANDSHAKE_SYNACK"),Nf.pubkey&&this.setOtherPublicKey(Nf.pubkey),this.communicationLayer.sendMessage({type:Eo.KEY_HANDSHAKE_ACK}).catch(ip=>{io.KeyExchange("[KeyExchange: onKeyExchangeMessage()] Error sending KEY_HANDSHAKE_ACK",ip)}),this.keysExchanged=!0,this.setStep(Eo.KEY_HANDSHAKE_ACK),this.emit(bo.KEYS_EXCHANGED)):Nf.type===Eo.KEY_HANDSHAKE_ACK&&(io.KeyExchange("[KeyExchange: onKeyExchangeMessage()] KEY_HANDSHAKE_ACK set keysExchanged to true!"),this.checkStep([Eo.KEY_HANDSHAKE_ACK,Eo.KEY_HANDSHAKE_NONE]),this.keysExchanged=!0,this.setStep(Eo.KEY_HANDSHAKE_ACK),this.emit(bo.KEYS_EXCHANGED))}resetKeys(s){this.clean(),this.myECIES=new lo(s)}clean(){io.KeyExchange(`[KeyExchange: clean()] context=${this.context} reset handshake state`),this.setStep(Eo.KEY_HANDSHAKE_NONE),this.emit(bo.KEY_INFO,this.step),this.keysExchanged=!1}start({isOriginator:s,force:sf}){const{relayPersistence:Nf,protocolVersion:ip}=this.communicationLayer.remote.state,em=ip>=2;Nf?io.KeyExchange("[KeyExchange: start()] Ignoring key exchange message because relay persistence is activated"):(io.KeyExchange(`[KeyExchange: start()] context=${this.context} protocolVersion=${ip} isOriginator=${s} step=${this.step} force=${sf} relayPersistence=${Nf} keysExchanged=${this.keysExchanged}`),s?!(this.keysExchanged||this.step!==Eo.KEY_HANDSHAKE_NONE&&this.step!==Eo.KEY_HANDSHAKE_SYNACK)||sf?(io.KeyExchange(`[KeyExchange: start()] context=${this.context} -- start key exchange (force=${sf}) -- step=${this.step}`,this.step),this.clean(),this.setStep(Eo.KEY_HANDSHAKE_SYNACK),this.communicationLayer.sendMessage({type:Eo.KEY_HANDSHAKE_SYN,pubkey:this.myPublicKey,v:2}).catch(tm=>{io.KeyExchange("[KeyExchange: start()] Error sending KEY_HANDSHAKE_SYN",tm)})):io.KeyExchange(`[KeyExchange: start()] context=${this.context} -- key exchange already ${this.keysExchanged?"done":"in progress"} -- aborted.`,this.step):this.keysExchanged&&sf!==!0?io.KeyExchange("[KeyExchange: start()] don't send KEY_HANDSHAKE_START -- exchange already done."):em?this.communicationLayer.sendMessage({type:Eo.KEY_HANDSHAKE_SYNACK,pubkey:this.myPublicKey,v:2}).catch(tm=>{io.KeyExchange("[KeyExchange: start()] Error sending KEY_HANDSHAKE_SYNACK",tm)}):(this.communicationLayer.sendMessage({type:Eo.KEY_HANDSHAKE_START}).catch(tm=>{io.KeyExchange("[KeyExchange: start()] Error sending KEY_HANDSHAKE_START",tm)}),this.clean()))}setStep(s){this.step=s,this.emit(bo.KEY_INFO,s)}checkStep(s){s.length>0&&s.indexOf(this.step.toString())}setRelayPersistence({localKey:s,otherKey:sf}){this.otherPublicKey=sf,this.myECIES=new lo({privateKey:s,debug:this.debug}),this.keysExchanged=!0}setKeysExchanged(s){this.keysExchanged=s}areKeysExchanged(){return this.keysExchanged}getMyPublicKey(){return this.myPublicKey}getOtherPublicKey(){return this.otherPublicKey}setOtherPublicKey(s){io.KeyExchange("[KeyExchange: setOtherPubKey()]",s),this.otherPublicKey=s}encryptMessage(s){if(!this.otherPublicKey)throw new Error("encryptMessage: Keys not exchanged - missing otherPubKey");return this.myECIES.encrypt(s,this.otherPublicKey)}decryptMessage(s){if(!this.otherPublicKey)throw new Error("decryptMessage: Keys not exchanged - missing otherPubKey");return this.myECIES.decrypt(s)}getKeyInfo(){return{ecies:Object.assign(Object.assign({},this.myECIES.getKeyInfo()),{otherPubKey:this.otherPublicKey}),step:this.step,keysExchanged:this.areKeysExchanged()}}toString(){const s={keyInfo:this.getKeyInfo(),keysExchanged:this.keysExchanged,step:this.step};return JSON.stringify(s)}}(function(r){r.TERMINATE="terminate",r.ANSWER="answer",r.OFFER="offer",r.CANDIDATE="candidate",r.JSONRPC="jsonrpc",r.WALLET_INFO="wallet_info",r.WALLET_INIT="wallet_init",r.ORIGINATOR_INFO="originator_info",r.PAUSE="pause",r.OTP="otp",r.AUTHORIZED="authorized",r.PING="ping",r.READY="ready"})(So||(So={})),function(r){r.REQUEST="sdk_connect_request_started",r.REQUEST_MOBILE="sdk_connect_request_started_mobile",r.RECONNECT="sdk_reconnect_request_started",r.CONNECTED="sdk_connection_established",r.CONNECTED_MOBILE="sdk_connection_established_mobile",r.AUTHORIZED="sdk_connection_authorized",r.REJECTED="sdk_connection_rejected",r.TERMINATED="sdk_connection_terminated",r.DISCONNECTED="sdk_disconnected",r.SDK_USE_EXTENSION="sdk_use_extension",r.SDK_RPC_REQUEST="sdk_rpc_request",r.SDK_RPC_REQUEST_RECEIVED="sdk_rpc_request_received",r.SDK_RPC_REQUEST_DONE="sdk_rpc_request_done",r.SDK_EXTENSION_UTILIZED="sdk_extension_utilized",r.SDK_USE_INAPP_BROWSER="sdk_use_inapp_browser"}(_o||(_o={}));const xo=(r,s,sf)=>a(void 0,void 0,void 0,function*(){var Nf,ip,em,tm,nm,rm;const{remote:om,state:im}=r,{channelId:am,isOriginator:sm}=im;if(s==="error_terminated")return io.SocketService(`handleJoinChannelResults: Channel ${am} terminated`),void r.emit(bo.TERMINATE);if(!sf)return void io.SocketService(`handleJoinChannelResults: No result for channel ${am}`);const{persistence:cm,walletKey:hm,rejected:fm}=sf;if(io.SocketService(`handleJoinChannelResults: Channel ${am} persistence=${cm} walletKey=${hm} rejected=${fm}`),fm)return io.SocketService(`handleJoinChannelResults: Channel ${am} rejected`),yield r.remote.disconnect({terminate:!0}),r.remote.emit(bo.REJECTED,{channelId:am}),void r.remote.emitServiceStatusEvent();if(hm&&!(!((Nf=om.state.channelConfig)===null||Nf===void 0)&&Nf.otherKey)){r.getKeyExchange().setOtherPublicKey(hm),(ip=r.state.keyExchange)===null||ip===void 0||ip.setKeysExchanged(!0),om.state.ready=!0,om.state.authorized=!0,om.emit(bo.AUTHORIZED);const{communicationLayer:pm,storageManager:mm}=om.state,_m=Object.assign(Object.assign({},om.state.channelConfig),{channelId:(em=om.state.channelId)!==null&&em!==void 0?em:"",validUntil:Date.now()+po,localKey:pm?.getKeyInfo().ecies.private,otherKey:hm});r.sendMessage({type:Eo.KEY_HANDSHAKE_ACK}).catch(ym=>{}),(tm=r.state.socket)===null||tm===void 0||tm.emit(So.PING,{id:am,clientType:sm?"dapp":"wallet",context:"on_channel_reconnect",message:""}),yield mm?.persistChannelConfig(_m),om.emitServiceStatusEvent(),om.setConnectionStatus(vo.LINKED)}cm&&(r.emit(bo.CHANNEL_PERSISTENCE),(nm=r.state.keyExchange)===null||nm===void 0||nm.setKeysExchanged(!0),om.state.ready=!0,om.state.authorized=!0,om.emit(bo.AUTHORIZED),co(Object.assign(Object.assign({id:am??"",event:sm?_o.CONNECTED:_o.CONNECTED_MOBILE},r.remote.state.originatorInfo),{sdkVersion:r.remote.state.sdkVersion,commLayer:r.state.communicationLayerPreference,commLayerVersion:uo.version,walletVersion:(rm=r.remote.state.walletInfo)===null||rm===void 0?void 0:rm.version}),im.communicationServerUrl).catch(pm=>{}))}),Mo=r=>new Promise(s=>{setTimeout(s,r)}),Ao=(r,s,...sf)=>a(void 0,[r,s,...sf],void 0,function*(Nf,ip,em=200){let tm;const nm=Date.now();let rm=!1;for(;!rm;){if(rm=Date.now()-nm>3e5,tm=ip[Nf],tm.elapsedTime!==void 0)return tm;yield Mo(em)}throw new Error(`RPC ${Nf} timed out`)}),Io=r=>a(void 0,void 0,void 0,function*(){const{state:s}=r,{socket:sf,channelId:Nf,context:ip,isOriginator:em,isReconnecting:tm}=s;if(tm)return io.SocketService("[SocketService: reconnectSocket()] Reconnection already in progress, skipping",r),!1;if(!sf)return io.SocketService("[SocketService: reconnectSocket()] socket is not defined",r),!1;if(!Nf)return!1;const{connected:nm}=sf;s.isReconnecting=!0,s.reconnectionAttempts=0,io.SocketService(`[SocketService: reconnectSocket()] connected=${nm} trying to reconnect after socketio disconnection`,r);try{for(;3>s.reconnectionAttempts;){if(io.SocketService(`[SocketService: reconnectSocket()] Attempt ${s.reconnectionAttempts+1} of 3`,r),yield Mo(200),sf.connected)return io.SocketService("Socket already connected --- ping to retrieve messages"),sf.emit(So.PING,{id:Nf,clientType:em?"dapp":"wallet",context:"on_channel_config",message:""}),!0;s.resumed=!0,sf.connect(),r.emit(bo.SOCKET_RECONNECT);try{if(yield new Promise((rm,om)=>{sf.emit(bo.JOIN_CHANNEL,{channelId:Nf,context:`${ip}connect_again`,clientType:em?"dapp":"wallet"},(im,am)=>a(void 0,void 0,void 0,function*(){try{yield xo(r,im,am),rm()}catch(sm){om(sm)}}))}),yield Mo(100),sf.connected)return io.SocketService(`Reconnection successful on attempt ${s.reconnectionAttempts+1}`),!0}catch(rm){io.SocketService(`Error during reconnection attempt ${s.reconnectionAttempts+1}:`,rm)}s.reconnectionAttempts+=1,3>s.reconnectionAttempts&&(yield Mo(200))}return io.SocketService("Failed to reconnect after 3 attempts"),!1}finally{s.isReconnecting=!1,s.reconnectionAttempts=0}});function Ro(r,s){return a(this,void 0,void 0,function*(){var sf;const Nf=(sf=r.state.keyExchange)===null||sf===void 0?void 0:sf.encryptMessage(JSON.stringify(s)),ip={id:r.state.channelId,context:r.state.context,clientType:r.state.isOriginator?"dapp":"wallet",message:Nf,plaintext:r.state.hasPlaintext?JSON.stringify(s):void 0};return io.SocketService(`[SocketService: encryptAndSendMessage()] context=${r.state.context}`,ip),s.type===So.TERMINATE&&(r.state.manualDisconnect=!0),new Promise((em,tm)=>{var nm;(nm=r.state.socket)===null||nm===void 0||nm.emit(bo.MESSAGE,ip,(rm,om)=>{var im;rm&&(io.SocketService(`[SocketService: encryptAndSendMessage()] error=${rm}`),tm(rm)),io.SocketService("[encryptAndSendMessage] response",om),em((im=om?.success)!==null&&im!==void 0&&im)})})})}var Po;(function(r){r.RPC_CHECK="rpcCheck",r.SKIPPED_RPC="skippedRpc"})(Po||(Po={}));const To=["eth_sendTransaction","eth_signTypedData","eth_signTransaction","personal_sign","wallet_requestPermissions","wallet_switchEthereumChain","eth_signTypedData_v3","eth_signTypedData_v4","metamask_connectSign","metamask_connectWith","metamask_batch"].map(r=>r.toLowerCase()),Oo=[{event:bo.CLIENTS_CONNECTED,handler:function(r,s){return sf=>a(this,void 0,void 0,function*(){var Nf,ip,em,tm,nm,rm,om,im,am,sm,cm;const hm=(ip=(Nf=r.remote.state.channelConfig)===null||Nf===void 0?void 0:Nf.relayPersistence)!==null&&ip!==void 0&&ip;if(io.SocketService(`[SocketService: handleClientsConnected()] context=${r.state.context} on 'clients_connected-${s}' relayPersistence=${hm} resumed=${r.state.resumed}  clientsPaused=${r.state.clientsPaused} keysExchanged=${(em=r.state.keyExchange)===null||em===void 0?void 0:em.areKeysExchanged()} isOriginator=${r.state.isOriginator}`),r.emit(bo.CLIENTS_CONNECTED,{isOriginator:r.state.isOriginator,keysExchanged:(tm=r.state.keyExchange)===null||tm===void 0?void 0:tm.areKeysExchanged(),context:r.state.context}),r.state.resumed)r.state.isOriginator||(io.SocketService(`[SocketService: handleClientsConnected()] context=${r.state.context} 'clients_connected' / keysExchanged=${(nm=r.state.keyExchange)===null||nm===void 0?void 0:nm.areKeysExchanged()} -- backward compatibility`),(rm=r.state.keyExchange)===null||rm===void 0||rm.start({isOriginator:(om=r.state.isOriginator)!==null&&om!==void 0&&om})),r.state.resumed=!1;else if(r.state.clientsPaused)io.SocketService("[SocketService: handleClientsConnected()] 'clients_connected' skip sending originatorInfo on pause");else if(!r.state.isOriginator){const fm=!hm;io.SocketService(`[SocketService: handleClientsConnected()] context=${r.state.context} on 'clients_connected' / keysExchanged=${(im=r.state.keyExchange)===null||im===void 0?void 0:im.areKeysExchanged()} -- force=${fm} -- backward compatibility`),io.SocketService(`[SocketService: handleClientsConnected()] context=${r.state.context} on 'clients_connected' / keysExchanged=${(am=r.state.keyExchange)===null||am===void 0?void 0:am.areKeysExchanged()} -- force=${fm} -- backward compatibility`),(sm=r.state.keyExchange)===null||sm===void 0||sm.start({isOriginator:(cm=r.state.isOriginator)!==null&&cm!==void 0&&cm,force:fm})}r.state.clientsConnected=!0,r.state.clientsPaused=!1})}},{event:bo.CHANNEL_CREATED,handler:function(r,s){return sf=>{io.SocketService(`[SocketService: handleChannelCreated()] context=${r.state.context} on 'channel_created-${s}'`,sf),r.emit(bo.CHANNEL_CREATED,sf)}}},{event:bo.CLIENTS_DISCONNECTED,handler:function(r,s){return()=>{var sf;r.state.clientsConnected=!1,io.SocketService(`[SocketService: handlesClientsDisconnected()] context=${r.state.context} on 'clients_disconnected-${s}'`),r.remote.state.relayPersistence?io.SocketService(`[SocketService: handlesClientsDisconnected()] context=${r.state.context} on 'clients_disconnected-${s}' - relayPersistence enabled, skipping key exchange cleanup.`):(r.state.isOriginator&&!r.state.clientsPaused&&((sf=r.state.keyExchange)===null||sf===void 0||sf.clean()),r.emit(bo.CLIENTS_DISCONNECTED,s))}}},{event:bo.CONFIG,handler:function(r,s){return sf=>a(this,void 0,void 0,function*(){var Nf,ip,em;io.SocketService(`[SocketService: handleChannelConfig()] update relayPersistence on 'config-${s}'`,sf);const{persistence:tm,walletKey:nm}=sf;r.state.isOriginator&&r.remote.state.channelConfig?(sf.walletKey&&!r.remote.state.channelConfig.otherKey&&(io.SocketService(`Setting wallet key ${nm}`),r.remote.state.channelConfig.otherKey=nm,r.getKeyExchange().setOtherPublicKey(sf.walletKey),(Nf=r.state.keyExchange)===null||Nf===void 0||Nf.setKeysExchanged(!0),yield r.remote.sendMessage({type:Eo.KEY_HANDSHAKE_ACK}),yield r.remote.sendMessage({type:So.PING}),yield(ip=r.remote.state.storageManager)===null||ip===void 0?void 0:ip.persistChannelConfig(r.remote.state.channelConfig)),tm!==!0||r.remote.state.channelConfig.relayPersistence||(io.SocketService(`Setting relay persistence ${tm}`),r.remote.state.channelConfig.relayPersistence=tm,r.remote.state.relayPersistence=!0,r.remote.emit(bo.CHANNEL_PERSISTENCE),r.remote.state.authorized=!0,r.remote.state.ready=!0,r.remote.emit(bo.AUTHORIZED),yield(em=r.remote.state.storageManager)===null||em===void 0?void 0:em.persistChannelConfig(r.remote.state.channelConfig))):r.state.isOriginator||sf.persistence&&(r.remote.state.relayPersistence=!0,r.remote.emit(bo.CHANNEL_PERSISTENCE))})}},{event:bo.MESSAGE,handler:function(r,s){return sf=>{var Nf,ip,em,tm,nm,rm,om,im,am,sm,cm,hm,fm,pm,mm,_m,ym,Sm;const{ackId:jm,message:Pm,error:Bm}=sf,qm=(Nf=r.remote.state.relayPersistence)!==null&&Nf!==void 0&&Nf;if(io.SocketService(`[SocketService handleMessage()]  relayPersistence=${qm}  context=${r.state.context} on 'message' ${s} keysExchanged=${(ip=r.state.keyExchange)===null||ip===void 0?void 0:ip.areKeysExchanged()}`,sf),Bm)throw io.SocketService(`
      [SocketService handleMessage()] context=${r.state.context}::on 'message' error=${Bm}`),new Error(Bm);const Rm=typeof Pm=="string";if(!Rm&&Pm?.type===Eo.KEY_HANDSHAKE_START)return qm?void 0:(io.SocketService(`[SocketService handleMessage()] context=${r.state.context}::on 'message' received HANDSHAKE_START isOriginator=${r.state.isOriginator}`,Pm),void((em=r.state.keyExchange)===null||em===void 0||em.start({isOriginator:(tm=r.state.isOriginator)!==null&&tm!==void 0&&tm,force:!0})));if(!Rm&&(!((nm=Pm?.type)===null||nm===void 0)&&nm.startsWith("key_handshake")))return qm?void 0:(io.SocketService(`[SocketService handleMessage()] context=${r.state.context}::on 'message' emit KEY_EXCHANGE`,Pm),void r.emit(wo.KEY_EXCHANGE,{message:Pm,context:r.state.context}));if(Rm&&!(!((rm=r.state.keyExchange)===null||rm===void 0)&&rm.areKeysExchanged())){let Lm=!1;try{io.SocketService(`[SocketService handleMessage()] context=${r.state.context}::on 'message' trying to decrypt message`),(om=r.state.keyExchange)===null||om===void 0||om.decryptMessage(Pm),Lm=!0}catch(Im){io.SocketService(`[SocketService handleMessage()] context=${r.state.context}::on 'message' error`,Im)}if(!Lm)return r.state.isOriginator?(am=r.state.keyExchange)===null||am===void 0||am.start({isOriginator:(sm=r.state.isOriginator)!==null&&sm!==void 0&&sm}):r.sendMessage({type:Eo.KEY_HANDSHAKE_START}).catch(Im=>{}),void io.SocketService(`Message ignored because invalid key exchange status. step=${(cm=r.state.keyExchange)===null||cm===void 0?void 0:cm.getKeyInfo().step}`,(hm=r.state.keyExchange)===null||hm===void 0?void 0:hm.getKeyInfo(),Pm);io.SocketService("Invalid key exchange status detected --- updating it."),(im=r.state.keyExchange)===null||im===void 0||im.setKeysExchanged(!0)}else if(!Rm&&Pm?.type)return void r.emit(bo.MESSAGE,Pm);if(!Rm)return void r.emit(bo.MESSAGE,Pm);const Dm=(fm=r.state.keyExchange)===null||fm===void 0?void 0:fm.decryptMessage(Pm),Um=JSON.parse(Dm??"{}");if(jm&&jm?.length>0&&(io.SocketService(`[SocketService handleMessage()] context=${r.state.context}::on 'message' ackid=${jm} channelId=${s}`),(pm=r.state.socket)===null||pm===void 0||pm.emit(bo.MESSAGE_ACK,{ackId:jm,channelId:s,clientType:r.state.isOriginator?"dapp":"wallet"})),r.state.clientsPaused=Um?.type===So.PAUSE,r.state.isOriginator&&Um.data){const Lm=Um.data,Im=r.state.rpcMethodTracker[Lm.id];if(Im){const dm=Date.now()-Im.timestamp;io.SocketService(`[SocketService handleMessage()] context=${r.state.context}::on 'message' received answer for id=${Lm.id} method=${Im.method} responseTime=${dm}`,Um),r.remote.state.analytics&&To.includes(Im.method.toLowerCase())&&co(Object.assign(Object.assign({id:(mm=r.remote.state.channelId)!==null&&mm!==void 0?mm:"",event:_o.SDK_RPC_REQUEST_DONE,sdkVersion:r.remote.state.sdkVersion,commLayerVersion:uo.version},r.remote.state.originatorInfo),{walletVersion:(_m=r.remote.state.walletInfo)===null||_m===void 0?void 0:_m.version,params:{method:Im.method,from:"mobile"}}),r.remote.state.communicationServerUrl).catch(km=>{});const gm=Object.assign(Object.assign({},Im),{result:Lm.result,error:Lm.error?{code:(ym=Lm.error)===null||ym===void 0?void 0:ym.code,message:(Sm=Lm.error)===null||Sm===void 0?void 0:Sm.message}:void 0,elapsedTime:dm});r.state.rpcMethodTracker[Lm.id]=gm,r.emit(bo.RPC_UPDATE,gm)}}r.emit(bo.MESSAGE,{message:Um})}}},{event:bo.REJECTED,handler:function(r,s){return sf=>a(this,void 0,void 0,function*(){var Nf;r.state.isOriginator&&!r.remote.state.ready?(io.SocketService(`[SocketService: handleChannelRejected()] context=${r.state.context} channelId=${s} isOriginator=${r.state.isOriginator} ready=${r.remote.state.ready}`,r.remote.state.originatorInfo),co(Object.assign(Object.assign({id:s,event:_o.REJECTED},r.remote.state.originatorInfo),{sdkVersion:r.remote.state.sdkVersion,commLayer:r.state.communicationLayerPreference,commLayerVersion:uo.version,walletVersion:(Nf=r.remote.state.walletInfo)===null||Nf===void 0?void 0:Nf.version}),r.remote.state.communicationServerUrl).catch(ip=>{}),yield r.remote.disconnect({terminate:!0}),r.remote.emit(bo.REJECTED,{channelId:s}),r.remote.setConnectionStatus(vo.DISCONNECTED)):io.SocketService(`[SocketService: handleChannelRejected()] SKIP -- channelId=${s} isOriginator=${r.state.isOriginator} ready=${r.remote.state.ready}`)})}},{event:"clients_waiting_to_join",handler:function(r,s){return sf=>{io.SocketService(`[SocketService: handleClientsWaitingToJoin()] context=${r.state.context} on 'clients_waiting_to_join-${s}'`,sf),r.emit(bo.CLIENTS_WAITING,sf)}}}],Lo=[{event:bo.KEY_INFO,handler:function(r){return s=>{io.SocketService("[SocketService: handleKeyInfo()] on 'KEY_INFO'",s),r.emit(bo.KEY_INFO,s)}}},{event:bo.KEYS_EXCHANGED,handler:function(r){return()=>{var s,sf,Nf;io.SocketService(`[SocketService: handleKeysExchanged()] on 'keys_exchanged' keyschanged=${(s=r.state.keyExchange)===null||s===void 0?void 0:s.areKeysExchanged()}`);const{channelConfig:ip}=r.remote.state;if(ip){const tm=r.getKeyExchange().getKeyInfo().ecies;ip.localKey=tm.private,ip.otherKey=tm.otherPubKey,r.remote.state.channelConfig=ip,(sf=r.remote.state.storageManager)===null||sf===void 0||sf.persistChannelConfig(ip).catch(nm=>{})}r.emit(bo.KEYS_EXCHANGED,{keysExchanged:(Nf=r.state.keyExchange)===null||Nf===void 0?void 0:Nf.areKeysExchanged(),isOriginator:r.state.isOriginator});const em={keyInfo:r.getKeyInfo()};r.emit(bo.SERVICE_STATUS,em)}}}];function No(r,s){io.SocketService(`[SocketService: setupChannelListener()] context=${r.state.context} setting socket listeners for channel ${s}...`);const{socket:sf}=r.state,{keyExchange:Nf}=r.state;sf&&r.state.isOriginator&&(r.state.debug&&(sf?.io.on("error",ip=>{io.SocketService(`[SocketService: setupChannelListener()] context=${r.state.context} socket event=error`,ip)}),sf?.io.on("reconnect",ip=>{io.SocketService(`[SocketService: setupChannelListener()] context=${r.state.context} socket event=reconnect`,ip),Io(r).catch(em=>{})}),sf?.io.on("reconnect_error",ip=>{io.SocketService(`[SocketService: setupChannelListener()] context=${r.state.context} socket event=reconnect_error`,ip)}),sf?.io.on("reconnect_failed",()=>{io.SocketService(`[SocketService: setupChannelListener()] context=${r.state.context} socket event=reconnect_failed`)})),sf?.on("disconnect",ip=>(io.SocketService(`[SocketService: setupChannelListener()] on 'disconnect' -- MetaMaskSDK socket disconnected '${ip}' begin recovery...`),(function(em){return tm=>{io.SocketService(`[SocketService: handleDisconnect()] on 'disconnect' manualDisconnect=${em.state.manualDisconnect}`,tm),em.state.manualDisconnect||(em.emit(bo.SOCKET_DISCONNECTED),Io(em).catch(nm=>{}))}}(r))(ip)))),Oo.forEach(({event:ip,handler:em})=>{sf?.on(`${ip}-${s}`,em(r,s))}),Lo.forEach(({event:ip,handler:em})=>{Nf?.on(ip,em(r))}),r.state.setupChannelListeners=!0}class $o extends eventemitter2Exports.EventEmitter2{constructor(s){super(),this.state={clientsConnected:!1,clientsPaused:!1,manualDisconnect:!1,lastRpcId:void 0,rpcMethodTracker:{},hasPlaintext:!1,communicationServerUrl:"",focusListenerAdded:!1,removeFocusListener:void 0,isReconnecting:!1,reconnectionAttempts:0},this.options=s;const{reconnect:sf,communicationLayerPreference:Nf,communicationServerUrl:ip,context:em,remote:tm,logging:nm}=s;this.state.resumed=sf,this.state.context=em,this.state.isOriginator=tm.state.isOriginator,this.state.communicationLayerPreference=Nf,this.state.debug=nm?.serviceLayer===!0,this.remote=tm,nm?.serviceLayer===!0&&t.enable("SocketService:Layer"),this.state.communicationServerUrl=ip,this.state.hasPlaintext=this.state.communicationServerUrl!==ho&&nm?.plaintext===!0,io.SocketService(`[SocketService: constructor()] Socket IO url: ${this.state.communicationServerUrl}`),this.initSocket()}initSocket(){var s;const{otherPublicKey:sf,ecies:Nf,logging:ip}=this.options,em={autoConnect:!1,transports:fo,withCredentials:!0},tm=this.state.communicationServerUrl;io.SocketService(`[SocketService: initSocket()] Socket IO url: ${tm}`),this.state.socket=lookup$1(tm,em),function(rm){if(typeof window<"u"&&typeof document<"u"&&(io.SocketService(`[SocketService: setupSocketFocusListener()] hasFocus=${document.hasFocus()}`,rm),!rm.state.focusListenerAdded)){const om=()=>{io.SocketService("Document has focus --- reconnecting socket"),Io(rm).catch(im=>{})};window.addEventListener("focus",om),rm.state.focusListenerAdded=!0,rm.state.removeFocusListener=()=>{window.removeEventListener("focus",om),rm.state.focusListenerAdded=!1}}}(this);const nm={communicationLayer:this,otherPublicKey:sf,sendPublicKey:!1,context:(s=this.state.context)!==null&&s!==void 0?s:"",ecies:Nf,logging:ip};this.state.keyExchange=new ko(nm)}resetKeys(){return io.SocketService("[SocketService: resetKeys()] Resetting keys."),void((s=this.state.keyExchange)===null||s===void 0||s.resetKeys());var s}createChannel(){return a(this,void 0,void 0,function*(){return function(s){return a(this,void 0,void 0,function*(){var sf,Nf,ip;if(io.SocketService(`[SocketService: createChannel()] context=${s.state.context}`),s.state.socket||s.initSocket(),(sf=s.state.socket)===null||sf===void 0?void 0:sf.connected)throw new Error("socket already connected");(Nf=s.state.socket)===null||Nf===void 0||Nf.connect(),s.state.manualDisconnect=!1,s.state.isOriginator=!0;const em=v4();s.state.channelId=em,No(s,em),yield new Promise((nm,rm)=>{var om;(om=s.state.socket)===null||om===void 0||om.emit(bo.JOIN_CHANNEL,{channelId:em,context:`${s.state.context}createChannel`,clientType:"dapp"},(im,am)=>a(this,void 0,void 0,function*(){try{yield xo(s,im,am),nm()}catch(sm){rm(sm)}}))});const tm=(ip=s.state.keyExchange)===null||ip===void 0?void 0:ip.getKeyInfo();return{channelId:em,pubKey:tm?.ecies.public||"",privKey:tm?.ecies.private||""}})}(this)})}connectToChannel({channelId:s,withKeyExchange:sf=!1,authorized:Nf}){return function(ip){return a(this,arguments,void 0,function*({options:em,instance:tm}){const{channelId:nm,authorized:rm,withKeyExchange:om}=em,{state:im,remote:am}=tm,{isOriginator:sm=!1,socket:cm,keyExchange:hm}=im,{channelConfig:fm}=am.state;if(cm?.connected)throw new Error("socket already connected");if(sm&&fm?.relayPersistence){const{localKey:pm,otherKey:mm}=fm;pm&&mm&&hm?.setRelayPersistence({localKey:pm,otherKey:mm})}return Object.assign(im,{manualDisconnect:!1,withKeyExchange:om,isOriginator:sm,channelId:nm}),cm?.connect(),No(tm,nm),!sm&&rm&&(hm?.setKeysExchanged(!0),Object.assign(am.state,{ready:!0,authorized:!0})),new Promise(pm=>{var mm;const _m=(mm=hm?.getKeyInfo())===null||mm===void 0?void 0:mm.ecies.public;cm?.emit(bo.JOIN_CHANNEL,{channelId:nm,context:`${im.context}_connectToChannel`,clientType:sm?"dapp":"wallet",publicKey:rm&&!sm?_m:void 0},(ym,Sm)=>a(this,void 0,void 0,function*(){yield xo(tm,ym,Sm),pm()}))})})}({options:{channelId:s,withKeyExchange:sf,authorized:Nf},instance:this})}getKeyInfo(){return this.state.keyExchange.getKeyInfo()}keyCheck(){var s,sf;(sf=(s=this).state.socket)===null||sf===void 0||sf.emit(bo.MESSAGE,{id:s.state.channelId,context:s.state.context,message:{type:Eo.KEY_HANDSHAKE_CHECK,pubkey:s.getKeyInfo().ecies.otherPubKey}})}getKeyExchange(){return this.state.keyExchange}sendMessage(s){return a(this,void 0,void 0,function*(){return function(sf,Nf){return a(this,void 0,void 0,function*(){var ip,em,tm;if(!sf.state.channelId)throw io.SocketService("handleSendMessage: no channelId - Create a channel first"),new Error("Create a channel first");if(io.SocketService(`[SocketService: handleSendMessage()] context=${sf.state.context} areKeysExchanged=${(ip=sf.state.keyExchange)===null||ip===void 0?void 0:ip.areKeysExchanged()}`,Nf),(em=Nf?.type)===null||em===void 0?void 0:em.startsWith("key_handshake"))return function(rm,om){var im;io.SocketService(`[SocketService: handleKeyHandshake()] context=${rm.state.context}`,om),(im=rm.state.socket)===null||im===void 0||im.emit(bo.MESSAGE,{id:rm.state.channelId,context:rm.state.context,clientType:rm.state.isOriginator?"dapp":"wallet",message:om})}(sf,Nf),!0;(function(rm,om){var im;if(!(!((im=rm.state.keyExchange)===null||im===void 0)&&im.areKeysExchanged())&&!rm.remote.state.relayPersistence)throw io.SocketService(`[SocketService: validateKeyExchange()] context=${rm.state.context} ERROR keys not exchanged`,om),new Error("Keys not exchanged BBB")})(sf,Nf),function(rm,om){var im;const am=(im=om?.method)!==null&&im!==void 0?im:"",sm=om?.id;rm.state.isOriginator&&sm&&(rm.state.rpcMethodTracker[sm]={id:sm,timestamp:Date.now(),method:am},rm.emit(bo.RPC_UPDATE,rm.state.rpcMethodTracker[sm]))}(sf,Nf);const nm=yield Ro(sf,Nf);return sf.remote.state.analytics&&sf.remote.state.isOriginator&&Nf.method&&To.includes(Nf.method.toLowerCase())&&co({id:(tm=sf.remote.state.channelId)!==null&&tm!==void 0?tm:"",event:_o.SDK_RPC_REQUEST,params:{method:Nf.method,from:"mobile"}},sf.remote.state.communicationServerUrl).catch(rm=>{}),function(rm,om){return a(this,void 0,void 0,function*(){var im;const am=om?.id,sm=(im=om?.method)!==null&&im!==void 0?im:"";if(rm.state.isOriginator&&am)try{const cm=Ao(am,rm.state.rpcMethodTracker,200).then(pm=>({type:Po.RPC_CHECK,result:pm})),hm=a(this,void 0,void 0,function*(){const pm=yield(_m=>a(void 0,[_m],void 0,function*({rpcId:ym,instance:Sm}){for(;Sm.state.lastRpcId===ym||Sm.state.lastRpcId===void 0;)yield Mo(200);return Sm.state.lastRpcId}))({instance:rm,rpcId:am}),mm=yield Ao(pm,rm.state.rpcMethodTracker,200);return{type:Po.SKIPPED_RPC,result:mm}}),fm=yield Promise.race([cm,hm]);if(fm.type===Po.RPC_CHECK){const pm=fm.result;io.SocketService(`[SocketService:handleRpcReplies()] id=${om.id} ${sm} ( ${pm.elapsedTime} ms)`,pm.result)}else{if(fm.type!==Po.SKIPPED_RPC)throw new Error(`Error handling RPC replies for ${am}`);{const pm=Object.assign(Object.assign({},rm.state.rpcMethodTracker[am]),{error:new Error("SDK_CONNECTION_ISSUE")});rm.emit(bo.RPC_UPDATE,pm);const mm={data:Object.assign(Object.assign({},pm),{jsonrpc:"2.0"}),name:"metamask-provider"};rm.emit(bo.MESSAGE,{message:mm})}}}catch(cm){throw cm}})}(sf,Nf).catch(rm=>{}),nm})}(this,s)})}ping(){return function(s){return a(this,void 0,void 0,function*(){var sf,Nf;io.SocketService(`[SocketService: ping()] context=${s.state.context} originator=${s.state.isOriginator} keysExchanged=${(sf=s.state.keyExchange)===null||sf===void 0?void 0:sf.areKeysExchanged()}`),(Nf=s.state.socket)===null||Nf===void 0||Nf.emit(So.PING,{id:s.state.channelId,context:"ping",clientType:s.remote.state.isOriginator?"dapp":"wallet",message:""})})}(this)}pause(){return function(s){return a(this,void 0,void 0,function*(){var sf,Nf;io.SocketService(`[SocketService: pause()] context=${s.state.context}`),s.state.manualDisconnect=!0,!((sf=s.state.keyExchange)===null||sf===void 0)&&sf.areKeysExchanged()&&(yield s.sendMessage({type:So.PAUSE})),(Nf=s.state.socket)===null||Nf===void 0||Nf.disconnect()})}(this)}isConnected(){var s;return(s=this.state.socket)===null||s===void 0?void 0:s.connected}resume(){return function(s){return a(this,void 0,void 0,function*(){const{state:sf,remote:Nf}=s,{socket:ip,channelId:em,context:tm,keyExchange:nm,isOriginator:rm}=sf,{isOriginator:om}=Nf.state;if(io.SocketService(`[SocketService: resume()] channelId=${em} context=${tm} connected=${ip?.connected} manualDisconnect=${sf.manualDisconnect} resumed=${sf.resumed} keysExchanged=${nm?.areKeysExchanged()}`),!em)throw io.SocketService("[SocketService: resume()] channelId is not defined"),new Error("ChannelId is not defined");ip?.connected?(io.SocketService("[SocketService: resume()] already connected."),ip.emit(So.PING,{id:em,clientType:om?"dapp":"wallet",context:"on_channel_config",message:""}),Nf.hasRelayPersistence()||nm?.areKeysExchanged()||(rm?yield s.sendMessage({type:So.READY}):nm?.start({isOriginator:!1}))):(ip?.connect(),io.SocketService(`[SocketService: resume()] after connecting socket --> connected=${ip?.connected}`),ip?.emit(bo.JOIN_CHANNEL,{channelId:em,context:`${tm}_resume`,clientType:om?"dapp":"wallet"},(im,am)=>a(this,void 0,void 0,function*(){try{yield xo(s,im,am)}catch{}}))),sf.manualDisconnect=!1,sf.resumed=!0})}(this)}getRPCMethodTracker(){return this.state.rpcMethodTracker}disconnect(s){return function(sf,Nf){var ip,em,tm,nm,rm;io.SocketService(`[SocketService: disconnect()] context=${sf.state.context}`,Nf),Nf?.terminate&&((em=(ip=sf.state).removeFocusListener)===null||em===void 0||em.call(ip),sf.state.channelId=Nf.channelId,(tm=sf.state.socket)===null||tm===void 0||tm.removeAllListeners(),(nm=sf.state.keyExchange)===null||nm===void 0||nm.clean(),sf.remote.state.ready=!1,sf.state.socket=void 0,sf.state.rpcMethodTracker={}),sf.state.manualDisconnect=!0,(rm=sf.state.socket)===null||rm===void 0||rm.disconnect()}(this,s)}}var Do,Bo,Ko;function jo(r){return()=>a(this,void 0,void 0,function*(){var s,sf,Nf;const{state:ip}=r;if(ip.authorized)return;yield a(this,void 0,void 0,function*(){for(;!ip.walletInfo;)yield Mo(500)});const em="7.3".localeCompare(((s=ip.walletInfo)===null||s===void 0?void 0:s.version)||"");if(io.RemoteCommunication(`[RemoteCommunication: handleAuthorizedEvent()] HACK 'authorized' version=${(sf=ip.walletInfo)===null||sf===void 0?void 0:sf.version} compareValue=${em}`),em!==1)return;const tm=ip.platformType===Bo.MobileWeb||ip.platformType===Bo.ReactNative||ip.platformType===Bo.MetaMaskMobileWebview;io.RemoteCommunication(`[RemoteCommunication: handleAuthorizedEvent()] HACK 'authorized' platform=${ip.platformType} secure=${tm} channel=${ip.channelId} walletVersion=${(Nf=ip.walletInfo)===null||Nf===void 0?void 0:Nf.version}`),tm&&(ip.authorized=!0,r.emit(bo.AUTHORIZED))})}function Uo(r){return s=>{const{state:sf}=r;io.RemoteCommunication(`[RemoteCommunication: handleChannelCreatedEvent()] context=${sf.context} on 'channel_created' channelId=${s}`),r.emit(bo.CHANNEL_CREATED,s)}}function Ho(r,s){return()=>{var sf,Nf,ip,em;const{state:tm}=r;io.RemoteCommunication(`[RemoteCommunication: handleClientsConnectedEvent()] on 'clients_connected' channel=${tm.channelId} keysExchanged=${(Nf=(sf=tm.communicationLayer)===null||sf===void 0?void 0:sf.getKeyInfo())===null||Nf===void 0?void 0:Nf.keysExchanged}`),tm.analytics&&co(Object.assign(Object.assign({id:(ip=tm.channelId)!==null&&ip!==void 0?ip:"",event:tm.reconnection?_o.RECONNECT:tm.isOriginator?_o.REQUEST:_o.REQUEST_MOBILE},tm.originatorInfo),{commLayer:s,sdkVersion:tm.sdkVersion,walletVersion:(em=tm.walletInfo)===null||em===void 0?void 0:em.version,commLayerVersion:uo.version}),tm.communicationServerUrl).catch(nm=>{}),tm.clientsConnected=!0,tm.originatorInfoSent=!1,r.emit(bo.CLIENTS_CONNECTED)}}function Fo(r){return s=>{const{state:sf}=r;io.RemoteCommunication(`[RemoteCommunication: handleClientsDisconnectedEvent()] context=${sf.context} on 'clients_disconnected' channelId=${s}`),sf.relayPersistence||(sf.clientsConnected=!1,sf.ready=!1,sf.authorized=!1),r.emit(bo.CLIENTS_DISCONNECTED,sf.channelId),r.setConnectionStatus(vo.DISCONNECTED)}}function zo(r){return s=>{var sf;const{state:Nf}=r;if(io.RemoteCommunication(`[RemoteCommunication: handleClientsWaitingEvent()] context=${Nf.context} on 'clients_waiting' numberUsers=${s} ready=${Nf.ready} autoStarted=${Nf.originatorConnectStarted}`),r.setConnectionStatus(vo.WAITING),r.emit(bo.CLIENTS_WAITING,s),Nf.originatorConnectStarted){io.RemoteCommunication(`[RemoteCommunication: handleClientsWaitingEvent()] on 'clients_waiting' watch autoStarted=${Nf.originatorConnectStarted} timeout`,Nf.autoConnectOptions);const ip=((sf=Nf.autoConnectOptions)===null||sf===void 0?void 0:sf.timeout)||3e3,em=setTimeout(()=>{io.RemoteCommunication(`[RemoteCommunication: handleClientsWaitingEvent()] setTimeout(${ip}) terminate channelConfig`,Nf.autoConnectOptions),Nf.originatorConnectStarted=!1,Nf.ready||r.setConnectionStatus(vo.TIMEOUT),clearTimeout(em)},ip)}}}function qo(r,s){return sf=>{var Nf,ip,em,tm,nm,rm,om,im;const{state:am}=r;if(io.RemoteCommunication(`[RemoteCommunication: handleKeysExchangedEvent()] context=${am.context} on commLayer.'keys_exchanged' channel=${am.channelId}`,sf),(ip=(Nf=am.communicationLayer)===null||Nf===void 0?void 0:Nf.getKeyInfo())===null||ip===void 0?void 0:ip.keysExchanged){const sm=Object.assign(Object.assign({},am.channelConfig),{channelId:(em=am.channelId)!==null&&em!==void 0?em:"",validUntil:((tm=am.channelConfig)===null||tm===void 0?void 0:tm.validUntil)||po,localKey:am.communicationLayer.getKeyInfo().ecies.private,otherKey:am.communicationLayer.getKeyInfo().ecies.otherPubKey});(nm=am.storageManager)===null||nm===void 0||nm.persistChannelConfig(sm).catch(cm=>{}),r.setConnectionStatus(vo.LINKED)}(function(sm,cm){var hm,fm,pm,mm,_m,ym,Sm,jm;const{state:Pm}=sm;io.RemoteCommunication(`[RemoteCommunication: setLastActiveDate()] channel=${Pm.channelId}`,cm);const Bm=Object.assign(Object.assign({},Pm.channelConfig),{channelId:(hm=Pm.channelId)!==null&&hm!==void 0?hm:"",validUntil:(pm=(fm=Pm.channelConfig)===null||fm===void 0?void 0:fm.validUntil)!==null&&pm!==void 0?pm:0,relayPersistence:Pm.relayPersistence,localKey:(_m=(mm=Pm.communicationLayer)===null||mm===void 0?void 0:mm.state.keyExchange)===null||_m===void 0?void 0:_m.getKeyInfo().ecies.private,otherKey:(Sm=(ym=Pm.communicationLayer)===null||ym===void 0?void 0:ym.state.keyExchange)===null||Sm===void 0?void 0:Sm.getKeyInfo().ecies.otherPubKey,lastActive:cm.getTime()});(jm=Pm.storageManager)===null||jm===void 0||jm.persistChannelConfig(Bm)})(r,new Date),am.analytics&&am.channelId&&co(Object.assign(Object.assign({id:am.channelId,event:sf.isOriginator?_o.CONNECTED:_o.CONNECTED_MOBILE},am.originatorInfo),{sdkVersion:am.sdkVersion,commLayer:s,commLayerVersion:uo.version,walletVersion:(rm=am.walletInfo)===null||rm===void 0?void 0:rm.version}),am.communicationServerUrl).catch(sm=>{}),am.isOriginator=sf.isOriginator,sf.isOriginator||((om=am.communicationLayer)===null||om===void 0||om.sendMessage({type:So.READY}),am.ready=!0,am.paused=!1),sf.isOriginator&&!am.originatorInfoSent&&((im=am.communicationLayer)===null||im===void 0||im.sendMessage({type:So.ORIGINATOR_INFO,originatorInfo:am.originatorInfo,originator:am.originatorInfo}),am.originatorInfoSent=!0)}}function Wo(r){return s=>{let sf=s;s.message&&(sf=sf.message),function(Nf,ip){const{state:em}=ip;if(io.RemoteCommunication(`[RemoteCommunication: onCommunicationLayerMessage()] context=${em.context} on 'message' typeof=${typeof Nf}`,Nf),ip.state.ready=!0,em.isOriginator||Nf.type!==So.ORIGINATOR_INFO)if(em.isOriginator&&Nf.type===So.WALLET_INFO)(function(tm,nm){const{state:rm}=tm;rm.walletInfo=nm.walletInfo,rm.paused=!1})(ip,Nf);else{if(em.isOriginator&&Nf.type===So.WALLET_INIT)(function(tm,nm){return a(this,void 0,void 0,function*(){var rm,om,im;const{state:am}=tm;if(am.isOriginator){const sm=nm.data||{};if(typeof sm=="object"&&"accounts"in sm&&"chainId"in sm&&"walletKey"in sm)try{const{channelConfig:cm}=tm.state;if(io.RemoteCommunication("WALLET_INIT: channelConfig",JSON.stringify(cm,null,2)),cm){const hm=sm.accounts,fm=sm.chainId,pm=sm.walletKey;let mm,_m=!1;"deeplinkProtocol"in sm&&(_m=!!sm.deeplinkProtocol,tm.state.deeplinkProtocolAvailable=_m),"walletVersion"in sm&&(mm=sm.walletVersion),yield(rm=tm.state.storageManager)===null||rm===void 0?void 0:rm.persistChannelConfig(Object.assign(Object.assign({},cm),{otherKey:pm,walletVersion:mm,deeplinkProtocolAvailable:_m,relayPersistence:!0})),yield(om=tm.state.storageManager)===null||om===void 0?void 0:om.persistAccounts(hm),yield(im=tm.state.storageManager)===null||im===void 0?void 0:im.persistChainId(fm)}tm.emit(bo.WALLET_INIT,{accounts:sm.accounts,chainId:sm.chainId})}catch{}}})})(ip,Nf).catch(tm=>{io.RemoteCommunication(`[RemoteCommunication: onCommunicationLayerMessage()] error=${tm}`)});else if(Nf.type===So.TERMINATE)(function(tm){return a(this,void 0,void 0,function*(){const{state:nm}=tm;nm.isOriginator&&(yield Jo({options:{terminate:!0,sendMessage:!1},instance:tm}),tm.emit(bo.TERMINATE))})})(ip).catch(tm=>{io.RemoteCommunication(`[RemoteCommunication: onCommunicationLayerMessage()] error=${tm}`)});else if(Nf.type===So.PAUSE)(function(tm){const{state:nm}=tm;nm.paused=!0,tm.setConnectionStatus(vo.PAUSED)})(ip);else if(Nf.type===So.READY&&em.isOriginator)(function(tm){const{state:nm}=tm;tm.setConnectionStatus(vo.LINKED);const rm=nm.paused;nm.paused=!1,tm.emit(bo.CLIENTS_READY,{isOriginator:nm.isOriginator,walletInfo:nm.walletInfo}),rm&&(nm.authorized=!0,tm.emit(bo.AUTHORIZED))})(ip);else{if(Nf.type===So.OTP&&em.isOriginator)return void function(tm,nm){var rm;const{state:om}=tm;tm.emit(bo.OTP,nm.otpAnswer),"6.6".localeCompare(((rm=om.walletInfo)===null||rm===void 0?void 0:rm.version)||"")===1&&tm.emit(bo.SDK_RPC_CALL,{method:mo.ETH_REQUESTACCOUNTS,params:[]})}(ip,Nf);Nf.type===So.AUTHORIZED&&em.isOriginator&&function(tm){const{state:nm}=tm;nm.authorized=!0,tm.emit(bo.AUTHORIZED)}(ip)}ip.emit(bo.MESSAGE,Nf)}else(function(tm,nm){var rm;const{state:om}=tm;(rm=om.communicationLayer)===null||rm===void 0||rm.sendMessage({type:So.WALLET_INFO,walletInfo:om.walletInfo}),om.originatorInfo=nm.originatorInfo||nm.originator,tm.emit(bo.CLIENTS_READY,{isOriginator:om.isOriginator,originatorInfo:om.originatorInfo}),om.paused=!1})(ip,Nf)}(sf,r)}}function Vo(r){return()=>{const{state:s}=r;io.RemoteCommunication("[RemoteCommunication: handleSocketReconnectEvent()] on 'socket_reconnect' -- reset key exchange status / set ready to false"),s.ready=!1,s.authorized=!1,yo(s),r.emitServiceStatusEvent({context:"socket_reconnect"})}}function Go(r){return()=>{const{state:s}=r;io.RemoteCommunication("[RemoteCommunication: handleSocketDisconnectedEvent()] on 'socket_Disconnected' set ready to false"),s.ready=!1}}function Yo(r){return()=>a(this,void 0,void 0,function*(){var s,sf,Nf,ip,em,tm,nm;const{state:rm}=r;io.RemoteCommunication(`[RemoteCommunication: handleFullPersistenceEvent()] context=${rm.context}`),r.state.ready=!0,r.state.clientsConnected=!0,r.state.authorized=!0,r.state.relayPersistence=!0,(s=r.state.communicationLayer)===null||s===void 0||s.getKeyExchange().setKeysExchanged(!0),r.emit(bo.KEYS_EXCHANGED,{keysExchanged:!0,isOriginator:!0}),r.emit(bo.AUTHORIZED),r.emit(bo.CLIENTS_READY),r.emit(bo.CHANNEL_PERSISTENCE);try{rm.channelConfig=Object.assign(Object.assign({},rm.channelConfig),{localKey:(sf=rm.communicationLayer)===null||sf===void 0?void 0:sf.getKeyExchange().getKeyInfo().ecies.private,otherKey:(Nf=rm.communicationLayer)===null||Nf===void 0?void 0:Nf.getKeyExchange().getOtherPublicKey(),channelId:(ip=rm.channelId)!==null&&ip!==void 0?ip:"",validUntil:(tm=(em=rm.channelConfig)===null||em===void 0?void 0:em.validUntil)!==null&&tm!==void 0?tm:po,relayPersistence:!0}),yield(nm=rm.storageManager)===null||nm===void 0?void 0:nm.persistChannelConfig(rm.channelConfig)}catch{}})}function Zo({communicationLayerPreference:r,otherPublicKey:s,reconnect:sf,ecies:Nf,communicationServerUrl:ip=ho,instance:em}){var tm,nm,rm,om,im,am,sm,cm,hm,fm,pm;const{state:mm}=em;if(io.RemoteCommunication("[initCommunicationLayer()] ",JSON.stringify(mm,null,2)),r!==Do.SOCKET)throw new Error("Invalid communication protocol");mm.communicationLayer=new $o({communicationLayerPreference:r,otherPublicKey:s,reconnect:sf,transports:mm.transports,communicationServerUrl:ip,context:mm.context,ecies:Nf,logging:mm.logging,remote:em});let _m=typeof document<"u"&&document.URL||"",ym=typeof document<"u"&&document.title||"";!((tm=mm.dappMetadata)===null||tm===void 0)&&tm.url&&(_m=mm.dappMetadata.url),!((nm=mm.dappMetadata)===null||nm===void 0)&&nm.name&&(ym=mm.dappMetadata.name);const Sm=(am=(om=(rm=mm.dappMetadata)===null||rm===void 0?void 0:rm.name)!==null&&om!==void 0?om:(im=mm.dappMetadata)===null||im===void 0?void 0:im.url)!==null&&am!==void 0?am:"N/A",jm=typeof window<"u"&&window.location!==void 0&&(sm=window.location.hostname)!==null&&sm!==void 0?sm:Sm,Pm={url:_m,title:ym,source:(cm=mm.dappMetadata)===null||cm===void 0?void 0:cm.source,dappId:jm,icon:((hm=mm.dappMetadata)===null||hm===void 0?void 0:hm.iconUrl)||((fm=mm.dappMetadata)===null||fm===void 0?void 0:fm.base64Icon),platform:mm.platformType,apiVersion:uo.version,connector:(pm=mm.dappMetadata)===null||pm===void 0?void 0:pm.connector};mm.originatorInfo=Pm;const Bm={[bo.AUTHORIZED]:jo(em),[bo.MESSAGE]:Wo(em),[bo.CHANNEL_PERSISTENCE]:Yo(em),[bo.CLIENTS_CONNECTED]:Ho(em,r),[bo.KEYS_EXCHANGED]:qo(em,r),[bo.SOCKET_DISCONNECTED]:Go(em),[bo.SOCKET_RECONNECT]:Vo(em),[bo.CLIENTS_DISCONNECTED]:Fo(em),[bo.KEY_INFO]:()=>{},[bo.CHANNEL_CREATED]:Uo(em),[bo.CLIENTS_WAITING]:zo(em),[bo.RPC_UPDATE]:qm=>{em.emit(bo.RPC_UPDATE,qm)}};for(const[qm,Rm]of Object.entries(Bm))try{mm.communicationLayer.on(qm,Rm)}catch{}}function Jo(r){return a(this,arguments,void 0,function*({options:s,instance:sf}){const{state:Nf}=sf;return io.RemoteCommunication(`[RemoteCommunication: disconnect()] channel=${Nf.channelId}`,s),new Promise((ip,em)=>{var tm,nm,rm,om,im,am;s?.terminate?(sf.state.ready&&co({id:(tm=sf.state.channelId)!==null&&tm!==void 0?tm:"",event:_o.TERMINATED},sf.state.communicationServerUrl).catch(sm=>{}),Nf.ready=!1,Nf.paused=!1,(nm=Nf.storageManager)===null||nm===void 0||nm.terminate((rm=Nf.channelId)!==null&&rm!==void 0?rm:""),sf.state.terminated=!0,s.sendMessage?!((om=Nf.communicationLayer)===null||om===void 0)&&om.getKeyInfo().keysExchanged&&sf.state.communicationLayer&&Ro(sf.state.communicationLayer,{type:So.TERMINATE}).then(()=>{ip(!0)}).catch(sm=>{em(sm)}):ip(!0),Nf.authorized=!1,Nf.relayPersistence=!1,Nf.channelId=v4(),s.channelId=Nf.channelId,Nf.channelConfig=void 0,Nf.originatorConnectStarted=!1,(im=Nf.communicationLayer)===null||im===void 0||im.disconnect(s),sf.setConnectionStatus(vo.TERMINATED)):((am=Nf.communicationLayer)===null||am===void 0||am.disconnect(s),sf.setConnectionStatus(vo.DISCONNECTED),ip(!0))})})}(Do||(Do={})).SOCKET="socket",function(r){r.NonBrowser="nodejs",r.MetaMaskMobileWebview="in-app-browser",r.DesktopWeb="web-desktop",r.MobileWeb="web-mobile",r.ReactNative="react-native"}(Bo||(Bo={}));class Xo extends eventemitter2Exports.EventEmitter2{constructor(s){super(),this.state={ready:!1,authorized:!1,isOriginator:!1,terminated:!1,protocolVersion:1,paused:!1,deeplinkProtocolAvailable:!1,platformType:"metamask-mobile",analytics:!1,reconnection:!1,originatorInfoSent:!1,communicationServerUrl:ho,context:"",persist:!1,clientsConnected:!1,sessionDuration:po,originatorConnectStarted:!1,debug:!1,_connectionStatus:vo.DISCONNECTED},this._options=s;const{platformType:sf,communicationLayerPreference:Nf,otherPublicKey:ip,reconnect:em,walletInfo:tm,dappMetadata:nm,protocolVersion:rm,transports:om,context:im,relayPersistence:am,ecies:sm,analytics:cm=!1,storage:hm,sdkVersion:fm,communicationServerUrl:pm=ho,logging:mm,autoConnect:_m={timeout:go}}=s;this.state.otherPublicKey=ip,this.state.dappMetadata=nm,this.state.walletInfo=tm,this.state.transports=om,this.state.platformType=sf,this.state.analytics=cm,this.state.protocolVersion=rm??1,this.state.isOriginator=!ip,this.state.relayPersistence=am,this.state.communicationServerUrl=pm,this.state.context=im,this.state.terminated=!1,this.state.sdkVersion=fm,this.setMaxListeners(50),this.setConnectionStatus(vo.DISCONNECTED),hm?.duration&&(this.state.sessionDuration=po),this.state.storageOptions=hm,this.state.autoConnectOptions=_m,this.state.debug=mm?.remoteLayer===!0,mm?.remoteLayer===!0&&t.enable("RemoteCommunication:Layer"),mm?.serviceLayer===!0&&t.enable("SocketService:Layer"),mm?.eciesLayer===!0&&t.enable("ECIES:Layer"),mm?.keyExchangeLayer===!0&&t.enable("KeyExchange:Layer"),this.state.logging=mm,hm?.storageManager&&(this.state.storageManager=hm.storageManager),io.RemoteCommunication(`[RemoteCommunication: constructor()] protocolVersion=${rm} relayPersistence=${am} isOriginator=${this.state.isOriginator} communicationLayerPreference=${Nf} otherPublicKey=${ip} reconnect=${em}`),this.state.isOriginator||Zo({communicationLayerPreference:Nf,otherPublicKey:ip,reconnect:em,ecies:sm,communicationServerUrl:pm,instance:this}),this.emitServiceStatusEvent({context:"constructor"})}initFromDappStorage(){return a(this,void 0,void 0,function*(){var s;if(this.state.storageManager){const sf=yield this.state.storageManager.getPersistedChannelConfig({});sf&&(this.state.channelConfig=sf,this.state.channelId=sf.channelId,this.state.deeplinkProtocolAvailable=(s=sf.deeplinkProtocolAvailable)!==null&&s!==void 0&&s,sf.relayPersistence&&(this.state.authorized=!0,this.state.ready=!0,this.setConnectionStatus(vo.LINKED),yield this.connectToChannel({channelId:sf.channelId})))}Zo({communicationLayerPreference:Do.SOCKET,otherPublicKey:this.state.otherPublicKey,reconnect:this._options.reconnect,ecies:this._options.ecies,communicationServerUrl:this.state.communicationServerUrl,instance:this})})}originatorSessionConnect(){return a(this,void 0,void 0,function*(){return yield function(s){return a(this,void 0,void 0,function*(){var sf;const{state:Nf}=s;if(!Nf.storageManager)return void io.RemoteCommunication("[RemoteCommunication: originatorSessionConnect()] no storage manager defined - skip");const ip=yield Nf.storageManager.getPersistedChannelConfig({});if(io.RemoteCommunication(`[RemoteCommunication: originatorSessionConnect()] autoStarted=${Nf.originatorConnectStarted} channelConfig`,ip),(sf=Nf.communicationLayer)===null||sf===void 0?void 0:sf.isConnected())return io.RemoteCommunication("[RemoteCommunication: originatorSessionConnect()] socket already connected - skip"),ip;if(ip){if(ip.validUntil>Date.now())return Nf.channelConfig=ip,Nf.originatorConnectStarted=!0,Nf.channelId=ip?.channelId,Nf.reconnection=!0,ip;io.RemoteCommunication("[RemoteCommunication: autoConnect()] Session has expired")}Nf.originatorConnectStarted=!1})}(this)})}generateChannelIdConnect(){return a(this,void 0,void 0,function*(){return function(s){return a(this,void 0,void 0,function*(){var sf,Nf,ip,em,tm,nm;if(!s.communicationLayer)throw new Error("communication layer not initialized");if(s.ready)throw new Error("Channel already connected");if(s.channelId&&(!((sf=s.communicationLayer)===null||sf===void 0)&&sf.isConnected()))return s.channelConfig=Object.assign(Object.assign({},s.channelConfig),{channelId:s.channelId,validUntil:Date.now()+s.sessionDuration}),(Nf=s.storageManager)===null||Nf===void 0||Nf.persistChannelConfig(s.channelConfig),{channelId:s.channelId,privKey:(em=(ip=s.communicationLayer)===null||ip===void 0?void 0:ip.getKeyInfo())===null||em===void 0?void 0:em.ecies.private,pubKey:(nm=(tm=s.communicationLayer)===null||tm===void 0?void 0:tm.getKeyInfo())===null||nm===void 0?void 0:nm.ecies.public};io.RemoteCommunication("[RemoteCommunication: generateChannelId()]");const rm=yield s.communicationLayer.createChannel();io.RemoteCommunication("[RemoteCommunication: generateChannelId()] channel created",rm);const om=Object.assign(Object.assign({},s.channelConfig),{channelId:rm.channelId,localKey:rm.privKey,validUntil:Date.now()+s.sessionDuration});return s.channelId=rm.channelId,s.channelConfig=om,{channelId:s.channelId,pubKey:rm.pubKey,privKey:rm.privKey}})}(this.state)})}clean(){return yo(this.state)}connectToChannel({channelId:s,withKeyExchange:sf,authorized:Nf}){return function(ip){return a(this,arguments,void 0,function*({channelId:em,withKeyExchange:tm,authorized:nm,state:rm}){var om,im,am;if(!validate$1(em))throw io.RemoteCommunication(`[RemoteCommunication: connectToChannel()] context=${rm.context} invalid channel channelId=${em}`),new Error(`Invalid channel ${em}`);if(io.RemoteCommunication(`[RemoteCommunication: connectToChannel()] context=${rm.context} channelId=${em} withKeyExchange=${tm}`),(om=rm.communicationLayer)===null||om===void 0?void 0:om.isConnected())return void io.RemoteCommunication(`[RemoteCommunication: connectToChannel()] context=${rm.context} already connected - interrupt connection.`);rm.channelId=em,yield(im=rm.communicationLayer)===null||im===void 0?void 0:im.connectToChannel({channelId:em,authorized:nm,withKeyExchange:tm});const sm=Object.assign(Object.assign({},rm.channelConfig),{channelId:em,validUntil:Date.now()+rm.sessionDuration});rm.channelConfig=sm,(am=rm.storageManager)===null||am===void 0||am.persistChannelConfig(sm)})}({channelId:s,authorized:Nf,withKeyExchange:sf,state:this.state})}sendMessage(s){return function(sf,Nf){return a(this,void 0,void 0,function*(){var ip,em;const{state:tm}=sf;io.RemoteCommunication(`[RemoteCommunication: sendMessage()] context=${tm.context} paused=${tm.paused} ready=${tm.ready} relayPersistence=${tm.relayPersistence} authorized=${tm.authorized} socket=${(ip=tm.communicationLayer)===null||ip===void 0?void 0:ip.isConnected()} clientsConnected=${tm.clientsConnected} status=${tm._connectionStatus}`,Nf),tm.relayPersistence||tm.ready&&(!((em=tm.communicationLayer)===null||em===void 0)&&em.isConnected())&&tm.clientsConnected||(io.RemoteCommunication(`[RemoteCommunication: sendMessage()] context=${tm.context}  SKIP message waiting for MM mobile readiness.`),yield new Promise(nm=>{sf.once(bo.CLIENTS_READY,nm)}),io.RemoteCommunication(`[RemoteCommunication: sendMessage()] context=${tm.context}  AFTER SKIP / READY -- sending pending message`));try{return yield function(rm,om){return a(this,void 0,void 0,function*(){return new Promise(im=>{var am;const{state:sm}=rm;io.RemoteCommunication(`[RemoteCommunication: handleAuthorization()] context=${sm.context} ready=${sm.ready} authorized=${sm.authorized} method=${om.method}`),!sm.isOriginator||sm.authorized||sm.relayPersistence?(am=sm.communicationLayer)===null||am===void 0||am.sendMessage(om).then(cm=>{im(cm)}).catch(cm=>{im(!1)}):rm.once(bo.AUTHORIZED,()=>{var cm;io.RemoteCommunication(`[RemoteCommunication: handleAuthorization()] context=${sm.context}  AFTER SKIP / AUTHORIZED -- sending pending message`),(cm=sm.communicationLayer)===null||cm===void 0||cm.sendMessage(om).then(hm=>{im(hm)}).catch(hm=>{im(!1)})})})})}(sf,Nf)}catch(nm){throw nm}})}(this,s)}testStorage(){return a(this,void 0,void 0,function*(){return function(s){return a(this,void 0,void 0,function*(){var sf;const Nf=yield(sf=s.storageManager)===null||sf===void 0?void 0:sf.getPersistedChannelConfig();io.RemoteCommunication("[RemoteCommunication: testStorage()] res",Nf)})}(this.state)})}hasDeeplinkProtocol(){return this.state.deeplinkProtocolAvailable}getChannelConfig(){return this.state.channelConfig}isReady(){return this.state.ready}isConnected(){var s;return(s=this.state.communicationLayer)===null||s===void 0?void 0:s.isConnected()}isAuthorized(){return this.state.authorized}isPaused(){return this.state.paused}getCommunicationLayer(){return this.state.communicationLayer}ping(){return a(this,void 0,void 0,function*(){var s;io.RemoteCommunication(`[RemoteCommunication: ping()] channel=${this.state.channelId}`),yield(s=this.state.communicationLayer)===null||s===void 0?void 0:s.ping()})}testLogger(){io.RemoteCommunication(`testLogger() channel=${this.state.channelId}`),io.SocketService(`testLogger() channel=${this.state.channelId}`),io.Ecies(`testLogger() channel=${this.state.channelId}`),io.KeyExchange(`testLogger() channel=${this.state.channelId}`)}keyCheck(){var s;io.RemoteCommunication(`[RemoteCommunication: keyCheck()] channel=${this.state.channelId}`),(s=this.state.communicationLayer)===null||s===void 0||s.keyCheck()}setConnectionStatus(s){this.state._connectionStatus!==s&&(this.state._connectionStatus=s,this.emit(bo.CONNECTION_STATUS,s),this.emitServiceStatusEvent({context:"setConnectionStatus"}))}emitServiceStatusEvent(s={}){this.emit(bo.SERVICE_STATUS,this.getServiceStatus())}getConnectionStatus(){return this.state._connectionStatus}getServiceStatus(){return{originatorInfo:this.state.originatorInfo,keyInfo:this.getKeyInfo(),connectionStatus:this.state._connectionStatus,channelConfig:this.state.channelConfig,channelId:this.state.channelId}}getKeyInfo(){var s;return(s=this.state.communicationLayer)===null||s===void 0?void 0:s.getKeyInfo()}resetKeys(){var s;(s=this.state.communicationLayer)===null||s===void 0||s.resetKeys()}setOtherPublicKey(s){var sf;const Nf=(sf=this.state.communicationLayer)===null||sf===void 0?void 0:sf.getKeyExchange();if(!Nf)throw new Error("KeyExchange is not initialized.");Nf.getOtherPublicKey()!==s&&Nf.setOtherPublicKey(s)}pause(){return a(this,void 0,void 0,function*(){var s;io.RemoteCommunication(`[RemoteCommunication: pause()] channel=${this.state.channelId}`),yield(s=this.state.communicationLayer)===null||s===void 0?void 0:s.pause(),this.setConnectionStatus(vo.PAUSED)})}getVersion(){return uo.version}hasRelayPersistence(){var s;return(s=this.state.relayPersistence)!==null&&s!==void 0&&s}resume(){return a(this,void 0,void 0,function*(){return function(s){return a(this,void 0,void 0,function*(){var sf;const{state:Nf}=s;io.RemoteCommunication(`[RemoteCommunication: resume()] channel=${Nf.channelId}`),yield(sf=Nf.communicationLayer)===null||sf===void 0?void 0:sf.resume(),s.setConnectionStatus(vo.LINKED)})}(this)})}encrypt(s){var sf,Nf,ip;const em=(sf=this.state.communicationLayer)===null||sf===void 0?void 0:sf.getKeyExchange(),tm=em?.getOtherPublicKey();if(!tm)throw new Error("KeyExchange not completed");return(ip=(Nf=this.state.communicationLayer)===null||Nf===void 0?void 0:Nf.state.eciesInstance)===null||ip===void 0?void 0:ip.encrypt(s,tm)}decrypt(s){var sf,Nf,ip;if(!(!((sf=this.state.communicationLayer)===null||sf===void 0)&&sf.state.eciesInstance))throw new Error("ECIES instance is not initialized");return(ip=(Nf=this.state.communicationLayer)===null||Nf===void 0?void 0:Nf.state.eciesInstance)===null||ip===void 0?void 0:ip.decrypt(s)}getChannelId(){return this.state.channelId}getRPCMethodTracker(){var s;return(s=this.state.communicationLayer)===null||s===void 0?void 0:s.getRPCMethodTracker()}reject({channelId:s}){return function(sf){return a(this,arguments,void 0,function*({channelId:Nf,state:ip}){var em,tm,nm;if(!validate$1(Nf))throw io.RemoteCommunication(`[RemoteCommunication: connectToChannel()] context=${ip.context} invalid channel channelId=${Nf}`),new Error(`Invalid channel ${Nf}`);if(ip.isOriginator)return void io.RemoteCommunication(`[RemoteCommunication: reject()] context=${ip.context} isOriginator=${ip.isOriginator} channelId=${Nf}`);const{socket:rm}=(tm=(em=ip.communicationLayer)===null||em===void 0?void 0:em.state)!==null&&tm!==void 0?tm:{};rm?.connected||(io.RemoteCommunication(`[RemoteCommunication: reject()] context=${ip.context} socket already connected`),rm?.connect()),co(Object.assign(Object.assign({id:Nf,event:_o.REJECTED},ip.originatorInfo),{sdkVersion:ip.sdkVersion,commLayerVersion:uo.version,walletVersion:(nm=ip.walletInfo)===null||nm===void 0?void 0:nm.version}),ip.communicationServerUrl).catch(om=>{}),yield new Promise((om,im)=>{rm?.emit(bo.REJECTED,{channelId:Nf},(am,sm)=>{io.RemoteCommunication(`[RemoteCommunication: reject()] context=${ip.context} socket=${rm?.id}`,{error:am,response:sm}),am?im(am):om(sm)})})})}({channelId:s,state:this.state})}disconnect(s){return a(this,void 0,void 0,function*(){return Jo({options:s,instance:this})})}}(function(r){r.RENEW="renew",r.LINK="link"})(Ko||(Ko={}));var Qo="ERC721",es="ERC1155",ts={errors:{disconnected:()=>"MetaMask: Disconnected from chain. Attempting to connect.",permanentlyDisconnected:()=>"MetaMask: Disconnected from MetaMask background. Page reload required.",sendSiteMetadata:()=>"MetaMask: Failed to send site metadata. This is an internal error, please report this bug.",unsupportedSync:r=>`MetaMask: The MetaMask Ethereum provider does not support synchronous methods like ${r} without a callback parameter.`,invalidDuplexStream:()=>"Must provide a Node.js-style duplex stream.",invalidNetworkParams:()=>"MetaMask: Received invalid network parameters. Please report this bug.",invalidRequestArgs:()=>"Expected a single, non-array, object argument.",invalidRequestMethod:()=>"'args.method' must be a non-empty string.",invalidRequestParams:()=>"'args.params' must be an object or array if provided.",invalidLoggerObject:()=>"'args.logger' must be an object if provided.",invalidLoggerMethod:r=>`'args.logger' must include required method '${r}'.`},info:{connected:r=>`MetaMask: Connected to chain with ID "${r}".`},warnings:{chainIdDeprecation:`MetaMask: 'ethereum.chainId' is deprecated and may be removed in the future. Please use the 'eth_chainId' RPC method instead.
For more information, see: https://github.com/MetaMask/metamask-improvement-proposals/discussions/23`,networkVersionDeprecation:`MetaMask: 'ethereum.networkVersion' is deprecated and may be removed in the future. Please use the 'net_version' RPC method instead.
For more information, see: https://github.com/MetaMask/metamask-improvement-proposals/discussions/23`,selectedAddressDeprecation:`MetaMask: 'ethereum.selectedAddress' is deprecated and may be removed in the future. Please use the 'eth_accounts' RPC method instead.
For more information, see: https://github.com/MetaMask/metamask-improvement-proposals/discussions/23`,enableDeprecation:`MetaMask: 'ethereum.enable()' is deprecated and may be removed in the future. Please use the 'eth_requestAccounts' RPC method instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1102`,sendDeprecation:`MetaMask: 'ethereum.send(...)' is deprecated and may be removed in the future. Please use 'ethereum.sendAsync(...)' or 'ethereum.request(...)' instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1193`,events:{close:`MetaMask: The event 'close' is deprecated and may be removed in the future. Please use 'disconnect' instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1193#disconnect`,data:`MetaMask: The event 'data' is deprecated and will be removed in the future. Use 'message' instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1193#message`,networkChanged:`MetaMask: The event 'networkChanged' is deprecated and may be removed in the future. Use 'chainChanged' instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1193#chainchanged`,notification:`MetaMask: The event 'notification' is deprecated and may be removed in the future. Use 'message' instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1193#message`},rpc:{ethDecryptDeprecation:`MetaMask: The RPC method 'eth_decrypt' is deprecated and may be removed in the future.
For more information, see: https://medium.com/metamask/metamask-api-method-deprecation-2b0564a84686`,ethGetEncryptionPublicKeyDeprecation:`MetaMask: The RPC method 'eth_getEncryptionPublicKey' is deprecated and may be removed in the future.
For more information, see: https://medium.com/metamask/metamask-api-method-deprecation-2b0564a84686`,walletWatchAssetNFTExperimental:`MetaMask: The RPC method 'wallet_watchAsset' is experimental for ERC721/ERC1155 assets and may change in the future.
For more information, see: https://github.com/MetaMask/metamask-improvement-proposals/blob/main/MIPs/mip-1.md and https://github.com/MetaMask/metamask-improvement-proposals/blob/main/PROCESS-GUIDE.md#proposal-lifecycle`},experimentalMethods:"MetaMask: 'ethereum._metamask' exposes non-standard, experimental methods. They may be removed or changed without warning."}};function ns(r){const s={ethDecryptDeprecation:!1,ethGetEncryptionPublicKeyDeprecation:!1,walletWatchAssetNFTExperimental:!1};return(sf,Nf,ip)=>{s.ethDecryptDeprecation||sf.method!=="eth_decrypt"?s.ethGetEncryptionPublicKeyDeprecation||sf.method!=="eth_getEncryptionPublicKey"?!s.walletWatchAssetNFTExperimental&&sf.method==="wallet_watchAsset"&&[Qo,es].includes(sf.params?.type||"")&&(r.warn(ts.warnings.rpc.walletWatchAssetNFTExperimental),s.walletWatchAssetNFTExperimental=!0):(r.warn(ts.warnings.rpc.ethGetEncryptionPublicKeyDeprecation),s.ethGetEncryptionPublicKeyDeprecation=!0):(r.warn(ts.warnings.rpc.ethDecryptDeprecation),s.ethDecryptDeprecation=!0),ip()}}var rs=0xffffffff,is$1=Math.floor(Math.random()*rs);function os(){return(r,s,sf,Nf)=>{const ip=r.id,em=is$1=(is$1+1)%rs;r.id=em,s.id=em,sf(tm=>{r.id=ip,s.id=ip,tm()})}}var ss=(r,s,sf)=>{if(!s.has(r))throw TypeError("Cannot "+sf)},as=(r,s,sf)=>(ss(r,s,"read from private field"),sf?sf.call(r):s.get(r)),cs=(r,s,sf)=>{if(s.has(r))throw TypeError("Cannot add the same private member more than once");s instanceof WeakSet?s.add(r):s.set(r,sf)},ls=(r,s,sf,Nf)=>(ss(r,s,"write to private field"),s.set(r,sf),sf),ds=(r,s,sf)=>(ss(r,s,"access private method"),sf),us={invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},hs={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};function fs(r){return!!r&&typeof r=="object"&&!Array.isArray(r)}var ps=(r,s)=>Object.hasOwnProperty.call(r,s);class gs extends TypeError{constructor(s,sf){let Nf;const{message:ip,explanation:em,...tm}=s,{path:nm}=s,rm=nm.length===0?ip:`At path: ${nm.join(".")} -- ${ip}`;super(em??rm),em!=null&&(this.cause=rm),Object.assign(this,tm),this.name=this.constructor.name,this.failures=()=>Nf??(Nf=[s,...sf()])}}function ms(r){return typeof r=="object"&&r!=null}function ys(r){return typeof r=="symbol"?r.toString():typeof r=="string"?JSON.stringify(r):`${r}`}function vs(r,s,sf,Nf){if(r===!0)return;r===!1?r={}:typeof r=="string"&&(r={message:r});const{path:ip,branch:em}=s,{type:tm}=sf,{refinement:nm,message:rm=`Expected a value of type \`${tm}\`${nm?` with refinement \`${nm}\``:""}, but received: \`${ys(Nf)}\``}=r;return{value:Nf,type:tm,refinement:nm,key:ip[ip.length-1],path:ip,branch:em,...r,message:rm}}function*bs(r,s,sf,Nf){(function(ip){return ms(ip)&&typeof ip[Symbol.iterator]=="function"})(r)||(r=[r]);for(const ip of r){const em=vs(ip,s,sf,Nf);em&&(yield em)}}function*ws(r,s,sf={}){const{path:Nf=[],branch:ip=[r],coerce:em=!1,mask:tm=!1}=sf,nm={path:Nf,branch:ip};if(em&&(r=s.coercer(r,nm),tm&&s.type!=="type"&&ms(s.schema)&&ms(r)&&!Array.isArray(r)))for(const om in r)s.schema[om]===void 0&&delete r[om];let rm="valid";for(const om of s.validator(r,nm))om.explanation=sf.message,rm="not_valid",yield[om,void 0];for(let[om,im,am]of s.entries(r,nm)){const sm=ws(im,am,{path:om===void 0?Nf:[...Nf,om],branch:om===void 0?ip:[...ip,im],coerce:em,mask:tm,message:sf.message});for(const cm of sm)cm[0]?(rm=cm[0].refinement!=null?"not_refined":"not_valid",yield[cm[0],void 0]):em&&(im=cm[1],om===void 0?r=im:r instanceof Map?r.set(om,im):r instanceof Set?r.add(im):ms(r)&&(im!==void 0||om in r)&&(r[om]=im))}if(rm!=="not_valid")for(const om of s.refiner(r,nm))om.explanation=sf.message,rm="not_refined",yield[om,void 0];rm==="valid"&&(yield[void 0,r])}class Es{constructor(s){const{type:sf,schema:Nf,validator:ip,refiner:em,coercer:tm=rm=>rm,entries:nm=function*(){}}=s;this.type=sf,this.schema=Nf,this.entries=nm,this.coercer=tm,this.validator=ip?(rm,om)=>bs(ip(rm,om),om,this,rm):()=>[],this.refiner=em?(rm,om)=>bs(em(rm,om),om,this,rm):()=>[]}assert(s,sf){return Ss(s,this,sf)}create(s,sf){return _s(s,this,sf)}is(s){return Cs(s,this)}mask(s,sf){return function(Nf,ip,em){const tm=ks(Nf,ip,{coerce:!0,mask:!0,message:em});if(tm[0])throw tm[0];return tm[1]}(s,this,sf)}validate(s,sf={}){return ks(s,this,sf)}}function Ss(r,s,sf){const Nf=ks(r,s,{message:sf});if(Nf[0])throw Nf[0]}function _s(r,s,sf){const Nf=ks(r,s,{coerce:!0,message:sf});if(Nf[0])throw Nf[0];return Nf[1]}function Cs(r,s){return!ks(r,s)[0]}function ks(r,s,sf={}){const Nf=ws(r,s,sf),ip=function(em){const{done:tm,value:nm}=em.next();return tm?void 0:nm}(Nf);return ip[0]?[new gs(ip[0],function*(){for(const tm of Nf)tm[0]&&(yield tm[0])}),void 0]:[void 0,ip[1]]}function xs(r,s){return new Es({type:r,schema:null,validator:s})}function Ms(r){let s;return new Es({type:"lazy",schema:null,*entries(sf,Nf){s??(s=r()),yield*s.entries(sf,Nf)},validator:(sf,Nf)=>(s??(s=r()),s.validator(sf,Nf)),coercer:(sf,Nf)=>(s??(s=r()),s.coercer(sf,Nf)),refiner:(sf,Nf)=>(s??(s=r()),s.refiner(sf,Nf))})}function As(r){return new Es({type:"array",schema:r,*entries(s){if(r&&Array.isArray(s))for(const[sf,Nf]of s.entries())yield[sf,Nf,r]},coercer:s=>Array.isArray(s)?s.slice():s,validator:s=>Array.isArray(s)||`Expected an array value, but received: ${ys(s)}`})}function Is(r){const s=ys(r),sf=typeof r;return new Es({type:"literal",schema:sf==="string"||sf==="number"||sf==="boolean"?r:null,validator:Nf=>Nf===r||`Expected the literal \`${s}\`, but received: ${ys(Nf)}`})}function Rs(){return xs("number",r=>typeof r=="number"&&!isNaN(r)||`Expected a number, but received: ${ys(r)}`)}function Ps(r){const s=r?Object.keys(r):[],sf=xs("never",()=>!1);return new Es({type:"object",schema:r||null,*entries(Nf){if(r&&ms(Nf)){const ip=new Set(Object.keys(Nf));for(const em of s)ip.delete(em),yield[em,Nf[em],r[em]];for(const em of ip)yield[em,Nf[em],sf]}},validator:Nf=>ms(Nf)||`Expected an object, but received: ${ys(Nf)}`,coercer:Nf=>ms(Nf)?{...Nf}:Nf})}function Ts(r){return new Es({...r,validator:(s,sf)=>s===void 0||r.validator(s,sf),refiner:(s,sf)=>s===void 0||r.refiner(s,sf)})}function Os(r,s){return new Es({type:"record",schema:null,*entries(sf){if(ms(sf))for(const Nf in sf){const ip=sf[Nf];yield[Nf,Nf,r],yield[Nf,ip,s]}},validator:sf=>ms(sf)||`Expected an object, but received: ${ys(sf)}`})}function Ls(){return xs("string",r=>typeof r=="string"||`Expected a string, but received: ${ys(r)}`)}function Ns(r){const s=r.map(sf=>sf.type).join(" | ");return new Es({type:"union",schema:null,coercer(sf){for(const Nf of r){const[ip,em]=Nf.validate(sf,{coerce:!0});if(!ip)return em}return sf},validator(sf,Nf){const ip=[];for(const em of r){const[...tm]=ws(sf,em,Nf),[nm]=tm;if(!nm[0])return[];for(const[rm]of tm)rm&&ip.push(rm)}return[`Expected the value to satisfy a union of \`${s}\`, but received: ${ys(sf)}`,...ip]}})}function $s(r){return function(s){return function(sf){return typeof sf=="object"&&sf!==null&&"message"in sf}(s)&&typeof s.message=="string"?s.message:s==null?"":String(s)}(r).replace(/\.$/u,"")}function Ds(r,s){return sf=r,typeof sf?.prototype?.constructor?.name=="string"?new r({message:s}):r({message:s});var sf}var Bs=class extends Error{constructor(r){super(r.message),this.code="ERR_ASSERTION"}};function Ks(){throw new Error("setTimeout has not been defined")}function js(){throw new Error("clearTimeout has not been defined")}var Us=Ks,Hs=js;function Fs(r){if(Us===setTimeout)return setTimeout(r,0);if((Us===Ks||!Us)&&setTimeout)return Us=setTimeout,setTimeout(r,0);try{return Us(r,0)}catch{try{return Us.call(null,r,0)}catch{return Us.call(this,r,0)}}}typeof c.setTimeout=="function"&&(Us=setTimeout),typeof c.clearTimeout=="function"&&(Hs=clearTimeout);var zs,qs=[],Ws=!1,Vs=-1;function Gs(){Ws&&zs&&(Ws=!1,zs.length?qs=zs.concat(qs):Vs=-1,qs.length&&Ys())}function Ys(){if(!Ws){var r=Fs(Gs);Ws=!0;for(var s=qs.length;s;){for(zs=qs,qs=[];++Vs<s;)zs&&zs[Vs].run();Vs=-1,s=qs.length}zs=null,Ws=!1,function(sf){if(Hs===clearTimeout)return clearTimeout(sf);if((Hs===js||!Hs)&&clearTimeout)return Hs=clearTimeout,clearTimeout(sf);try{return Hs(sf)}catch{try{return Hs.call(null,sf)}catch{return Hs.call(this,sf)}}}(r)}}function Zs(r,s){this.fun=r,this.array=s}Zs.prototype.run=function(){this.fun.apply(null,this.array)};function Js(){}var Xs=Js,Qs=Js,ea=Js,ta=Js,na=Js,ra=Js,ia=Js,oa=c.performance||{},sa=oa.now||oa.mozNow||oa.msNow||oa.oNow||oa.webkitNow||function(){return(new Date).getTime()},aa=new Date,ca={nextTick:function(r){var s=new Array(arguments.length-1);if(arguments.length>1)for(var sf=1;sf<arguments.length;sf++)s[sf-1]=arguments[sf];qs.push(new Zs(r,s)),qs.length!==1||Ws||Fs(Ys)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:Xs,addListener:Qs,once:ea,off:ta,removeListener:na,removeAllListeners:ra,emit:ia,binding:function(r){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(r){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(r){var s=.001*sa.call(oa),sf=Math.floor(s),Nf=Math.floor(s%1*1e9);return r&&(sf-=r[0],(Nf-=r[1])<0&&(sf--,Nf+=1e9)),[sf,Nf]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-aa)/1e3}},la=r=>Ps(r);function da({path:r,branch:s}){const sf=r[r.length-1];return ps(s[s.length-2],sf)}function ua(r){return new Es({...r,type:`optional ${r.type}`,validator:(s,sf)=>!da(sf)||r.validator(s,sf),refiner:(s,sf)=>!da(sf)||r.refiner(s,sf)})}var ha,fa,pa,ga=Ns([Is(null),xs("boolean",r=>typeof r=="boolean"),xs("finite number",r=>Cs(r,Rs())&&Number.isFinite(r)),Ls(),As(Ms(()=>ga)),Os(Ls(),Ms(()=>ga))]),ma=(ha=ga,fa=xs("any",()=>!0),pa=r=>(function(s,sf,Nf="Assertion failed",ip=Bs){try{Ss(s,sf)}catch(em){throw Ds(ip,`${Nf}: ${$s(em)}.`)}}(r,ga),JSON.parse(JSON.stringify(r,(s,sf)=>{if(s!=="__proto__"&&s!=="constructor")return sf}))),new Es({...ha,coercer:(r,s)=>Cs(r,fa)?ha.coercer(pa(r,s),s):ha.coercer(r,s)}));function ya(r){try{return function(s){_s(s,ma)}(r),!0}catch{return!1}}var va=Is("2.0"),ba=function(r){return new Es({...r,validator:(s,sf)=>s===null||r.validator(s,sf),refiner:(s,sf)=>s===null||r.refiner(s,sf)})}(Ns([Rs(),Ls()])),wa=la({code:xs("integer",r=>typeof r=="number"&&!isNaN(r)&&Number.isInteger(r)||`Expected an integer, but received: ${ys(r)}`),message:Ls(),data:ua(ma),stack:ua(Ls())}),Ea=Ns([Os(Ls(),ma),As(ma)]),Sa=la({id:ba,jsonrpc:va,method:Ls(),params:ua(Ea)}),_a=la({jsonrpc:va,method:Ls(),params:ua(Ea)});function Ca(r){return Cs(r,Sa)}function ka(r){return Cs(r,wa)}Ps({id:ba,jsonrpc:va,result:Ts(xs("unknown",()=>!0)),error:Ts(wa)}),Ns([la({id:ba,jsonrpc:va,result:ma}),la({id:ba,jsonrpc:va,error:wa})]);var xa=us.internal,Ma="Unspecified error message. This is a bug, please report it.",Aa={code:xa,message:Ra(xa)},Ia="Unspecified server error.";function Ra(r,s=Ma){if(function(sf){return Number.isInteger(sf)}(r)){const sf=r.toString();if(ps(hs,sf))return hs[sf].message;if(function(Nf){return Nf>=-32099&&Nf<=-32e3}(r))return Ia}return s}function Pa(r,{fallbackError:s=Aa,shouldIncludeStack:sf=!0}={}){if(!ka(s))throw new Error("Must provide fallback error with integer number code and string message.");const Nf=function(ip,em){if(ip&&typeof ip=="object"&&"serialize"in ip&&typeof ip.serialize=="function")return ip.serialize();if(ka(ip))return ip;const tm=Ta(ip);return{...em,data:{cause:tm}}}(r,s);return sf||delete Nf.stack,Nf}function Ta(r){return Array.isArray(r)?r.map(s=>ya(s)?s:fs(s)?Oa(s):null):fs(r)?Oa(r):ya(r)?r:null}function Oa(r){return Object.getOwnPropertyNames(r).reduce((s,sf)=>{const Nf=r[sf];return ya(Nf)&&(s[sf]=Nf),s},{})}var La=ja;ja.default=ja,ja.stable=za,ja.stableStringify=za;var Na="[...]",$a="[Circular]",Da=[],Ba=[];function Ka(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function ja(r,s,sf,Nf){var ip;Nf===void 0&&(Nf=Ka()),Ha(r,"",0,[],void 0,0,Nf);try{ip=Ba.length===0?JSON.stringify(r,s,sf):JSON.stringify(r,Wa(s),sf)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Da.length!==0;){var em=Da.pop();em.length===4?Object.defineProperty(em[0],em[1],em[3]):em[0][em[1]]=em[2]}}return ip}function Ua(r,s,sf,Nf){var ip=Object.getOwnPropertyDescriptor(Nf,sf);ip.get!==void 0?ip.configurable?(Object.defineProperty(Nf,sf,{value:r}),Da.push([Nf,sf,s,ip])):Ba.push([s,sf,r]):(Nf[sf]=r,Da.push([Nf,sf,s]))}function Ha(r,s,sf,Nf,ip,em,tm){var nm;if(em+=1,typeof r=="object"&&r!==null){for(nm=0;nm<Nf.length;nm++)if(Nf[nm]===r)return void Ua($a,r,s,ip);if(tm.depthLimit!==void 0&&em>tm.depthLimit||tm.edgesLimit!==void 0&&sf+1>tm.edgesLimit)return void Ua(Na,r,s,ip);if(Nf.push(r),Array.isArray(r))for(nm=0;nm<r.length;nm++)Ha(r[nm],nm,nm,Nf,r,em,tm);else{var rm=Object.keys(r);for(nm=0;nm<rm.length;nm++){var om=rm[nm];Ha(r[om],om,nm,Nf,r,em,tm)}}Nf.pop()}}function Fa(r,s){return r<s?-1:r>s?1:0}function za(r,s,sf,Nf){Nf===void 0&&(Nf=Ka());var ip,em=qa(r,"",0,[],void 0,0,Nf)||r;try{ip=Ba.length===0?JSON.stringify(em,s,sf):JSON.stringify(em,Wa(s),sf)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Da.length!==0;){var tm=Da.pop();tm.length===4?Object.defineProperty(tm[0],tm[1],tm[3]):tm[0][tm[1]]=tm[2]}}return ip}function qa(r,s,sf,Nf,ip,em,tm){var nm;if(em+=1,typeof r=="object"&&r!==null){for(nm=0;nm<Nf.length;nm++)if(Nf[nm]===r)return void Ua($a,r,s,ip);try{if(typeof r.toJSON=="function")return}catch{return}if(tm.depthLimit!==void 0&&em>tm.depthLimit||tm.edgesLimit!==void 0&&sf+1>tm.edgesLimit)return void Ua(Na,r,s,ip);if(Nf.push(r),Array.isArray(r))for(nm=0;nm<r.length;nm++)qa(r[nm],nm,nm,Nf,r,em,tm);else{var rm={},om=Object.keys(r).sort(Fa);for(nm=0;nm<om.length;nm++){var im=om[nm];qa(r[im],im,nm,Nf,r,em,tm),rm[im]=r[im]}if(ip===void 0)return rm;Da.push([ip,s,r]),ip[s]=rm}Nf.pop()}}function Wa(r){return r=r!==void 0?r:function(s,sf){return sf},function(s,sf){if(Ba.length>0)for(var Nf=0;Nf<Ba.length;Nf++){var ip=Ba[Nf];if(ip[1]===s&&ip[0]===sf){sf=ip[2],Ba.splice(Nf,1);break}}return r.call(this,s,sf)}}var Va=de(La),Ga=class extends Error{constructor(r,s,sf){if(!Number.isInteger(r))throw new Error('"code" must be an integer.');if(!s||typeof s!="string")throw new Error('"message" must be a non-empty string.');super(s),this.code=r,sf!==void 0&&(this.data=sf)}serialize(){const r={code:this.code,message:this.message};return this.data!==void 0&&(r.data=this.data,function(s){if(typeof s!="object"||s===null)return!1;try{let sf=s;for(;Object.getPrototypeOf(sf)!==null;)sf=Object.getPrototypeOf(sf);return Object.getPrototypeOf(s)===sf}catch{return!1}}(this.data)&&(r.data.cause=Ta(this.data.cause))),this.stack&&(r.stack=this.stack),r}toString(){return Va(this.serialize(),Ya,2)}};function Ya(r,s){if(s!=="[Circular]")return s}var Za=r=>Ja(us.invalidRequest,r);function Ja(r,s){const[sf,Nf]=function(ip){if(ip){if(typeof ip=="string")return[ip];if(typeof ip=="object"&&!Array.isArray(ip)){const{message:em,data:tm}=ip;if(em&&typeof em!="string")throw new Error("Must specify string message.");return[em??void 0,tm]}}return[]}(s);return new Ga(r,sf??Ra(r),Nf)}var Xa={};function Qa(){}function ec(){ec.init.call(this)}function tc(r){return r._maxListeners===void 0?ec.defaultMaxListeners:r._maxListeners}function nc(r,s,sf,Nf){var ip,em,tm;if(typeof sf!="function")throw new TypeError('"listener" argument must be a function');if((em=r._events)?(em.newListener&&(r.emit("newListener",s,sf.listener?sf.listener:sf),em=r._events),tm=em[s]):(em=r._events=new Qa,r._eventsCount=0),tm){if(typeof tm=="function"?tm=em[s]=Nf?[sf,tm]:[tm,sf]:Nf?tm.unshift(sf):tm.push(sf),!tm.warned&&(ip=tc(r))&&ip>0&&tm.length>ip){tm.warned=!0;var nm=new Error("Possible EventEmitter memory leak detected. "+tm.length+" "+s+" listeners added. Use emitter.setMaxListeners() to increase limit");nm.name="MaxListenersExceededWarning",nm.emitter=r,nm.type=s,nm.count=tm.length,function(rm){typeof console.warn=="function"?console.warn(rm):console.log(rm)}(nm)}}else tm=em[s]=sf,++r._eventsCount;return r}function rc(r,s,sf){var Nf=!1;function ip(){r.removeListener(s,ip),Nf||(Nf=!0,sf.apply(r,arguments))}return ip.listener=sf,ip}function ic(r){var s=this._events;if(s){var sf=s[r];if(typeof sf=="function")return 1;if(sf)return sf.length}return 0}function oc(r,s){for(var sf=new Array(s);s--;)sf[s]=r[s];return sf}Qa.prototype=Object.create(null),ec.EventEmitter=ec,ec.usingDomains=!1,ec.prototype.domain=void 0,ec.prototype._events=void 0,ec.prototype._maxListeners=void 0,ec.defaultMaxListeners=10,ec.init=function(){this.domain=null,ec.usingDomains&&(void 0).active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new Qa,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},ec.prototype.setMaxListeners=function(r){if(typeof r!="number"||r<0||isNaN(r))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=r,this},ec.prototype.getMaxListeners=function(){return tc(this)},ec.prototype.emit=function(r){var s,sf,Nf,ip,em,tm,nm,rm=r==="error";if(tm=this._events)rm=rm&&tm.error==null;else if(!rm)return!1;if(nm=this.domain,rm){if(s=arguments[1],!nm){if(s instanceof Error)throw s;var om=new Error('Uncaught, unspecified "error" event. ('+s+")");throw om.context=s,om}return s||(s=new Error('Uncaught, unspecified "error" event')),s.domainEmitter=this,s.domain=nm,s.domainThrown=!1,nm.emit("error",s),!1}if(!(sf=tm[r]))return!1;var im=typeof sf=="function";switch(Nf=arguments.length){case 1:(function(am,sm,cm){if(sm)am.call(cm);else for(var hm=am.length,fm=oc(am,hm),pm=0;pm<hm;++pm)fm[pm].call(cm)})(sf,im,this);break;case 2:(function(am,sm,cm,hm){if(sm)am.call(cm,hm);else for(var fm=am.length,pm=oc(am,fm),mm=0;mm<fm;++mm)pm[mm].call(cm,hm)})(sf,im,this,arguments[1]);break;case 3:(function(am,sm,cm,hm,fm){if(sm)am.call(cm,hm,fm);else for(var pm=am.length,mm=oc(am,pm),_m=0;_m<pm;++_m)mm[_m].call(cm,hm,fm)})(sf,im,this,arguments[1],arguments[2]);break;case 4:(function(am,sm,cm,hm,fm,pm){if(sm)am.call(cm,hm,fm,pm);else for(var mm=am.length,_m=oc(am,mm),ym=0;ym<mm;++ym)_m[ym].call(cm,hm,fm,pm)})(sf,im,this,arguments[1],arguments[2],arguments[3]);break;default:for(ip=new Array(Nf-1),em=1;em<Nf;em++)ip[em-1]=arguments[em];(function(am,sm,cm,hm){if(sm)am.apply(cm,hm);else for(var fm=am.length,pm=oc(am,fm),mm=0;mm<fm;++mm)pm[mm].apply(cm,hm)})(sf,im,this,ip)}return!0},ec.prototype.addListener=function(r,s){return nc(this,r,s,!1)},ec.prototype.on=ec.prototype.addListener,ec.prototype.prependListener=function(r,s){return nc(this,r,s,!0)},ec.prototype.once=function(r,s){if(typeof s!="function")throw new TypeError('"listener" argument must be a function');return this.on(r,rc(this,r,s)),this},ec.prototype.prependOnceListener=function(r,s){if(typeof s!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(r,rc(this,r,s)),this},ec.prototype.removeListener=function(r,s){var sf,Nf,ip,em,tm;if(typeof s!="function")throw new TypeError('"listener" argument must be a function');if(!(Nf=this._events))return this;if(!(sf=Nf[r]))return this;if(sf===s||sf.listener&&sf.listener===s)--this._eventsCount==0?this._events=new Qa:(delete Nf[r],Nf.removeListener&&this.emit("removeListener",r,sf.listener||s));else if(typeof sf!="function"){for(ip=-1,em=sf.length;em-- >0;)if(sf[em]===s||sf[em].listener&&sf[em].listener===s){tm=sf[em].listener,ip=em;break}if(ip<0)return this;if(sf.length===1){if(sf[0]=void 0,--this._eventsCount==0)return this._events=new Qa,this;delete Nf[r]}else(function(nm,rm){for(var om=rm,im=om+1,am=nm.length;im<am;om+=1,im+=1)nm[om]=nm[im];nm.pop()})(sf,ip);Nf.removeListener&&this.emit("removeListener",r,tm||s)}return this},ec.prototype.off=function(r,s){return this.removeListener(r,s)},ec.prototype.removeAllListeners=function(r){var s,sf;if(!(sf=this._events))return this;if(!sf.removeListener)return arguments.length===0?(this._events=new Qa,this._eventsCount=0):sf[r]&&(--this._eventsCount==0?this._events=new Qa:delete sf[r]),this;if(arguments.length===0){for(var Nf,ip=Object.keys(sf),em=0;em<ip.length;++em)(Nf=ip[em])!=="removeListener"&&this.removeAllListeners(Nf);return this.removeAllListeners("removeListener"),this._events=new Qa,this._eventsCount=0,this}if(typeof(s=sf[r])=="function")this.removeListener(r,s);else if(s)do this.removeListener(r,s[s.length-1]);while(s[0]);return this},ec.prototype.listeners=function(r){var s,sf,Nf=this._events;return sf=Nf&&(s=Nf[r])?typeof s=="function"?[s.listener||s]:function(ip){for(var em=new Array(ip.length),tm=0;tm<em.length;++tm)em[tm]=ip[tm].listener||ip[tm];return em}(s):[],sf},ec.listenerCount=function(r,s){return typeof r.listenerCount=="function"?r.listenerCount(s):ic.call(r,s)},ec.prototype.listenerCount=ic,ec.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var sc=ue(Object.freeze({__proto__:null,EventEmitter:ec,default:ec}));Object.defineProperty(Xa,"__esModule",{value:!0});const ac=sc;function cc(r,s,sf){try{Reflect.apply(r,s,sf)}catch(Nf){setTimeout(()=>{throw Nf})}}let lc=class extends ac.EventEmitter{emit(r,...s){let sf=r==="error";const Nf=this._events;if(Nf!==void 0)sf=sf&&Nf.error===void 0;else if(!sf)return!1;if(sf){let em;if(s.length>0&&([em]=s),em instanceof Error)throw em;const tm=new Error("Unhandled error."+(em?` (${em.message})`:""));throw tm.context=em,tm}const ip=Nf[r];if(ip===void 0)return!1;if(typeof ip=="function")cc(ip,this,s);else{const em=ip.length,tm=function(nm){const rm=nm.length,om=new Array(rm);for(let im=0;im<rm;im+=1)om[im]=nm[im];return om}(ip);for(let nm=0;nm<em;nm+=1)cc(tm[nm],this,s)}return!0}};var dc,uc,hc,fc,pc,gc,mc,yc,vc,bc,wc,Ec,Sc,_c,Cc,kc,xc,Mc,Ac,Ic=Xa.default=lc,Rc=class hy extends Ic{constructor({notificationHandler:s}={}){super(),cs(this,fc),cs(this,gc),cs(this,yc),cs(this,dc,!1),cs(this,uc,void 0),cs(this,hc,void 0),ls(this,uc,[]),ls(this,hc,s)}destroy(){as(this,uc).forEach(s=>{"destroy"in s&&typeof s.destroy=="function"&&s.destroy()}),ls(this,uc,[]),ls(this,dc,!0)}push(s){ds(this,fc,pc).call(this),as(this,uc).push(s)}handle(s,sf){if(ds(this,fc,pc).call(this),sf&&typeof sf!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(s)?sf?ds(this,gc,mc).call(this,s,sf):ds(this,gc,mc).call(this,s):sf?ds(this,yc,vc).call(this,s,sf):this._promiseHandle(s)}asMiddleware(){return ds(this,fc,pc).call(this),async(s,sf,Nf,ip)=>{var em,tm;try{const[nm,rm,om]=await ds(em=hy,Ec,Sc).call(em,s,sf,as(this,uc));return rm?(await ds(tm=hy,kc,xc).call(tm,om),ip(nm)):Nf(async im=>{var am;try{await ds(am=hy,kc,xc).call(am,om)}catch(sm){return im(sm)}return im()})}catch(nm){return ip(nm)}}}async _promiseHandle(s){return new Promise((sf,Nf)=>{ds(this,yc,vc).call(this,s,(ip,em)=>{ip&&em===void 0?Nf(ip):sf(em)}).catch(Nf)})}};dc=new WeakMap,uc=new WeakMap,hc=new WeakMap,fc=new WeakSet,pc=function(){if(as(this,dc))throw new Error("This engine is destroyed and can no longer be used.")},gc=new WeakSet,mc=async function(r,s){try{if(r.length===0){const Nf=[{id:null,jsonrpc:"2.0",error:new Ga(us.invalidRequest,"Request batch must contain plain objects. Received an empty array")}];return s?s(null,Nf):Nf}const sf=(await Promise.all(r.map(this._promiseHandle.bind(this)))).filter(Nf=>Nf!==void 0);return s?s(null,sf):sf}catch(sf){if(s)return s(sf);throw sf}},yc=new WeakSet,vc=async function(r,s){var sf;if(!r||Array.isArray(r)||typeof r!="object"){const tm=new Ga(us.invalidRequest,"Requests must be plain objects. Received: "+typeof r,{request:r});return s(tm,{id:null,jsonrpc:"2.0",error:tm})}if(typeof r.method!="string"){const tm=new Ga(us.invalidRequest,"Must specify a string method. Received: "+typeof r.method,{request:r});return as(this,hc)&&!Ca(r)?s(null):s(tm,{id:r.id??null,jsonrpc:"2.0",error:tm})}if(as(this,hc)&&Cs(r,_a)&&!Ca(r)){try{await as(this,hc).call(this,r)}catch(tm){return s(tm)}return s(null)}let Nf=null;const ip={...r},em={id:ip.id,jsonrpc:ip.jsonrpc};try{await ds(sf=Rc,bc,wc).call(sf,ip,em,as(this,uc))}catch(tm){Nf=tm}return Nf&&(delete em.result,em.error||(em.error=Pa(Nf))),s(Nf,em)},bc=new WeakSet,wc=async function(r,s,sf){var Nf,ip,em;const[tm,nm,rm]=await ds(Nf=Rc,Ec,Sc).call(Nf,r,s,sf);if(ds(ip=Rc,Mc,Ac).call(ip,r,s,nm),await ds(em=Rc,kc,xc).call(em,rm),tm)throw tm},Ec=new WeakSet,Sc=async function(r,s,sf){var Nf;const ip=[];let em=null,tm=!1;for(const nm of sf)if([em,tm]=await ds(Nf=Rc,_c,Cc).call(Nf,r,s,nm,ip),tm)break;return[em,tm,ip.reverse()]},_c=new WeakSet,Cc=async function(r,s,sf,Nf){return new Promise(ip=>{const em=nm=>{const rm=nm||s.error;rm&&(s.error=Pa(rm)),ip([rm,!0])},tm=nm=>{s.error?em(s.error):(nm&&(typeof nm!="function"&&em(new Ga(us.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof nm}" for request:
${Tc(r)}`,{request:r})),Nf.push(nm)),ip([null,!1]))};try{sf(r,s,tm,em)}catch(nm){em(nm)}})},kc=new WeakSet,xc=async function(r){for(const s of r)await new Promise((sf,Nf)=>{s(ip=>ip?Nf(ip):sf())})},Mc=new WeakSet,Ac=function(r,s,sf){if(!ps(s,"result")&&!ps(s,"error"))throw new Ga(us.internal,`JsonRpcEngine: Response has no error or result for request:
${Tc(r)}`,{request:r});if(!sf)throw new Ga(us.internal,`JsonRpcEngine: Nothing ended request:
${Tc(r)}`,{request:r})},cs(Rc,bc),cs(Rc,Ec),cs(Rc,_c),cs(Rc,kc),cs(Rc,Mc);var Pc=Rc;function Tc(r){return JSON.stringify(r,null,2)}var Oc=Object.freeze(["eth_subscription"]),Lc=(r=console)=>[os(),Nc(r),ns(r)];function Nc(r){return(s,sf,Nf)=>{typeof s.method=="string"&&s.method||(sf.error=Za({message:"The request 'method' must be a non-empty string.",data:s})),Nf(ip=>{const{error:em}=sf;return em&&r.error(`MetaMask - RPC Error: ${em.message}`,em),ip()})}}var $c=(r,s,sf=!0)=>(Nf,ip)=>{Nf||ip.error?s(Nf||ip.error):!sf||Array.isArray(ip)?r(ip):r(ip.result)},Dc=r=>!!r&&typeof r=="string"&&r.startsWith("0x"),Bc=()=>{};async function Kc(r,s){try{const sf=await async function(){return{name:jc(window),icon:await Uc(window)}}();r.handle({jsonrpc:"2.0",id:1,method:"metamask_sendDomainMetadata",params:sf},Bc)}catch(sf){s.error({message:ts.errors.sendSiteMetadata(),originalError:sf})}}function jc(r){const{document:s}=r,sf=s.querySelector('head > meta[property="og:site_name"]');if(sf)return sf.content;const Nf=s.querySelector('head > meta[name="title"]');return Nf?Nf.content:s.title&&s.title.length>0?s.title:window.location.hostname}async function Uc(r){const{document:s}=r,sf=s.querySelectorAll('head > link[rel~="icon"]');for(const Nf of Array.from(sf))if(Nf&&await Hc(Nf.href))return Nf.href;return null}async function Hc(r){return new Promise((s,sf)=>{try{const Nf=document.createElement("img");Nf.onload=()=>s(!0),Nf.onerror=()=>s(!1),Nf.src=r}catch(Nf){sf(Nf)}})}var Fc=(r,s,sf)=>{if(!s.has(r))throw TypeError("Cannot "+sf)},zc=(r,s,sf)=>(Fc(r,s,"read from private field"),sf?sf.call(r):s.get(r)),qc=(r,s,sf)=>{if(s.has(r))throw TypeError("Cannot add the same private member more than once");s instanceof WeakSet?s.add(r):s.set(r,sf)},Wc=(r,s,sf,Nf)=>(Fc(r,s,"write to private field"),s.set(r,sf),sf);function Vc(r,s,sf){try{Reflect.apply(r,s,sf)}catch(Nf){setTimeout(()=>{throw Nf})}}class Gc extends ec{emit(s,...sf){let Nf=s==="error";const ip=this._events;if(ip!==void 0)Nf=Nf&&ip.error===void 0;else if(!Nf)return!1;if(Nf){let tm;if(sf.length>0&&([tm]=sf),tm instanceof Error)throw tm;const nm=new Error("Unhandled error."+(tm?` (${tm.message})`:""));throw nm.context=tm,nm}const em=ip[s];if(em===void 0)return!1;if(typeof em=="function")Vc(em,this,sf);else{const tm=em.length,nm=function(rm){const om=rm.length,im=new Array(om);for(let am=0;am<om;am+=1)im[am]=rm[am];return im}(em);for(let rm=0;rm<tm;rm+=1)Vc(nm[rm],this,sf)}return!0}}var Yc,Zc,Jc=function r(s,sf){if(s===sf)return!0;if(s&&sf&&typeof s=="object"&&typeof sf=="object"){if(s.constructor!==sf.constructor)return!1;var Nf,ip,em;if(Array.isArray(s)){if((Nf=s.length)!=sf.length)return!1;for(ip=Nf;ip--!=0;)if(!r(s[ip],sf[ip]))return!1;return!0}if(s.constructor===RegExp)return s.source===sf.source&&s.flags===sf.flags;if(s.valueOf!==Object.prototype.valueOf)return s.valueOf()===sf.valueOf();if(s.toString!==Object.prototype.toString)return s.toString()===sf.toString();if((Nf=(em=Object.keys(s)).length)!==Object.keys(sf).length)return!1;for(ip=Nf;ip--!=0;)if(!Object.prototype.hasOwnProperty.call(sf,em[ip]))return!1;for(ip=Nf;ip--!=0;){var tm=em[ip];if(!r(s[tm],sf[tm]))return!1}return!0}return s!=s&&sf!=sf},Xc=de(Jc),Qc=class r0 extends Gc{constructor({logger:s=console,maxEventListeners:sf=100,rpcMiddleware:Nf=[]}={}){super(),qc(this,Yc,void 0),qc(this,Zc,void 0),this._log=s,this.setMaxListeners(sf),this._state={...r0._defaultState},Wc(this,Zc,null),Wc(this,Yc,null),this._handleAccountsChanged=this._handleAccountsChanged.bind(this),this._handleConnect=this._handleConnect.bind(this),this._handleChainChanged=this._handleChainChanged.bind(this),this._handleDisconnect=this._handleDisconnect.bind(this),this._handleUnlockStateChanged=this._handleUnlockStateChanged.bind(this),this._rpcRequest=this._rpcRequest.bind(this),this.request=this.request.bind(this);const ip=new Pc;Nf.forEach(em=>ip.push(em)),this._rpcEngine=ip}get chainId(){return zc(this,Yc)}get selectedAddress(){return zc(this,Zc)}isConnected(){return this._state.isConnected}async request(s){if(!s||typeof s!="object"||Array.isArray(s))throw Za({message:ts.errors.invalidRequestArgs(),data:s});const{method:sf,params:Nf}=s;if(typeof sf!="string"||sf.length===0)throw Za({message:ts.errors.invalidRequestMethod(),data:s});if(Nf!==void 0&&!Array.isArray(Nf)&&(typeof Nf!="object"||Nf===null))throw Za({message:ts.errors.invalidRequestParams(),data:s});const ip=Nf==null?{method:sf}:{method:sf,params:Nf};return new Promise((em,tm)=>{this._rpcRequest(ip,$c(em,tm))})}_initializeState(s){if(this._state.initialized)throw new Error("Provider already initialized.");if(s){const{accounts:sf,chainId:Nf,isUnlocked:ip,networkVersion:em}=s;this._handleConnect(Nf),this._handleChainChanged({chainId:Nf,networkVersion:em}),this._handleUnlockStateChanged({accounts:sf,isUnlocked:ip}),this._handleAccountsChanged(sf)}this._state.initialized=!0,this.emit("_initialized")}_rpcRequest(s,sf){let Nf=sf;return Array.isArray(s)||(s.jsonrpc||(s.jsonrpc="2.0"),s.method!=="eth_accounts"&&s.method!=="eth_requestAccounts"||(Nf=(ip,em)=>{this._handleAccountsChanged(em.result??[],s.method==="eth_accounts"),sf(ip,em)})),this._rpcEngine.handle(s,Nf)}_handleConnect(s){this._state.isConnected||(this._state.isConnected=!0,this.emit("connect",{chainId:s}),this._log.debug(ts.info.connected(s)))}_handleDisconnect(s,sf){if(this._state.isConnected||!this._state.isPermanentlyDisconnected&&!s){let Nf;this._state.isConnected=!1,s?(Nf=new Ga(1013,sf??ts.errors.disconnected()),this._log.debug(Nf)):(Nf=new Ga(1011,sf??ts.errors.permanentlyDisconnected()),this._log.error(Nf),Wc(this,Yc,null),this._state.accounts=null,Wc(this,Zc,null),this._state.isUnlocked=!1,this._state.isPermanentlyDisconnected=!0),this.emit("disconnect",Nf)}}_handleChainChanged({chainId:s}={}){Dc(s)?(this._handleConnect(s),s!==zc(this,Yc)&&(Wc(this,Yc,s),this._state.initialized&&this.emit("chainChanged",zc(this,Yc)))):this._log.error(ts.errors.invalidNetworkParams(),{chainId:s})}_handleAccountsChanged(s,sf=!1){let Nf=s;Array.isArray(s)||(this._log.error("MetaMask: Received invalid accounts parameter. Please report this bug.",s),Nf=[]);for(const ip of s)if(typeof ip!="string"){this._log.error("MetaMask: Received non-string account. Please report this bug.",s),Nf=[];break}if(!Xc(this._state.accounts,Nf)&&(sf&&this._state.accounts!==null&&this._log.error("MetaMask: 'eth_accounts' unexpectedly updated accounts. Please report this bug.",Nf),this._state.accounts=Nf,zc(this,Zc)!==Nf[0]&&Wc(this,Zc,Nf[0]||null),this._state.initialized)){const ip=[...Nf];this.emit("accountsChanged",ip)}}_handleUnlockStateChanged({accounts:s,isUnlocked:sf}={}){typeof sf=="boolean"?sf!==this._state.isUnlocked&&(this._state.isUnlocked=sf,this._handleAccountsChanged(s??[])):this._log.error("MetaMask: Received invalid isUnlocked parameter. Please report this bug.")}};Yc=new WeakMap,Zc=new WeakMap,Qc._defaultState={accounts:null,isConnected:!1,isUnlocked:!1,initialized:!1,isPermanentlyDisconnected:!1};var el,tl,nl=Qc,rl={exports:{}};function il(){return tl?el:(tl=1,el=sc.EventEmitter)}var ol,sl=ue(ce);ol=typeof Object.create=="function"?function(r,s){r.super_=s,r.prototype=Object.create(s.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}})}:function(r,s){r.super_=s;var sf=function(){};sf.prototype=s.prototype,r.prototype=new sf,r.prototype.constructor=r};var al=Object.getOwnPropertyDescriptors||function(r){for(var s=Object.keys(r),sf={},Nf=0;Nf<s.length;Nf++)sf[s[Nf]]=Object.getOwnPropertyDescriptor(r,s[Nf]);return sf},cl=/%[sdj%]/g;function ll(r){if(!kl(r)){for(var s=[],sf=0;sf<arguments.length;sf++)s.push(pl(arguments[sf]));return s.join(" ")}sf=1;for(var Nf=arguments,ip=Nf.length,em=String(r).replace(cl,function(nm){if(nm==="%%")return"%";if(sf>=ip)return nm;switch(nm){case"%s":return String(Nf[sf++]);case"%d":return Number(Nf[sf++]);case"%j":try{return JSON.stringify(Nf[sf++])}catch{return"[Circular]"}default:return nm}}),tm=Nf[sf];sf<ip;tm=Nf[++sf])Sl(tm)||!Il(tm)?em+=" "+tm:em+=" "+pl(tm);return em}function dl(r,s){if(Ml(c.process))return function(){return dl(r,s).apply(this,arguments)};if(ca.noDeprecation===!0)return r;var sf=!1;return function(){if(!sf){if(ca.throwDeprecation)throw new Error(s);ca.traceDeprecation?console.trace(s):console.error(s),sf=!0}return r.apply(this,arguments)}}var ul,hl={};function fl(r){return Ml(ul)&&(ul=ca.env.NODE_DEBUG||""),r=r.toUpperCase(),!hl[r]&&(new RegExp("\\b"+r+"\\b","i").test(ul)?hl[r]=function(){var s=ll.apply(null,arguments);console.error("%s %d: %s",r,0,s)}:hl[r]=function(){}),hl[r]}function pl(r,s){var sf={seen:[],stylize:ml};return arguments.length>=3&&(sf.depth=arguments[2]),arguments.length>=4&&(sf.colors=arguments[3]),El(s)?sf.showHidden=s:s&&Kl(sf,s),Ml(sf.showHidden)&&(sf.showHidden=!1),Ml(sf.depth)&&(sf.depth=2),Ml(sf.colors)&&(sf.colors=!1),Ml(sf.customInspect)&&(sf.customInspect=!0),sf.colors&&(sf.stylize=gl),yl(sf,r,sf.depth)}function gl(r,s){var sf=pl.styles[s];return sf?"\x1b["+pl.colors[sf][0]+"m"+r+"\x1b["+pl.colors[sf][1]+"m":r}function ml(r,s){return r}function yl(r,s,sf){if(r.customInspect&&s&&Tl(s.inspect)&&s.inspect!==pl&&(!s.constructor||s.constructor.prototype!==s)){var Nf=s.inspect(sf,r);return kl(Nf)||(Nf=yl(r,Nf,sf)),Nf}var ip=function(sm,cm){if(Ml(cm))return sm.stylize("undefined","undefined");if(kl(cm)){var hm="'"+JSON.stringify(cm).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return sm.stylize(hm,"string")}if(Cl(cm))return sm.stylize(""+cm,"number");if(El(cm))return sm.stylize(""+cm,"boolean");if(Sl(cm))return sm.stylize("null","null")}(r,s);if(ip)return ip;var em=Object.keys(s),tm=function(sm){var cm={};return sm.forEach(function(hm,fm){cm[hm]=!0}),cm}(em);if(r.showHidden&&(em=Object.getOwnPropertyNames(s)),Pl(s)&&(em.indexOf("message")>=0||em.indexOf("description")>=0))return vl(s);if(em.length===0){if(Tl(s)){var nm=s.name?": "+s.name:"";return r.stylize("[Function"+nm+"]","special")}if(Al(s))return r.stylize(RegExp.prototype.toString.call(s),"regexp");if(Rl(s))return r.stylize(Date.prototype.toString.call(s),"date");if(Pl(s))return vl(s)}var rm,om="",im=!1,am=["{","}"];return wl(s)&&(im=!0,am=["[","]"]),Tl(s)&&(om=" [Function"+(s.name?": "+s.name:"")+"]"),Al(s)&&(om=" "+RegExp.prototype.toString.call(s)),Rl(s)&&(om=" "+Date.prototype.toUTCString.call(s)),Pl(s)&&(om=" "+vl(s)),em.length!==0||im&&s.length!=0?sf<0?Al(s)?r.stylize(RegExp.prototype.toString.call(s),"regexp"):r.stylize("[Object]","special"):(r.seen.push(s),rm=im?function(sm,cm,hm,fm,pm){for(var mm=[],_m=0,ym=cm.length;_m<ym;++_m)jl(cm,String(_m))?mm.push(bl(sm,cm,hm,fm,String(_m),!0)):mm.push("");return pm.forEach(function(Sm){Sm.match(/^\d+$/)||mm.push(bl(sm,cm,hm,fm,Sm,!0))}),mm}(r,s,sf,tm,em):em.map(function(sm){return bl(r,s,sf,tm,sm,im)}),r.seen.pop(),function(sm,cm,hm){var fm=sm.reduce(function(pm,mm){return mm.indexOf(`
`),pm+mm.replace(/\u001b\[\d\d?m/g,"").length+1},0);return fm>60?hm[0]+(cm===""?"":cm+`
 `)+" "+sm.join(`,
  `)+" "+hm[1]:hm[0]+cm+" "+sm.join(", ")+" "+hm[1]}(rm,om,am)):am[0]+om+am[1]}function vl(r){return"["+Error.prototype.toString.call(r)+"]"}function bl(r,s,sf,Nf,ip,em){var tm,nm,rm;if((rm=Object.getOwnPropertyDescriptor(s,ip)||{value:s[ip]}).get?nm=rm.set?r.stylize("[Getter/Setter]","special"):r.stylize("[Getter]","special"):rm.set&&(nm=r.stylize("[Setter]","special")),jl(Nf,ip)||(tm="["+ip+"]"),nm||(r.seen.indexOf(rm.value)<0?(nm=Sl(sf)?yl(r,rm.value,null):yl(r,rm.value,sf-1)).indexOf(`
`)>-1&&(nm=em?nm.split(`
`).map(function(om){return"  "+om}).join(`
`).substr(2):`
`+nm.split(`
`).map(function(om){return"   "+om}).join(`
`)):nm=r.stylize("[Circular]","special")),Ml(tm)){if(em&&ip.match(/^\d+$/))return nm;(tm=JSON.stringify(""+ip)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(tm=tm.substr(1,tm.length-2),tm=r.stylize(tm,"name")):(tm=tm.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),tm=r.stylize(tm,"string"))}return tm+": "+nm}function wl(r){return Array.isArray(r)}function El(r){return typeof r=="boolean"}function Sl(r){return r===null}function _l(r){return r==null}function Cl(r){return typeof r=="number"}function kl(r){return typeof r=="string"}function xl(r){return typeof r=="symbol"}function Ml(r){return r===void 0}function Al(r){return Il(r)&&Nl(r)==="[object RegExp]"}function Il(r){return typeof r=="object"&&r!==null}function Rl(r){return Il(r)&&Nl(r)==="[object Date]"}function Pl(r){return Il(r)&&(Nl(r)==="[object Error]"||r instanceof Error)}function Tl(r){return typeof r=="function"}function Ol(r){return r===null||typeof r=="boolean"||typeof r=="number"||typeof r=="string"||typeof r=="symbol"||r===void 0}function Ll(r){return _.isBuffer(r)}function Nl(r){return Object.prototype.toString.call(r)}function $l(r){return r<10?"0"+r.toString(10):r.toString(10)}pl.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},pl.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var Dl=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Bl(){console.log("%s - %s",function(){var r=new Date,s=[$l(r.getHours()),$l(r.getMinutes()),$l(r.getSeconds())].join(":");return[r.getDate(),Dl[r.getMonth()],s].join(" ")}(),ll.apply(null,arguments))}function Kl(r,s){if(!s||!Il(s))return r;for(var sf=Object.keys(s),Nf=sf.length;Nf--;)r[sf[Nf]]=s[sf[Nf]];return r}function jl(r,s){return Object.prototype.hasOwnProperty.call(r,s)}var Ul=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;function Hl(r){if(typeof r!="function")throw new TypeError('The "original" argument must be of type Function');if(Ul&&r[Ul]){var s;if(typeof(s=r[Ul])!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(s,Ul,{value:s,enumerable:!1,writable:!1,configurable:!0}),s}function s(){for(var sf,Nf,ip=new Promise(function(nm,rm){sf=nm,Nf=rm}),em=[],tm=0;tm<arguments.length;tm++)em.push(arguments[tm]);em.push(function(nm,rm){nm?Nf(nm):sf(rm)});try{r.apply(this,em)}catch(nm){Nf(nm)}return ip}return Object.setPrototypeOf(s,Object.getPrototypeOf(r)),Ul&&Object.defineProperty(s,Ul,{value:s,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(s,al(r))}function Fl(r,s){if(!r){var sf=new Error("Promise was rejected with a falsy value");sf.reason=r,r=sf}return s(r)}function zl(r){if(typeof r!="function")throw new TypeError('The "original" argument must be of type Function');function s(){for(var sf=[],Nf=0;Nf<arguments.length;Nf++)sf.push(arguments[Nf]);var ip=sf.pop();if(typeof ip!="function")throw new TypeError("The last argument must be of type Function");var em=this,tm=function(){return ip.apply(em,arguments)};r.apply(this,sf).then(function(nm){ca.nextTick(tm.bind(null,null,nm))},function(nm){ca.nextTick(Fl.bind(null,nm,tm))})}return Object.setPrototypeOf(s,Object.getPrototypeOf(r)),Object.defineProperties(s,al(r)),s}Hl.custom=Ul;var ql,Wl,Vl,Gl,Yl={inherits:ol,_extend:Kl,log:Bl,isBuffer:Ll,isPrimitive:Ol,isFunction:Tl,isError:Pl,isDate:Rl,isObject:Il,isRegExp:Al,isUndefined:Ml,isSymbol:xl,isString:kl,isNumber:Cl,isNullOrUndefined:_l,isNull:Sl,isBoolean:El,isArray:wl,inspect:pl,deprecate:dl,format:ll,debuglog:fl,promisify:Hl,callbackify:zl},Zl=ue(Object.freeze({__proto__:null,_extend:Kl,callbackify:zl,debuglog:fl,default:Yl,deprecate:dl,format:ll,inherits:ol,inspect:pl,isArray:wl,isBoolean:El,isBuffer:Ll,isDate:Rl,isError:Pl,isFunction:Tl,isNull:Sl,isNullOrUndefined:_l,isNumber:Cl,isObject:Il,isPrimitive:Ol,isRegExp:Al,isString:kl,isSymbol:xl,isUndefined:Ml,log:Bl,promisify:Hl}));function Jl(){if(Wl)return ql;function r(rm,om){var im=Object.keys(rm);if(Object.getOwnPropertySymbols){var am=Object.getOwnPropertySymbols(rm);om&&(am=am.filter(function(sm){return Object.getOwnPropertyDescriptor(rm,sm).enumerable})),im.push.apply(im,am)}return im}function s(rm){for(var om=1;om<arguments.length;om++){var im=arguments[om]!=null?arguments[om]:{};om%2?r(Object(im),!0).forEach(function(am){sf(rm,am,im[am])}):Object.getOwnPropertyDescriptors?Object.defineProperties(rm,Object.getOwnPropertyDescriptors(im)):r(Object(im)).forEach(function(am){Object.defineProperty(rm,am,Object.getOwnPropertyDescriptor(im,am))})}return rm}function sf(rm,om,im){return(om=ip(om))in rm?Object.defineProperty(rm,om,{value:im,enumerable:!0,configurable:!0,writable:!0}):rm[om]=im,rm}function Nf(rm,om,im){return om&&function(am,sm){for(var cm=0;cm<sm.length;cm++){var hm=sm[cm];hm.enumerable=hm.enumerable||!1,hm.configurable=!0,"value"in hm&&(hm.writable=!0),Object.defineProperty(am,ip(hm.key),hm)}}(rm.prototype,om),Object.defineProperty(rm,"prototype",{writable:!1}),rm}function ip(rm){var om=function(im,am){if(typeof im!="object"||im===null)return im;var sm=im[Symbol.toPrimitive];if(sm!==void 0){var cm=sm.call(im,am);if(typeof cm!="object")return cm;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(im)}(rm,"string");return typeof om=="symbol"?om:String(om)}Wl=1;var em=sl.Buffer,tm=Zl.inspect,nm=tm&&tm.custom||"inspect";return ql=function(){function rm(){(function(om,im){if(!(om instanceof im))throw new TypeError("Cannot call a class as a function")})(this,rm),this.head=null,this.tail=null,this.length=0}return Nf(rm,[{key:"push",value:function(om){var im={data:om,next:null};this.length>0?this.tail.next=im:this.head=im,this.tail=im,++this.length}},{key:"unshift",value:function(om){var im={data:om,next:this.head};this.length===0&&(this.tail=im),this.head=im,++this.length}},{key:"shift",value:function(){if(this.length!==0){var om=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,om}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(om){if(this.length===0)return"";for(var im=this.head,am=""+im.data;im=im.next;)am+=om+im.data;return am}},{key:"concat",value:function(om){if(this.length===0)return em.alloc(0);for(var im,am,sm,cm=em.allocUnsafe(om>>>0),hm=this.head,fm=0;hm;)im=hm.data,am=cm,sm=fm,em.prototype.copy.call(im,am,sm),fm+=hm.data.length,hm=hm.next;return cm}},{key:"consume",value:function(om,im){var am;return om<this.head.data.length?(am=this.head.data.slice(0,om),this.head.data=this.head.data.slice(om)):am=om===this.head.data.length?this.shift():im?this._getString(om):this._getBuffer(om),am}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(om){var im=this.head,am=1,sm=im.data;for(om-=sm.length;im=im.next;){var cm=im.data,hm=om>cm.length?cm.length:om;if(hm===cm.length?sm+=cm:sm+=cm.slice(0,om),(om-=hm)===0){hm===cm.length?(++am,im.next?this.head=im.next:this.head=this.tail=null):(this.head=im,im.data=cm.slice(hm));break}++am}return this.length-=am,sm}},{key:"_getBuffer",value:function(om){var im=em.allocUnsafe(om),am=this.head,sm=1;for(am.data.copy(im),om-=am.data.length;am=am.next;){var cm=am.data,hm=om>cm.length?cm.length:om;if(cm.copy(im,im.length-om,0,hm),(om-=hm)===0){hm===cm.length?(++sm,am.next?this.head=am.next:this.head=this.tail=null):(this.head=am,am.data=cm.slice(hm));break}++sm}return this.length-=sm,im}},{key:nm,value:function(om,im){return tm(this,s(s({},im),{},{depth:0,customInspect:!1}))}}]),rm}(),ql}function Xl(){if(Gl)return Vl;function r(Nf,ip){sf(Nf,ip),s(Nf)}function s(Nf){Nf._writableState&&!Nf._writableState.emitClose||Nf._readableState&&!Nf._readableState.emitClose||Nf.emit("close")}function sf(Nf,ip){Nf.emit("error",ip)}return Gl=1,Vl={destroy:function(Nf,ip){var em=this,tm=this._readableState&&this._readableState.destroyed,nm=this._writableState&&this._writableState.destroyed;return tm||nm?(ip?ip(Nf):Nf&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,ca.nextTick(sf,this,Nf)):ca.nextTick(sf,this,Nf)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(Nf||null,function(rm){!ip&&rm?em._writableState?em._writableState.errorEmitted?ca.nextTick(s,em):(em._writableState.errorEmitted=!0,ca.nextTick(r,em,rm)):ca.nextTick(r,em,rm):ip?(ca.nextTick(s,em),ip(rm)):ca.nextTick(s,em)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(Nf,ip){var em=Nf._readableState,tm=Nf._writableState;em&&em.autoDestroy||tm&&tm.autoDestroy?Nf.destroy(ip):Nf.emit("error",ip)}},Vl}var Ql={},ed,td,nd={};function rd(r,s,sf){sf||(sf=Error);var Nf=function(ip){var em,tm;function nm(rm,om,im){return ip.call(this,function(am,sm,cm){return typeof s=="string"?s:s(am,sm,cm)}(rm,om,im))||this}return tm=ip,(em=nm).prototype=Object.create(tm.prototype),em.prototype.constructor=em,em.__proto__=tm,nm}(sf);Nf.prototype.name=sf.name,Nf.prototype.code=r,nd[r]=Nf}function id(r,s){if(Array.isArray(r)){var sf=r.length;return r=r.map(function(Nf){return String(Nf)}),sf>2?"one of ".concat(s," ").concat(r.slice(0,sf-1).join(", "),", or ")+r[sf-1]:sf===2?"one of ".concat(s," ").concat(r[0]," or ").concat(r[1]):"of ".concat(s," ").concat(r[0])}return"of ".concat(s," ").concat(String(r))}function od(){if(td)return ed;td=1;var r=Ql.codes.ERR_INVALID_OPT_VALUE;return ed={getHighWaterMark:function(s,sf,Nf,ip){var em=function(tm,nm,rm){return tm.highWaterMark!=null?tm.highWaterMark:nm?tm[rm]:null}(sf,ip,Nf);if(em!=null){if(!isFinite(em)||Math.floor(em)!==em||em<0)throw new r(ip?Nf:"highWaterMark",em);return Math.floor(em)}return s.objectMode?16:16384}}}rd("ERR_INVALID_OPT_VALUE",function(r,s){return'The value "'+s+'" is invalid for option "'+r+'"'},TypeError),rd("ERR_INVALID_ARG_TYPE",function(r,s,sf){var Nf,ip,em;if(typeof s=="string"&&(ip="not ",s.substr(0,ip.length)===ip)?(Nf="must not be",s=s.replace(/^not /,"")):Nf="must be",function(nm,rm,om){return(om===void 0||om>nm.length)&&(om=nm.length),nm.substring(om-rm.length,om)===rm}(r," argument"))em="The ".concat(r," ").concat(Nf," ").concat(id(s,"type"));else{var tm=function(nm,rm,om){return typeof om!="number"&&(om=0),!(om+rm.length>nm.length)&&nm.indexOf(rm,om)!==-1}(r,".")?"property":"argument";em='The "'.concat(r,'" ').concat(tm," ").concat(Nf," ").concat(id(s,"type"))}return em+=". Received type ".concat(typeof sf)},TypeError),rd("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),rd("ERR_METHOD_NOT_IMPLEMENTED",function(r){return"The "+r+" method is not implemented"}),rd("ERR_STREAM_PREMATURE_CLOSE","Premature close"),rd("ERR_STREAM_DESTROYED",function(r){return"Cannot call "+r+" after a stream was destroyed"}),rd("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),rd("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),rd("ERR_STREAM_WRITE_AFTER_END","write after end"),rd("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),rd("ERR_UNKNOWN_ENCODING",function(r){return"Unknown encoding: "+r},TypeError),rd("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Ql.codes=nd;var sd,ad,cd,ld,dd,ud,hd=typeof Object.create=="function"?function(r,s){r.super_=s,r.prototype=Object.create(s.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}})}:function(r,s){r.super_=s;var sf=function(){};sf.prototype=s.prototype,r.prototype=new sf,r.prototype.constructor=r},fd=ue(Object.freeze({__proto__:null,default:hd}));function pd(){if(ad)return sd;function r(s){try{if(!le.localStorage)return!1}catch{return!1}var sf=le.localStorage[s];return sf!=null&&String(sf).toLowerCase()==="true"}return ad=1,sd=function(s,sf){if(r("noDeprecation"))return s;var Nf=!1;return function(){if(!Nf){if(r("throwDeprecation"))throw new Error(sf);r("traceDeprecation")?console.trace(sf):console.warn(sf),Nf=!0}return s.apply(this,arguments)}},sd}function gd(){if(ld)return cd;function r(Lm){var Im=this;this.next=null,this.entry=null,this.finish=function(){(function(dm,gm,km){var Mm=dm.entry;for(dm.entry=null;Mm;){var bm=Mm.callback;gm.pendingcb--,bm(km),Mm=Mm.next}gm.corkedRequestsFree.next=dm})(Im,Lm)}}var s;ld=1,cd=jm,jm.WritableState=Sm;var sf={deprecate:pd()},Nf=il(),ip=sl.Buffer,em=(le!==void 0?le:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},tm,nm=Xl(),rm=od().getHighWaterMark,om=Ql.codes,im=om.ERR_INVALID_ARG_TYPE,am=om.ERR_METHOD_NOT_IMPLEMENTED,sm=om.ERR_MULTIPLE_CALLBACK,cm=om.ERR_STREAM_CANNOT_PIPE,hm=om.ERR_STREAM_DESTROYED,fm=om.ERR_STREAM_NULL_VALUES,pm=om.ERR_STREAM_WRITE_AFTER_END,mm=om.ERR_UNKNOWN_ENCODING,_m=nm.errorOrDestroy;function ym(){}function Sm(Lm,Im,dm){s=s||md(),Lm=Lm||{},typeof dm!="boolean"&&(dm=Im instanceof s),this.objectMode=!!Lm.objectMode,dm&&(this.objectMode=this.objectMode||!!Lm.writableObjectMode),this.highWaterMark=rm(this,Lm,"writableHighWaterMark",dm),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var gm=Lm.decodeStrings===!1;this.decodeStrings=!gm,this.defaultEncoding=Lm.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(km){(function(Mm,bm){var Em=Mm._writableState,$m=Em.sync,Am=Em.writecb;if(typeof Am!="function")throw new sm;if(function(um){um.writing=!1,um.writecb=null,um.length-=um.writelen,um.writelen=0}(Em),bm)(function(um,wm,xm,Tm,Om){--wm.pendingcb,xm?(ca.nextTick(Om,Tm),ca.nextTick(Um,um,wm),um._writableState.errorEmitted=!0,_m(um,Tm)):(Om(Tm),um._writableState.errorEmitted=!0,_m(um,Tm),Um(um,wm))})(Mm,Em,$m,bm,Am);else{var lm=Rm(Em)||Mm.destroyed;lm||Em.corked||Em.bufferProcessing||!Em.bufferedRequest||qm(Mm,Em),$m?ca.nextTick(Bm,Mm,Em,lm,Am):Bm(Mm,Em,lm,Am)}})(Im,km)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Lm.emitClose!==!1,this.autoDestroy=!!Lm.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}function jm(Lm){var Im=this instanceof(s=s||md());if(!Im&&!tm.call(jm,this))return new jm(Lm);this._writableState=new Sm(Lm,this,Im),this.writable=!0,Lm&&(typeof Lm.write=="function"&&(this._write=Lm.write),typeof Lm.writev=="function"&&(this._writev=Lm.writev),typeof Lm.destroy=="function"&&(this._destroy=Lm.destroy),typeof Lm.final=="function"&&(this._final=Lm.final)),Nf.call(this)}function Pm(Lm,Im,dm,gm,km,Mm,bm){Im.writelen=gm,Im.writecb=bm,Im.writing=!0,Im.sync=!0,Im.destroyed?Im.onwrite(new hm("write")):dm?Lm._writev(km,Im.onwrite):Lm._write(km,Mm,Im.onwrite),Im.sync=!1}function Bm(Lm,Im,dm,gm){dm||function(km,Mm){Mm.length===0&&Mm.needDrain&&(Mm.needDrain=!1,km.emit("drain"))}(Lm,Im),Im.pendingcb--,gm(),Um(Lm,Im)}function qm(Lm,Im){Im.bufferProcessing=!0;var dm=Im.bufferedRequest;if(Lm._writev&&dm&&dm.next){var gm=Im.bufferedRequestCount,km=new Array(gm),Mm=Im.corkedRequestsFree;Mm.entry=dm;for(var bm=0,Em=!0;dm;)km[bm]=dm,dm.isBuf||(Em=!1),dm=dm.next,bm+=1;km.allBuffers=Em,Pm(Lm,Im,!0,Im.length,km,"",Mm.finish),Im.pendingcb++,Im.lastBufferedRequest=null,Mm.next?(Im.corkedRequestsFree=Mm.next,Mm.next=null):Im.corkedRequestsFree=new r(Im),Im.bufferedRequestCount=0}else{for(;dm;){var $m=dm.chunk,Am=dm.encoding,lm=dm.callback;if(Pm(Lm,Im,!1,Im.objectMode?1:$m.length,$m,Am,lm),dm=dm.next,Im.bufferedRequestCount--,Im.writing)break}dm===null&&(Im.lastBufferedRequest=null)}Im.bufferedRequest=dm,Im.bufferProcessing=!1}function Rm(Lm){return Lm.ending&&Lm.length===0&&Lm.bufferedRequest===null&&!Lm.finished&&!Lm.writing}function Dm(Lm,Im){Lm._final(function(dm){Im.pendingcb--,dm&&_m(Lm,dm),Im.prefinished=!0,Lm.emit("prefinish"),Um(Lm,Im)})}function Um(Lm,Im){var dm=Rm(Im);if(dm&&(function(km,Mm){Mm.prefinished||Mm.finalCalled||(typeof km._final!="function"||Mm.destroyed?(Mm.prefinished=!0,km.emit("prefinish")):(Mm.pendingcb++,Mm.finalCalled=!0,ca.nextTick(Dm,km,Mm)))}(Lm,Im),Im.pendingcb===0&&(Im.finished=!0,Lm.emit("finish"),Im.autoDestroy))){var gm=Lm._readableState;(!gm||gm.autoDestroy&&gm.endEmitted)&&Lm.destroy()}return dm}return fd(jm,Nf),Sm.prototype.getBuffer=function(){for(var Lm=this.bufferedRequest,Im=[];Lm;)Im.push(Lm),Lm=Lm.next;return Im},function(){try{Object.defineProperty(Sm.prototype,"buffer",{get:sf.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(tm=Function.prototype[Symbol.hasInstance],Object.defineProperty(jm,Symbol.hasInstance,{value:function(Lm){return!!tm.call(this,Lm)||this===jm&&Lm&&Lm._writableState instanceof Sm}})):tm=function(Lm){return Lm instanceof this},jm.prototype.pipe=function(){_m(this,new cm)},jm.prototype.write=function(Lm,Im,dm){var gm,km=this._writableState,Mm=!1,bm=!km.objectMode&&(gm=Lm,ip.isBuffer(gm)||gm instanceof em);return bm&&!ip.isBuffer(Lm)&&(Lm=function(Em){return ip.from(Em)}(Lm)),typeof Im=="function"&&(dm=Im,Im=null),bm?Im="buffer":Im||(Im=km.defaultEncoding),typeof dm!="function"&&(dm=ym),km.ending?function(Em,$m){var Am=new pm;_m(Em,Am),ca.nextTick($m,Am)}(this,dm):(bm||function(Em,$m,Am,lm){var um;return Am===null?um=new fm:typeof Am=="string"||$m.objectMode||(um=new im("chunk",["string","Buffer"],Am)),!um||(_m(Em,um),ca.nextTick(lm,um),!1)}(this,km,Lm,dm))&&(km.pendingcb++,Mm=function(Em,$m,Am,lm,um,wm){if(!Am){var xm=function(Km,Zm,Vm){return Km.objectMode||Km.decodeStrings===!1||typeof Zm!="string"||(Zm=ip.from(Zm,Vm)),Zm}($m,lm,um);lm!==xm&&(Am=!0,um="buffer",lm=xm)}var Tm=$m.objectMode?1:lm.length;$m.length+=Tm;var Om=$m.length<$m.highWaterMark;if(Om||($m.needDrain=!0),$m.writing||$m.corked){var Hm=$m.lastBufferedRequest;$m.lastBufferedRequest={chunk:lm,encoding:um,isBuf:Am,callback:wm,next:null},Hm?Hm.next=$m.lastBufferedRequest:$m.bufferedRequest=$m.lastBufferedRequest,$m.bufferedRequestCount+=1}else Pm(Em,$m,!1,Tm,lm,um,wm);return Om}(this,km,bm,Lm,Im,dm)),Mm},jm.prototype.cork=function(){this._writableState.corked++},jm.prototype.uncork=function(){var Lm=this._writableState;Lm.corked&&(Lm.corked--,Lm.writing||Lm.corked||Lm.bufferProcessing||!Lm.bufferedRequest||qm(this,Lm))},jm.prototype.setDefaultEncoding=function(Lm){if(typeof Lm=="string"&&(Lm=Lm.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Lm+"").toLowerCase())>-1))throw new mm(Lm);return this._writableState.defaultEncoding=Lm,this},Object.defineProperty(jm.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(jm.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),jm.prototype._write=function(Lm,Im,dm){dm(new am("_write()"))},jm.prototype._writev=null,jm.prototype.end=function(Lm,Im,dm){var gm=this._writableState;return typeof Lm=="function"?(dm=Lm,Lm=null,Im=null):typeof Im=="function"&&(dm=Im,Im=null),Lm!=null&&this.write(Lm,Im),gm.corked&&(gm.corked=1,this.uncork()),gm.ending||function(km,Mm,bm){Mm.ending=!0,Um(km,Mm),bm&&(Mm.finished?ca.nextTick(bm):km.once("finish",bm)),Mm.ended=!0,km.writable=!1}(this,gm,dm),this},Object.defineProperty(jm.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(jm.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(Lm){this._writableState&&(this._writableState.destroyed=Lm)}}),jm.prototype.destroy=nm.destroy,jm.prototype._undestroy=nm.undestroy,jm.prototype._destroy=function(Lm,Im){Im(Lm)},cd}function md(){if(ud)return dd;ud=1;var r=Object.keys||function(om){var im=[];for(var am in om)im.push(am);return im};dd=tm;var s=Od(),sf=gd();fd(tm,s);for(var Nf=r(sf.prototype),ip=0;ip<Nf.length;ip++){var em=Nf[ip];tm.prototype[em]||(tm.prototype[em]=sf.prototype[em])}function tm(om){if(!(this instanceof tm))return new tm(om);s.call(this,om),sf.call(this,om),this.allowHalfOpen=!0,om&&(om.readable===!1&&(this.readable=!1),om.writable===!1&&(this.writable=!1),om.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",nm)))}function nm(){this._writableState.ended||ca.nextTick(rm,this)}function rm(om){om.end()}return Object.defineProperty(tm.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(tm.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(tm.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(tm.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(om){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=om,this._writableState.destroyed=om)}}),dd}var yd=_.isEncoding||function(r){switch(r&&r.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function vd(r){switch(this.encoding=(r||"utf8").toLowerCase().replace(/[-_]/,""),function(s){if(s&&!yd(s))throw new Error("Unknown encoding: "+s)}(r),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=wd;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=Ed;break;default:return void(this.write=bd)}this.charBuffer=new _(6),this.charReceived=0,this.charLength=0}function bd(r){return r.toString(this.encoding)}function wd(r){this.charReceived=r.length%2,this.charLength=this.charReceived?2:0}function Ed(r){this.charReceived=r.length%3,this.charLength=this.charReceived?3:0}vd.prototype.write=function(r){for(var s="";this.charLength;){var sf=r.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:r.length;if(r.copy(this.charBuffer,this.charReceived,0,sf),this.charReceived+=sf,this.charReceived<this.charLength)return"";if(r=r.slice(sf,r.length),!((ip=(s=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(s.length-1))>=55296&&ip<=56319)){if(this.charReceived=this.charLength=0,r.length===0)return s;break}this.charLength+=this.surrogateSize,s=""}this.detectIncompleteChar(r);var Nf=r.length;this.charLength&&(r.copy(this.charBuffer,0,r.length-this.charReceived,Nf),Nf-=this.charReceived);var ip;if(Nf=(s+=r.toString(this.encoding,0,Nf)).length-1,(ip=s.charCodeAt(Nf))>=55296&&ip<=56319){var em=this.surrogateSize;return this.charLength+=em,this.charReceived+=em,this.charBuffer.copy(this.charBuffer,em,0,em),r.copy(this.charBuffer,0,0,em),s.substring(0,Nf)}return s},vd.prototype.detectIncompleteChar=function(r){for(var s=r.length>=3?3:r.length;s>0;s--){var sf=r[r.length-s];if(s==1&&sf>>5==6){this.charLength=2;break}if(s<=2&&sf>>4==14){this.charLength=3;break}if(s<=3&&sf>>3==30){this.charLength=4;break}}this.charReceived=s},vd.prototype.end=function(r){var s="";if(r&&r.length&&(s=this.write(r)),this.charReceived){var sf=this.charReceived,Nf=this.charBuffer,ip=this.encoding;s+=Nf.slice(0,sf).toString(ip)}return s};var Sd=ue(Object.freeze({__proto__:null,StringDecoder:vd})),_d=Ql.codes.ERR_STREAM_PREMATURE_CLOSE;function Cd(){}var kd,xd,Md,Ad,Id,Rd,Pd=function r(s,sf,Nf){if(typeof sf=="function")return r(s,null,sf);sf||(sf={}),Nf=function(hm){var fm=!1;return function(){if(!fm){fm=!0;for(var pm=arguments.length,mm=new Array(pm),_m=0;_m<pm;_m++)mm[_m]=arguments[_m];hm.apply(this,mm)}}}(Nf||Cd);var ip=sf.readable||sf.readable!==!1&&s.readable,em=sf.writable||sf.writable!==!1&&s.writable,tm=function(){s.writable||rm()},nm=s._writableState&&s._writableState.finished,rm=function(){em=!1,nm=!0,ip||Nf.call(s)},om=s._readableState&&s._readableState.endEmitted,im=function(){ip=!1,om=!0,em||Nf.call(s)},am=function(hm){Nf.call(s,hm)},sm=function(){var hm;return ip&&!om?(s._readableState&&s._readableState.ended||(hm=new _d),Nf.call(s,hm)):em&&!nm?(s._writableState&&s._writableState.ended||(hm=new _d),Nf.call(s,hm)):void 0},cm=function(){s.req.on("finish",rm)};return function(hm){return hm.setHeader&&typeof hm.abort=="function"}(s)?(s.on("complete",rm),s.on("abort",sm),s.req?cm():s.on("request",cm)):em&&!s._writableState&&(s.on("end",tm),s.on("close",tm)),s.on("end",im),s.on("finish",rm),sf.error!==!1&&s.on("error",am),s.on("close",sm),function(){s.removeListener("complete",rm),s.removeListener("abort",sm),s.removeListener("request",cm),s.req&&s.req.removeListener("finish",rm),s.removeListener("end",tm),s.removeListener("close",tm),s.removeListener("finish",rm),s.removeListener("end",im),s.removeListener("error",am),s.removeListener("close",sm)}};function Td(){if(xd)return kd;var r;function s(fm,pm,mm){return(pm=function(_m){var ym=function(Sm,jm){if(typeof Sm!="object"||Sm===null)return Sm;var Pm=Sm[Symbol.toPrimitive];if(Pm!==void 0){var Bm=Pm.call(Sm,jm);if(typeof Bm!="object")return Bm;throw new TypeError("@@toPrimitive must return a primitive value.")}return(jm==="string"?String:Number)(Sm)}(_m,"string");return typeof ym=="symbol"?ym:String(ym)}(pm))in fm?Object.defineProperty(fm,pm,{value:mm,enumerable:!0,configurable:!0,writable:!0}):fm[pm]=mm,fm}xd=1;var sf=Pd,Nf=Symbol("lastResolve"),ip=Symbol("lastReject"),em=Symbol("error"),tm=Symbol("ended"),nm=Symbol("lastPromise"),rm=Symbol("handlePromise"),om=Symbol("stream");function im(fm,pm){return{value:fm,done:pm}}function am(fm){var pm=fm[Nf];if(pm!==null){var mm=fm[om].read();mm!==null&&(fm[nm]=null,fm[Nf]=null,fm[ip]=null,pm(im(mm,!1)))}}function sm(fm){ca.nextTick(am,fm)}var cm=Object.getPrototypeOf(function(){}),hm=Object.setPrototypeOf((s(r={get stream(){return this[om]},next:function(){var fm=this,pm=this[em];if(pm!==null)return Promise.reject(pm);if(this[tm])return Promise.resolve(im(void 0,!0));if(this[om].destroyed)return new Promise(function(Sm,jm){ca.nextTick(function(){fm[em]?jm(fm[em]):Sm(im(void 0,!0))})});var mm,_m=this[nm];if(_m)mm=new Promise(function(Sm,jm){return function(Pm,Bm){Sm.then(function(){jm[tm]?Pm(im(void 0,!0)):jm[rm](Pm,Bm)},Bm)}}(_m,this));else{var ym=this[om].read();if(ym!==null)return Promise.resolve(im(ym,!1));mm=new Promise(this[rm])}return this[nm]=mm,mm}},Symbol.asyncIterator,function(){return this}),s(r,"return",function(){var fm=this;return new Promise(function(pm,mm){fm[om].destroy(null,function(_m){_m?mm(_m):pm(im(void 0,!0))})})}),r),cm);return kd=function(fm){var pm,mm=Object.create(hm,(s(pm={},om,{value:fm,writable:!0}),s(pm,Nf,{value:null,writable:!0}),s(pm,ip,{value:null,writable:!0}),s(pm,em,{value:null,writable:!0}),s(pm,tm,{value:fm._readableState.endEmitted,writable:!0}),s(pm,rm,{value:function(_m,ym){var Sm=mm[om].read();Sm?(mm[nm]=null,mm[Nf]=null,mm[ip]=null,_m(im(Sm,!1))):(mm[Nf]=_m,mm[ip]=ym)},writable:!0}),pm));return mm[nm]=null,sf(fm,function(_m){if(_m&&_m.code!=="ERR_STREAM_PREMATURE_CLOSE"){var ym=mm[ip];return ym!==null&&(mm[nm]=null,mm[Nf]=null,mm[ip]=null,ym(_m)),void(mm[em]=_m)}var Sm=mm[Nf];Sm!==null&&(mm[nm]=null,mm[Nf]=null,mm[ip]=null,Sm(im(void 0,!0))),mm[tm]=!0}),fm.on("readable",sm.bind(null,mm)),mm},kd}function Od(){if(Rd)return Id;var r;Rd=1,Id=jm,jm.ReadableState=Sm,sc.EventEmitter;var s=function(lm,um){return lm.listeners(um).length},sf=il(),Nf=sl.Buffer,ip=(le!==void 0?le:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},em,tm=Zl;em=tm&&tm.debuglog?tm.debuglog("stream"):function(){};var nm,rm,om,im=Jl(),am=Xl(),sm=od().getHighWaterMark,cm=Ql.codes,hm=cm.ERR_INVALID_ARG_TYPE,fm=cm.ERR_STREAM_PUSH_AFTER_EOF,pm=cm.ERR_METHOD_NOT_IMPLEMENTED,mm=cm.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;fd(jm,sf);var _m=am.errorOrDestroy,ym=["error","close","destroy","pause","resume"];function Sm(lm,um,wm){r=r||md(),lm=lm||{},typeof wm!="boolean"&&(wm=um instanceof r),this.objectMode=!!lm.objectMode,wm&&(this.objectMode=this.objectMode||!!lm.readableObjectMode),this.highWaterMark=sm(this,lm,"readableHighWaterMark",wm),this.buffer=new im,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=lm.emitClose!==!1,this.autoDestroy=!!lm.autoDestroy,this.destroyed=!1,this.defaultEncoding=lm.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,lm.encoding&&(nm||(nm=Sd.StringDecoder),this.decoder=new nm(lm.encoding),this.encoding=lm.encoding)}function jm(lm){if(r=r||md(),!(this instanceof jm))return new jm(lm);var um=this instanceof r;this._readableState=new Sm(lm,this,um),this.readable=!0,lm&&(typeof lm.read=="function"&&(this._read=lm.read),typeof lm.destroy=="function"&&(this._destroy=lm.destroy)),sf.call(this)}function Pm(lm,um,wm,xm,Tm){em("readableAddChunk",um);var Om,Hm=lm._readableState;if(um===null)Hm.reading=!1,function(Km,Zm){if(em("onEofChunk"),!Zm.ended){if(Zm.decoder){var Vm=Zm.decoder.end();Vm&&Vm.length&&(Zm.buffer.push(Vm),Zm.length+=Zm.objectMode?1:Vm.length)}Zm.ended=!0,Zm.sync?Dm(Km):(Zm.needReadable=!1,Zm.emittedReadable||(Zm.emittedReadable=!0,Um(Km)))}}(lm,Hm);else if(Tm||(Om=function(Km,Zm){var Vm;zm=Zm,Nf.isBuffer(zm)||zm instanceof ip||typeof Zm=="string"||Zm===void 0||Km.objectMode||(Vm=new hm("chunk",["string","Buffer","Uint8Array"],Zm));var zm;return Vm}(Hm,um)),Om)_m(lm,Om);else if(Hm.objectMode||um&&um.length>0)if(typeof um=="string"||Hm.objectMode||Object.getPrototypeOf(um)===Nf.prototype||(um=function(Km){return Nf.from(Km)}(um)),xm)Hm.endEmitted?_m(lm,new mm):Bm(lm,Hm,um,!0);else if(Hm.ended)_m(lm,new fm);else{if(Hm.destroyed)return!1;Hm.reading=!1,Hm.decoder&&!wm?(um=Hm.decoder.write(um),Hm.objectMode||um.length!==0?Bm(lm,Hm,um,!1):Lm(lm,Hm)):Bm(lm,Hm,um,!1)}else xm||(Hm.reading=!1,Lm(lm,Hm));return!Hm.ended&&(Hm.length<Hm.highWaterMark||Hm.length===0)}function Bm(lm,um,wm,xm){um.flowing&&um.length===0&&!um.sync?(um.awaitDrain=0,lm.emit("data",wm)):(um.length+=um.objectMode?1:wm.length,xm?um.buffer.unshift(wm):um.buffer.push(wm),um.needReadable&&Dm(lm)),Lm(lm,um)}Object.defineProperty(jm.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(lm){this._readableState&&(this._readableState.destroyed=lm)}}),jm.prototype.destroy=am.destroy,jm.prototype._undestroy=am.undestroy,jm.prototype._destroy=function(lm,um){um(lm)},jm.prototype.push=function(lm,um){var wm,xm=this._readableState;return xm.objectMode?wm=!0:typeof lm=="string"&&((um=um||xm.defaultEncoding)!==xm.encoding&&(lm=Nf.from(lm,um),um=""),wm=!0),Pm(this,lm,um,!1,wm)},jm.prototype.unshift=function(lm){return Pm(this,lm,null,!0,!1)},jm.prototype.isPaused=function(){return this._readableState.flowing===!1},jm.prototype.setEncoding=function(lm){nm||(nm=Sd.StringDecoder);var um=new nm(lm);this._readableState.decoder=um,this._readableState.encoding=this._readableState.decoder.encoding;for(var wm=this._readableState.buffer.head,xm="";wm!==null;)xm+=um.write(wm.data),wm=wm.next;return this._readableState.buffer.clear(),xm!==""&&this._readableState.buffer.push(xm),this._readableState.length=xm.length,this};var qm=0x40000000;function Rm(lm,um){return lm<=0||um.length===0&&um.ended?0:um.objectMode?1:lm!=lm?um.flowing&&um.length?um.buffer.head.data.length:um.length:(lm>um.highWaterMark&&(um.highWaterMark=function(wm){return wm>=qm?wm=qm:(wm--,wm|=wm>>>1,wm|=wm>>>2,wm|=wm>>>4,wm|=wm>>>8,wm|=wm>>>16,wm++),wm}(lm)),lm<=um.length?lm:um.ended?um.length:(um.needReadable=!0,0))}function Dm(lm){var um=lm._readableState;em("emitReadable",um.needReadable,um.emittedReadable),um.needReadable=!1,um.emittedReadable||(em("emitReadable",um.flowing),um.emittedReadable=!0,ca.nextTick(Um,lm))}function Um(lm){var um=lm._readableState;em("emitReadable_",um.destroyed,um.length,um.ended),um.destroyed||!um.length&&!um.ended||(lm.emit("readable"),um.emittedReadable=!1),um.needReadable=!um.flowing&&!um.ended&&um.length<=um.highWaterMark,Mm(lm)}function Lm(lm,um){um.readingMore||(um.readingMore=!0,ca.nextTick(Im,lm,um))}function Im(lm,um){for(;!um.reading&&!um.ended&&(um.length<um.highWaterMark||um.flowing&&um.length===0);){var wm=um.length;if(em("maybeReadMore read 0"),lm.read(0),wm===um.length)break}um.readingMore=!1}function dm(lm){var um=lm._readableState;um.readableListening=lm.listenerCount("readable")>0,um.resumeScheduled&&!um.paused?um.flowing=!0:lm.listenerCount("data")>0&&lm.resume()}function gm(lm){em("readable nexttick read 0"),lm.read(0)}function km(lm,um){em("resume",um.reading),um.reading||lm.read(0),um.resumeScheduled=!1,lm.emit("resume"),Mm(lm),um.flowing&&!um.reading&&lm.read(0)}function Mm(lm){var um=lm._readableState;for(em("flow",um.flowing);um.flowing&&lm.read()!==null;);}function bm(lm,um){return um.length===0?null:(um.objectMode?wm=um.buffer.shift():!lm||lm>=um.length?(wm=um.decoder?um.buffer.join(""):um.buffer.length===1?um.buffer.first():um.buffer.concat(um.length),um.buffer.clear()):wm=um.buffer.consume(lm,um.decoder),wm);var wm}function Em(lm){var um=lm._readableState;em("endReadable",um.endEmitted),um.endEmitted||(um.ended=!0,ca.nextTick($m,um,lm))}function $m(lm,um){if(em("endReadableNT",lm.endEmitted,lm.length),!lm.endEmitted&&lm.length===0&&(lm.endEmitted=!0,um.readable=!1,um.emit("end"),lm.autoDestroy)){var wm=um._writableState;(!wm||wm.autoDestroy&&wm.finished)&&um.destroy()}}function Am(lm,um){for(var wm=0,xm=lm.length;wm<xm;wm++)if(lm[wm]===um)return wm;return-1}return jm.prototype.read=function(lm){em("read",lm),lm=parseInt(lm,10);var um=this._readableState,wm=lm;if(lm!==0&&(um.emittedReadable=!1),lm===0&&um.needReadable&&((um.highWaterMark!==0?um.length>=um.highWaterMark:um.length>0)||um.ended))return em("read: emitReadable",um.length,um.ended),um.length===0&&um.ended?Em(this):Dm(this),null;if((lm=Rm(lm,um))===0&&um.ended)return um.length===0&&Em(this),null;var xm,Tm=um.needReadable;return em("need readable",Tm),(um.length===0||um.length-lm<um.highWaterMark)&&em("length less than watermark",Tm=!0),um.ended||um.reading?em("reading or ended",Tm=!1):Tm&&(em("do read"),um.reading=!0,um.sync=!0,um.length===0&&(um.needReadable=!0),this._read(um.highWaterMark),um.sync=!1,um.reading||(lm=Rm(wm,um))),(xm=lm>0?bm(lm,um):null)===null?(um.needReadable=um.length<=um.highWaterMark,lm=0):(um.length-=lm,um.awaitDrain=0),um.length===0&&(um.ended||(um.needReadable=!0),wm!==lm&&um.ended&&Em(this)),xm!==null&&this.emit("data",xm),xm},jm.prototype._read=function(lm){_m(this,new pm("_read()"))},jm.prototype.pipe=function(lm,um){var wm=this,xm=this._readableState;switch(xm.pipesCount){case 0:xm.pipes=lm;break;case 1:xm.pipes=[xm.pipes,lm];break;default:xm.pipes.push(lm)}xm.pipesCount+=1,em("pipe count=%d opts=%j",xm.pipesCount,um);var Tm=(!um||um.end!==!1)&&lm!==ca.stdout&&lm!==ca.stderr?Hm:Qm;function Om(mg,bg){em("onunpipe"),mg===wm&&bg&&bg.hasUnpiped===!1&&(bg.hasUnpiped=!0,em("cleanup"),lm.removeListener("close",Wm),lm.removeListener("finish",Ym),lm.removeListener("drain",Km),lm.removeListener("error",zm),lm.removeListener("unpipe",Om),wm.removeListener("end",Hm),wm.removeListener("end",Qm),wm.removeListener("data",Vm),Zm=!0,!xm.awaitDrain||lm._writableState&&!lm._writableState.needDrain||Km())}function Hm(){em("onend"),lm.end()}xm.endEmitted?ca.nextTick(Tm):wm.once("end",Tm),lm.on("unpipe",Om);var Km=function(mg){return function(){var bg=mg._readableState;em("pipeOnDrain",bg.awaitDrain),bg.awaitDrain&&bg.awaitDrain--,bg.awaitDrain===0&&s(mg,"data")&&(bg.flowing=!0,Mm(mg))}}(wm);lm.on("drain",Km);var Zm=!1;function Vm(mg){em("ondata");var bg=lm.write(mg);em("dest.write",bg),bg===!1&&((xm.pipesCount===1&&xm.pipes===lm||xm.pipesCount>1&&Am(xm.pipes,lm)!==-1)&&!Zm&&(em("false write response, pause",xm.awaitDrain),xm.awaitDrain++),wm.pause())}function zm(mg){em("onerror",mg),Qm(),lm.removeListener("error",zm),s(lm,"error")===0&&_m(lm,mg)}function Wm(){lm.removeListener("finish",Ym),Qm()}function Ym(){em("onfinish"),lm.removeListener("close",Wm),Qm()}function Qm(){em("unpipe"),wm.unpipe(lm)}return wm.on("data",Vm),function(mg,bg,vg){if(typeof mg.prependListener=="function")return mg.prependListener(bg,vg);mg._events&&mg._events[bg]?Array.isArray(mg._events[bg])?mg._events[bg].unshift(vg):mg._events[bg]=[vg,mg._events[bg]]:mg.on(bg,vg)}(lm,"error",zm),lm.once("close",Wm),lm.once("finish",Ym),lm.emit("pipe",wm),xm.flowing||(em("pipe resume"),wm.resume()),lm},jm.prototype.unpipe=function(lm){var um=this._readableState,wm={hasUnpiped:!1};if(um.pipesCount===0)return this;if(um.pipesCount===1)return lm&&lm!==um.pipes||(lm||(lm=um.pipes),um.pipes=null,um.pipesCount=0,um.flowing=!1,lm&&lm.emit("unpipe",this,wm)),this;if(!lm){var xm=um.pipes,Tm=um.pipesCount;um.pipes=null,um.pipesCount=0,um.flowing=!1;for(var Om=0;Om<Tm;Om++)xm[Om].emit("unpipe",this,{hasUnpiped:!1});return this}var Hm=Am(um.pipes,lm);return Hm===-1||(um.pipes.splice(Hm,1),um.pipesCount-=1,um.pipesCount===1&&(um.pipes=um.pipes[0]),lm.emit("unpipe",this,wm)),this},jm.prototype.on=function(lm,um){var wm=sf.prototype.on.call(this,lm,um),xm=this._readableState;return lm==="data"?(xm.readableListening=this.listenerCount("readable")>0,xm.flowing!==!1&&this.resume()):lm==="readable"&&(xm.endEmitted||xm.readableListening||(xm.readableListening=xm.needReadable=!0,xm.flowing=!1,xm.emittedReadable=!1,em("on readable",xm.length,xm.reading),xm.length?Dm(this):xm.reading||ca.nextTick(gm,this))),wm},jm.prototype.addListener=jm.prototype.on,jm.prototype.removeListener=function(lm,um){var wm=sf.prototype.removeListener.call(this,lm,um);return lm==="readable"&&ca.nextTick(dm,this),wm},jm.prototype.removeAllListeners=function(lm){var um=sf.prototype.removeAllListeners.apply(this,arguments);return lm!=="readable"&&lm!==void 0||ca.nextTick(dm,this),um},jm.prototype.resume=function(){var lm=this._readableState;return lm.flowing||(em("resume"),lm.flowing=!lm.readableListening,function(um,wm){wm.resumeScheduled||(wm.resumeScheduled=!0,ca.nextTick(km,um,wm))}(this,lm)),lm.paused=!1,this},jm.prototype.pause=function(){return em("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(em("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},jm.prototype.wrap=function(lm){var um=this,wm=this._readableState,xm=!1;for(var Tm in lm.on("end",function(){if(em("wrapped end"),wm.decoder&&!wm.ended){var Hm=wm.decoder.end();Hm&&Hm.length&&um.push(Hm)}um.push(null)}),lm.on("data",function(Hm){em("wrapped data"),wm.decoder&&(Hm=wm.decoder.write(Hm)),wm.objectMode&&Hm==null||(wm.objectMode||Hm&&Hm.length)&&(um.push(Hm)||(xm=!0,lm.pause()))}),lm)this[Tm]===void 0&&typeof lm[Tm]=="function"&&(this[Tm]=function(Hm){return function(){return lm[Hm].apply(lm,arguments)}}(Tm));for(var Om=0;Om<ym.length;Om++)lm.on(ym[Om],this.emit.bind(this,ym[Om]));return this._read=function(Hm){em("wrapped _read",Hm),xm&&(xm=!1,lm.resume())},this},typeof Symbol=="function"&&(jm.prototype[Symbol.asyncIterator]=function(){return rm===void 0&&(rm=Td()),rm(this)}),Object.defineProperty(jm.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(jm.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(jm.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(lm){this._readableState&&(this._readableState.flowing=lm)}}),jm._fromList=bm,Object.defineProperty(jm.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(jm.from=function(lm,um){return om===void 0&&(om=Ad?Md:(Ad=1,Md=function(){throw new Error("Readable.from is not available in the browser")})),om(jm,lm,um)}),Id}var Ld=Hd,Nd=Ql.codes,$d=Nd.ERR_METHOD_NOT_IMPLEMENTED,Dd=Nd.ERR_MULTIPLE_CALLBACK,Bd=Nd.ERR_TRANSFORM_ALREADY_TRANSFORMING,Kd=Nd.ERR_TRANSFORM_WITH_LENGTH_0,jd=md();function Ud(r,s){var sf=this._transformState;sf.transforming=!1;var Nf=sf.writecb;if(Nf===null)return this.emit("error",new Dd);sf.writechunk=null,sf.writecb=null,s!=null&&this.push(s),Nf(r);var ip=this._readableState;ip.reading=!1,(ip.needReadable||ip.length<ip.highWaterMark)&&this._read(ip.highWaterMark)}function Hd(r){if(!(this instanceof Hd))return new Hd(r);jd.call(this,r),this._transformState={afterTransform:Ud.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,r&&(typeof r.transform=="function"&&(this._transform=r.transform),typeof r.flush=="function"&&(this._flush=r.flush)),this.on("prefinish",Fd)}function Fd(){var r=this;typeof this._flush!="function"||this._readableState.destroyed?zd(this,null,null):this._flush(function(s,sf){zd(r,s,sf)})}function zd(r,s,sf){if(s)return r.emit("error",s);if(sf!=null&&r.push(sf),r._writableState.length)throw new Kd;if(r._transformState.transforming)throw new Bd;return r.push(null)}fd(Hd,jd),Hd.prototype.push=function(r,s){return this._transformState.needTransform=!1,jd.prototype.push.call(this,r,s)},Hd.prototype._transform=function(r,s,sf){sf(new $d("_transform()"))},Hd.prototype._write=function(r,s,sf){var Nf=this._transformState;if(Nf.writecb=sf,Nf.writechunk=r,Nf.writeencoding=s,!Nf.transforming){var ip=this._readableState;(Nf.needTransform||ip.needReadable||ip.length<ip.highWaterMark)&&this._read(ip.highWaterMark)}},Hd.prototype._read=function(r){var s=this._transformState;s.writechunk===null||s.transforming?s.needTransform=!0:(s.transforming=!0,this._transform(s.writechunk,s.writeencoding,s.afterTransform))},Hd.prototype._destroy=function(r,s){jd.prototype._destroy.call(this,r,function(sf){s(sf)})};var qd,Wd=Gd,Vd=Ld;function Gd(r){if(!(this instanceof Gd))return new Gd(r);Vd.call(this,r)}fd(Gd,Vd),Gd.prototype._transform=function(r,s,sf){sf(null,r)};var Yd=Ql.codes,Zd=Yd.ERR_MISSING_ARGS,Jd=Yd.ERR_STREAM_DESTROYED;function Xd(r){if(r)throw r}function Qd(r){r()}function eu(r,s){return r.pipe(s)}var tu=function(){for(var r=arguments.length,s=new Array(r),sf=0;sf<r;sf++)s[sf]=arguments[sf];var Nf,ip=function(tm){return tm.length?typeof tm[tm.length-1]!="function"?Xd:tm.pop():Xd}(s);if(Array.isArray(s[0])&&(s=s[0]),s.length<2)throw new Zd("streams");var em=s.map(function(tm,nm){var rm=nm<s.length-1;return function(om,im,am,sm){sm=function(fm){var pm=!1;return function(){pm||(pm=!0,fm.apply(void 0,arguments))}}(sm);var cm=!1;om.on("close",function(){cm=!0}),qd===void 0&&(qd=Pd),qd(om,{readable:im,writable:am},function(fm){if(fm)return sm(fm);cm=!0,sm()});var hm=!1;return function(fm){if(!cm&&!hm)return hm=!0,function(pm){return pm.setHeader&&typeof pm.abort=="function"}(om)?om.abort():typeof om.destroy=="function"?om.destroy():void sm(fm||new Jd("pipe"))}}(tm,rm,nm>0,function(om){Nf||(Nf=om),om&&em.forEach(Qd),rm||(em.forEach(Qd),ip(Nf))})});return s.reduce(eu)};(function(r,s){(s=rl.exports=Od()).Stream=s,s.Readable=s,s.Writable=gd(),s.Duplex=md(),s.Transform=Ld,s.PassThrough=Wd,s.finished=Pd,s.pipeline=tu})(0,rl.exports);var nu=rl.exports;function ru(r={}){const s={},sf=new nu.Duplex({objectMode:!0,read:()=>{},write:function(em,tm,nm){let rm=null;try{em.id?function(om){const{id:im}=om;if(im===null)return;const am=s[im];if(!am)return void console.warn(`StreamMiddleware - Unknown response id "${im}"`);delete s[im],Object.assign(am.res,om),setTimeout(am.end)}(em):function(om){r?.retryOnMessage&&om.method===r.retryOnMessage&&Object.values(s).forEach(({req:im,retryCount:am=0})=>{if(!im.id)return;if(am>=3)throw new Error(`StreamMiddleware - Retry limit exceeded for request id "${im.id}"`);const sm=s[im.id];sm&&(sm.retryCount=am+1),ip(im)}),Nf.emit("notification",om)}(em)}catch(om){rm=om}nm(rm)}}),Nf=new Ic;return{events:Nf,middleware:(em,tm,nm,rm)=>{s[em.id]={req:em,res:tm,next:nm,end:rm},ip(em)},stream:sf};function ip(em){sf.push(em)}}var iu={},ou={exports:{}},su=function r(s,sf){if(s&&sf)return r(s)(sf);if(typeof s!="function")throw new TypeError("need wrapper function");return Object.keys(s).forEach(function(ip){Nf[ip]=s[ip]}),Nf;function Nf(){for(var ip=new Array(arguments.length),em=0;em<ip.length;em++)ip[em]=arguments[em];var tm=s.apply(this,ip),nm=ip[ip.length-1];return typeof tm=="function"&&tm!==nm&&Object.keys(nm).forEach(function(rm){tm[rm]=nm[rm]}),tm}},au=su;function cu(r){var s=function(){return s.called?s.value:(s.called=!0,s.value=r.apply(this,arguments))};return s.called=!1,s}function lu(r){var s=function(){if(s.called)throw new Error(s.onceError);return s.called=!0,s.value=r.apply(this,arguments)},sf=r.name||"Function wrapped with `once`";return s.onceError=sf+" shouldn't be called more than once",s.called=!1,s}ou.exports=au(cu),ou.exports.strict=au(lu),cu.proto=cu(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return cu(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return lu(this)},configurable:!0})});var du=ou.exports,uu={};Object.defineProperty(uu,"__esModule",{value:!0}),uu.Substream=void 0;const hu=nu;class fu extends hu.Duplex{constructor({parent:s,name:sf}){super({objectMode:!0}),this._parent=s,this._name=sf}_read(){}_write(s,sf,Nf){this._parent.push({name:this._name,data:s}),Nf()}}uu.Substream=fu;var pu=le&&le.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(iu,"__esModule",{value:!0}),iu.ObjectMultiplex=void 0;const gu=nu,mu=pu(du),yu=uu,vu=Symbol("IGNORE_SUBSTREAM");let bu=class extends gu.Duplex{constructor(r={}){super(Object.assign(Object.assign({},r),{objectMode:!0})),this._substreams={}}createStream(r){if(this.destroyed)throw new Error(`ObjectMultiplex - parent stream for name "${r}" already destroyed`);if(this._readableState.ended||this._writableState.ended)throw new Error(`ObjectMultiplex - parent stream for name "${r}" already ended`);if(!r)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[r])throw new Error(`ObjectMultiplex - Substream for name "${r}" already exists`);const s=new yu.Substream({parent:this,name:r});return this._substreams[r]=s,function(sf,Nf){const ip=(0,mu.default)(Nf);(0,gu.finished)(sf,{readable:!1},ip),(0,gu.finished)(sf,{writable:!1},ip)}(this,sf=>s.destroy(sf||void 0)),s}ignoreStream(r){if(!r)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[r])throw new Error(`ObjectMultiplex - Substream for name "${r}" already exists`);this._substreams[r]=vu}_read(){}_write(r,s,sf){const{name:Nf,data:ip}=r;if(!Nf)return console.warn(`ObjectMultiplex - malformed chunk without name "${r}"`),sf();const em=this._substreams[Nf];return em?(em!==vu&&em.push(ip),sf()):(console.warn(`ObjectMultiplex - orphaned data for stream "${Nf}"`),sf())}};iu.ObjectMultiplex=bu;var wu=de(iu.ObjectMultiplex);const Eu=r=>r!==null&&typeof r=="object"&&typeof r.pipe=="function";Eu.writable=r=>Eu(r)&&r.writable!==!1&&typeof r._write=="function"&&typeof r._writableState=="object",Eu.readable=r=>Eu(r)&&r.readable!==!1&&typeof r._read=="function"&&typeof r._readableState=="object",Eu.duplex=r=>Eu.writable(r)&&Eu.readable(r),Eu.transform=r=>Eu.duplex(r)&&typeof r._transform=="function";var Su,_u=Eu,Cu=class extends nl{constructor(r,{jsonRpcStreamName:s,logger:sf=console,maxEventListeners:Nf=100,rpcMiddleware:ip=[]}){if(super({logger:sf,maxEventListeners:Nf,rpcMiddleware:ip}),!_u.duplex(r))throw new Error(ts.errors.invalidDuplexStream());this._handleStreamDisconnect=this._handleStreamDisconnect.bind(this);const em=new wu;nu.pipeline(r,em,r,this._handleStreamDisconnect.bind(this,"MetaMask")),this._jsonRpcConnection=ru({retryOnMessage:"METAMASK_EXTENSION_CONNECT_CAN_RETRY"}),nu.pipeline(this._jsonRpcConnection.stream,em.createStream(s),this._jsonRpcConnection.stream,this._handleStreamDisconnect.bind(this,"MetaMask RpcProvider")),this._rpcEngine.push(this._jsonRpcConnection.middleware),this._jsonRpcConnection.events.on("notification",tm=>{const{method:nm,params:rm}=tm;nm==="metamask_accountsChanged"?this._handleAccountsChanged(rm):nm==="metamask_unlockStateChanged"?this._handleUnlockStateChanged(rm):nm==="metamask_chainChanged"?this._handleChainChanged(rm):Oc.includes(nm)?this.emit("message",{type:nm,data:rm}):nm==="METAMASK_STREAM_FAILURE"&&r.destroy(new Error(ts.errors.permanentlyDisconnected()))})}async _initializeStateAsync(){let r;try{r=await this.request({method:"metamask_getProviderState"})}catch(s){this._log.error("MetaMask: Failed to get initial state. Please report this bug.",s)}this._initializeState(r)}_handleStreamDisconnect(r,s){let sf=`MetaMask: Lost connection to "${r}".`;s?.stack&&(sf+=`
${s.stack}`),this._log.warn(sf),this.listenerCount("error")>0&&this.emit("error",sf),this._handleDisconnect(!1,s?s.message:void 0)}_handleChainChanged({chainId:r,networkVersion:s}={}){Dc(r)&&(sf=>!!sf&&typeof sf=="string")(s)?s==="loading"?this._handleDisconnect(!0):super._handleChainChanged({chainId:r}):this._log.error(ts.errors.invalidNetworkParams(),{chainId:r,networkVersion:s})}},ku=class extends Cu{constructor(r,{jsonRpcStreamName:s="metamask-provider",logger:sf=console,maxEventListeners:Nf=100,shouldSendMetadata:ip}={}){if(super(r,{jsonRpcStreamName:s,logger:sf,maxEventListeners:Nf,rpcMiddleware:Lc(sf)}),this._sentWarnings={chainId:!1,networkVersion:!1,selectedAddress:!1,enable:!1,experimentalMethods:!1,send:!1,events:{close:!1,data:!1,networkChanged:!1,notification:!1}},qc(this,Su,void 0),this._initializeStateAsync(),Wc(this,Su,null),this.isMetaMask=!0,this._sendSync=this._sendSync.bind(this),this.enable=this.enable.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this._warnOfDeprecation=this._warnOfDeprecation.bind(this),this._metamask=this._getExperimentalApi(),this._jsonRpcConnection.events.on("notification",em=>{const{method:tm}=em;Oc.includes(tm)&&(this.emit("data",em),this.emit("notification",em.params.result))}),ip)if(document.readyState==="complete")Kc(this._rpcEngine,this._log);else{const em=()=>{Kc(this._rpcEngine,this._log),window.removeEventListener("DOMContentLoaded",em)};window.addEventListener("DOMContentLoaded",em)}}get chainId(){return this._sentWarnings.chainId||(this._log.warn(ts.warnings.chainIdDeprecation),this._sentWarnings.chainId=!0),super.chainId}get networkVersion(){return this._sentWarnings.networkVersion||(this._log.warn(ts.warnings.networkVersionDeprecation),this._sentWarnings.networkVersion=!0),zc(this,Su)}get selectedAddress(){return this._sentWarnings.selectedAddress||(this._log.warn(ts.warnings.selectedAddressDeprecation),this._sentWarnings.selectedAddress=!0),super.selectedAddress}sendAsync(r,s){this._rpcRequest(r,s)}addListener(r,s){return this._warnOfDeprecation(r),super.addListener(r,s)}on(r,s){return this._warnOfDeprecation(r),super.on(r,s)}once(r,s){return this._warnOfDeprecation(r),super.once(r,s)}prependListener(r,s){return this._warnOfDeprecation(r),super.prependListener(r,s)}prependOnceListener(r,s){return this._warnOfDeprecation(r),super.prependOnceListener(r,s)}_handleDisconnect(r,s){super._handleDisconnect(r,s),zc(this,Su)&&!r&&Wc(this,Su,null)}_warnOfDeprecation(r){this._sentWarnings?.events[r]===!1&&(this._log.warn(ts.warnings.events[r]),this._sentWarnings.events[r]=!0)}async enable(){return this._sentWarnings.enable||(this._log.warn(ts.warnings.enableDeprecation),this._sentWarnings.enable=!0),new Promise((r,s)=>{try{this._rpcRequest({method:"eth_requestAccounts",params:[]},$c(r,s))}catch(sf){s(sf)}})}send(r,s){return this._sentWarnings.send||(this._log.warn(ts.warnings.sendDeprecation),this._sentWarnings.send=!0),typeof r!="string"||s&&!Array.isArray(s)?r&&typeof r=="object"&&typeof s=="function"?this._rpcRequest(r,s):this._sendSync(r):new Promise((sf,Nf)=>{try{this._rpcRequest({method:r,params:s},$c(sf,Nf,!1))}catch(ip){Nf(ip)}})}_sendSync(r){let s;switch(r.method){case"eth_accounts":s=this.selectedAddress?[this.selectedAddress]:[];break;case"eth_coinbase":s=this.selectedAddress??null;break;case"eth_uninstallFilter":this._rpcRequest(r,Bc),s=!0;break;case"net_version":s=zc(this,Su)??null;break;default:throw new Error(ts.errors.unsupportedSync(r.method))}return{id:r.id,jsonrpc:r.jsonrpc,result:s}}_getExperimentalApi(){return new Proxy({isUnlocked:async()=>(this._state.initialized||await new Promise(r=>{this.on("_initialized",()=>r())}),this._state.isUnlocked),requestBatch:async r=>{if(!Array.isArray(r))throw Za({message:"Batch requests must be made with an array of request objects.",data:r});return new Promise((s,sf)=>{this._rpcRequest(r,$c(s,sf))})}},{get:(r,s,...sf)=>(this._sentWarnings.experimentalMethods||(this._log.warn(ts.warnings.experimentalMethods),this._sentWarnings.experimentalMethods=!0),Reflect.get(r,s,...sf))})}_handleChainChanged({chainId:r,networkVersion:s}={}){super._handleChainChanged({chainId:r,networkVersion:s}),this._state.isConnected&&s!==zc(this,Su)&&(Wc(this,Su,s),this._state.initialized&&this.emit("networkChanged",zc(this,Su)))}};Su=new WeakMap;const xu=t("MM_SDK");xu.color="#FFAC1C";var Mu={},Au={};Object.defineProperty(Au,"__esModule",{value:!0}),Au.EthereumProviderError=Au.EthereumRpcError=void 0;const Iu=La;class Ru extends Error{constructor(s,sf,Nf){if(!Number.isInteger(s))throw new Error('"code" must be an integer.');if(!sf||typeof sf!="string")throw new Error('"message" must be a nonempty string.');super(sf),this.code=s,Nf!==void 0&&(this.data=Nf)}serialize(){const s={code:this.code,message:this.message};return this.data!==void 0&&(s.data=this.data),this.stack&&(s.stack=this.stack),s}toString(){return Iu.default(this.serialize(),Pu,2)}}Au.EthereumRpcError=Ru;function Pu(r,s){if(s!=="[Circular]")return s}Au.EthereumProviderError=class extends Ru{constructor(r,s,sf){if(!function(Nf){return Number.isInteger(Nf)&&Nf>=1e3&&Nf<=4999}(r))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(r,s,sf)}};var Tu={},Ou={};Object.defineProperty(Ou,"__esModule",{value:!0}),Ou.errorValues=Ou.errorCodes=void 0,Ou.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},Ou.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}},function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.serializeError=r.isValidCode=r.getMessageFromCode=r.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const s=Ou,sf=Au,Nf=s.errorCodes.rpc.internal,ip="Unspecified error message. This is a bug, please report it.",em={code:Nf,message:tm(Nf)};function tm(am,sm=ip){if(Number.isInteger(am)){const cm=am.toString();if(im(s.errorValues,cm))return s.errorValues[cm].message;if(rm(am))return r.JSON_RPC_SERVER_ERROR_MESSAGE}return sm}function nm(am){if(!Number.isInteger(am))return!1;const sm=am.toString();return!!s.errorValues[sm]||!!rm(am)}function rm(am){return am>=-32099&&am<=-32e3}function om(am){return am&&typeof am=="object"&&!Array.isArray(am)?Object.assign({},am):am}function im(am,sm){return Object.prototype.hasOwnProperty.call(am,sm)}r.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.",r.getMessageFromCode=tm,r.isValidCode=nm,r.serializeError=function(am,{fallbackError:sm=em,shouldIncludeStack:cm=!1}={}){var hm,fm;if(!sm||!Number.isInteger(sm.code)||typeof sm.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(am instanceof sf.EthereumRpcError)return am.serialize();const pm={};if(am&&typeof am=="object"&&!Array.isArray(am)&&im(am,"code")&&nm(am.code)){const _m=am;pm.code=_m.code,_m.message&&typeof _m.message=="string"?(pm.message=_m.message,im(_m,"data")&&(pm.data=_m.data)):(pm.message=tm(pm.code),pm.data={originalError:om(am)})}else{pm.code=sm.code;const _m=(hm=am)===null||hm===void 0?void 0:hm.message;pm.message=_m&&typeof _m=="string"?_m:sm.message,pm.data={originalError:om(am)}}const mm=(fm=am)===null||fm===void 0?void 0:fm.stack;return cm&&am&&mm&&typeof mm=="string"&&(pm.stack=mm),pm}}(Tu);var Lu={};Object.defineProperty(Lu,"__esModule",{value:!0}),Lu.ethErrors=void 0;const Nu=Au,$u=Tu,Du=Ou;function Bu(r,s){const[sf,Nf]=ju(s);return new Nu.EthereumRpcError(r,sf||$u.getMessageFromCode(r),Nf)}function Ku(r,s){const[sf,Nf]=ju(s);return new Nu.EthereumProviderError(r,sf||$u.getMessageFromCode(r),Nf)}function ju(r){if(r){if(typeof r=="string")return[r];if(typeof r=="object"&&!Array.isArray(r)){const{message:s,data:sf}=r;if(s&&typeof s!="string")throw new Error("Must specify string message.");return[s||void 0,sf]}}return[]}Lu.ethErrors={rpc:{parse:r=>Bu(Du.errorCodes.rpc.parse,r),invalidRequest:r=>Bu(Du.errorCodes.rpc.invalidRequest,r),invalidParams:r=>Bu(Du.errorCodes.rpc.invalidParams,r),methodNotFound:r=>Bu(Du.errorCodes.rpc.methodNotFound,r),internal:r=>Bu(Du.errorCodes.rpc.internal,r),server:r=>{if(!r||typeof r!="object"||Array.isArray(r))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:s}=r;if(!Number.isInteger(s)||s>-32005||s<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return Bu(s,r)},invalidInput:r=>Bu(Du.errorCodes.rpc.invalidInput,r),resourceNotFound:r=>Bu(Du.errorCodes.rpc.resourceNotFound,r),resourceUnavailable:r=>Bu(Du.errorCodes.rpc.resourceUnavailable,r),transactionRejected:r=>Bu(Du.errorCodes.rpc.transactionRejected,r),methodNotSupported:r=>Bu(Du.errorCodes.rpc.methodNotSupported,r),limitExceeded:r=>Bu(Du.errorCodes.rpc.limitExceeded,r)},provider:{userRejectedRequest:r=>Ku(Du.errorCodes.provider.userRejectedRequest,r),unauthorized:r=>Ku(Du.errorCodes.provider.unauthorized,r),unsupportedMethod:r=>Ku(Du.errorCodes.provider.unsupportedMethod,r),disconnected:r=>Ku(Du.errorCodes.provider.disconnected,r),chainDisconnected:r=>Ku(Du.errorCodes.provider.chainDisconnected,r),custom:r=>{if(!r||typeof r!="object"||Array.isArray(r))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:s,message:sf,data:Nf}=r;if(!sf||typeof sf!="string")throw new Error('"message" must be a nonempty string');return new Nu.EthereumProviderError(s,sf,Nf)}}},function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.getMessageFromCode=r.serializeError=r.EthereumProviderError=r.EthereumRpcError=r.ethErrors=r.errorCodes=void 0;const s=Au;Object.defineProperty(r,"EthereumRpcError",{enumerable:!0,get:function(){return s.EthereumRpcError}}),Object.defineProperty(r,"EthereumProviderError",{enumerable:!0,get:function(){return s.EthereumProviderError}});const sf=Tu;Object.defineProperty(r,"serializeError",{enumerable:!0,get:function(){return sf.serializeError}}),Object.defineProperty(r,"getMessageFromCode",{enumerable:!0,get:function(){return sf.getMessageFromCode}});const Nf=Lu;Object.defineProperty(r,"ethErrors",{enumerable:!0,get:function(){return Nf.ethErrors}});const ip=Ou;Object.defineProperty(r,"errorCodes",{enumerable:!0,get:function(){return ip.errorCodes}})}(Mu);var Uu={exports:{}};Uu.exports=function(r){var s={};function sf(Nf){if(s[Nf])return s[Nf].exports;var ip=s[Nf]={i:Nf,l:!1,exports:{}};return r[Nf].call(ip.exports,ip,ip.exports,sf),ip.l=!0,ip.exports}return sf.m=r,sf.c=s,sf.d=function(Nf,ip,em){sf.o(Nf,ip)||Object.defineProperty(Nf,ip,{enumerable:!0,get:em})},sf.r=function(Nf){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(Nf,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Nf,"__esModule",{value:!0})},sf.t=function(Nf,ip){if(1&ip&&(Nf=sf(Nf)),8&ip||4&ip&&typeof Nf=="object"&&Nf&&Nf.__esModule)return Nf;var em=Object.create(null);if(sf.r(em),Object.defineProperty(em,"default",{enumerable:!0,value:Nf}),2&ip&&typeof Nf!="string")for(var tm in Nf)sf.d(em,tm,function(nm){return Nf[nm]}.bind(null,tm));return em},sf.n=function(Nf){var ip=Nf&&Nf.__esModule?function(){return Nf.default}:function(){return Nf};return sf.d(ip,"a",ip),ip},sf.o=function(Nf,ip){return Object.prototype.hasOwnProperty.call(Nf,ip)},sf.p="",sf(sf.s=90)}({17:function(r,s,sf){s.__esModule=!0,s.default=void 0;var Nf=sf(18),ip=function(){function em(){}return em.getFirstMatch=function(tm,nm){var rm=nm.match(tm);return rm&&rm.length>0&&rm[1]||""},em.getSecondMatch=function(tm,nm){var rm=nm.match(tm);return rm&&rm.length>1&&rm[2]||""},em.matchAndReturnConst=function(tm,nm,rm){if(tm.test(nm))return rm},em.getWindowsVersionName=function(tm){switch(tm){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},em.getMacOSVersionName=function(tm){var nm=tm.split(".").splice(0,2).map(function(rm){return parseInt(rm,10)||0});if(nm.push(0),nm[0]===10)switch(nm[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},em.getAndroidVersionName=function(tm){var nm=tm.split(".").splice(0,2).map(function(rm){return parseInt(rm,10)||0});if(nm.push(0),!(nm[0]===1&&nm[1]<5))return nm[0]===1&&nm[1]<6?"Cupcake":nm[0]===1&&nm[1]>=6?"Donut":nm[0]===2&&nm[1]<2?"Eclair":nm[0]===2&&nm[1]===2?"Froyo":nm[0]===2&&nm[1]>2?"Gingerbread":nm[0]===3?"Honeycomb":nm[0]===4&&nm[1]<1?"Ice Cream Sandwich":nm[0]===4&&nm[1]<4?"Jelly Bean":nm[0]===4&&nm[1]>=4?"KitKat":nm[0]===5?"Lollipop":nm[0]===6?"Marshmallow":nm[0]===7?"Nougat":nm[0]===8?"Oreo":nm[0]===9?"Pie":void 0},em.getVersionPrecision=function(tm){return tm.split(".").length},em.compareVersions=function(tm,nm,rm){rm===void 0&&(rm=!1);var om=em.getVersionPrecision(tm),im=em.getVersionPrecision(nm),am=Math.max(om,im),sm=0,cm=em.map([tm,nm],function(hm){var fm=am-em.getVersionPrecision(hm),pm=hm+new Array(fm+1).join(".0");return em.map(pm.split("."),function(mm){return new Array(20-mm.length).join("0")+mm}).reverse()});for(rm&&(sm=am-Math.min(om,im)),am-=1;am>=sm;){if(cm[0][am]>cm[1][am])return 1;if(cm[0][am]===cm[1][am]){if(am===sm)return 0;am-=1}else if(cm[0][am]<cm[1][am])return-1}},em.map=function(tm,nm){var rm,om=[];if(Array.prototype.map)return Array.prototype.map.call(tm,nm);for(rm=0;rm<tm.length;rm+=1)om.push(nm(tm[rm]));return om},em.find=function(tm,nm){var rm,om;if(Array.prototype.find)return Array.prototype.find.call(tm,nm);for(rm=0,om=tm.length;rm<om;rm+=1){var im=tm[rm];if(nm(im,rm))return im}},em.assign=function(tm){for(var nm,rm,om=tm,im=arguments.length,am=new Array(im>1?im-1:0),sm=1;sm<im;sm++)am[sm-1]=arguments[sm];if(Object.assign)return Object.assign.apply(Object,[tm].concat(am));var cm=function(){var hm=am[nm];typeof hm=="object"&&hm!==null&&Object.keys(hm).forEach(function(fm){om[fm]=hm[fm]})};for(nm=0,rm=am.length;nm<rm;nm+=1)cm();return tm},em.getBrowserAlias=function(tm){return Nf.BROWSER_ALIASES_MAP[tm]},em.getBrowserTypeByAlias=function(tm){return Nf.BROWSER_MAP[tm]||""},em}();s.default=ip,r.exports=s.default},18:function(r,s,sf){s.__esModule=!0,s.ENGINE_MAP=s.OS_MAP=s.PLATFORMS_MAP=s.BROWSER_MAP=s.BROWSER_ALIASES_MAP=void 0,s.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},s.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},s.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},s.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},s.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(r,s,sf){s.__esModule=!0,s.default=void 0;var Nf,ip=(Nf=sf(91))&&Nf.__esModule?Nf:{default:Nf},em=sf(18);function tm(rm,om){for(var im=0;im<om.length;im++){var am=om[im];am.enumerable=am.enumerable||!1,am.configurable=!0,"value"in am&&(am.writable=!0),Object.defineProperty(rm,am.key,am)}}var nm=function(){function rm(){}var om,im,am;return rm.getParser=function(sm,cm){if(cm===void 0&&(cm=!1),typeof sm!="string")throw new Error("UserAgent should be a string");return new ip.default(sm,cm)},rm.parse=function(sm){return new ip.default(sm).getResult()},om=rm,am=[{key:"BROWSER_MAP",get:function(){return em.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return em.ENGINE_MAP}},{key:"OS_MAP",get:function(){return em.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return em.PLATFORMS_MAP}}],(im=null)&&tm(om.prototype,im),am&&tm(om,am),rm}();s.default=nm,r.exports=s.default},91:function(r,s,sf){s.__esModule=!0,s.default=void 0;var Nf=rm(sf(92)),ip=rm(sf(93)),em=rm(sf(94)),tm=rm(sf(95)),nm=rm(sf(17));function rm(im){return im&&im.__esModule?im:{default:im}}var om=function(){function im(sm,cm){if(cm===void 0&&(cm=!1),sm==null||sm==="")throw new Error("UserAgent parameter can't be empty");this._ua=sm,this.parsedResult={},cm!==!0&&this.parse()}var am=im.prototype;return am.getUA=function(){return this._ua},am.test=function(sm){return sm.test(this._ua)},am.parseBrowser=function(){var sm=this;this.parsedResult.browser={};var cm=nm.default.find(Nf.default,function(hm){if(typeof hm.test=="function")return hm.test(sm);if(hm.test instanceof Array)return hm.test.some(function(fm){return sm.test(fm)});throw new Error("Browser's test function is not valid")});return cm&&(this.parsedResult.browser=cm.describe(this.getUA())),this.parsedResult.browser},am.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},am.getBrowserName=function(sm){return sm?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},am.getBrowserVersion=function(){return this.getBrowser().version},am.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},am.parseOS=function(){var sm=this;this.parsedResult.os={};var cm=nm.default.find(ip.default,function(hm){if(typeof hm.test=="function")return hm.test(sm);if(hm.test instanceof Array)return hm.test.some(function(fm){return sm.test(fm)});throw new Error("Browser's test function is not valid")});return cm&&(this.parsedResult.os=cm.describe(this.getUA())),this.parsedResult.os},am.getOSName=function(sm){var cm=this.getOS().name;return sm?String(cm).toLowerCase()||"":cm||""},am.getOSVersion=function(){return this.getOS().version},am.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},am.getPlatformType=function(sm){sm===void 0&&(sm=!1);var cm=this.getPlatform().type;return sm?String(cm).toLowerCase()||"":cm||""},am.parsePlatform=function(){var sm=this;this.parsedResult.platform={};var cm=nm.default.find(em.default,function(hm){if(typeof hm.test=="function")return hm.test(sm);if(hm.test instanceof Array)return hm.test.some(function(fm){return sm.test(fm)});throw new Error("Browser's test function is not valid")});return cm&&(this.parsedResult.platform=cm.describe(this.getUA())),this.parsedResult.platform},am.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},am.getEngineName=function(sm){return sm?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},am.parseEngine=function(){var sm=this;this.parsedResult.engine={};var cm=nm.default.find(tm.default,function(hm){if(typeof hm.test=="function")return hm.test(sm);if(hm.test instanceof Array)return hm.test.some(function(fm){return sm.test(fm)});throw new Error("Browser's test function is not valid")});return cm&&(this.parsedResult.engine=cm.describe(this.getUA())),this.parsedResult.engine},am.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},am.getResult=function(){return nm.default.assign({},this.parsedResult)},am.satisfies=function(sm){var cm=this,hm={},fm=0,pm={},mm=0;if(Object.keys(sm).forEach(function(Rm){var Dm=sm[Rm];typeof Dm=="string"?(pm[Rm]=Dm,mm+=1):typeof Dm=="object"&&(hm[Rm]=Dm,fm+=1)}),fm>0){var _m=Object.keys(hm),ym=nm.default.find(_m,function(Rm){return cm.isOS(Rm)});if(ym){var Sm=this.satisfies(hm[ym]);if(Sm!==void 0)return Sm}var jm=nm.default.find(_m,function(Rm){return cm.isPlatform(Rm)});if(jm){var Pm=this.satisfies(hm[jm]);if(Pm!==void 0)return Pm}}if(mm>0){var Bm=Object.keys(pm),qm=nm.default.find(Bm,function(Rm){return cm.isBrowser(Rm,!0)});if(qm!==void 0)return this.compareVersion(pm[qm])}},am.isBrowser=function(sm,cm){cm===void 0&&(cm=!1);var hm=this.getBrowserName().toLowerCase(),fm=sm.toLowerCase(),pm=nm.default.getBrowserTypeByAlias(fm);return cm&&pm&&(fm=pm.toLowerCase()),fm===hm},am.compareVersion=function(sm){var cm=[0],hm=sm,fm=!1,pm=this.getBrowserVersion();if(typeof pm=="string")return sm[0]===">"||sm[0]==="<"?(hm=sm.substr(1),sm[1]==="="?(fm=!0,hm=sm.substr(2)):cm=[],sm[0]===">"?cm.push(1):cm.push(-1)):sm[0]==="="?hm=sm.substr(1):sm[0]==="~"&&(fm=!0,hm=sm.substr(1)),cm.indexOf(nm.default.compareVersions(pm,hm,fm))>-1},am.isOS=function(sm){return this.getOSName(!0)===String(sm).toLowerCase()},am.isPlatform=function(sm){return this.getPlatformType(!0)===String(sm).toLowerCase()},am.isEngine=function(sm){return this.getEngineName(!0)===String(sm).toLowerCase()},am.is=function(sm,cm){return cm===void 0&&(cm=!1),this.isBrowser(sm,cm)||this.isOS(sm)||this.isPlatform(sm)},am.some=function(sm){var cm=this;return sm===void 0&&(sm=[]),sm.some(function(hm){return cm.is(hm)})},im}();s.default=om,r.exports=s.default},92:function(r,s,sf){s.__esModule=!0,s.default=void 0;var Nf,ip=(Nf=sf(17))&&Nf.__esModule?Nf:{default:Nf},em=/version\/(\d+(\.?_?\d+)+)/i,tm=[{test:[/googlebot/i],describe:function(nm){var rm={name:"Googlebot"},om=ip.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,nm)||ip.default.getFirstMatch(em,nm);return om&&(rm.version=om),rm}},{test:[/opera/i],describe:function(nm){var rm={name:"Opera"},om=ip.default.getFirstMatch(em,nm)||ip.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,nm);return om&&(rm.version=om),rm}},{test:[/opr\/|opios/i],describe:function(nm){var rm={name:"Opera"},om=ip.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,nm)||ip.default.getFirstMatch(em,nm);return om&&(rm.version=om),rm}},{test:[/SamsungBrowser/i],describe:function(nm){var rm={name:"Samsung Internet for Android"},om=ip.default.getFirstMatch(em,nm)||ip.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,nm);return om&&(rm.version=om),rm}},{test:[/Whale/i],describe:function(nm){var rm={name:"NAVER Whale Browser"},om=ip.default.getFirstMatch(em,nm)||ip.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,nm);return om&&(rm.version=om),rm}},{test:[/MZBrowser/i],describe:function(nm){var rm={name:"MZ Browser"},om=ip.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,nm)||ip.default.getFirstMatch(em,nm);return om&&(rm.version=om),rm}},{test:[/focus/i],describe:function(nm){var rm={name:"Focus"},om=ip.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,nm)||ip.default.getFirstMatch(em,nm);return om&&(rm.version=om),rm}},{test:[/swing/i],describe:function(nm){var rm={name:"Swing"},om=ip.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,nm)||ip.default.getFirstMatch(em,nm);return om&&(rm.version=om),rm}},{test:[/coast/i],describe:function(nm){var rm={name:"Opera Coast"},om=ip.default.getFirstMatch(em,nm)||ip.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,nm);return om&&(rm.version=om),rm}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(nm){var rm={name:"Opera Touch"},om=ip.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,nm)||ip.default.getFirstMatch(em,nm);return om&&(rm.version=om),rm}},{test:[/yabrowser/i],describe:function(nm){var rm={name:"Yandex Browser"},om=ip.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,nm)||ip.default.getFirstMatch(em,nm);return om&&(rm.version=om),rm}},{test:[/ucbrowser/i],describe:function(nm){var rm={name:"UC Browser"},om=ip.default.getFirstMatch(em,nm)||ip.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,nm);return om&&(rm.version=om),rm}},{test:[/Maxthon|mxios/i],describe:function(nm){var rm={name:"Maxthon"},om=ip.default.getFirstMatch(em,nm)||ip.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,nm);return om&&(rm.version=om),rm}},{test:[/epiphany/i],describe:function(nm){var rm={name:"Epiphany"},om=ip.default.getFirstMatch(em,nm)||ip.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,nm);return om&&(rm.version=om),rm}},{test:[/puffin/i],describe:function(nm){var rm={name:"Puffin"},om=ip.default.getFirstMatch(em,nm)||ip.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,nm);return om&&(rm.version=om),rm}},{test:[/sleipnir/i],describe:function(nm){var rm={name:"Sleipnir"},om=ip.default.getFirstMatch(em,nm)||ip.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,nm);return om&&(rm.version=om),rm}},{test:[/k-meleon/i],describe:function(nm){var rm={name:"K-Meleon"},om=ip.default.getFirstMatch(em,nm)||ip.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,nm);return om&&(rm.version=om),rm}},{test:[/micromessenger/i],describe:function(nm){var rm={name:"WeChat"},om=ip.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,nm)||ip.default.getFirstMatch(em,nm);return om&&(rm.version=om),rm}},{test:[/qqbrowser/i],describe:function(nm){var rm={name:/qqbrowserlite/i.test(nm)?"QQ Browser Lite":"QQ Browser"},om=ip.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,nm)||ip.default.getFirstMatch(em,nm);return om&&(rm.version=om),rm}},{test:[/msie|trident/i],describe:function(nm){var rm={name:"Internet Explorer"},om=ip.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,nm);return om&&(rm.version=om),rm}},{test:[/\sedg\//i],describe:function(nm){var rm={name:"Microsoft Edge"},om=ip.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,nm);return om&&(rm.version=om),rm}},{test:[/edg([ea]|ios)/i],describe:function(nm){var rm={name:"Microsoft Edge"},om=ip.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,nm);return om&&(rm.version=om),rm}},{test:[/vivaldi/i],describe:function(nm){var rm={name:"Vivaldi"},om=ip.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,nm);return om&&(rm.version=om),rm}},{test:[/seamonkey/i],describe:function(nm){var rm={name:"SeaMonkey"},om=ip.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,nm);return om&&(rm.version=om),rm}},{test:[/sailfish/i],describe:function(nm){var rm={name:"Sailfish"},om=ip.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,nm);return om&&(rm.version=om),rm}},{test:[/silk/i],describe:function(nm){var rm={name:"Amazon Silk"},om=ip.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,nm);return om&&(rm.version=om),rm}},{test:[/phantom/i],describe:function(nm){var rm={name:"PhantomJS"},om=ip.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,nm);return om&&(rm.version=om),rm}},{test:[/slimerjs/i],describe:function(nm){var rm={name:"SlimerJS"},om=ip.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,nm);return om&&(rm.version=om),rm}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(nm){var rm={name:"BlackBerry"},om=ip.default.getFirstMatch(em,nm)||ip.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,nm);return om&&(rm.version=om),rm}},{test:[/(web|hpw)[o0]s/i],describe:function(nm){var rm={name:"WebOS Browser"},om=ip.default.getFirstMatch(em,nm)||ip.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,nm);return om&&(rm.version=om),rm}},{test:[/bada/i],describe:function(nm){var rm={name:"Bada"},om=ip.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,nm);return om&&(rm.version=om),rm}},{test:[/tizen/i],describe:function(nm){var rm={name:"Tizen"},om=ip.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,nm)||ip.default.getFirstMatch(em,nm);return om&&(rm.version=om),rm}},{test:[/qupzilla/i],describe:function(nm){var rm={name:"QupZilla"},om=ip.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,nm)||ip.default.getFirstMatch(em,nm);return om&&(rm.version=om),rm}},{test:[/firefox|iceweasel|fxios/i],describe:function(nm){var rm={name:"Firefox"},om=ip.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,nm);return om&&(rm.version=om),rm}},{test:[/electron/i],describe:function(nm){var rm={name:"Electron"},om=ip.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,nm);return om&&(rm.version=om),rm}},{test:[/MiuiBrowser/i],describe:function(nm){var rm={name:"Miui"},om=ip.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,nm);return om&&(rm.version=om),rm}},{test:[/chromium/i],describe:function(nm){var rm={name:"Chromium"},om=ip.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,nm)||ip.default.getFirstMatch(em,nm);return om&&(rm.version=om),rm}},{test:[/chrome|crios|crmo/i],describe:function(nm){var rm={name:"Chrome"},om=ip.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,nm);return om&&(rm.version=om),rm}},{test:[/GSA/i],describe:function(nm){var rm={name:"Google Search"},om=ip.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,nm);return om&&(rm.version=om),rm}},{test:function(nm){var rm=!nm.test(/like android/i),om=nm.test(/android/i);return rm&&om},describe:function(nm){var rm={name:"Android Browser"},om=ip.default.getFirstMatch(em,nm);return om&&(rm.version=om),rm}},{test:[/playstation 4/i],describe:function(nm){var rm={name:"PlayStation 4"},om=ip.default.getFirstMatch(em,nm);return om&&(rm.version=om),rm}},{test:[/safari|applewebkit/i],describe:function(nm){var rm={name:"Safari"},om=ip.default.getFirstMatch(em,nm);return om&&(rm.version=om),rm}},{test:[/.*/i],describe:function(nm){var rm=nm.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:ip.default.getFirstMatch(rm,nm),version:ip.default.getSecondMatch(rm,nm)}}}];s.default=tm,r.exports=s.default},93:function(r,s,sf){s.__esModule=!0,s.default=void 0;var Nf,ip=(Nf=sf(17))&&Nf.__esModule?Nf:{default:Nf},em=sf(18),tm=[{test:[/Roku\/DVP/],describe:function(nm){var rm=ip.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,nm);return{name:em.OS_MAP.Roku,version:rm}}},{test:[/windows phone/i],describe:function(nm){var rm=ip.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,nm);return{name:em.OS_MAP.WindowsPhone,version:rm}}},{test:[/windows /i],describe:function(nm){var rm=ip.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,nm),om=ip.default.getWindowsVersionName(rm);return{name:em.OS_MAP.Windows,version:rm,versionName:om}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(nm){var rm={name:em.OS_MAP.iOS},om=ip.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,nm);return om&&(rm.version=om),rm}},{test:[/macintosh/i],describe:function(nm){var rm=ip.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,nm).replace(/[_\s]/g,"."),om=ip.default.getMacOSVersionName(rm),im={name:em.OS_MAP.MacOS,version:rm};return om&&(im.versionName=om),im}},{test:[/(ipod|iphone|ipad)/i],describe:function(nm){var rm=ip.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,nm).replace(/[_\s]/g,".");return{name:em.OS_MAP.iOS,version:rm}}},{test:function(nm){var rm=!nm.test(/like android/i),om=nm.test(/android/i);return rm&&om},describe:function(nm){var rm=ip.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,nm),om=ip.default.getAndroidVersionName(rm),im={name:em.OS_MAP.Android,version:rm};return om&&(im.versionName=om),im}},{test:[/(web|hpw)[o0]s/i],describe:function(nm){var rm=ip.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,nm),om={name:em.OS_MAP.WebOS};return rm&&rm.length&&(om.version=rm),om}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(nm){var rm=ip.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,nm)||ip.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,nm)||ip.default.getFirstMatch(/\bbb(\d+)/i,nm);return{name:em.OS_MAP.BlackBerry,version:rm}}},{test:[/bada/i],describe:function(nm){var rm=ip.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,nm);return{name:em.OS_MAP.Bada,version:rm}}},{test:[/tizen/i],describe:function(nm){var rm=ip.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,nm);return{name:em.OS_MAP.Tizen,version:rm}}},{test:[/linux/i],describe:function(){return{name:em.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:em.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(nm){var rm=ip.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,nm);return{name:em.OS_MAP.PlayStation4,version:rm}}}];s.default=tm,r.exports=s.default},94:function(r,s,sf){s.__esModule=!0,s.default=void 0;var Nf,ip=(Nf=sf(17))&&Nf.__esModule?Nf:{default:Nf},em=sf(18),tm=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(nm){var rm=ip.default.getFirstMatch(/(can-l01)/i,nm)&&"Nova",om={type:em.PLATFORMS_MAP.mobile,vendor:"Huawei"};return rm&&(om.model=rm),om}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:em.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:em.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:em.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:em.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:em.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:em.PLATFORMS_MAP.tablet}}},{test:function(nm){var rm=nm.test(/ipod|iphone/i),om=nm.test(/like (ipod|iphone)/i);return rm&&!om},describe:function(nm){var rm=ip.default.getFirstMatch(/(ipod|iphone)/i,nm);return{type:em.PLATFORMS_MAP.mobile,vendor:"Apple",model:rm}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:em.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:em.PLATFORMS_MAP.mobile}}},{test:function(nm){return nm.getBrowserName(!0)==="blackberry"},describe:function(){return{type:em.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(nm){return nm.getBrowserName(!0)==="bada"},describe:function(){return{type:em.PLATFORMS_MAP.mobile}}},{test:function(nm){return nm.getBrowserName()==="windows phone"},describe:function(){return{type:em.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(nm){var rm=Number(String(nm.getOSVersion()).split(".")[0]);return nm.getOSName(!0)==="android"&&rm>=3},describe:function(){return{type:em.PLATFORMS_MAP.tablet}}},{test:function(nm){return nm.getOSName(!0)==="android"},describe:function(){return{type:em.PLATFORMS_MAP.mobile}}},{test:function(nm){return nm.getOSName(!0)==="macos"},describe:function(){return{type:em.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(nm){return nm.getOSName(!0)==="windows"},describe:function(){return{type:em.PLATFORMS_MAP.desktop}}},{test:function(nm){return nm.getOSName(!0)==="linux"},describe:function(){return{type:em.PLATFORMS_MAP.desktop}}},{test:function(nm){return nm.getOSName(!0)==="playstation 4"},describe:function(){return{type:em.PLATFORMS_MAP.tv}}},{test:function(nm){return nm.getOSName(!0)==="roku"},describe:function(){return{type:em.PLATFORMS_MAP.tv}}}];s.default=tm,r.exports=s.default},95:function(r,s,sf){s.__esModule=!0,s.default=void 0;var Nf,ip=(Nf=sf(17))&&Nf.__esModule?Nf:{default:Nf},em=sf(18),tm=[{test:function(nm){return nm.getBrowserName(!0)==="microsoft edge"},describe:function(nm){if(/\sedg\//i.test(nm))return{name:em.ENGINE_MAP.Blink};var rm=ip.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,nm);return{name:em.ENGINE_MAP.EdgeHTML,version:rm}}},{test:[/trident/i],describe:function(nm){var rm={name:em.ENGINE_MAP.Trident},om=ip.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,nm);return om&&(rm.version=om),rm}},{test:function(nm){return nm.test(/presto/i)},describe:function(nm){var rm={name:em.ENGINE_MAP.Presto},om=ip.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,nm);return om&&(rm.version=om),rm}},{test:function(nm){var rm=nm.test(/gecko/i),om=nm.test(/like gecko/i);return rm&&!om},describe:function(nm){var rm={name:em.ENGINE_MAP.Gecko},om=ip.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,nm);return om&&(rm.version=om),rm}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:em.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(nm){var rm={name:em.ENGINE_MAP.WebKit},om=ip.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,nm);return om&&(rm.version=om),rm}}];s.default=tm,r.exports=s.default}});var Hu=de(Uu.exports);const Fu={Initialized:"initialized",DisplayURI:"display_uri",ProviderUpdate:"provider_update",ConnectWithResponse:"connectWithResponse",ConnectionStatus:"connection_status",ServiceStatus:"service_status"};class zu{constructor({shouldSetOnWindow:s,connectionStream:sf,shouldSendMetadata:Nf=!1,shouldShimWeb3:ip,sdkInstance:em}){const tm=new Vu({connectionStream:sf,shouldSendMetadata:Nf,shouldSetOnWindow:s,shouldShimWeb3:ip,autoRequestAccounts:!1}),nm=new Proxy(tm,{deleteProperty:()=>!0});if(this.provider=nm,this.sdkInstance=em,s&&typeof window<"u")try{rm=tm,window.ethereum=rm,window.dispatchEvent(new Event("ethereum#initialized"))}catch(om){xu("[Ethereum] Unable to set global provider - window.ethereum may be read-only",om)}var rm;if(ip&&typeof window<"u")try{(function(om,im=console){let am=!1,sm=!1;if(!window.web3){const cm="__isMetaMaskShim__";let hm={currentProvider:om};Object.defineProperty(hm,cm,{value:!0,enumerable:!0,configurable:!1,writable:!1}),hm=new Proxy(hm,{get:(fm,pm,...mm)=>(pm!=="currentProvider"||am?pm==="currentProvider"||pm===cm||sm||(sm=!0,im.error("MetaMask no longer injects web3. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3"),om.request({method:"metamask_logWeb3ShimUsage"}).catch(_m=>{im.debug("MetaMask: Failed to log web3 shim usage.",_m)})):(am=!0,im.warn("You are accessing the MetaMask window.web3.currentProvider shim. This property is deprecated; use window.ethereum instead. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3")),Reflect.get(fm,pm,...mm)),set:(...fm)=>(im.warn("You are accessing the MetaMask window.web3 shim. This object is deprecated; use window.ethereum instead. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3"),Reflect.set(...fm))}),Object.defineProperty(window,"web3",{value:hm,enumerable:!1,configurable:!0,writable:!0})}})(this.provider)}catch(om){xu("[Ethereum] Unable to shim web3 - window.web3 may be read-only",om)}this.provider.on("display_uri",om=>{this.sdkInstance.emit(Fu.DisplayURI,om)}),this.provider.on("_initialized",()=>{const om={chainId:this.provider.getChainId(),isConnected:this.provider.isConnected(),isMetaMask:this.provider.isMetaMask,selectedAddress:this.provider.getSelectedAddress(),networkVersion:this.provider.getNetworkVersion()};this.sdkInstance.emit(Fu.Initialized,om),xu("[Ethereum: constructor()] provider initialized",om)})}static init(s){var sf;return xu("[Ethereum: init()] Initializing Ethereum service"),this.instance=new zu(s),(sf=this.instance)===null||sf===void 0?void 0:sf.provider}static destroy(){}static getInstance(){var s;if(!(!((s=this.instance)===null||s===void 0)&&s.provider))throw new Error("Ethereum instance not intiialized - call Ethereum.factory first.");return this.instance}static getProvider(){var s;if(!(!((s=this.instance)===null||s===void 0)&&s.provider))throw new Error("Ethereum instance not intiialized - call Ethereum.factory first.");return this.instance.provider}}class qu{constructor({useDeepLink:s,preferredOpenLink:sf,debug:Nf=!1}){this.state={platformType:void 0,useDeeplink:!1,preferredOpenLink:void 0,debug:!1},this.state.platformType=this.getPlatformType(),this.state.useDeeplink=s,this.state.preferredOpenLink=sf,this.state.debug=Nf}openDeeplink(s,sf,Nf){return function(ip,em,tm,nm){const{state:rm}=ip;xu(`[PlatfformManager: openDeeplink()] universalLink --> ${em}`),xu(`[PlatfformManager: openDeeplink()] deepLink --> ${tm}`);try{if(rm.preferredOpenLink)return void rm.preferredOpenLink(rm.useDeeplink?tm:em,nm);if(xu(`[PlatfformManager: openDeeplink()] open link now useDeepLink=${rm.useDeeplink} link=${rm.useDeeplink?tm:em}`),rm.useDeeplink)typeof window<"u"&&(window.location.href=tm);else if(typeof document<"u"){const om=document.createElement("a");om.href=em,om.target="_self",om.rel="noreferrer noopener",om.click()}}catch(om){console.log("[PlatfformManager: openDeeplink()] can't open link",om)}}(this,s,sf,Nf)}isReactNative(){var s;return this.isNotBrowser()&&typeof window<"u"&&window?.navigator&&((s=window.navigator)===null||s===void 0?void 0:s.product)==="ReactNative"}isMetaMaskInstalled(){return function(){const s=zu.getProvider()||window?.ethereum;return xu(`[PlatfformManager: isMetaMaskInstalled()] isMetaMask=${s?.isMetaMask} isConnected=${s?.isConnected()}`),s?.isMetaMask&&s?.isConnected()}()}isDesktopWeb(){return this.isBrowser()&&!this.isMobileWeb()}isMobile(){var s,sf;const Nf=Hu.parse(window.navigator.userAgent);return((s=Nf?.platform)===null||s===void 0?void 0:s.type)==="mobile"||((sf=Nf?.platform)===null||sf===void 0?void 0:sf.type)==="tablet"}isSecure(){return this.isReactNative()||this.isMobileWeb()}isMetaMaskMobileWebView(){return typeof window<"u"&&!!window.ReactNativeWebView&&!!navigator.userAgent.endsWith("MetaMaskMobile")}isMobileWeb(){return this.state.platformType===Bo.MobileWeb}static isNotBrowser(){var s;return typeof window>"u"||!window?.navigator||c!==void 0&&((s=c?.navigator)===null||s===void 0?void 0:s.product)==="ReactNative"||navigator?.product==="ReactNative"}isNotBrowser(){return qu.isNotBrowser()}static isBrowser(){return!this.isNotBrowser()}isBrowser(){return qu.isBrowser()}isNodeJS(){return this.isNotBrowser()&&!this.isReactNative()}isUseDeepLink(){return this.state.useDeeplink}getPlatformType(){return function(s){const{state:sf}=s;return sf.platformType?sf.platformType:s.isReactNative()?Bo.ReactNative:s.isNotBrowser()?Bo.NonBrowser:s.isMetaMaskMobileWebView()?Bo.MetaMaskMobileWebview:s.isMobile()?Bo.MobileWeb:Bo.DesktopWeb}(this)}}const Wu=r=>a(void 0,void 0,void 0,function*(){if(qu.isBrowser()){const{StorageManagerWeb:sf}=yield Promise.resolve().then(function(){return nf});return new sf(r)}const s={persistChannelConfig:()=>a(void 0,void 0,void 0,function*(){}),getPersistedChannelConfig:()=>a(void 0,void 0,void 0,function*(){}),persistAccounts:()=>a(void 0,void 0,void 0,function*(){}),getCachedAccounts:()=>a(void 0,void 0,void 0,function*(){return[]}),persistChainId:()=>a(void 0,void 0,void 0,function*(){}),getCachedChainId:()=>a(void 0,void 0,void 0,function*(){}),terminate:()=>a(void 0,void 0,void 0,function*(){})};return Promise.resolve(s)});class Vu extends ku{constructor({connectionStream:s,shouldSendMetadata:sf,autoRequestAccounts:Nf=!1}){super(s,{logger:console,maxEventListeners:100,shouldSendMetadata:sf}),this.state={accounts:null,autoRequestAccounts:!1,providerStateRequested:!1,chainId:"",networkVersion:""},xu(`[SDKProvider: constructor()] autoRequestAccounts=${Nf}`),this.state.autoRequestAccounts=Nf}forceInitializeState(){return a(this,void 0,void 0,function*(){return xu(`[SDKProvider: forceInitializeState()] autoRequestAccounts=${this.state.autoRequestAccounts}`),this._initializeStateAsync()})}_setConnected(){xu("[SDKProvider: _setConnected()] Setting connected state"),this._state.isConnected=!0}getState(){return this._state}getSDKProviderState(){return this.state}getSelectedAddress(){var s;const{accounts:sf}=this._state;return sf&&sf.length!==0?((s=sf[0])===null||s===void 0?void 0:s.toLowerCase())||"":(xu("[SDKProvider: getSelectedAddress] No accounts found"),null)}getChainId(){return this.state.chainId}getNetworkVersion(){return this.state.networkVersion}setSDKProviderState(s){this.state=Object.assign(Object.assign({},this.state),s)}handleAccountsChanged(s,sf){return this._handleAccountsChanged(s,sf)}handleDisconnect({terminate:s=!1}){(function({terminate:sf=!1,instance:Nf}){const{state:ip}=Nf;xu(`[SDKProvider: handleDisconnect()] cleaning up provider state terminate=${sf}`,Nf),sf&&(Nf._state.accounts=null,Nf._state.isUnlocked=!1,Nf._state.isPermanentlyDisconnected=!0,Nf._state.initialized=!1),Nf._handleAccountsChanged([]),Nf._state.isConnected=!1,Nf.emit("disconnect",Mu.ethErrors.provider.disconnected()),ip.providerStateRequested=!1})({terminate:s,instance:this})}_initializeStateAsync(){return a(this,void 0,void 0,function*(){return function(s){var sf,Nf;return a(this,void 0,void 0,function*(){s.state===void 0&&(s.state={accounts:null,autoRequestAccounts:!1,providerStateRequested:!1,chainId:""});const{state:ip}=s;let em;if(ip.providerStateRequested)xu("[SDKProvider: initializeStateAsync()] initialization already in progress");else{let tm;ip.providerStateRequested=!0;let nm=null,rm=!1,om=!1;const im=yield Wu({enabled:!0});if(im){const am=yield im.getPersistedChannelConfig({});rm=(sf=am?.relayPersistence)!==null&&sf!==void 0&&sf,tm=yield im.getCachedChainId();const sm=yield im.getCachedAccounts();sm.length>0&&(nm=sm[0])}if(xu(`[SDKProvider: initializeStateAsync()] relayPersistence=${rm}`,{relayPersistence:rm,cachedChainId:tm,cachedSelectedAddress:nm}),rm)if(tm&&nm)em={accounts:[nm],chainId:tm,isUnlocked:!1},om=!0;else try{em=yield s.request({method:"metamask_getProviderState"})}catch(am){return s._log.error("MetaMask: Failed to get initial state. Please report this bug.",am),void(ip.providerStateRequested=!1)}if(((Nf=em?.accounts)===null||Nf===void 0?void 0:Nf.length)===0)if(s.getSelectedAddress())em.accounts=[s.getSelectedAddress()];else{xu("[SDKProvider: initializeStateAsync()] Fetch accounts remotely.");const am=yield s.request({method:"eth_requestAccounts",params:[]});em.accounts=am}s._initializeState(em),ip.providerStateRequested=!1,om&&(s._state.isConnected=!0,s.emit("connect",{chainId:em?.chainId}))}})}(this)})}_initializeState(s){return xu("[SDKProvider: _initializeState()]",s),function(sf,Nf,ip){return xu("[SDKProvider: initializeState()] set state._initialized to false"),sf._state.initialized=!1,Nf(ip)}(this,super._initializeState.bind(this),s)}_handleChainChanged({chainId:s,networkVersion:sf}={}){this.state.chainId=s,this.state.networkVersion=sf,function({instance:Nf,chainId:ip,networkVersion:em,superHandleChainChanged:tm}){xu(`[SDKProvider: handleChainChanged()] chainId=${ip} networkVersion=${em}`);let nm=em;em||(xu("[SDKProvider: handleChainChanged()] forced network version to prevent provider error"),nm="1"),Nf._state.isConnected=!0,Nf.emit("connect",{chainId:ip}),tm({chainId:ip,networkVersion:nm})}({instance:this,chainId:s,networkVersion:sf,superHandleChainChanged:super._handleChainChanged.bind(this)})}}var Gu,Yu={name:"@metamask/sdk",version:"0.32.1",description:"",homepage:"https://github.com/MetaMask/metamask-sdk#readme",bugs:{url:"https://github.com/MetaMask/metamask-sdk/issues"},repository:{type:"git",url:"https://github.com/MetaMask/metamask-sdk",directory:"packages/sdk"},main:"dist/node/cjs/metamask-sdk.js",module:"dist/browser/es/metamask-sdk.js",browser:"dist/browser/es/metamask-sdk.js",unpkg:"dist/browser/umd/metamask-sdk.js","react-native":"dist/react-native/es/metamask-sdk.js",types:"dist/types/src/index.d.ts",sideEffects:!1,files:["/dist"],scripts:{"build:types":"tsc --project tsconfig.build.json --emitDeclarationOnly --outDir dist/types",build:"yarn build:types && rollup -c --bundleConfigAsCjs","build:clean":"yarn clean && yarn build","build:post-tsc":"echo 'N/A'","build:pre-tsc":"echo 'N/A'",typecheck:"tsc --noEmit",clean:"rimraf ./dist",size:"node bundle-size && size-limit",lint:"yarn lint:eslint && yarn lint:misc --check","lint:changelog":"../../scripts/validate-changelog.sh @metamask/sdk","lint:eslint":"eslint . --cache --ext js,ts","lint:fix":"yarn lint:eslint --fix && yarn lint:misc --write","lint:misc":"prettier '**/*.json' '**/*.md' '!CHANGELOG.md' --ignore-path ../../.gitignore",prepack:"../../scripts/prepack.sh","publish:preview":"yarn npm publish --tag preview",reset:"yarn clean && rimraf ./node_modules/",test:'jest --testPathIgnorePatterns "/e2e/"',"test:coverage":'jest --coverage --testPathIgnorePatterns "/e2e/"',"test:e2e":'jest --testPathPattern "/e2e/"',"test:ci":'jest --coverage --passWithNoTests --setupFilesAfterEnv ./jest-preload.js --testPathIgnorePatterns "/e2e/"',"test:dev":'jest -c ./jest.config.ts --detectOpenHandles  --testPathIgnorePatterns "/e2e/"',watch:"rollup -c -w",dev:'concurrently "tsc --watch" "rollup -c -w --bundleConfigAsCjs"',"build:dev":"yarn build:types && NODE_ENV=dev rollup -c --bundleConfigAsCjs"},dependencies:{"@babel/runtime":"^7.26.0","@metamask/onboarding":"^1.0.1","@metamask/providers":"16.1.0","@metamask/sdk-communication-layer":"workspace:*","@metamask/sdk-install-modal-web":"workspace:*","@paulmillr/qr":"^0.2.1",bowser:"^2.9.0","cross-fetch":"^4.0.0",debug:"^4.3.4",eciesjs:"^0.4.11","eth-rpc-errors":"^4.0.3",eventemitter2:"^6.4.9","obj-multiplex":"^1.0.0",pump:"^3.0.0","readable-stream":"^3.6.2","socket.io-client":"^4.5.1",tslib:"^2.6.0",util:"^0.12.4",uuid:"^8.3.2"},devDependencies:{"@jest/globals":"^29.3.1","@lavamoat/allow-scripts":"^2.3.1","@metamask/auto-changelog":"3.1.0","@metamask/eslint-config":"^6.0.0","@metamask/eslint-config-nodejs":"^6.0.0","@metamask/eslint-config-typescript":"^6.0.0","@react-native-async-storage/async-storage":"^1.19.6","@rollup/plugin-alias":"^5.1.1","@rollup/plugin-commonjs":"^25.0.7","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.0.2","@rollup/plugin-replace":"^6.0.1","@rollup/plugin-terser":"^0.4.1","@size-limit/preset-big-lib":"^11.0.2","@types/dom-screen-wake-lock":"^1.0.2","@types/node":"^20.1.3","@types/pump":"^1.1.1","@types/qrcode-terminal":"^0.12.0","@types/uuid":"^10.0.0","@typescript-eslint/eslint-plugin":"^4.26.0","@typescript-eslint/parser":"^4.26.0","browserify-zlib":"^0.2.0",buffer:"^6.0.3",concurrently:"^9.1.2","crypto-browserify":"^3.12.0",eslint:"^7.30.0","eslint-config-prettier":"^8.3.0","eslint-plugin-import":"^2.23.4","eslint-plugin-jest":"^24.4.0","eslint-plugin-jsdoc":"^36.1.0","eslint-plugin-node":"^11.1.0","eslint-plugin-prettier":"^3.4.0","https-browserify":"^1.0.0",jest:"^29.3.1","jest-environment-jsdom":"^29.3.1",prettier:"^2.3.0",process:"^0.11.10",rimraf:"^4.4.0",rollup:"^4.26.0","rollup-plugin-analyzer":"^4.0.0","rollup-plugin-jscc":"^2.0.0","rollup-plugin-natives":"^0.7.5","rollup-plugin-node-builtins":"^2.1.2","rollup-plugin-polyfill-node":"^0.13.0","rollup-plugin-sizes":"^1.0.6","rollup-plugin-typescript2":"^0.31.2","rollup-plugin-visualizer":"^5.12.0","size-limit":"^11.0.2","stream-browserify":"^3.0.0","stream-http":"^3.2.0","ts-jest":"^29.0.3","ts-node":"^10.9.1",typescript:"^4.3.2",url:"^0.11.0",webpack:"^5.0.0"},publishConfig:{access:"public",registry:"https://registry.npmjs.org/"},lavamoat:{allowScripts:{"eciesjs>secp256k1":!1,"socket.io-client>engine.io-client>ws>bufferutil":!1,"socket.io-client>engine.io-client>ws>utf-8-validate":!1,"@metamask/sdk-communication-layer>bufferutil":!1,"@metamask/sdk-communication-layer>eciesjs>secp256k1":!1,"@metamask/sdk-communication-layer>utf-8-validate":!1}}};(function(r){r.INPAGE="metamask-inpage",r.CONTENT_SCRIPT="metamask-contentscript",r.PROVIDER="metamask-provider"})(Gu||(Gu={}));const Zu="direct",Ju="https://metamask.app.link/connect",Xu="metamask://connect",Qu={NAME:"MetaMask",RDNS:["io.metamask","io.metamask.flask"]},eh=/(?:^[a-f0-9]{8}-[a-f0-9]{4}-4[a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}$)|(?:^0{8}-0{4}-0{4}-0{4}-0{12}$)/u,th={METAMASK_GETPROVIDERSTATE:"metamask_getProviderState",METAMASK_CONNECTSIGN:"metamask_connectSign",METAMASK_CONNECTWITH:"metamask_connectWith",METAMASK_OPEN:"metamask_open",METAMASK_BATCH:"metamask_batch",PERSONAL_SIGN:"personal_sign",WALLET_REQUESTPERMISSIONS:"wallet_requestPermissions",WALLET_REVOKEPERMISSIONS:"wallet_revokePermissions",WALLET_GETPERMISSIONS:"wallet_getPermissions",WALLET_WATCHASSET:"wallet_watchAsset",WALLET_ADDETHEREUMCHAIN:"wallet_addEthereumChain",WALLET_SWITCHETHETHEREUMCHAIN:"wallet_switchEthereumChain",ETH_REQUESTACCOUNTS:"eth_requestAccounts",ETH_ACCOUNTS:"eth_accounts",ETH_CHAINID:"eth_chainId",ETH_SENDTRANSACTION:"eth_sendTransaction",ETH_SIGNTYPEDDATA:"eth_signTypedData",ETH_SIGNTYPEDDATA_V3:"eth_signTypedData_v3",ETH_SIGNTYPEDDATA_V4:"eth_signTypedData_v4",ETH_SIGNTRANSACTION:"eth_signTransaction",ETH_SIGN:"eth_sign",PERSONAL_EC_RECOVER:"personal_ecRecover"},nh={[th.ETH_REQUESTACCOUNTS]:!0,[th.ETH_SENDTRANSACTION]:!0,[th.ETH_SIGNTRANSACTION]:!0,[th.ETH_SIGN]:!0,[th.PERSONAL_SIGN]:!0,[th.ETH_ACCOUNTS]:!1,[th.ETH_CHAINID]:!1,[th.PERSONAL_SIGN]:!0,[th.ETH_SIGNTYPEDDATA]:!0,[th.ETH_SIGNTYPEDDATA_V3]:!0,[th.ETH_SIGNTYPEDDATA_V4]:!0,[th.WALLET_REQUESTPERMISSIONS]:!0,[th.WALLET_GETPERMISSIONS]:!0,[th.WALLET_WATCHASSET]:!0,[th.WALLET_ADDETHEREUMCHAIN]:!0,[th.WALLET_SWITCHETHETHEREUMCHAIN]:!0,[th.METAMASK_CONNECTSIGN]:!0,[th.METAMASK_CONNECTWITH]:!0,[th.PERSONAL_EC_RECOVER]:!0,[th.METAMASK_BATCH]:!0,[th.METAMASK_OPEN]:!0},rh=Object.keys(nh).filter(r=>nh[r]===!0).map(r=>r.toLowerCase()),ih=["eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sign"].map(r=>r.toLowerCase()),oh=".sdk-comm",sh="providerType",ah=".MMSDK_cached_address",ch=".MMSDK_cached_chainId",lh={CHAIN_CHANGED:"chainChanged",ACCOUNTS_CHANGED:"accountsChanged",DISCONNECT:"disconnect",CONNECT:"connect",CONNECTED:"connected"},dh=1e6;var uh;(function(r){r.TERMINATE="terminate",r.EXTENSION="extension",r.INITIALIZED="initialized"})(uh||(uh={}));const hh=typeof window<"u"&&window.localStorage;function fh({instance:r,msg:s}){return a(this,void 0,void 0,function*(){if(r._initialized||(xu("[MetaMaskSDK: connectAndSign()] provider not ready -- wait for init()"),yield r.init()),xu(`[MetaMaskSDK: connectAndSign()] activeProvider=${r.activeProvider}`),!r.activeProvider)throw new Error("SDK state invalid -- undefined provider");const sf=/^0x([0-9A-Fa-f]{2})*$/u.test(s)?s:function(Nf){let ip;if(_!==void 0)ip=_.from(Nf,"utf8").toString("hex");else if(typeof TextEncoder<"u"){const em=new TextEncoder().encode(Nf);ip=Array.from(em).map(tm=>tm.toString(16).padStart(2,"0")).join("")}else{if(typeof c!="object"||!("Buffer"in c))throw new Error("Unable to convert string to hex: No available method.");ip=c.Buffer.from(Nf,"utf8").toString("hex")}return`0x${ip}`}(s);return r.activeProvider.request({method:th.METAMASK_CONNECTWITH,params:[{method:th.PERSONAL_SIGN,params:[sf]}]})})}function ph(r){var s,sf;return a(this,void 0,void 0,function*(){xu("[MetaMaskSDK: connectWithExtensionProvider()] ",r),r.sdkProvider=r.activeProvider,r.activeProvider=window.extension,window.ethereum=window.extension;try{const Nf=yield(s=window.extension)===null||s===void 0?void 0:s.request({method:"eth_requestAccounts"});xu(`[MetaMaskSDK: connectWithExtensionProvider()] accounts=${Nf}`)}catch(Nf){return void console.warn("[MetaMaskSDK: connectWithExtensionProvider()] can't request accounts error",Nf)}localStorage.setItem(sh,"extension"),r.extensionActive=!0,r.emit(Fu.ProviderUpdate,uh.EXTENSION),r.options.enableAnalytics&&((sf=r.analytics)===null||sf===void 0||sf.send({event:_o.SDK_USE_EXTENSION}))})}function gh(r){let s;if(_!==void 0)s=_.from(r,"utf8").toString("base64");else if(typeof btoa=="function")s=btoa(encodeURIComponent(r).replace(/%([0-9A-F]{2})/gu,(sf,Nf)=>String.fromCharCode(parseInt(Nf,16))));else{if(typeof c!="object"||!("Buffer"in c))throw new Error("Unable to base64 encode: No available method.");s=c.Buffer.from(r,"utf8").toString("base64")}return s}function mh(r,s,sf,Nf){var ip,em,tm,nm,rm,om,im,am,sm,cm,hm,fm,pm,mm,_m,ym,Sm,jm,Pm,Bm;return a(this,void 0,void 0,function*(){const qm=(ip=r.state.remote)===null||ip===void 0?void 0:ip.isReady(),Rm=(em=r.state.remote)===null||em===void 0?void 0:em.isConnected(),Dm=(tm=r.state.remote)===null||tm===void 0?void 0:tm.isPaused(),Um=zu.getProvider(),Lm=(nm=r.state.remote)===null||nm===void 0?void 0:nm.getChannelId(),Im=(rm=r.state.remote)===null||rm===void 0?void 0:rm.isAuthorized(),{deeplinkProtocol:dm}=r.state,{method:gm,data:km,triggeredInstaller:Mm}=(Am=>{var lm,um,wm,xm;let Tm;_.isBuffer(Am)?(Tm=Am.toJSON(),Tm._isBuffer=!0):Tm=Am;const Om=(lm=Tm?.data)===null||lm===void 0?void 0:lm.method;let Hm=!1;return typeof((um=Tm?.data)===null||um===void 0?void 0:um.params)=="object"&&((xm=(wm=Tm?.data)===null||wm===void 0?void 0:wm.params)===null||xm===void 0?void 0:xm.__triggeredInstaller)===!0&&(Hm=!0,Tm.data.params=Tm.data.params.wrappedParams),{method:Om,data:Tm,triggeredInstaller:Hm}})(s);if(xu(`[RCPMS: write()] method='${gm}' isRemoteReady=${qm} channelId=${Lm} isSocketConnected=${Rm} isRemotePaused=${Dm} providerConnected=${Um.isConnected()}`,s),!Lm)return gm!==th.METAMASK_GETPROVIDERSTATE&&xu(`[RCPMS: write()] ${gm} --> channelId is undefined`),Nf(new Error("disconnected"));xu(`[RCPMS: write()] remote.isPaused()=${(om=r.state.remote)===null||om===void 0?void 0:om.isPaused()} authorized=${Im} ready=${qm} socketConnected=${Rm}`,s);const bm=(im=r.state.platformManager)===null||im===void 0?void 0:im.isSecure(),Em=(sm=(am=r.state.platformManager)===null||am===void 0?void 0:am.isMobileWeb())!==null&&sm!==void 0&&sm,$m=(hm=(cm=r.state.remote)===null||cm===void 0?void 0:cm.hasDeeplinkProtocol())!==null&&hm!==void 0&&hm&&Em&&Im;try{if(!Mm){const um=JSON.stringify(km?.data);if(um.length>dh)return Nf(new Error(`Message size ${um.length} exceeds maximum allowed size of 1000000 bytes`));(fm=r.state.remote)===null||fm===void 0||fm.sendMessage(km?.data).then(()=>{xu(`[RCPMS: _write()] ${gm} sent successfully`)}).catch(wm=>{xu("[RCPMS: _write()] error sending message",wm)})}if(!bm)return xu(`[RCPMS: _write()] unsecure platform for method ${gm} -- return callback`),Nf();if(Mm)return xu("[RCPMS: _write()] prevent deeplink -- installation completed separately."),Nf();const Am=(_m=(mm=(pm=r.state.remote)===null||pm===void 0?void 0:pm.getKeyInfo())===null||mm===void 0?void 0:mm.ecies.public)!==null&&_m!==void 0?_m:"";let lm=encodeURI(`channelId=${Lm}&pubkey=${Am}&comm=socket&t=d&v=2`);if($m){const um=JSON.stringify(km?.data),wm=(ym=r.state.remote)===null||ym===void 0?void 0:ym.encrypt(um);if(!wm)return xu("[RCPMS: _write()] error encrypting message"),Nf(new Error("RemoteCommunicationPostMessageStream - disconnected"));lm+=`&scheme=${dm}&rpc=${gh(wm)}`}if(!(!((Sm=r.state.platformManager)===null||Sm===void 0)&&Sm.isMetaMaskInstalled()))return xu("[RCPMS: _write()] prevent deeplink until installation is completed."),Nf();nh[gm]?(xu(`[RCPMS: _write()] redirect link for '${gm}' socketConnected=${Rm} connect?${lm}`),(jm=r.state.platformManager)===null||jm===void 0||jm.openDeeplink(`${Ju}?${lm}`,`${Xu}?${lm}`,"_self")):!((Pm=r.state.remote)===null||Pm===void 0)&&Pm.isPaused()?(xu(`[RCPMS: _write()] MM is PAUSED! deeplink with connect! targetMethod=${gm}`),(Bm=r.state.platformManager)===null||Bm===void 0||Bm.openDeeplink(`${Ju}?redirect=true&${lm}`,`${Xu}?redirect=true&${lm}`,"_self")):xu(`[RCPMS: _write()] method ${gm} doesn't need redirect.`)}catch(Am){return xu("[RCPMS: _write()] error sending message",Am),Nf(new Error("RemoteCommunicationPostMessageStream - disconnected"))}return Nf()})}class yh extends nu.Duplex{constructor({name:s,remote:sf,deeplinkProtocol:Nf,platformManager:ip}){super({objectMode:!0}),this.state={_name:null,remote:null,deeplinkProtocol:!1,platformManager:null},this.state._name=s,this.state.remote=sf,this.state.deeplinkProtocol=Nf,this.state.platformManager=ip,this._onMessage=this._onMessage.bind(this),this.state.remote.on(bo.MESSAGE,this._onMessage)}_write(s,sf,Nf){return a(this,void 0,void 0,function*(){return mh(this,s,0,Nf)})}_read(){}_onMessage(s){return function(sf,Nf){try{if(xu("[RCPMS: onMessage()] message",Nf),!Nf||typeof Nf!="object"||typeof Nf?.data!="object")return;if(!Nf?.name)return void xu("[RCPMS: onMessage()] ignore message without name",Nf);if(Nf?.name!==Gu.PROVIDER)return void xu(`[RCPMS: onMessage()] ignore message with wrong name message=${Nf}`);if(_.isBuffer(Nf)){const ip=_.from(Nf);sf.push(ip)}else sf.push(Nf)}catch(ip){xu(`[RCPMS: onMessage()] ignore message error err=${ip}`)}}(this,s)}start(){}}let vh=1;const bh=r=>new Promise(s=>{setTimeout(()=>{s(!0)},r)}),wh=({checkInstallationOnAllCalls:r=!1,communicationLayerPreference:s,injectProvider:sf,shouldShimWeb3:Nf,platformManager:ip,installer:em,sdk:tm,remoteConnection:nm,debug:rm})=>a(void 0,void 0,void 0,function*(){var om,im;const am=(({name:Dm,remoteConnection:Um})=>{if(!Um||!Um?.getConnector())throw new Error("Missing remote connection parameter");return new yh({name:Dm,remote:Um?.getConnector(),deeplinkProtocol:Um?.state.deeplinkProtocol,platformManager:Um?.getPlatformManager()})})({name:Gu.INPAGE,target:Gu.CONTENT_SCRIPT,remoteConnection:nm}),sm=ip.getPlatformType(),cm=tm.options.dappMetadata,hm=`Sdk/Javascript SdkVersion/${Yu.version} Platform/${sm} dApp/${(om=cm.url)!==null&&om!==void 0?om:cm.name} dAppTitle/${cm.name}`;let fm=null,pm=null;const mm=(im=tm.options.storage)===null||im===void 0?void 0:im.storageManager;if(mm){try{const Dm=yield mm.getCachedAccounts();Dm.length>0&&(fm=Dm[0])}catch(Dm){console.error(`[initializeMobileProvider] failed to get cached addresses: ${Dm}`)}try{const Dm=yield mm.getCachedChainId();Dm&&(pm=Dm)}catch(Dm){console.error(`[initializeMobileProvider] failed to parse cached chainId: ${Dm}`)}}xu(`[initializeMobileProvider] cachedAccountAddress: ${fm}, cachedChainId: ${pm}`);const _m=!(!sf||sm===Bo.NonBrowser||sm===Bo.ReactNative),ym=zu.init({shouldSetOnWindow:_m,connectionStream:am,shouldShimWeb3:Nf,sdkInstance:tm});let Sm=!1;const jm=Dm=>{Sm=Dm},Pm=()=>Sm,Bm=(Dm,Um,Lm,Im)=>a(void 0,void 0,void 0,function*(){var dm,gm,km,Mm,bm,Em,$m,Am,lm;const um=zu.getProvider();if(Sm){um.emit("display_uri",nm?.state.qrcodeLink||""),nm?.showActiveModal();let zm=Pm();for(;zm;){const Wm=Pm(),Ym=nm?.isAuthorized();zm=Wm&&!Ym,xu(`[initializeMobileProvider: sendRequest()] waiting for initialization to complete - initializing: ${Wm} authorized: ${Ym}`),yield bh(1e3)}return xu("[initializeMobileProvider: sendRequest()] initial method completed -- prevent installation and call provider"),Lm(...Um)}const wm=ip.isMetaMaskInstalled(),xm=nm?.isConnected();let Tm=null,Om=null,Hm=null;if(Tm=(dm=um.getSelectedAddress())!==null&&dm!==void 0?dm:fm,Hm=um.getChainId()||pm,Tm&&mm&&Tm!==fm&&mm.persistAccounts([Tm]).catch(zm=>{console.error(`[initializeMobileProvider] failed to persist account: ${zm}`)}),Hm&&(pm=Hm,mm&&mm.persistChainId(Hm).catch(zm=>{console.error(`[initializeMobileProvider] failed to persist chainId: ${zm}`)})),xu("[initializeMobileProvider: sendRequest()]",{selectedAddress:Tm,chainId:Hm}),Im&&xu(`[initializeMobileProvider: sendRequest()] method=${Dm} ongoing=${Sm} selectedAddress=${Tm} isInstalled=${wm} checkInstallationOnAllCalls=${r} socketConnected=${xm}`),Tm&&Dm.toLowerCase()===th.ETH_ACCOUNTS.toLowerCase())return[Tm];if(Hm&&Dm.toLowerCase()===th.ETH_CHAINID.toLowerCase())return Hm;const Km=[th.ETH_REQUESTACCOUNTS,th.WALLET_REQUESTPERMISSIONS,th.METAMASK_CONNECTSIGN,th.METAMASK_CONNECTWITH],Zm=!nh[Dm],Vm=(gm=tm.options.readonlyRPCMap)===null||gm===void 0?void 0:gm[Hm];if(Vm&&Zm)try{const zm=(km=Um?.[0])===null||km===void 0?void 0:km.params,Wm=yield(({rpcEndpoint:Ym,method:Qm,sdkInfo:mg,params:bg})=>a(void 0,void 0,void 0,function*(){const vg=JSON.stringify({jsonrpc:"2.0",method:Qm,params:bg,id:(vh+=1,vh)}),Xm={Accept:"application/json","Content-Type":"application/json"};let Eg;Ym.includes("infura")&&(Xm["Metamask-Sdk-Info"]=mg);try{Eg=yield e(Ym,{method:"POST",headers:Xm,body:vg})}catch(_g){throw _g instanceof Error?new Error(`Failed to fetch from RPC: ${_g.message}`):new Error(`Failed to fetch from RPC: ${_g}`)}if(!Eg.ok)throw new Error(`Server responded with a status of ${Eg.status}`);return(yield Eg.json()).result}))({rpcEndpoint:Vm,sdkInfo:hm,method:Dm,params:zm||[]});return Im&&xu(`initializeProvider::ReadOnlyRPCResponse ${Wm}`),Wm}catch(zm){console.warn(`[initializeMobileProvider: sendRequest()] method=${Dm} readOnlyRPCRequest failed:`,zm)}if((!wm||wm&&!xm)&&Dm!==th.METAMASK_GETPROVIDERSTATE){const zm=((Mm=Um?.[0])===null||Mm===void 0?void 0:Mm.params)||[];if(Km.indexOf(Dm)!==-1||r){jm(!0);const Wm=Dm===th.METAMASK_CONNECTWITH,Ym=`${Date.now()}`;try{yield em.start({wait:!1,connectWith:Wm?{method:Dm,id:Ym,params:zm}:void 0}),yield new Promise((Qm,mg)=>{nm?.isAuthorized()&&(xu("[initializeMobileProvider: sendRequest()] already authorized"),Qm(!0)),nm?.getConnector().once(bo.AUTHORIZED,()=>{Qm(!0)}),tm.once(bo.PROVIDER_UPDATE,bg=>{xu(`[initializeMobileProvider: sendRequest()] PROVIDER_UPDATE --- remote provider request interupted type=${bg}`),bg===uh.EXTENSION?mg(bo.PROVIDER_UPDATE):mg(new Error("Connection Terminated"))})})}catch(Qm){if(uh.EXTENSION===Qm){if(xu(`[initializeMobileProvider: sendRequest()] extension provider detect: re-create ${Dm} on the active provider`),Dm.toLowerCase()===th.METAMASK_CONNECTSIGN.toLowerCase()){const mg=yield(bm=tm.getProvider())===null||bm===void 0?void 0:bm.request({method:th.ETH_REQUESTACCOUNTS,params:[]});if(!mg.length)throw new Error("SDK state invalid -- undefined accounts");const bg=yield(Em=tm.getProvider())===null||Em===void 0?void 0:Em.request({method:th.PERSONAL_SIGN,params:[zm[0],mg[0]]});return tm.emit(Fu.ConnectWithResponse,bg),bg}if(Dm.toLowerCase()===th.METAMASK_CONNECTWITH.toLowerCase()){const[mg]=zm,bg=yield(({method:vg,sdk:Xm,params:Eg})=>a(void 0,void 0,void 0,function*(){var _g,Ag,kg,xg;if(!Xm.isExtensionActive())throw new Error("SDK state invalid -- extension is not active");xu("[MetaMaskProvider: extensionConnectWithOverwrite()] Overwriting request method",vg,Eg);const Cg=yield(_g=Xm.getProvider())===null||_g===void 0?void 0:_g.request({method:th.ETH_REQUESTACCOUNTS,params:[]});if(!Cg.length)throw new Error("SDK state invalid -- undefined accounts");if(vg?.toLowerCase()===th.PERSONAL_SIGN.toLowerCase()){const Sg={method:vg,params:[Eg[0],Cg[0]]};return yield(Ag=Xm.getProvider())===null||Ag===void 0?void 0:Ag.request(Sg)}if(vg?.toLowerCase()===th.ETH_SENDTRANSACTION.toLowerCase()){const Sg={method:vg,params:[Object.assign(Object.assign({},Eg[0]),{from:Cg[0]})]};return yield(kg=Xm.getProvider())===null||kg===void 0?void 0:kg.request(Sg)}return ih.includes(vg.toLowerCase())?(console.warn(`MetaMaskSDK connectWith method=${vg} -- not handled by the extension -- call separately`),Cg):yield(xg=Xm.getProvider())===null||xg===void 0?void 0:xg.request({method:vg,params:Eg})}))({method:mg.method,sdk:tm,params:mg.params});return tm.emit(Fu.ConnectWithResponse,bg),bg}return xu(`[initializeMobileProvider: sendRequest()] sending '${Dm}' on active provider`,zm),yield($m=tm.getProvider())===null||$m===void 0?void 0:$m.request({method:Dm,params:zm})}throw Qm===bo.REJECTED?(nm?.closeModal(),(Am=tm.getProvider())===null||Am===void 0||Am.handleDisconnect({terminate:!1}),Object.assign(new Error("User rejected connection"),{code:4001})):(xu(`[initializeMobileProvider: sendRequest()] failed to start installer: ${Qm}`),Qm)}finally{jm(!1)}if(Dm===th.ETH_REQUESTACCOUNTS)return Om=yield new Promise(Qm=>{const mg=setInterval(()=>{const{accounts:bg}=um.getState();bg&&(clearInterval(mg),Qm(bg))},100)}),xu(`[initializeMobileProvider: sendRequest()] selectedAddress: ${Tm} --- SKIP rpc call`),Om;if(Dm===th.METAMASK_CONNECTWITH)try{let Qm=0;const mg=5,bg=({resolve:_g,reject:Ag})=>{Qm+=1;const kg=nm?.getConnector().getRPCMethodTracker(),xg=kg?.[Ym];return xu(`TRACKER: update method ${Ym}`,xg),xg?.result?(xu("[initializeMobileProvider: sendRequest()] found result",xg.result),tm.emit(Fu.ConnectWithResponse,xg.result),void _g(xg.result)):xg?.error?(xu("[initializeMobileProvider: sendRequest()] found error",xg.error),void Ag(xg.error)):Qm>=mg?(xu("[initializeMobileProvider: sendRequest()] max message count reached without result"),void Ag(new Error("Max message count reached without result"))):void xu("[initializeMobileProvider: sendRequest()] not found yet, need to wait for next update")};let vg,Xm;const Eg=yield new Promise((_g,Ag)=>{const kg=nm?.getConnector().getRPCMethodTracker();xu(`TRACKER: method ${Ym}`,kg),kg?.[Ym].result?(xu("[initializeMobileProvider: sendRequest()] found result",kg?.[Ym].result),_g(kg?.[Ym].result)):kg?.[Ym].error&&(xu("[initializeMobileProvider: sendRequest()] found error",kg?.[Ym].error),Ag(kg?.[Ym].error)),Xm=()=>bg({resolve:_g,reject:Ag}),vg=nm?.getConnector().on(bo.RPC_UPDATE,Xm)});return Xm&&vg?.off(bo.RPC_UPDATE,Xm),xu("TRACKER: result",Eg),Eg}catch(Qm){throw xu("[initializeMobileProvider: sendRequest()] error:",Qm),Qm}return Um[0]&&typeof Um[0]=="object"&&(Um[0].params={__triggeredInstaller:!0,wrappedParams:Um[0].params}),Lm(...Um)}if(ip.isSecure()&&nh[Dm])return Lm(...Um);if(tm.isExtensionActive())return xu(`[initializeMobileProvider: sendRequest()] EXTENSION active - redirect request '${Dm}' to it`,Um,zm),yield(lm=tm.getProvider())===null||lm===void 0?void 0:lm.request({method:Dm,params:zm});throw xu(`[initializeMobileProvider: sendRequest()] method=${Dm} --- skip --- not connected/installed`),new Error("MetaMask is not connected/installed, please call eth_requestAccounts to connect first.")}try{const zm=yield Lm(...Um);if(xu(`[initializeMobileProvider: sendRequest()] method=${Dm} rpcResponse`,zm),Dm===th.WALLET_REQUESTPERMISSIONS){const Wm=zm.reduce((Ym,Qm)=>{var mg;if(Qm.parentCapability==="eth_accounts"){const bg=(mg=Qm.caveats.find(vg=>vg.type==="restrictReturnedAccounts"))===null||mg===void 0?void 0:mg.value;bg&&Ym.push(...bg)}return Ym},[]);xu("[initializeMobileProvider: sendRequest()] accountsToPersist:",Wm),Wm.length>0&&(um.handleAccountsChanged(Wm,!1),mm?.persistAccounts(Wm))}return zm}catch(zm){throw console.error("[initializeMobileProvider: sendRequest()] error:",zm),zm}}),{request:qm}=ym;ym.request=(...Dm)=>a(void 0,void 0,void 0,function*(){return Bm(Dm?.[0].method,Dm,qm,rm)});const{send:Rm}=ym;return ym.send=(...Dm)=>a(void 0,void 0,void 0,function*(){return Bm(Dm?.[0],Dm,Rm,rm)}),xu("[initializeMobileProvider: sendRequest()] metamaskStream.start()"),am.start(),ym});function Eh(r){var s,sf,Nf,ip;return a(this,void 0,void 0,function*(){const{options:em}=r,tm={communicationLayerPreference:(s=em.communicationLayerPreference)!==null&&s!==void 0?s:Do.SOCKET,platformManager:r.platformManager,sdk:r,checkInstallationOnAllCalls:em.checkInstallationOnAllCalls,injectProvider:(sf=em.injectProvider)===null||sf===void 0||sf,shouldShimWeb3:(Nf=em.shouldShimWeb3)===null||Nf===void 0||Nf,extensionOnly:(ip=em.extensionOnly)===null||ip===void 0||ip,installer:r.installer,remoteConnection:r.remoteConnection,debug:r.debug},nm=yield wh(tm);r.activeProvider=nm,function(rm){var om,im,am,sm;(im=(om=rm.remoteConnection)===null||om===void 0?void 0:om.getConnector())===null||im===void 0||im.on(Fu.ConnectionStatus,cm=>{rm.emit(Fu.ConnectionStatus,cm)}),(sm=(am=rm.remoteConnection)===null||am===void 0?void 0:am.getConnector())===null||sm===void 0||sm.on(Fu.ServiceStatus,cm=>{rm.emit(Fu.ServiceStatus,cm)})}(r)})}const Sh="sdk";class _h{constructor({serverUrl:s,enabled:sf,originatorInfo:Nf}){this.serverURL=ho,this.serverURL=s,this.originatorInfo=Nf,this.enabled=sf==null||sf}send({event:s,params:sf}){if(!this.enabled)return;const Nf=Object.assign(Object.assign({id:Sh,event:s,sdkVersion:Yu.version},this.originatorInfo),{params:sf});xu(`[Analytics: send()] event: ${s}`,Nf),co(Nf,this.serverURL).catch(ip=>{xu(`[Analytics: send()] error: ${ip}`)})}}const Ch=()=>{if(typeof document>"u")return;let r;const s=document.getElementsByTagName("link");for(let sf=0;sf<s.length;sf++)s[sf].getAttribute("rel")!=="icon"&&s[sf].getAttribute("rel")!=="shortcut icon"||(r=s[sf].getAttribute("href"));return r},kh=163400;function xh(r){var s,sf,Nf;const{dappMetadata:ip}=r,em=function({url:im,name:am}){var sm;const cm=im+am,hm=gh(cm);if(!localStorage)return"";let fm=(sm=localStorage.getItem(hm))!==null&&sm!==void 0?sm:"";if(!fm){fm=v4();try{localStorage.setItem(hm,fm)}catch{return""}}return fm}({url:(s=ip?.url)!==null&&s!==void 0?s:"no_url",name:(sf=ip?.name)!==null&&sf!==void 0?sf:"no_name"}),tm=(Nf=r.platformManager)===null||Nf===void 0?void 0:Nf.getPlatformType(),nm=tm===Bo.DesktopWeb,rm=tm===Bo.MetaMaskMobileWebview;let om="N/A";return nm?om="extension":rm&&(om="mobile"),{id:em,from:om}}const Mh=({provider:r,sdkInstance:s})=>{if("state"in r)throw new Error("INVALID EXTENSION PROVIDER");return new Proxy(r,{get:(sf,Nf)=>Nf==="request"?function(ip){var em,tm;return a(this,void 0,void 0,function*(){xu("[wrapExtensionProvider()] Overwriting request method",ip);const{method:nm,params:rm}=ip,om=rh.includes(nm.toLowerCase()),{id:im,from:am}=xh(s);if(om&&((em=s.analytics)===null||em===void 0||em.send({event:_o.SDK_RPC_REQUEST,params:{method:nm,from:am,id:im}})),nm===th.METAMASK_BATCH&&Array.isArray(rm))return(({target:cm,args:hm,trackEvent:fm,sdkInstance:pm})=>a(void 0,void 0,void 0,function*(){var mm,_m;if(hm.method!=="metamask_batch")throw new Error("Invalid usage");const ym=[],Sm=(mm=hm?.params)!==null&&mm!==void 0?mm:[];for(const Bm of Sm){const qm=yield cm?.request({method:Bm.method,params:Bm.params});ym.push(qm)}const{id:jm,from:Pm}=xh(pm);return fm&&((_m=pm.analytics)===null||_m===void 0||_m.send({event:_o.SDK_RPC_REQUEST_DONE,params:{method:hm.method,from:Pm,id:jm}})),ym}))({target:sf,args:ip,trackEvent:om,sdkInstance:s});if(nm.toLowerCase()===th.METAMASK_CONNECTSIGN.toLowerCase()&&Array.isArray(rm))return(({target:cm,params:hm})=>a(void 0,void 0,void 0,function*(){const fm=yield cm.request({method:th.ETH_REQUESTACCOUNTS,params:[]});if(!fm.length)throw new Error("SDK state invalid -- undefined accounts");return yield cm.request({method:th.PERSONAL_SIGN,params:[hm[0],fm[0]]})}))({target:sf,params:rm});if(nm.toLowerCase()===th.METAMASK_CONNECTWITH.toLowerCase()&&Array.isArray(rm))return(({target:cm,params:hm})=>a(void 0,void 0,void 0,function*(){const[fm]=hm,pm=fm.method,mm=fm.params,_m=yield cm.request({method:th.ETH_REQUESTACCOUNTS,params:[]});if(!_m.length)throw new Error("SDK state invalid -- undefined accounts");return pm?.toLowerCase()===th.PERSONAL_SIGN.toLowerCase()?yield cm.request({method:pm,params:[mm[0],_m[0]]}):pm?.toLowerCase()===th.ETH_SENDTRANSACTION.toLowerCase()?yield cm.request({method:pm,params:[Object.assign(Object.assign({},mm[0]),{from:_m[0]})]}):ih.includes(pm.toLowerCase())?(console.warn(`MetaMaskSDK connectWith method=${pm} -- not handled by the extension -- call separately`),_m):yield cm.request({method:pm,params:mm})}))({target:sf,params:rm});let sm;try{return sm=yield sf.request(ip),sm}finally{om&&((tm=s.analytics)===null||tm===void 0||tm.send({event:_o.SDK_RPC_REQUEST_DONE,params:{method:nm,from:am,id:im}}))}})}:Nf==="getChainId"?function(){return r.chainId}:Nf==="getNetworkVersion"?function(){return r.networkVersion}:Nf==="getSelectedAddress"?function(){return r.selectedAddress}:Nf==="isConnected"?function(){return r._state.isConnected}:sf[Nf]})};var Ah;function Ih({mustBeMetaMask:r,sdkInstance:s}){return a(this,void 0,void 0,function*(){if(typeof window>"u")throw new Error("window not available");try{const sf=yield new Promise((Nf,ip)=>{const em=setTimeout(()=>{ip(new Error("eip6963RequestProvider timed out"))},500);window.addEventListener(Ah.Announce,tm=>{const nm=tm,{detail:{info:rm,provider:om}={}}=nm,{name:im,rdns:am,uuid:sm}=rm??{};eh.test(sm)&&im.startsWith(Qu.NAME)&&Qu.RDNS.includes(am)&&(clearTimeout(em),Nf(om))}),window.dispatchEvent(new Event(Ah.Request))});return Mh({provider:sf,sdkInstance:s})}catch{throw new Error("Provider not found")}})}(function(r){r.Announce="eip6963:announceProvider",r.Request="eip6963:requestProvider"})(Ah||(Ah={}));const Rh=r=>a(void 0,void 0,void 0,function*(){const{options:s}=r,{infuraAPIKey:sf}=s;if(!sf)return;const Nf={"0x1":`https://mainnet.infura.io/v3/${sf}`,"0x5":`https://goerli.infura.io/v3/${sf}`,"0xaa36a7":`https://sepolia.infura.io/v3/${sf}`,"0xe708":`https://linea-mainnet.infura.io/v3/${sf}`,"0xe704":`https://linea-goerli.infura.io/v3/${sf}`,"0x89":`https://polygon-mainnet.infura.io/v3/${sf}`,"0x13881":`https://polygon-mumbai.infura.io/v3/${sf}`,"0x45":`https://optimism-mainnet.infura.io/v3/${sf}`,"0x1a4":`https://optimism-goerli.infura.io/v3/${sf}`,"0xa4b1":`https://arbitrum-mainnet.infura.io/v3/${sf}`,"0x66eed":`https://arbitrum-goerli.infura.io/v3/${sf}`,"0x2a15c308d":`https://palm-mainnet.infura.io/v3/${sf}`,"0x2a15c3083":`https://palm-testnet.infura.io/v3/${sf}`,"0xa86a":`https://avalanche-mainnet.infura.io/v3/${sf}`,"0xa869":`https://avalanche-fuji.infura.io/v3/${sf}`,"0x4e454152":`https://aurora-mainnet.infura.io/v3/${sf}`,"0x4e454153":`https://aurora-testnet.infura.io/v3/${sf}`,"0x534e5f4d41494e":`https://starknet-mainnet.infura.io/v3/${sf}`,"0x534e5f474f45524c49":`https://starknet-goerli.infura.io/v3/${sf}`,"0x534e5f474f45524c4932":`https://starknet-goerli2.infura.io/v3/${sf}`,"0xa4ec":`https://celo-mainnet.infura.io/v3/${sf}`,"0xaef3":`https://celo-alfajores.infura.io/v3/${sf}`};r.options.readonlyRPCMap?r.options.readonlyRPCMap=Object.assign(Object.assign({},r.options.readonlyRPCMap),Nf):r.options.readonlyRPCMap=Nf}),Ph=r=>a(void 0,void 0,void 0,function*(){const{options:s}=r,{readonlyRPCMap:sf}=s;if(sf)try{xu("[MetaMaskSDK: setupReadOnlyRPCProviders()] Setting up Readonly RPC Providers",sf),r.setReadOnlyRPCCalls(!0)}catch{throw new Error("Invalid Infura Settings")}});function Th(r,s,sf,Nf){return new(sf||(sf=Promise))(function(ip,em){function tm(om){try{rm(Nf.next(om))}catch(im){em(im)}}function nm(om){try{rm(Nf.throw(om))}catch(im){em(im)}}function rm(om){var im;om.done?ip(om.value):(im=om.value,im instanceof sf?im:new sf(function(am){am(im)})).then(tm,nm)}rm((Nf=Nf.apply(r,[])).next())})}function Oh(r,s){var sf,Nf,ip,em,tm={label:0,sent:function(){if(1&ip[0])throw ip[1];return ip[1]},trys:[],ops:[]};return em={next:nm(0),throw:nm(1),return:nm(2)},typeof Symbol=="function"&&(em[Symbol.iterator]=function(){return this}),em;function nm(rm){return function(om){return function(im){if(sf)throw new TypeError("Generator is already executing.");for(;tm;)try{if(sf=1,Nf&&(ip=2&im[0]?Nf.return:im[0]?Nf.throw||((ip=Nf.return)&&ip.call(Nf),0):Nf.next)&&!(ip=ip.call(Nf,im[1])).done)return ip;switch(Nf=0,ip&&(im=[2&im[0],ip.value]),im[0]){case 0:case 1:ip=im;break;case 4:return tm.label++,{value:im[1],done:!1};case 5:tm.label++,Nf=im[1],im=[0];continue;case 7:im=tm.ops.pop(),tm.trys.pop();continue;default:if(ip=tm.trys,!((ip=ip.length>0&&ip[ip.length-1])||im[0]!==6&&im[0]!==2)){tm=0;continue}if(im[0]===3&&(!ip||im[1]>ip[0]&&im[1]<ip[3])){tm.label=im[1];break}if(im[0]===6&&tm.label<ip[1]){tm.label=ip[1],ip=im;break}if(ip&&tm.label<ip[2]){tm.label=ip[2],tm.ops.push(im);break}ip[2]&&tm.ops.pop(),tm.trys.pop();continue}im=s.call(r,tm)}catch(am){im=[6,am],Nf=0}finally{sf=ip=0}if(5&im[0])throw im[1];return{value:im[0]?im[1]:void 0,done:!0}}([rm,om])}}}var Lh="INSTALLED",Nh="NOT_INSTALLED",$h="REGISTERED",Dh="REGISTERING",Bh="RELOADING",Kh={CHROME:"https://chrome.google.com/webstore/detail/metamask/nkbihfbeogaeaoehlefnkodbefgpgknn",FIREFOX:"https://addons.mozilla.org/firefox/addon/ether-metamask/",DEFAULT:"https://metamask.io"},jh="REGISTRATION_IN_PROGRESS",Uh="FORWARDER_ID",Hh=function(){function r(s){var sf=s===void 0?{}:s,Nf=sf.forwarderOrigin,ip=Nf===void 0?"https://fwd.metamask.io":Nf,em=sf.forwarderMode,tm=em===void 0?r.FORWARDER_MODE.INJECT:em;this.forwarderOrigin=ip,this.forwarderMode=tm,this.state=r.isMetaMaskInstalled()?Lh:Nh;var nm=r._detectBrowser();this.downloadUrl=nm?Kh[nm]:Kh.DEFAULT,this._onMessage=this._onMessage.bind(this),this._onMessageFromForwarder=this._onMessageFromForwarder.bind(this),this._openForwarder=this._openForwarder.bind(this),this._openDownloadPage=this._openDownloadPage.bind(this),this.startOnboarding=this.startOnboarding.bind(this),this.stopOnboarding=this.stopOnboarding.bind(this),window.addEventListener("message",this._onMessage),tm===r.FORWARDER_MODE.INJECT&&sessionStorage.getItem(jh)==="true"&&r._injectForwarder(this.forwarderOrigin)}return r.prototype._onMessage=function(s){if(s.origin===this.forwarderOrigin)return s.data.type==="metamask:reload"?this._onMessageFromForwarder(s):void console.debug("Unknown message from '"+s.origin+"' with data "+JSON.stringify(s.data))},r.prototype._onMessageUnknownStateError=function(s){throw new Error("Unknown state: '"+s+"'")},r.prototype._onMessageFromForwarder=function(s){return Th(this,0,void 0,function(){return Oh(this,function(sf){switch(sf.label){case 0:switch(this.state){case Bh:return[3,1];case Nh:return[3,2];case Lh:return[3,3];case Dh:return[3,5];case $h:return[3,6]}return[3,7];case 1:return console.debug("Ignoring message while reloading"),[3,8];case 2:return console.debug("Reloading now to register with MetaMask"),this.state=Bh,location.reload(),[3,8];case 3:return console.debug("Registering with MetaMask"),this.state=Dh,[4,r._register()];case 4:return sf.sent(),this.state=$h,s.source.postMessage({type:"metamask:registrationCompleted"},s.origin),this.stopOnboarding(),[3,8];case 5:return console.debug("Already registering - ignoring reload message"),[3,8];case 6:return console.debug("Already registered - ignoring reload message"),[3,8];case 7:this._onMessageUnknownStateError(this.state),sf.label=8;case 8:return[2]}})})},r.prototype.startOnboarding=function(){sessionStorage.setItem(jh,"true"),this._openDownloadPage(),this._openForwarder()},r.prototype.stopOnboarding=function(){sessionStorage.getItem(jh)==="true"&&(this.forwarderMode===r.FORWARDER_MODE.INJECT&&(console.debug("Removing forwarder"),r._removeForwarder()),sessionStorage.setItem(jh,"false"))},r.prototype._openForwarder=function(){this.forwarderMode===r.FORWARDER_MODE.OPEN_TAB?window.open(this.forwarderOrigin,"_blank"):r._injectForwarder(this.forwarderOrigin)},r.prototype._openDownloadPage=function(){window.open(this.downloadUrl,"_blank")},r.isMetaMaskInstalled=function(){return!!(window.ethereum&&window.ethereum.isMetaMask)},r._register=function(){return window.ethereum.request({method:"wallet_registerOnboarding"})},r._injectForwarder=function(s){var sf=document.body,Nf=document.createElement("iframe");Nf.setAttribute("height","0"),Nf.setAttribute("width","0"),Nf.setAttribute("style","display: none;"),Nf.setAttribute("src",s),Nf.setAttribute("id",Uh),sf.insertBefore(Nf,sf.children[0])},r._removeForwarder=function(){var s;(s=document.getElementById(Uh))===null||s===void 0||s.remove()},r._detectBrowser=function(){var s=Hu.parse(window.navigator.userAgent);return s.browser.name==="Firefox"?"FIREFOX":["Chrome","Chromium"].includes(s.browser.name||"")?"CHROME":null},r.FORWARDER_MODE={INJECT:"INJECT",OPEN_TAB:"OPEN_TAB"},r}();function Fh(r,{wait:s=!1}){return a(this,void 0,void 0,function*(){return xu(`[MetamaskInstaller: startInstaller()] wait=${s}`),s&&(yield bh(1e3)),yield r.checkInstallation()})}class zh{constructor({remote:s,preferDesktop:sf,platformManager:Nf,debug:ip=!1}){this.state={isInstalling:!1,hasInstalled:!1,resendRequest:null,preferDesktop:!1,platformManager:null,remote:null,debug:!1,connectWith:void 0},this.state.remote=s,this.state.preferDesktop=sf,this.state.platformManager=Nf,this.state.debug=ip}startDesktopOnboarding(){return function(){return a(this,void 0,void 0,function*(){xu("[MetamaskInstaller: startDesktopOnboarding() starting desktop onboarding"),window.ethereum&&(window.ethereum=void 0),new Hh().startOnboarding()})}()}redirectToProperInstall(){return a(this,void 0,void 0,function*(){return function(s){var sf,Nf;return a(this,void 0,void 0,function*(){const{state:ip}=s,em=(sf=ip.platformManager)===null||sf===void 0?void 0:sf.getPlatformType();if(xu(`[MetamaskInstaller: redirectToProperInstall()] platform=${em}`),em===Bo.MetaMaskMobileWebview)return!1;ip.isInstalling=!0;try{yield(Nf=ip.remote)===null||Nf===void 0?void 0:Nf.startConnection({connectWith:ip.connectWith}),ip.isInstalling=!1,ip.hasInstalled=!0}catch(tm){throw ip.isInstalling=!1,tm}return!0})}(this)})}checkInstallation(){return a(this,void 0,void 0,function*(){return function(s){var sf;return a(this,void 0,void 0,function*(){const{state:Nf}=s,ip=(sf=Nf.platformManager)===null||sf===void 0?void 0:sf.isMetaMaskInstalled();return xu(`[MetamaskInstaller: checkInstallation()] isInstalled=${ip}`),!!ip||(yield s.redirectToProperInstall())})}(this)})}start({wait:s=!1,connectWith:sf}){return a(this,void 0,void 0,function*(){this.state.connectWith=sf,xu(`[MetaMaskInstaller: start()] wait=${s}`,sf),yield Fh(this,{wait:s})})}}class qh{constructor({debug:s,sdkVersion:sf}){this.containers={install:void 0,pending:void 0,select:void 0},this.defined={install:!1,pending:!1,select:!1},this.debug=s!=null&&s,this.sdkVersion=sf}loadComponent(s){return a(this,void 0,void 0,function*(){if(!this.defined[s]){this.defined[s]=!0;try{const sf=yield Promise.resolve().then(function(){return Rp});console.log("loader",sf),sf.defineCustomElements()}catch(sf){console.error(`Failed to load ${s} modal:`,sf)}}})}renderInstallModal(s){var sf;return a(this,void 0,void 0,function*(){this.debug&&console.debug("ModalLoader: renderInstallModal",s),this.containers.install=s.parentElement,yield this.loadComponent("install");const Nf=document.createElement("mm-install-modal");Nf.link=s.link,Nf.preferDesktop=s.preferDesktop,Nf.sdkVersion=(sf=s.sdkVersion)!==null&&sf!==void 0?sf:this.sdkVersion,Nf.addEventListener("close",({detail:{shouldTerminate:ip}})=>s.onClose(ip)),Nf.addEventListener("startDesktopOnboarding",s.metaMaskInstaller.startDesktopOnboarding),Nf.addEventListener("trackAnalytics",ip=>{var em;return(em=s.onAnalyticsEvent)===null||em===void 0?void 0:em.call(s,ip.detail)}),s.parentElement.appendChild(Nf)})}renderSelectModal(s){var sf;return a(this,void 0,void 0,function*(){this.containers.select=s.parentElement,yield this.loadComponent("select");const Nf=document.createElement("mm-select-modal");Nf.link=s.link,Nf.sdkVersion=(sf=s.sdkVersion)!==null&&sf!==void 0?sf:this.sdkVersion,Nf.preferDesktop=s.preferDesktop,Nf.addEventListener("close",({detail:{shouldTerminate:ip}})=>s.onClose(ip)),Nf.addEventListener("connectWithExtension",s.connectWithExtension),s.parentElement.appendChild(Nf),setTimeout(()=>this.updateQRCode(s.link),100)})}renderPendingModal(s){var sf;return a(this,void 0,void 0,function*(){this.containers.pending=s.parentElement,yield this.loadComponent("pending");const Nf=document.createElement("mm-pending-modal");Nf.sdkVersion=(sf=s.sdkVersion)!==null&&sf!==void 0?sf:this.sdkVersion,Nf.displayOTP=s.displayOTP,Nf.addEventListener("close",s.onClose),Nf.addEventListener("updateOTPValue",({detail:{otpValue:ip}})=>s.updateOTPValue(ip)),s.onDisconnect&&Nf.addEventListener("disconnect",s.onDisconnect),s.parentElement.appendChild(Nf)})}updateOTPValue(s){const sf=()=>{var Nf;const ip=(Nf=this.containers.pending)===null||Nf===void 0?void 0:Nf.querySelector("mm-pending-modal");return!!ip&&(ip.otpCode=s,!0)};setTimeout(()=>{sf()},800)}updateQRCode(s){var sf,Nf;const ip=(sf=this.containers.install)===null||sf===void 0?void 0:sf.querySelector("mm-install-modal");if(ip)ip.link=s;else{const em=(Nf=this.containers.select)===null||Nf===void 0?void 0:Nf.querySelector("mm-select-modal");em&&(em.link=s)}}unmount(){Object.entries(this.containers).forEach(([s,sf])=>{var Nf;(Nf=sf?.parentNode)===null||Nf===void 0||Nf.removeChild(sf),this.containers[s]=void 0})}}const Wh=({link:r,debug:s,installer:sf,terminate:Nf,connectWithExtension:ip,preferDesktop:em,onAnalyticsEvent:tm})=>{let nm=null,rm=null;xu("[UI: InstallModal-web: sdkWebInstallModal()] ################## Installing Modal #################"),xu(`[UI: InstallModal-web: sdkWebInstallModal()] link=${r}`),xu(`[UI: InstallModal-web: sdkWebInstallModal()] npx uri-scheme open "${r}" --ios`),xu(`[UI: InstallModal-web: sdkWebInstallModal()] npx uri-scheme open "${r}" --android`),xu(`[UI: InstallModal-web: sdkWebInstallModal()] adb shell am start -a android.intent.action.VIEW -d "${r}"`);const om=im=>{var am;xu("[UI: InstallModal-web: sdkWebInstallModal()] installModal-web unmounting install modal -- shouldTerminate:",im,rm),rm?.parentNode&&((am=rm.parentNode)===null||am===void 0||am.removeChild(rm)),rm=null,nm=null,im===!0&&Nf?.()};return{mount:im=>{if(xu("[UI: InstallModal-web: sdkWebInstallModal()] installModal-web mounting install modal",rm),rm)return rm.style.display="block",void(nm==null||nm.updateQRCode(im));nm=new qh({debug:s,sdkVersion:Yu.version}),rm=document.createElement("div"),document.body.appendChild(rm),window.extension?nm.renderSelectModal({parentElement:rm,connectWithExtension:()=>{om(),ip?.()},onClose:om,link:r,preferDesktop:em!=null&&em}).catch(am=>{console.error(am)}):nm.renderInstallModal({parentElement:rm,preferDesktop:em!=null&&em,link:r,metaMaskInstaller:sf,onClose:om,onAnalyticsEvent:tm}).catch(am=>{console.error("[UI: InstallModal-web: sdkWebInstallModal()]",am)})},unmount:om}},Vh=({onDisconnect:r,debug:s})=>{let sf=null,Nf=null;const ip=()=>{xu("[UI: pendingModal-web: sdkWebPendingModal()] pendingModal-web unmount",sf),sf?.parentNode&&sf.parentNode.removeChild(sf),sf=null,Nf=null},em=nm=>{xu("[UI: pendingModal-web: sdkWebPendingModal()] pendingModal-web updateOTPValue",nm),Nf&&Nf.updateOTPValue(nm)},tm=({displayOTP:nm}={displayOTP:!0})=>{xu("[UI: pendingModal-web: sdkWebPendingModal()] pendingModal-web mount",sf),sf?sf.style.display="block":(Nf=new qh({debug:s,sdkVersion:Yu.version}),sf=document.createElement("div"),document.body.appendChild(sf),Nf.renderPendingModal({parentElement:sf,onClose:ip,onDisconnect:r,updateOTPValue:em,displayOTP:nm}).catch(rm=>{console.error("[UI: pendingModal-web: sdkWebPendingModal()]",rm)}))};return tm(),{mount:tm,unmount:ip,updateOTPValue:em}};function Gh(r,s){var sf,Nf,ip,em;r.connector||(xu("[RemoteConnection: initializeConnector()] initialize connector"),r.connector=new Xo({platformType:s.platformManager.getPlatformType(),communicationLayerPreference:s.communicationLayerPreference,transports:s.transports,dappMetadata:Object.assign(Object.assign({},s.dappMetadata),{source:s._source}),analytics:s.enableAnalytics,communicationServerUrl:s.communicationServerUrl,sdkVersion:Yu.version,context:"dapp",ecies:s.ecies,storage:s.storage,logging:s.logging}),s.timer&&(xu("[RemoteConnection: initializeConnector()] reset background timer",s.timer),(Nf=(sf=s.timer)===null||sf===void 0?void 0:sf.stopBackgroundTimer)===null||Nf===void 0||Nf.call(sf),(em=(ip=s.timer)===null||ip===void 0?void 0:ip.runBackgroundTimer)===null||em===void 0||em.call(ip,()=>!1,1e4)))}function Yh(r){r.listeners.forEach(({event:s,handler:sf})=>{var Nf;(Nf=r.connector)===null||Nf===void 0||Nf.off(s,sf)}),r.listeners=[]}function Zh(r,s,sf){return a(this,void 0,void 0,function*(){return new Promise((Nf,ip)=>{if(!r.connector)return void ip(new Error("No connector available"));xu("[RemoteConnection: connectWithModalInstaller()]",{state:r,options:s,linkParams:sf});const em=`${r.useDeeplink?Xu:Ju}?${sf}`;(function(tm,nm,rm){var om,im,am,sm;tm.installModal=(im=(om=nm.modals).install)===null||im===void 0?void 0:im.call(om,{link:rm,preferDesktop:tm.preferDesktop,installer:nm.getMetaMaskInstaller(),terminate:()=>{xu("[RemoteConnection: showInstallModal() => terminate()] terminate connection"),nm.sdk.terminate().catch(cm=>{console.warn("[MMSDK] failed to terminate connection",cm)})},debug:tm.developerMode,connectWithExtension:()=>{var cm;return(cm=nm.connectWithExtensionProvider)===null||cm===void 0||cm.call(nm),!1},onAnalyticsEvent:({event:cm,params:hm})=>{var fm,pm,mm;const _m=Object.assign(Object.assign({},hm),{sdkVersion:nm.sdk.getVersion(),dappId:(fm=nm.dappMetadata)===null||fm===void 0?void 0:fm.name,source:nm._source,url:(pm=nm.dappMetadata)===null||pm===void 0?void 0:pm.url});(mm=tm.analytics)===null||mm===void 0||mm.send({event:cm,params:_m})}}),(sm=(am=tm.installModal)===null||am===void 0?void 0:am.mount)===null||sm===void 0||sm.call(am,rm)})(r,s,em),s.sdk.once(bo.PROVIDER_UPDATE,tm=>a(this,void 0,void 0,function*(){xu("[RemoteConnection: connectWithModalInstaller()] once provider_update -- resolving startConnection promise"),tm!==uh.TERMINATE?ip(tm):ip({code:4001,message:"User rejected the request."})})),r.connector.once(bo.AUTHORIZED,()=>{Nf()}),r.connector.once(bo.REJECTED,()=>{ip(bo.REJECTED)}),r.connector.once(bo.CLIENTS_READY,()=>a(this,void 0,void 0,function*(){xu("[RemoteConnection: connectWithModalInstaller()] once clients_ready -- resolving startConnection promise"),Nf()}))})})}function Jh(r,s){function sf(Nf,ip){var em;(em=r.connector)===null||em===void 0||em.on(Nf,ip),r.listeners.push({event:Nf,handler:ip})}r.connector&&(Yh(r),sf(bo.WALLET_INIT,({accounts:Nf,chainId:ip})=>a(this,void 0,void 0,function*(){xu(`[RemoteConnection: setupListeners() => EventType.WALLET_INIT] 'wallet_init' accounts=${Nf} chainId=${ip}`);const em=zu.getProvider();em._setConnected();const tm={accounts:Nf,chainId:ip,isUnlocked:!1};em._initializeState(tm),em.emit("chainChanged",ip),em.emit("accountsChanged",Nf)})),sf(bo.AUTHORIZED,()=>a(this,void 0,void 0,function*(){var Nf,ip,em,tm;try{xu("[RemoteConnection: setupListeners() => EventType.AUTHORIZED] 'authorized' closing modals",r.pendingModal,r.installModal);const nm=zu.getProvider();nm._setConnected(),(ip=(Nf=r.pendingModal)===null||Nf===void 0?void 0:Nf.unmount)===null||ip===void 0||ip.call(Nf),(tm=(em=r.installModal)===null||em===void 0?void 0:em.unmount)===null||tm===void 0||tm.call(em,!1),r.otpAnswer=void 0,r.authorized=!0,xu("[RemoteConnection: setupListeners() => EventType.AUTHORIZED] 'authorized' provider.state",nm.getState()),yield nm.forceInitializeState()}catch{}})),sf(bo.TERMINATE,()=>{var Nf,ip,em,tm,nm;(ip=(Nf=r.pendingModal)===null||Nf===void 0?void 0:Nf.unmount)===null||ip===void 0||ip.call(Nf),(tm=(em=r.installModal)===null||em===void 0?void 0:em.unmount)===null||tm===void 0||tm.call(em,!0),r.pendingModal=void 0,r.installModal=void 0,r.otpAnswer=void 0,(nm=r.connector)===null||nm===void 0||nm.disconnect({terminate:!0}),r.authorized=!1,zu.getProvider().handleDisconnect({terminate:!0}),Yh(r),xu("[RemoteConnection: setupListeners()] All listeners cleaned up")}))}function Xh(r,s,{initialCheck:sf,connectWith:Nf}={}){var ip,em,tm,nm,rm,om,im,am,sm,cm,hm,fm,pm,mm,_m,ym,Sm,jm,Pm;return a(this,void 0,void 0,function*(){try{if(Gh(r,s),!r.connector)throw new Error("no connector defined");Jh(r);const Bm=zu.getProvider();r.authorized=!1,Bm.emit("connecting");const qm=yield(ip=r.connector)===null||ip===void 0?void 0:ip.originatorSessionConnect();xu(`[RemoteConnection: startConnection()] after originatorSessionConnect initialCheck=${sf}`,qm);let Rm=(em=qm?.channelId)!==null&&em!==void 0?em:"",Dm=(nm=(tm=r.connector.getKeyInfo())===null||tm===void 0?void 0:tm.ecies.public)!==null&&nm!==void 0?nm:"",Um=(om=(rm=r.connector.getKeyInfo())===null||rm===void 0?void 0:rm.ecies.private)!==null&&om!==void 0?om:"";if(sf&&!qm)return Promise.resolve();if(!qm&&!sf){const xm=yield r.connector.generateChannelIdConnect();Rm=(im=xm.channelId)!==null&&im!==void 0?im:"",Dm=(am=xm.pubKey)!==null&&am!==void 0?am:"",Um=(sm=xm.privKey)!==null&&sm!==void 0?sm:"";const Tm=Date.now();(cm=r.connector.state.storageManager)===null||cm===void 0||cm.persistChannelConfig({channelId:Rm,localKey:Um,lastActive:Tm,validUntil:Tm+po})}if(sf&&qm?.channelId)return!((hm=r.connector)===null||hm===void 0)&&hm.isConnected()||(xu(`[RemoteConnection: startConnection()] reconnecting to channel initialCheck=${sf}`,qm),yield(fm=r.connector)===null||fm===void 0?void 0:fm.connectToChannel({channelId:Rm})),Promise.resolve();qm&&!(!((pm=r.connector)===null||pm===void 0)&&pm.isConnected())&&(xu("[RemoteConnection: startConnection()] reconnecting to channel",qm),yield(mm=r.connector)===null||mm===void 0?void 0:mm.connectToChannel({channelId:Rm}));const Lm=!((_m=r.platformManager)===null||_m===void 0)&&_m.isSecure()?"":"&t=q",Im=Yu.version,{iconUrl:dm,name:gm,url:km,scheme:Mm}=s.dappMetadata||{},bm=(ym=r.platformManager)===null||ym===void 0?void 0:ym.getPlatformType();let Em="N/A";typeof window<"u"&&window.location&&window.location.hostname?Em=window.location.hostname:gm!==void 0?Em=gm:km!==void 0&&(Em=km);const $m={url:km??"",title:gm??"",icon:dm,scheme:Mm??"",apiVersion:Im,dappId:Em||km||"N/A",platform:bm??"",source:(Sm=s._source)!==null&&Sm!==void 0?Sm:""},Am=gh(JSON.stringify($m));let lm=`channelId=${Rm}&v=2&comm=${(jm=r.communicationLayerPreference)!==null&&jm!==void 0?jm:""}&pubkey=${Dm}${Lm}&originatorInfo=${Am}`;if(Nf){lm+=`&rpc=${gh(JSON.stringify(Nf))}`;const xm=r.connector.getRPCMethodTracker();xm&&(xm[`${Nf.id}`]=Object.assign(Object.assign({},Nf),{id:`${Nf.id}`,timestamp:Date.now()}))}const um=encodeURI(lm),wm=`${r.useDeeplink?Xu:Ju}?${lm}`;return r.qrcodeLink=wm,r.developerMode&&xu(`[RemoteConnection: startConnection()] qrcodeLink=${um}`),Bm.emit("display_uri",wm),!((Pm=r.platformManager)===null||Pm===void 0)&&Pm.isSecure()?(yield function(xm,Tm){var Om,Hm;return a(this,void 0,void 0,function*(){const Km=`${Ju}?${Tm}`,Zm=`${Xu}?${Tm}`;(Hm=(Om=xm.platformManager)===null||Om===void 0?void 0:Om.openDeeplink)===null||Hm===void 0||Hm.call(Om,Km,Zm,"_self")})}(r,um),new Promise((xm,Tm)=>{var Om,Hm,Km;!((Om=r.connector)===null||Om===void 0)&&Om.isAuthorized()?xm():((Hm=r.connector)===null||Hm===void 0||Hm.once(bo.AUTHORIZED,()=>{xm()}),(Km=r.connector)===null||Km===void 0||Km.once(bo.REJECTED,()=>{Tm(bo.REJECTED)}))})):Zh(r,s,um)}catch(Bm){throw console.error("[startConnection] error",Bm),Bm}})}class Qh{constructor(s){var sf,Nf,ip;this.state={connector:void 0,qrcodeLink:void 0,analytics:void 0,developerMode:!1,authorized:!1,reconnection:!1,preferDesktop:!1,deeplinkProtocol:!1,listeners:[],communicationLayerPreference:void 0,platformManager:void 0,pendingModal:void 0,installModal:void 0,otpAnswer:void 0},this.options=s;const em=((sf=s.logging)===null||sf===void 0?void 0:sf.developerMode)===!0||((Nf=s.logging)===null||Nf===void 0?void 0:Nf.sdk)===!0;this.state.developerMode=em,this.state.analytics=s.analytics,this.state.preferDesktop=(ip=s.preferDesktop)!==null&&ip!==void 0&&ip,this.state.useDeeplink=s.sdk.options.useDeeplink,this.state.communicationLayerPreference=s.communicationLayerPreference,this.state.platformManager=s.platformManager,s.modals.install||(s.modals.install=Wh),s.modals.otp||(s.modals.otp=Vh)}startConnection(s){return a(this,void 0,void 0,function*(){return Xh(this.state,this.options,s)})}initRemoteCommunication({sdkInstance:s}){var sf,Nf,ip;return a(this,void 0,void 0,function*(){const em=yield(Nf=(sf=s.options.storage)===null||sf===void 0?void 0:sf.storageManager)===null||Nf===void 0?void 0:Nf.getPersistedChannelConfig();if(!this.options.ecies){const tm={privateKey:em?.localKey};this.options.ecies=tm}Gh(this.state,this.options),yield(ip=this.getConnector())===null||ip===void 0?void 0:ip.initFromDappStorage(),Jh(this.state,this.options)})}showActiveModal(){return function(s){var sf,Nf,ip,em;s.authorized?xu("[RemoteConnection: showActiveModal()] already authorized"):s.pendingModal?(Nf=(sf=s.pendingModal).mount)===null||Nf===void 0||Nf.call(sf):s.installModal&&((em=(ip=s.installModal).mount)===null||em===void 0||em.call(ip,s.qrcodeLink||""))}(this.state)}closeModal(){var s,sf,Nf,ip;(sf=(s=this.state.pendingModal)===null||s===void 0?void 0:s.unmount)===null||sf===void 0||sf.call(s),(ip=(Nf=this.state.installModal)===null||Nf===void 0?void 0:Nf.unmount)===null||ip===void 0||ip.call(Nf,!1)}getUniversalLink(){if(!this.state.qrcodeLink)throw new Error("connection not started. run startConnection() first.");return this.state.qrcodeLink}getChannelConfig(){var s;return(s=this.state.connector)===null||s===void 0?void 0:s.getChannelConfig()}getKeyInfo(){var s;return(s=this.state.connector)===null||s===void 0?void 0:s.getKeyInfo()}getConnector(){if(!this.state.connector)throw new Error("invalid remote connector");return this.state.connector}getPlatformManager(){if(!this.state.platformManager)throw new Error("PlatformManager not available");return this.state.platformManager}isConnected(){var s;return((s=this.state.connector)===null||s===void 0?void 0:s.isReady())||!1}isAuthorized(){var s;return((s=this.state.connector)===null||s===void 0?void 0:s.isAuthorized())||!1}isPaused(){var s;return(s=this.state.connector)===null||s===void 0?void 0:s.isPaused()}disconnect(s){var sf,Nf,ip;xu("[RemoteConnection: disconnect()]",s),s?.terminate&&(zu.getProvider().handleDisconnect({terminate:!0}),(Nf=(sf=this.state.pendingModal)===null||sf===void 0?void 0:sf.unmount)===null||Nf===void 0||Nf.call(sf),this.state.otpAnswer=void 0),(ip=this.state.connector)===null||ip===void 0||ip.disconnect(s),function(em){xu("[RemoteConnection: cleanupConnector()] cleaning up connector"),em.connector&&(Yh(em),em.connector.disconnect({terminate:!0}).catch(tm=>{xu("[RemoteConnection: cleanupConnector()] error disconnecting connector",tm)}))}(this.state)}}function ef(r){var s,sf,Nf,ip,em,tm,nm,rm,om,im,am;return a(this,void 0,void 0,function*(){const{options:sm}=r;if(sm.logging=(s=sm.logging)!==null&&s!==void 0?s:{},sm.communicationLayerPreference=(sf=sm.communicationLayerPreference)!==null&&sf!==void 0?sf:Do.SOCKET,sm.enableDebug!==void 0&&(t.enable("MM_SDK"),console.warn("enableDebug is removed. Please use enableAnalytics instead.")),sm.enableAnalytics=(Nf=sm.enableAnalytics)===null||Nf===void 0||Nf,sm.injectProvider=(ip=sm.injectProvider)===null||ip===void 0||ip,sm.shouldShimWeb3=(em=sm.shouldShimWeb3)===null||em===void 0||em,sm.extensionOnly=(tm=sm.extensionOnly)===null||tm===void 0||tm,sm.useDeeplink=(nm=sm.useDeeplink)===null||nm===void 0||nm,sm.storage=(rm=sm.storage)!==null&&rm!==void 0?rm:{enabled:!0},sm.headless){t("[MetaMaskSDK: performSDKInitialization()] headless mode enabled");const _m=()=>{},ym={install:()=>({mount:_m,unmount:_m})},Sm={installer:_m};sm.modals=ym,sm.ui=Sm}const cm=((om=sm.logging)===null||om===void 0?void 0:om.developerMode)===!0;r.debug=((im=sm.logging)===null||im===void 0?void 0:im.sdk)||cm,xu("[MetaMaskSDK: performSDKInitialization()] options",r.options);const hm=Object.assign({},sm.logging);cm&&(hm.sdk=!0,hm.eciesLayer=!0,hm.keyExchangeLayer=!0,hm.remoteLayer=!0,hm.serviceLayer=!0,hm.plaintext=!0),yield function(_m){var ym;return a(this,void 0,void 0,function*(){const{options:Sm}=_m;_m.platformManager=new qu({useDeepLink:(ym=Sm.useDeeplink)!==null&&ym!==void 0&&ym,preferredOpenLink:Sm.openDeeplink,debug:_m.debug})})}(r),yield function(_m){var ym,Sm,jm,Pm,Bm,qm,Rm,Dm,Um;return a(this,void 0,void 0,function*(){const{options:Lm}=_m,Im=(ym=_m.platformManager)===null||ym===void 0?void 0:ym.getPlatformType();_m.analytics=new _h({serverUrl:(Sm=Lm.communicationServerUrl)!==null&&Sm!==void 0?Sm:ho,enabled:Lm.enableAnalytics,originatorInfo:{url:(jm=Lm.dappMetadata.url)!==null&&jm!==void 0?jm:"",title:(Pm=Lm.dappMetadata.name)!==null&&Pm!==void 0?Pm:"",dappId:typeof window>"u"||window.location===void 0?(Dm=(qm=(Bm=Lm.dappMetadata)===null||Bm===void 0?void 0:Bm.name)!==null&&qm!==void 0?qm:(Rm=Lm.dappMetadata)===null||Rm===void 0?void 0:Rm.url)!==null&&Dm!==void 0?Dm:"N/A":window.location.hostname,platform:Im??"",source:(Um=Lm._source)!==null&&Um!==void 0?Um:""}})})}(r),yield function(_m){var ym;return a(this,void 0,void 0,function*(){const{options:Sm}=_m;((ym=Sm.storage)===null||ym===void 0?void 0:ym.enabled)!==!0||Sm.storage.storageManager||(Sm.storage.storageManager=yield Wu(Sm.storage))})}(r),yield function(_m){return a(this,void 0,void 0,function*(){const{options:ym}=_m,Sm=/^(http|https):\/\/[^\s]*$/;if(ym.dappMetadata){ym.dappMetadata.iconUrl&&!Sm.test(ym.dappMetadata.iconUrl)&&(console.warn("Invalid dappMetadata.iconUrl: URL must start with http:// or https://"),ym.dappMetadata.iconUrl=void 0),ym.dappMetadata.base64Icon&&ym.dappMetadata.base64Icon.length>kh&&(console.warn("Invalid dappMetadata.base64Icon: Base64-encoded icon string length must be less than 163400 characters"),ym.dappMetadata.base64Icon=void 0),ym.dappMetadata.url&&!Sm.test(ym.dappMetadata.url)&&console.warn("Invalid dappMetadata.url: URL must start with http:// or https://");const jm=Ch();if(jm&&!ym.dappMetadata.iconUrl&&!ym.dappMetadata.base64Icon){const Pm=`${window.location.protocol}//${window.location.host}${jm}`;ym.dappMetadata.iconUrl=Pm}}_m.dappMetadata=ym.dappMetadata})}(r),yield Rh(r),yield Ph(r);const{metamaskBrowserExtension:fm,preferExtension:pm,shouldReturn:mm}=yield function(_m){var ym,Sm,jm,Pm;return a(this,void 0,void 0,function*(){const{options:Bm}=_m;let qm,Rm=!1,Dm=!1;if(typeof window<"u"&&window.ethereum&&!(!((ym=_m.platformManager)===null||ym===void 0)&&ym.isMetaMaskMobileWebView())){Rm=localStorage.getItem(sh)==="extension";try{qm=yield Ih({mustBeMetaMask:!0,sdkInstance:_m}),window.extension=qm,qm.on(lh.CHAIN_CHANGED,Um=>{xu(`[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE chainChanged chainId=${Um}`),_m.sdkProvider&&_m.getMobileProvider().emit(lh.CHAIN_CHANGED,Um)}),qm.on(lh.ACCOUNTS_CHANGED,Um=>a(this,void 0,void 0,function*(){var Lm;xu(`[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE accountsChanged accounts=${Um}`);const Im=!!_m.sdkProvider,dm=!!_m.extensionActive;if(Im&&_m.getMobileProvider().emit(lh.ACCOUNTS_CHANGED,Um),dm&&Um?.length===0&&(yield(Lm=_m.getProvider())===null||Lm===void 0?void 0:Lm.request({method:th.WALLET_GETPERMISSIONS,params:[]})).length===0)try{yield _m.terminate()}catch(gm){xu("[MetaMaskSDK: setupExtensionPreferences()] error terminating on permissions revoked",gm)}})),qm.on(lh.DISCONNECT,Um=>{xu(`[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE disconnect error=${Um}`),_m.sdkProvider&&_m.getMobileProvider().emit(lh.DISCONNECT,Um)}),qm.on(lh.CONNECT,Um=>{xu(`[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE connect args=${Um}`),_m.sdkProvider&&_m.getMobileProvider().emit(lh.CONNECT,Um)}),qm.on(lh.CONNECTED,Um=>{xu("[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE connected",Um),_m.sdkProvider&&_m.getMobileProvider().emit(lh.CONNECTED,Um)})}catch{window.extension=void 0}}else!((Sm=_m.platformManager)===null||Sm===void 0)&&Sm.isMetaMaskMobileWebView()&&((jm=_m.analytics)===null||jm===void 0||jm.send({event:_o.SDK_USE_INAPP_BROWSER}),_m.activeProvider=Mh({provider:window.ethereum,sdkInstance:_m}),_m._initialized=!0,Dm=!0);return qm&&Bm.extensionOnly&&(xu("[MetaMaskSDK: setupExtensionPreferences()] EXTENSION ONLY --- prevent sdk initialization"),(Pm=_m.analytics)===null||Pm===void 0||Pm.send({event:_o.SDK_USE_EXTENSION}),_m.activeProvider=qm,_m.extensionActive=!0,_m.extension=qm,_m._initialized=!0,Dm=!0),{preferExtension:Rm,shouldReturn:Dm,metamaskBrowserExtension:qm}})}(r);if(mm)xu("[MetaMaskSDK: performSDKInitialization()] shouldReturn=true --- prevent sdk initialization");else{yield function(_m,ym){var Sm,jm,Pm,Bm,qm;return a(this,void 0,void 0,function*(){const{options:Rm}=_m,Dm=Object.assign({},Rm.logging);_m.remoteConnection=new Qh({preferDesktop:(Sm=Rm.preferDesktop)!==null&&Sm!==void 0&&Sm,communicationLayerPreference:(jm=Rm.communicationLayerPreference)!==null&&jm!==void 0?jm:Do.SOCKET,analytics:_m.analytics,dappMetadata:Rm.dappMetadata,_source:Rm._source,enableAnalytics:(Pm=Rm.enableAnalytics)===null||Pm===void 0||Pm,timer:Rm.timer,sdk:_m,platformManager:_m.platformManager,transports:Rm.transports,communicationServerUrl:Rm.communicationServerUrl,storage:(Bm=Rm.storage)!==null&&Bm!==void 0?Bm:{enabled:!0},getMetaMaskInstaller:()=>{if(!_m.installer)throw new Error("Invalid SDK status -- installer not initialized");return _m.installer},logging:Dm,connectWithExtensionProvider:ym===void 0?void 0:()=>ph(_m),modals:Object.assign(Object.assign({},Rm.modals),{onPendingModalDisconnect:_m.terminate.bind(_m)})}),yield _m.remoteConnection.initRemoteCommunication({sdkInstance:_m}),_m.installer=new zh({remote:_m.remoteConnection,preferDesktop:(qm=Rm.preferDesktop)!==null&&qm!==void 0&&qm,platformManager:_m.platformManager,debug:_m.debug})})}(r,fm),yield Eh(r),yield function(_m,ym){var Sm,jm;return a(this,void 0,void 0,function*(){const{options:Pm}=_m;ym?(xu("[MetaMaskSDK: handleAutoAndExtensionConnections()] preferExtension is detected -- connect with it."),(Sm=_m.analytics)===null||Sm===void 0||Sm.send({event:_o.SDK_EXTENSION_UTILIZED}),ph(_m).catch(Bm=>{console.warn("Can't connect with MetaMask extension...",Bm),localStorage.removeItem(sh)})):Pm.checkInstallationImmediately&&(!((jm=_m.platformManager)===null||jm===void 0)&&jm.isDesktopWeb()?(xu("[MetaMaskSDK: handleAutoAndExtensionConnections()] checkInstallationImmediately"),_m.connect().catch(Bm=>{xu(`[MetaMaskSDK: handleAutoAndExtensionConnections()] checkInstallationImmediately --- IGNORED --- error on autoconnect _err=${Bm}`)})):console.warn("[handleAutoAndExtensionConnections()] checkInstallationImmediately --- IGNORED --- only for web desktop")),_m._initialized=!0})}(r,pm);try{yield(am=r.remoteConnection)===null||am===void 0?void 0:am.startConnection({initialCheck:!0})}catch(_m){console.error("[MetaMaskSDK: setupRemoteConnectionAndInstaller()] Error while checking installation",_m)}r.emit(Fu.ProviderUpdate,uh.INITIALIZED)}})}class tf extends n{constructor(s={storage:{enabled:!0},injectProvider:!0,forceInjectProvider:!1,enableAnalytics:!0,shouldShimWeb3:!0,useDeeplink:!0,extensionOnly:!0,headless:!1,dappMetadata:{name:"",url:"",iconUrl:""},_source:Zu,i18nOptions:{enabled:!1}}){var sf,Nf,ip;super(),this.extensionActive=!1,this._initialized=!1,this.sdkInitPromise=void 0,this.debug=!1,this.readonlyRPCCalls=!1,this.availableLanguages=["en"],t.disable();const em=((sf=s.logging)===null||sf===void 0?void 0:sf.developerMode)===!0;if((!((Nf=s.logging)===null||Nf===void 0)&&Nf.sdk||em)&&t.enable("MM_SDK"),xu("[MetaMaskSDK: constructor()]: begin."),this.setMaxListeners(50),!(!((ip=s.dappMetadata)===null||ip===void 0)&&ip.url)){if(typeof window>"u"||typeof document>"u")throw new Error("You must provide dAppMetadata url");s.dappMetadata=Object.assign(Object.assign({},s.dappMetadata),{url:`${window.location.protocol}//${window.location.host}`})}this.options=s,this.options._source||(s._source=Zu),this.init().then(()=>{xu("[MetaMaskSDK: constructor()]: initialized successfully."),typeof window<"u"&&(window.mmsdk=this)}).catch(tm=>{console.error("[MetaMaskSDK: constructor()] error during initialization",tm)})}init(){return a(this,void 0,void 0,function*(){return function(s){var sf;return a(this,void 0,void 0,function*(){if(typeof window<"u"&&(!((sf=window.mmsdk)===null||sf===void 0)&&sf.isInitialized()))return xu("[MetaMaskSDK: initializeMetaMaskSDK()] already initialized"),Promise.resolve(window.mmsdk);if(s._initialized)return xu("[MetaMaskSDK: initializeMetaMaskSDK()] already initialized"),s.sdkInitPromise;if(s.sdkInitPromise)return xu("[MetaMaskSDK: initializeMetaMaskSDK()] already initializing"),s.sdkInitPromise;try{s.sdkInitPromise=ef(s),yield s.sdkInitPromise}catch(Nf){throw console.error(Nf),Nf}return s.sdkInitPromise})}(this)})}isExtensionActive(){return this.extensionActive}checkExtensionAvailability(){var s;return typeof window<"u"&&!!(!((s=window.ethereum)===null||s===void 0)&&s.isMetaMask)}connect(){return a(this,void 0,void 0,function*(){return function(s){return a(this,void 0,void 0,function*(){if(s._initialized||(xu("[MetaMaskSDK: connect()] provider not ready -- wait for init()"),yield s.init()),xu(`[MetaMaskSDK: connect()] isExtensionActive=${s.isExtensionActive()} activeProvider`,s.activeProvider),!s.activeProvider)throw new Error("SDK state invalid -- undefined provider");const sf=s.activeProvider.getSelectedAddress();return sf?[sf]:s.activeProvider.request({method:th.ETH_REQUESTACCOUNTS,params:[]})})}(this)})}connectAndSign({msg:s}){return a(this,void 0,void 0,function*(){return fh({instance:this,msg:s})})}connectWith(s){return a(this,void 0,void 0,function*(){return function({instance:sf,rpc:Nf}){return a(this,void 0,void 0,function*(){if(sf._initialized||(xu("[MetaMaskSDK: connectWith()] provider not ready -- wait for init()"),yield sf.init()),xu(`[MetaMaskSDK: connectWith()] method: ${Nf.method} rpc=${Nf}`),!sf.activeProvider)throw new Error("SDK state invalid -- undefined provider");return sf.activeProvider.request({method:th.METAMASK_CONNECTWITH,params:[Nf]})})}({instance:this,rpc:s})})}resume(){return function(s){var sf,Nf,ip;return a(this,void 0,void 0,function*(){if(!(!((Nf=(sf=s.remoteConnection)===null||sf===void 0?void 0:sf.getConnector())===null||Nf===void 0)&&Nf.isReady()))return xu("[MetaMaskSDK: resume()] channel is not ready -- starting connection"),void((ip=s.remoteConnection)===null||ip===void 0||ip.startConnection());xu("[MetaMaskSDK: resume()] channel is ready")})}(this)}disconnect(){return console.warn("MetaMaskSDK.disconnect() is deprecated, use terminate()"),this.terminate()}isAuthorized(){var s;(s=this.remoteConnection)===null||s===void 0||s.isAuthorized()}terminate(){return function(s){var sf,Nf,ip;return a(this,void 0,void 0,function*(){if(!(!((sf=s.platformManager)===null||sf===void 0)&&sf.isMetaMaskMobileWebView())){if(hh&&(window.localStorage.removeItem(sh),window.localStorage.removeItem(ch),window.localStorage.removeItem(ah)),s.extensionActive){try{yield(Nf=s.activeProvider)===null||Nf===void 0?void 0:Nf.request({method:th.WALLET_REVOKEPERMISSIONS,params:[{eth_accounts:{}}]})}catch(em){xu("[MetaMaskSDK: terminate()] error revoking permissions",em)}return s.options.extensionOnly?(s.emit(Fu.ProviderUpdate,uh.TERMINATE),void xu("[MetaMaskSDK: terminate()] extensionOnly --- prevent switching providers")):(s.activeProvider=s.sdkProvider,window.ethereum=s.activeProvider,s.extensionActive=!1,void s.emit(Fu.ProviderUpdate,uh.TERMINATE))}s.emit(Fu.ProviderUpdate,uh.TERMINATE),xu(`[MetaMaskSDK: terminate()] remoteConnection=${s.remoteConnection}`),(ip=s.remoteConnection)===null||ip===void 0||ip.disconnect({terminate:!0,sendMessage:!0})}})}(this)}isInitialized(){return this._initialized}setReadOnlyRPCCalls(s){this.readonlyRPCCalls=s}hasReadOnlyRPCCalls(){return this.readonlyRPCCalls}getProvider(){if(this.activeProvider)return this.activeProvider;console.warn("MetaMaskSDK: No active provider found")}getMobileProvider(){if(!this.sdkProvider)throw new Error("SDK state invalid -- undefined mobile provider");return this.sdkProvider}getUniversalLink(){var s;const sf=(s=this.remoteConnection)===null||s===void 0?void 0:s.getUniversalLink();if(!sf)throw new Error("No Universal Link available, please call eth_requestAccounts first.");return sf}getChannelId(){var s,sf;return(sf=(s=this.remoteConnection)===null||s===void 0?void 0:s.getChannelConfig())===null||sf===void 0?void 0:sf.channelId}getRPCHistory(){var s,sf;return(sf=(s=this.remoteConnection)===null||s===void 0?void 0:s.getConnector())===null||sf===void 0?void 0:sf.getRPCMethodTracker()}getVersion(){return Yu.version}getWalletStatus(){var s,sf;return(sf=(s=this.remoteConnection)===null||s===void 0?void 0:s.getConnector())===null||sf===void 0?void 0:sf.getConnectionStatus()}_getChannelConfig(){var s;return(s=this.remoteConnection)===null||s===void 0?void 0:s.getChannelConfig()}_ping(){var s,sf;(sf=(s=this.remoteConnection)===null||s===void 0?void 0:s.getConnector())===null||sf===void 0||sf.ping()}_keyCheck(){var s,sf;(sf=(s=this.remoteConnection)===null||s===void 0?void 0:s.getConnector())===null||sf===void 0||sf.keyCheck()}_getServiceStatus(){var s,sf;return(sf=(s=this.remoteConnection)===null||s===void 0?void 0:s.getConnector())===null||sf===void 0?void 0:sf.getServiceStatus()}_getRemoteConnection(){return this.remoteConnection}_getDappMetadata(){return this.dappMetadata}_getKeyInfo(){var s;return(s=this.remoteConnection)===null||s===void 0?void 0:s.getKeyInfo()}_resetKeys(){var s,sf;(sf=(s=this.remoteConnection)===null||s===void 0?void 0:s.getConnector())===null||sf===void 0||sf.resetKeys()}_getConnection(){return this.remoteConnection}emit(s,sf){return super.emit(s,sf)}on(s,sf){return super.on(s,sf)}}var nf=Object.freeze({__proto__:null,StorageManagerWeb:class{constructor({enabled:r}={enabled:!1}){this.enabled=!1,this.enabled=r}persistChannelConfig(r){return a(this,void 0,void 0,function*(){const s=JSON.stringify(r);xu(`[StorageManagerWeb: persistChannelConfig()] enabled=${this.enabled}`,r),localStorage.setItem(oh,s)})}getPersistedChannelConfig(){return a(this,void 0,void 0,function*(){let r;try{if(xu(`[StorageManagerWeb: getPersistedChannelConfig()] enabled=${this.enabled}`),r=localStorage.getItem(oh),xu("[StorageManagerWeb: getPersistedChannelConfig()]",r),!r)return;const s=JSON.parse(r);return xu("[StorageManagerWeb: getPersistedChannelConfig()] channelConfig",s),s}catch(s){return void console.error("[StorageManagerWeb: getPersistedChannelConfig()] Can't find existing channel config",s)}})}persistAccounts(r){return a(this,void 0,void 0,function*(){xu(`[StorageManagerWeb: persistAccounts()] enabled=${this.enabled}`,r);const s=JSON.stringify(r);localStorage.setItem(ah,s)})}getCachedAccounts(){return a(this,void 0,void 0,function*(){try{const r=localStorage.getItem(ah);return r?JSON.parse(r):[]}catch(r){throw console.error("[StorageManagerWeb: getCachedAccounts()] Error reading cached accounts",r),r}})}persistChainId(r){return a(this,void 0,void 0,function*(){xu(`[StorageManagerWeb: persistChainId()] enabled=${this.enabled}`,r),localStorage.setItem(ch,r)})}getCachedChainId(){return a(this,void 0,void 0,function*(){try{const r=localStorage.getItem(ch);return r??void 0}catch(r){throw console.error("[StorageManagerWeb: getCachedChainId()] Error reading cached chainId",r),r}})}terminate(){return a(this,void 0,void 0,function*(){xu(`[StorageManagerWeb: terminate()] enabled=${this.enabled}`),localStorage.removeItem(oh)})}}});const rf="hydrated",of=!1,af=!0;var cf=Object.defineProperty,lf=new WeakMap,df=r=>lf.get(r),uf=(r,s)=>lf.set(s.$lazyInstance$=r,s),hf=(r,s)=>s in r,ff=(r,s)=>(0,console.error)(r,s),pf=new Map,gf=new Map,mf="slot-fb{display:contents}slot-fb[hidden]{display:none}",yf=typeof window<"u"?window:{},vf=yf.document||{head:{}},bf={$flags$:0,$resourcesUrl$:"",jmp:r=>r(),raf:r=>requestAnimationFrame(r),ael:(r,s,sf,Nf)=>r.addEventListener(s,sf,Nf),rel:(r,s,sf,Nf)=>r.removeEventListener(s,sf,Nf),ce:(r,s)=>new CustomEvent(r,s)},wf=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch{}return!1})(),Ef=!1,Sf=[],_f=[],Cf=(r,s)=>sf=>{r.push(sf),Ef||(Ef=!0,4&bf.$flags$?Mf(xf):bf.raf(xf))},kf=r=>{for(let s=0;s<r.length;s++)try{r[s](performance.now())}catch(sf){ff(sf)}r.length=0},xf=()=>{kf(Sf),kf(_f),(Ef=Sf.length>0)&&bf.raf(xf)},Mf=r=>(s=>Promise.resolve(s))().then(r),Af=Cf(_f),If={},Rf=r=>(r=typeof r)=="object"||r==="function";function Pf(r){var s,sf,Nf;return(Nf=(sf=(s=r.head)==null?void 0:s.querySelector('meta[name="csp-nonce"]'))==null?void 0:sf.getAttribute("content"))!=null?Nf:void 0}((r,s)=>{for(var sf in s)cf(r,sf,{get:s[sf],enumerable:!0})})({},{err:()=>Of,map:()=>Lf,ok:()=>Tf,unwrap:()=>Df,unwrapErr:()=>Bf});var Tf=r=>({isOk:!0,isErr:!1,value:r}),Of=r=>({isOk:!1,isErr:!0,value:r});function Lf(r,s){if(r.isOk){const sf=s(r.value);return sf instanceof Promise?sf.then(Nf=>Tf(Nf)):Tf(sf)}if(r.isErr){const sf=r.value;return Of(sf)}throw"should never get here"}var $f,Df=r=>{if(r.isOk)return r.value;throw r.value},Bf=r=>{if(r.isErr)return r.value;throw r.value},Kf=(r,s,...sf)=>{let Nf=null,ip=!1,em=!1;const tm=[],nm=om=>{for(let im=0;im<om.length;im++)Nf=om[im],Array.isArray(Nf)?nm(Nf):Nf!=null&&typeof Nf!="boolean"&&((ip=typeof r!="function"&&!Rf(Nf))&&(Nf=String(Nf)),ip&&em?tm[tm.length-1].$text$+=Nf:tm.push(ip?jf(null,Nf):Nf),em=ip)};if(nm(sf),s){const om=s.className||s.class;om&&(s.class=typeof om!="object"?om:Object.keys(om).filter(im=>om[im]).join(" "))}if(typeof r=="function")return r(s===null?{}:s,tm,Hf);const rm=jf(r,null);return rm.$attrs$=s,tm.length>0&&(rm.$children$=tm),rm},jf=(r,s)=>({$flags$:0,$tag$:r,$text$:s,$elm$:null,$children$:null,$attrs$:null}),Uf={},Hf={forEach:(r,s)=>r.map(Ff).forEach(s),map:(r,s)=>r.map(Ff).map(s).map(zf)},Ff=r=>({vattrs:r.$attrs$,vchildren:r.$children$,vkey:r.$key$,vname:r.$name$,vtag:r.$tag$,vtext:r.$text$}),zf=r=>{if(typeof r.vtag=="function"){const sf={...r.vattrs};return r.vkey&&(sf.key=r.vkey),r.vname&&(sf.name=r.vname),Kf(r.vtag,sf,...r.vchildren||[])}const s=jf(r.vtag,r.vtext);return s.$attrs$=r.vattrs,s.$children$=r.vchildren,s.$key$=r.vkey,s.$name$=r.vname,s},qf=r=>df(r).$hostElement$,Wf=(r,s,sf)=>{const Nf=qf(r);return{emit:ip=>Vf(Nf,s,{bubbles:!0,composed:!0,cancelable:!0,detail:ip})}},Vf=(r,s,sf)=>{const Nf=bf.ce(s,sf);return r.dispatchEvent(Nf),Nf},Gf=new WeakMap,Yf=r=>{const s=r.$cmpMeta$,sf=r.$hostElement$,Nf=s.$flags$;s.$tagName$;const ip=((em,tm,nm)=>{var rm;const om=Zf(tm),im=gf.get(om);if(em=em.nodeType===11?em:vf,im)if(typeof im=="string"){em=em.head||em;let am,sm=Gf.get(em);if(sm||Gf.set(em,sm=new Set),!sm.has(om)){{am=vf.createElement("style"),am.innerHTML=im;const cm=(rm=bf.$nonce$)!=null?rm:Pf(vf);if(cm!=null&&am.setAttribute("nonce",cm),!(1&tm.$flags$))if(em.nodeName==="HEAD"){const hm=em.querySelectorAll("link[rel=preconnect]"),fm=hm.length>0?hm[hm.length-1].nextSibling:em.querySelector("style");em.insertBefore(am,fm)}else if("host"in em)if(wf){const hm=new CSSStyleSheet;hm.replaceSync(im),em.adoptedStyleSheets=[hm,...em.adoptedStyleSheets]}else{const hm=em.querySelector("style");hm?hm.innerHTML=im+hm.innerHTML:em.prepend(am)}else em.append(am);1&tm.$flags$&&em.nodeName!=="HEAD"&&em.insertBefore(am,null)}4&tm.$flags$&&(am.innerHTML+=mf),sm&&sm.add(om)}}else em.adoptedStyleSheets.includes(im)||(em.adoptedStyleSheets=[...em.adoptedStyleSheets,im]);return om})(sf.shadowRoot?sf.shadowRoot:sf.getRootNode(),s);10&Nf&&2&Nf&&(sf["s-sc"]=ip,sf.classList.add(ip+"-h"))},Zf=(r,s)=>"sc-"+r.$tagName$,Jf=(r,s,sf,Nf,ip,em)=>{if(sf!==Nf){let tm=hf(r,s),nm=s.toLowerCase();if(s==="class"){const rm=r.classList,om=Qf(sf),im=Qf(Nf);rm.remove(...om.filter(am=>am&&!im.includes(am))),rm.add(...im.filter(am=>am&&!om.includes(am)))}else if(s==="style"){for(const rm in sf)Nf&&Nf[rm]!=null||(rm.includes("-")?r.style.removeProperty(rm):r.style[rm]="");for(const rm in Nf)sf&&Nf[rm]===sf[rm]||(rm.includes("-")?r.style.setProperty(rm,Nf[rm]):r.style[rm]=Nf[rm])}else if(tm||s[0]!=="o"||s[1]!=="n"){const rm=Rf(Nf);if((tm||rm&&Nf!==null)&&!ip)try{if(r.tagName.includes("-"))r[s]=Nf;else{const om=Nf??"";s==="list"?tm=!1:sf!=null&&r[s]==om||(typeof r.__lookupSetter__(s)=="function"?r[s]=om:r.setAttribute(s,om))}}catch{}Nf==null||Nf===!1?Nf===!1&&r.getAttribute(s)!==""||r.removeAttribute(s):(!tm||4&em||ip)&&!rm&&(Nf=Nf===!0?"":Nf,r.setAttribute(s,Nf))}else if(s=s[2]==="-"?s.slice(3):hf(yf,nm)?nm.slice(2):nm[2]+s.slice(3),sf||Nf){const rm=s.endsWith(ep);s=s.replace(tp,""),sf&&bf.rel(r,s,sf,rm),Nf&&bf.ael(r,s,Nf,rm)}}},Xf=/\s/,Qf=r=>r?r.split(Xf):[],ep="Capture",tp=new RegExp(ep+"$"),np=(r,s,sf)=>{const Nf=s.$elm$.nodeType===11&&s.$elm$.host?s.$elm$.host:s.$elm$,ip=r&&r.$attrs$||If,em=s.$attrs$||If;for(const tm of rp(Object.keys(ip)))tm in em||Jf(Nf,tm,ip[tm],void 0,sf,s.$flags$);for(const tm of rp(Object.keys(em)))Jf(Nf,tm,ip[tm],em[tm],sf,s.$flags$)};function rp(r){return r.includes("ref")?[...r.filter(s=>s!=="ref"),"ref"]:r}var op=!1,sp=(r,s,sf,Nf)=>{const ip=s.$children$[sf];let em,tm,nm=0;if(ip.$text$!==null)em=ip.$elm$=vf.createTextNode(ip.$text$);else{if(op||(op=ip.$tag$==="svg"),em=ip.$elm$=vf.createElementNS(op?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",ip.$tag$),op&&ip.$tag$==="foreignObject"&&(op=!1),np(null,ip,op),em.getRootNode().querySelector("body"),ip.$children$)for(nm=0;nm<ip.$children$.length;++nm)tm=sp(r,ip,nm),tm&&em.appendChild(tm);ip.$tag$==="svg"?op=!1:em.tagName==="foreignObject"&&(op=!0)}return em["s-hn"]=$f,em},ap=(r,s,sf,Nf,ip,em)=>{let tm,nm=r;for(nm.shadowRoot&&nm.tagName===$f&&(nm=nm.shadowRoot);ip<=em;++ip)Nf[ip]&&(tm=sp(null,sf,ip),tm&&(Nf[ip].$elm$=tm,up(nm,tm,s)))},cp=(r,s,sf)=>{for(let Nf=s;Nf<=sf;++Nf){const ip=r[Nf];if(ip){const em=ip.$elm$;em&&em.remove()}}},lp=(r,s,sf=!1)=>r.$tag$===s.$tag$,dp=(r,s,sf=!1)=>{const Nf=s.$elm$=r.$elm$,ip=r.$children$,em=s.$children$,tm=s.$tag$,nm=s.$text$;nm===null?(np(r,s,op=tm==="svg"||tm!=="foreignObject"&&op),ip!==null&&em!==null?((rm,om,im,am,sm=!1)=>{let cm,hm=0,fm=0,pm=om.length-1,mm=om[0],_m=om[pm],ym=am.length-1,Sm=am[0],jm=am[ym];for(;hm<=pm&&fm<=ym;)mm==null?mm=om[++hm]:_m==null?_m=om[--pm]:Sm==null?Sm=am[++fm]:jm==null?jm=am[--ym]:lp(mm,Sm,sm)?(dp(mm,Sm,sm),mm=om[++hm],Sm=am[++fm]):lp(_m,jm,sm)?(dp(_m,jm,sm),_m=om[--pm],jm=am[--ym]):lp(mm,jm,sm)?(dp(mm,jm,sm),up(rm,mm.$elm$,_m.$elm$.nextSibling),mm=om[++hm],jm=am[--ym]):lp(_m,Sm,sm)?(dp(_m,Sm,sm),up(rm,_m.$elm$,mm.$elm$),_m=om[--pm],Sm=am[++fm]):(cm=sp(om&&om[fm],im,fm),Sm=am[++fm],cm&&up(mm.$elm$.parentNode,cm,mm.$elm$));hm>pm?ap(rm,am[ym+1]==null?null:am[ym+1].$elm$,im,am,fm,ym):fm>ym&&cp(om,hm,pm)})(Nf,ip,s,em,sf):em!==null?(r.$text$!==null&&(Nf.textContent=""),ap(Nf,null,s,em,0,em.length-1)):!sf&&af&&ip!==null&&cp(ip,0,ip.length-1),op&&tm==="svg"&&(op=!1)):r.$text$!==nm&&(Nf.data=nm)},up=(r,s,sf)=>r?.insertBefore(s,sf),hp=(r,s,sf=!1)=>{const Nf=r.$hostElement$,ip=r.$cmpMeta$,em=r.$vnode$||jf(null,null),tm=(nm=s)&&nm.$tag$===Uf?s:Kf(null,null,s);var nm;if($f=Nf.tagName,sf&&tm.$attrs$)for(const rm of Object.keys(tm.$attrs$))Nf.hasAttribute(rm)&&!["key","ref","style","class"].includes(rm)&&(tm.$attrs$[rm]=Nf[rm]);tm.$tag$=null,tm.$flags$|=4,r.$vnode$=tm,tm.$elm$=em.$elm$=Nf.shadowRoot||Nf,Nf["s-sc"],1&ip.$flags$,dp(em,tm,sf)},fp=(r,s)=>{s&&!r.$onRenderResolve$&&s["s-p"]&&s["s-p"].push(new Promise(sf=>r.$onRenderResolve$=sf))},pp=(r,s)=>(r.$flags$|=16,4&r.$flags$?void(r.$flags$|=512):(fp(r,r.$ancestorComponent$),Af(()=>gp(r,s)))),gp=(r,s)=>{const sf=r.$hostElement$;r.$cmpMeta$.$tagName$;const Nf=r.$lazyInstance$;if(!Nf)throw new Error(`Can't render component <${sf.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);return mp(void 0,()=>vp(r,Nf,s))},mp=(r,s)=>yp(r)?r.then(s).catch(sf=>{console.error(sf),s()}):s(),yp=r=>r instanceof Promise||r&&r.then&&typeof r.then=="function",vp=async(r,s,sf)=>{var Nf;const ip=r.$hostElement$;r.$cmpMeta$.$tagName$;const em=ip["s-rc"];sf&&Yf(r),r.$cmpMeta$.$tagName$,bp(r,s,ip,sf),em&&(em.map(tm=>tm()),ip["s-rc"]=void 0);{const tm=(Nf=ip["s-p"])!=null?Nf:[],nm=()=>wp(r);tm.length===0?nm():(Promise.all(tm).then(nm),r.$flags$|=4,tm.length=0)}},bp=(r,s,sf,Nf)=>{try{s=s.render(),r.$flags$&=-17,r.$flags$|=2,hp(r,s,Nf)}catch(ip){ff(ip,r.$hostElement$)}return null},wp=r=>{r.$cmpMeta$.$tagName$;const s=r.$hostElement$,sf=()=>{},Nf=r.$lazyInstance$,ip=r.$ancestorComponent$;64&r.$flags$?sf():(r.$flags$|=64,_p(s),Sp(Nf,"componentDidLoad"),r.$onReadyResolve$(s),ip||Ep()),r.$onRenderResolve$&&(r.$onRenderResolve$(),r.$onRenderResolve$=void 0),512&r.$flags$&&Mf(()=>pp(r,!1)),r.$flags$&=-517},Ep=r=>{_p(vf.documentElement),Mf(()=>Vf(yf,"appload",{detail:{namespace:"sdk-install-modal-web"}}))},Sp=(r,s,sf)=>{if(r&&r[s])try{return r[s](sf)}catch(Nf){ff(Nf)}},_p=r=>{var s;return r.classList.add((s=rf)!=null?s:"hydrated")},Cp=(r,s,sf,Nf)=>{const ip=df(r);if(!ip)throw new Error(`Couldn't find host element for "${Nf.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/ionic-team/stencil/issues/5457).`);const em=ip.$hostElement$,tm=ip.$instanceValues$.get(s),nm=ip.$flags$,rm=ip.$lazyInstance$;var om,im;om=sf,im=Nf.$members$[s][0],sf=om==null||Rf(om)?om:4&im?om!=="false"&&(om===""||!!om):1&im?String(om):om;const am=Number.isNaN(tm)&&Number.isNaN(sf);if((!(8&nm)||tm===void 0)&&sf!==tm&&!am&&(ip.$instanceValues$.set(s,sf),rm)){if(Nf.$watchers$&&128&nm){const sm=Nf.$watchers$[s];sm&&sm.map(cm=>{try{rm[cm](sf,tm,s)}catch(hm){ff(hm,em)}})}(18&nm)==2&&pp(ip,!1)}},kp=(r,s,sf)=>{var Nf,ip;const em=r.prototype;if(s.$members$||s.$watchers$||r.watchers){r.watchers&&!s.$watchers$&&(s.$watchers$=r.watchers);const tm=Object.entries((Nf=s.$members$)!=null?Nf:{});if(tm.map(([nm,[rm]])=>{(31&rm||2&sf&&32&rm)&&Object.defineProperty(em,nm,{get(){return om=nm,df(this).$instanceValues$.get(om);var om},set(om){Cp(this,nm,om,s)},configurable:!0,enumerable:!0})}),1&sf){const nm=new Map;em.attributeChangedCallback=function(rm,om,im){bf.jmp(()=>{var am;const sm=nm.get(rm);if(this.hasOwnProperty(sm))im=this[sm],delete this[sm];else{if(em.hasOwnProperty(sm)&&typeof this[sm]=="number"&&this[sm]==im)return;if(sm==null){const cm=df(this),hm=cm?.$flags$;if(hm&&!(8&hm)&&128&hm&&im!==om){const fm=cm.$lazyInstance$,pm=(am=s.$watchers$)==null?void 0:am[rm];pm?.forEach(mm=>{fm[mm]!=null&&fm[mm].call(fm,im,om,rm)})}return}}this[sm]=(im!==null||typeof this[sm]!="boolean")&&im})},r.observedAttributes=Array.from(new Set([...Object.keys((ip=s.$watchers$)!=null?ip:{}),...tm.filter(([rm,om])=>15&om[0]).map(([rm,om])=>{const im=om[1]||rm;return nm.set(im,rm),im})]))}}return r},xp=async(r,s,sf,Nf)=>{let ip;if((32&s.$flags$)==0){if(s.$flags$|=32,sf.$lazyBundleId$){const nm=((rm,om,im)=>{const am=rm.$tagName$.replace(/-/g,"_"),sm=rm.$lazyBundleId$;if(!sm)return;const cm=pf.get(sm);if(cm)return cm[am];{const hm=fm=>(pf.set(sm,fm),fm[am]);if(sm==="mm-install-modal_3")return Promise.resolve().then(function(){return gg}).then(hm,ff)}return import(`./${sm}.entry.js`).then(async m=>{await m.__tla;return m}).then(hm=>(pf.set(sm,hm),hm[am]),ff)})(sf);if(nm&&"then"in nm?ip=await nm:ip=nm,!ip)throw new Error(`Constructor for "${sf.$tagName$}#${s.$modeName$}" was not found`);ip.isProxied||(sf.$watchers$=ip.watchers,kp(ip,sf,2),ip.isProxied=!0),sf.$tagName$,s.$flags$|=8;try{new ip(s)}catch(rm){ff(rm)}s.$flags$&=-9,s.$flags$|=128,Mp(s.$lazyInstance$)}else{ip=r.constructor;const nm=r.localName;customElements.whenDefined(nm).then(()=>s.$flags$|=128)}if(ip&&ip.style){let nm;typeof ip.style=="string"&&(nm=ip.style);const rm=Zf(sf);gf.has(rm)||(sf.$tagName$,((om,im,am)=>{let sm=gf.get(om);wf&&am?(sm=sm||new CSSStyleSheet,typeof sm=="string"?sm=im:sm.replaceSync(im)):sm=im,gf.set(om,sm)})(rm,nm,!!(1&sf.$flags$)))}}const em=s.$ancestorComponent$,tm=()=>pp(s,!0);em&&em["s-rc"]?em["s-rc"].push(tm):tm()},Mp=r=>{Sp(r,"connectedCallback")},Ap=r=>{Sp(r,"disconnectedCallback")},Ip=(r,s={})=>{var sf;const Nf=[],ip=s.exclude||[],em=yf.customElements,tm=vf.head,nm=tm.querySelector("meta[charset]"),rm=vf.createElement("style"),om=[];let im,am=!0;Object.assign(bf,s),bf.$resourcesUrl$=new URL(s.resourcesUrl||"./",vf.baseURI).href;let sm=!1;if(r.map(cm=>{cm[1].map(hm=>{var fm;const pm={$flags$:hm[0],$tagName$:hm[1],$members$:hm[2],$listeners$:hm[3]};4&pm.$flags$&&(sm=!0),pm.$members$=hm[2],pm.$watchers$=(fm=hm[4])!=null?fm:{};const mm=pm.$tagName$,_m=class extends HTMLElement{constructor(ym){if(super(ym),this.hasRegisteredEventListeners=!1,((Sm,jm)=>{const Pm={$flags$:0,$hostElement$:Sm,$cmpMeta$:jm,$instanceValues$:new Map};Pm.$onReadyPromise$=new Promise(Bm=>Pm.$onReadyResolve$=Bm),Sm["s-p"]=[],Sm["s-rc"]=[],lf.set(Sm,Pm)})(ym=this,pm),1&pm.$flags$)if(ym.shadowRoot){if(ym.shadowRoot.mode!=="open")throw new Error(`Unable to re-use existing shadow root for ${pm.$tagName$}! Mode is set to ${ym.shadowRoot.mode} but Stencil only supports open shadow roots.`)}else ym.attachShadow({mode:"open"})}connectedCallback(){df(this),this.hasRegisteredEventListeners||(this.hasRegisteredEventListeners=!0),im&&(clearTimeout(im),im=null),am?om.push(this):bf.jmp(()=>(ym=>{if((1&bf.$flags$)==0){const Sm=df(ym),jm=Sm.$cmpMeta$;if(jm.$tagName$,1&Sm.$flags$)Sm?.$lazyInstance$?Mp(Sm.$lazyInstance$):Sm?.$onReadyPromise$&&Sm.$onReadyPromise$.then(()=>Mp(Sm.$lazyInstance$));else{Sm.$flags$|=1;{let Pm=ym;for(;Pm=Pm.parentNode||Pm.host;)if(Pm["s-p"]){fp(Sm,Sm.$ancestorComponent$=Pm);break}}jm.$members$&&Object.entries(jm.$members$).map(([Pm,[Bm]])=>{if(31&Bm&&ym.hasOwnProperty(Pm)){const qm=ym[Pm];delete ym[Pm],ym[Pm]=qm}}),xp(ym,Sm,jm)}}})(this))}disconnectedCallback(){bf.jmp(()=>(async ym=>{if((1&bf.$flags$)==0){const Sm=df(ym);Sm?.$lazyInstance$?Ap(Sm.$lazyInstance$):Sm?.$onReadyPromise$&&Sm.$onReadyPromise$.then(()=>Ap(Sm.$lazyInstance$))}})(this))}componentOnReady(){return df(this).$onReadyPromise$}};pm.$lazyBundleId$=cm[0],ip.includes(mm)||em.get(mm)||(Nf.push(mm),em.define(mm,kp(_m,pm,1)))})}),Nf.length>0&&(sm&&(rm.textContent+=mf),rm.textContent+=Nf.sort()+"{visibility:hidden}.hydrated{visibility:inherit}",rm.innerHTML.length)){rm.setAttribute("data-styles","");const cm=(sf=bf.$nonce$)!=null?sf:Pf(vf);cm!=null&&rm.setAttribute("nonce",cm),tm.insertBefore(rm,nm?nm.nextSibling:tm.firstChild)}am=!1,om.length?om.map(cm=>cm.connectedCallback()):bf.jmp(()=>im=setTimeout(Ep,30))};(function(){if(typeof window<"u"&&window.Reflect!==void 0&&window.customElements!==void 0){var r=HTMLElement;window.HTMLElement=function(){return Reflect.construct(r,[],this.constructor)},HTMLElement.prototype=r.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,r)}})();var Rp=Object.freeze({__proto__:null,defineCustomElements:async(r,s)=>{if(typeof window<"u")return await void 0,Ip([["mm-install-modal_3",[[1,"mm-install-modal",{link:[1],sdkVersion:[1,"sdk-version"],preferDesktop:[4,"prefer-desktop"],tab:[32],isDefaultTab:[32],translationsLoaded:[32]},null,{preferDesktop:["updatePreferDesktop"]}],[1,"mm-pending-modal",{displayOTP:[4,"display-o-t-p"],sdkVersion:[1,"sdk-version"],otpCode:[1,"otp-code"],translationsLoaded:[32]}],[1,"mm-select-modal",{link:[1],sdkVersion:[1,"sdk-version"],preferDesktop:[4,"prefer-desktop"],tab:[32],isDefaultTab:[32],translationsLoaded:[32]},null,{preferDesktop:["updatePreferDesktop"]}]]]],s)},setNonce:r=>bf.$nonce$=r});const Pp={fontFamily:"Roboto, sans-serif"},Tp=({className:r},s)=>Kf("div",{style:Pp,class:r},s),Op=({Icon:r,text:s})=>Kf("div",{class:"flexContainer",style:{padding:"6",flexDirection:"row"}},Kf("div",{class:"flexItem1"},Kf(r,null)),Kf("div",{class:"flexItem11"},Kf("span",{style:{lineHeight:"2",color:"black"}},s))),Lp=()=>Kf("svg",{width:"20",height:"18",viewBox:"0 0 20 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Kf("path",{d:"M20.0002 7.9702V10.0302C20.0002 10.5802 19.5602 11.0302 19.0002 11.0502H17.0402C15.9602 11.0502 14.9702 10.2602 14.8802 9.1802C14.8202 8.5502 15.0602 7.9602 15.4802 7.5502C15.8502 7.1702 16.3602 6.9502 16.9202 6.9502H19.0002C19.5602 6.9702 20.0002 7.4202 20.0002 7.9702Z",fill:"#037DD6"}),Kf("path",{d:"M18.47 12.55H17.04C15.14 12.55 13.54 11.12 13.38 9.3C13.29 8.26 13.67 7.22 14.43 6.48C15.07 5.82 15.96 5.45 16.92 5.45H18.47C18.76 5.45 19 5.21 18.97 4.92C18.75 2.49 17.14 0.83 14.75 0.55C14.51 0.51 14.26 0.5 14 0.5H5C4.72 0.5 4.45 0.52 4.19 0.56C1.64 0.88 0 2.78 0 5.5V12.5C0 15.26 2.24 17.5 5 17.5H14C16.8 17.5 18.73 15.75 18.97 13.08C19 12.79 18.76 12.55 18.47 12.55ZM11 6.75H5C4.59 6.75 4.25 6.41 4.25 6C4.25 5.59 4.59 5.25 5 5.25H11C11.41 5.25 11.75 5.59 11.75 6C11.75 6.41 11.41 6.75 11 6.75Z",fill:"#037DD6"})),Np=()=>Kf("svg",{width:"20",height:"18",viewBox:"0 0 20 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Kf("path",{d:"M14.44 0.0999756C12.63 0.0999756 11.01 0.979976 10 2.32998C8.99 0.979976 7.37 0.0999756 5.56 0.0999756C2.49 0.0999756 0 2.59998 0 5.68998C0 6.87998 0.19 7.97998 0.52 8.99998C2.1 14 6.97 16.99 9.38 17.81C9.72 17.93 10.28 17.93 10.62 17.81C13.03 16.99 17.9 14 19.48 8.99998C19.81 7.97998 20 6.87998 20 5.68998C20 2.59998 17.51 0.0999756 14.44 0.0999756Z",fill:"#037DD6"})),$p=()=>Kf("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Kf("path",{d:"M16.28 7.53V6.28C16.28 3.58 15.63 0 10 0C4.37 0 3.72 3.58 3.72 6.28V7.53C0.92 7.88 0 9.3 0 12.79V14.65C0 18.75 1.25 20 5.35 20H14.65C18.75 20 20 18.75 20 14.65V12.79C20 9.3 19.08 7.88 16.28 7.53ZM10 16.74C8.33 16.74 6.98 15.38 6.98 13.72C6.98 12.05 8.34 10.7 10 10.7C11.66 10.7 13.02 12.06 13.02 13.72C13.02 15.39 11.67 16.74 10 16.74ZM5.35 7.44C5.27 7.44 5.2 7.44 5.12 7.44V6.28C5.12 3.35 5.95 1.4 10 1.4C14.05 1.4 14.88 3.35 14.88 6.28V7.45C14.8 7.45 14.73 7.45 14.65 7.45H5.35V7.44Z",fill:"#037DD6"})),Dp=()=>Kf("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Kf("path",{d:"M16.4405 8.8999C20.0405 9.2099 21.5105 11.0599 21.5105 15.1099V15.2399C21.5105 19.7099 19.7205 21.4999 15.2505 21.4999H8.74047C4.27047 21.4999 2.48047 19.7099 2.48047 15.2399V15.1099C2.48047 11.0899 3.93047 9.2399 7.47047 8.9099",stroke:"white","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),Kf("path",{d:"M12 2V14.88",stroke:"white","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),Kf("path",{d:"M15.3504 12.6499L12.0004 15.9999L8.65039 12.6499",stroke:"white","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}));function Bp({version:r}){return Kf("div",{style:{textAlign:"center",color:"#BBC0C5",fontSize:"12"}},"SDK Version ",r?`v${r}`:"unknown")}const Kp=()=>Kf("svg",{width:"14",height:"14",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Kf("rect",{width:"16",height:"16",fill:"white"}),Kf("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.40554 2.40554C2.94627 1.86482 3.82296 1.86482 4.36369 2.40554L8 6.04186L11.6363 2.40554C12.177 1.86482 13.0537 1.86482 13.5945 2.40554C14.1352 2.94627 14.1352 3.82296 13.5945 4.36369L9.95814 8L13.5945 11.6363C14.1352 12.177 14.1352 13.0537 13.5945 13.5945C13.0537 14.1352 12.177 14.1352 11.6363 13.5945L8 9.95814L4.36369 13.5945C3.82296 14.1352 2.94627 14.1352 2.40554 13.5945C1.86482 13.0537 1.86482 12.177 2.40554 11.6363L6.04186 8L2.40554 4.36369C1.86482 3.82296 1.86482 2.94627 2.40554 2.40554Z",fill:"#BBC0C5"})),jp=()=>Kf("svg",{width:"120",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 127 63"},Kf("path",{fill:"currentColor",d:"M71.554 48.607v13.81h-7.072v-9.568l-8.059.945c-1.77.205-2.548.79-2.548 1.864 0 1.575 1.478 2.239 4.648 2.239 1.932 0 4.073-.29 5.963-.79l-3.66 5.225c-1.479.332-2.92.496-4.44.496-6.414 0-10.074-2.57-10.074-7.132 0-4.023 2.877-6.136 9.416-6.884l8.638-1.012c-.467-2.532-2.362-3.633-6.13-3.633-3.537 0-7.443.912-10.937 2.613l1.111-6.18c3.248-1.369 6.95-2.074 10.69-2.074 8.226 0 12.461 3.444 12.461 10.075l-.008.005ZM7.938 31.315.208 62.416h7.73l3.836-15.628 6.65 8.039h8.06l6.65-8.039 3.836 15.628h7.73l-7.73-31.105-14.518 17.388L7.934 31.311l.004.004ZM36.97.21 22.452 17.598 7.938.21.208 31.315h7.73l3.836-15.628 6.65 8.039h8.06l6.65-8.039 3.836 15.628h7.73L36.97.21Zm53.17 48.107-6.25-.912c-1.562-.247-2.178-.747-2.178-1.617 0-1.41 1.52-2.032 4.647-2.032 3.62 0 6.868.747 10.283 2.364l-.862-6.094c-2.757-.995-5.922-1.491-9.212-1.491-7.688 0-11.886 2.696-11.886 7.547 0 3.776 2.303 5.889 7.196 6.636l6.335.954c1.603.248 2.261.87 2.261 1.865 0 1.41-1.478 2.074-4.481 2.074-3.948 0-8.225-.953-11.72-2.654l.7 6.094c3.003 1.122 6.91 1.785 10.57 1.785 7.896 0 12.007-2.78 12.007-7.715 0-3.94-2.303-6.057-7.4-6.8l-.01-.004ZM100.3 34.09v28.325h7.071V34.091H100.3Zm15.334 15.595 9.833-10.744h-8.8l-9.296 11.114 9.912 12.356h8.925l-10.574-12.73v.004Zm-16.321-25.09c0 4.56 3.66 7.13 10.074 7.13 1.52 0 2.961-.167 4.44-.495l3.66-5.225c-1.89.496-4.031.79-5.963.79-3.166 0-4.648-.664-4.648-2.239 0-1.079.783-1.659 2.549-1.864l8.058-.945v9.567h7.072v-13.81c0-6.635-4.236-10.075-12.461-10.075-3.744 0-7.442.705-10.691 2.075l-1.112 6.178c3.495-1.701 7.401-2.613 10.937-2.613 3.769 0 5.664 1.1 6.13 3.633l-8.637 1.013c-6.539.747-9.417 2.86-9.417 6.883l.009-.004Zm-19.779-1.492c0 5.725 3.29 8.627 9.787 8.627 2.59 0 4.732-.416 6.785-1.37l.903-6.261c-1.974 1.2-3.99 1.822-6.005 1.822-3.044 0-4.402-1.243-4.402-4.023v-8.295h10.732V7.84H86.601V2.948l-13.448 7.174v3.482h6.372V23.1l.008.004Zm-6.95-2.612v1.411H53.47c.862 2.873 3.423 4.187 7.97 4.187 3.62 0 6.993-.747 9.992-2.196l-.862 6.056c-2.757 1.16-6.251 1.785-9.829 1.785-9.5 0-14.68-4.23-14.68-12.066 0-7.838 5.264-12.235 13.406-12.235s13.119 4.771 13.119 13.062l-.005-.004ZM53.378 17.09h12.086c-.637-2.751-2.732-4.188-6.08-4.188-3.349 0-5.335 1.399-6.006 4.188Z"}));function Up(r,s){return r.toString(2).padStart(s,"0")}function Hp(r,s){const sf=r%s;return sf>=0?sf:s+sf}function Fp$1(r,s){return new Array(r).fill(s)}function zp(...r){let s=0;for(const Nf of r)s=Math.max(s,Nf.length);const sf=[];for(let Nf=0;Nf<s;Nf++)for(const ip of r)Nf>=ip.length||sf.push(ip[Nf]);return new Uint8Array(sf)}function qp(r,s,sf){if(sf<0||sf+s.length>r.length)return!1;for(let Nf=0;Nf<s.length;Nf++)if(s[Nf]!==r[sf+Nf])return!1;return!0}function Wp(r){return{has:s=>r.includes(s),decode:s=>{if(!Array.isArray(s)||s.length&&typeof s[0]!="string")throw new Error("alphabet.decode input should be array of strings");return s.map(sf=>{if(typeof sf!="string")throw new Error(`alphabet.decode: not string element=${sf}`);const Nf=r.indexOf(sf);if(Nf===-1)throw new Error(`Unknown letter: "${sf}". Allowed: ${r}`);return Nf})},encode:s=>{if(!Array.isArray(s)||s.length&&typeof s[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return s.map(sf=>{if(function(Nf){if(!Number.isSafeInteger(Nf))throw new Error(`Wrong integer: ${Nf}`)}(sf),sf<0||sf>=r.length)throw new Error(`Digit index outside alphabet: ${sf} (alphabet: ${r.length})`);return r[sf]})}}}class Vp{static size(s,sf){if(typeof s=="number"&&(s={height:s,width:s}),!Number.isSafeInteger(s.height)&&s.height!==1/0)throw new Error(`Bitmap: wrong height=${s.height} (${typeof s.height})`);if(!Number.isSafeInteger(s.width)&&s.width!==1/0)throw new Error(`Bitmap: wrong width=${s.width} (${typeof s.width})`);return sf!==void 0&&(s={width:Math.min(s.width,sf.width),height:Math.min(s.height,sf.height)}),s}static fromString(s){const sf=(s=s.replace(/^\n+/g,"").replace(/\n+$/g,"")).split(`
`),Nf=sf.length,ip=new Array(Nf);let em;for(const tm of sf){const nm=tm.split("").map(rm=>{if(rm==="X")return!0;if(rm===" ")return!1;if(rm!=="?")throw new Error(`Bitmap.fromString: unknown symbol=${rm}`)});if(em&&nm.length!==em)throw new Error(`Bitmap.fromString different row sizes: width=${em} cur=${nm.length}`);em=nm.length,ip.push(nm)}return em||(em=0),new Vp({height:Nf,width:em},ip)}constructor(s,sf){const{height:Nf,width:ip}=Vp.size(s);this.data=sf||Array.from({length:Nf},()=>Fp$1(ip,void 0)),this.height=Nf,this.width=ip}point(s){return this.data[s.y][s.x]}isInside(s){return 0<=s.x&&s.x<this.width&&0<=s.y&&s.y<this.height}size(s){if(!s)return{height:this.height,width:this.width};const{x:sf,y:Nf}=this.xy(s);return{height:this.height-Nf,width:this.width-sf}}xy(s){if(typeof s=="number"&&(s={x:s,y:s}),!Number.isSafeInteger(s.x))throw new Error(`Bitmap: wrong x=${s.x}`);if(!Number.isSafeInteger(s.y))throw new Error(`Bitmap: wrong y=${s.y}`);return s.x=Hp(s.x,this.width),s.y=Hp(s.y,this.height),s}rect(s,sf,Nf){const{x:ip,y:em}=this.xy(s),{height:tm,width:nm}=Vp.size(sf,this.size({x:ip,y:em}));for(let rm=0;rm<tm;rm++)for(let om=0;om<nm;om++)this.data[em+rm][ip+om]=typeof Nf=="function"?Nf({x:om,y:rm},this.data[em+rm][ip+om]):Nf;return this}rectRead(s,sf,Nf){return this.rect(s,sf,(ip,em)=>(Nf(ip,em),em))}hLine(s,sf,Nf){return this.rect(s,{width:sf,height:1},Nf)}vLine(s,sf,Nf){return this.rect(s,{width:1,height:sf},Nf)}border(s=2,sf){const Nf=this.height+2*s,ip=this.width+2*s,em=Fp$1(s,sf),tm=Array.from({length:s},()=>Fp$1(ip,sf));return new Vp({height:Nf,width:ip},[...tm,...this.data.map(nm=>[...em,...nm,...em]),...tm])}embed(s,sf){return this.rect(s,sf.size(),({x:Nf,y:ip})=>sf.data[ip][Nf])}rectSlice(s,sf=this.size()){const Nf=new Vp(Vp.size(sf,this.size(this.xy(s))));return this.rect(s,sf,({x:ip,y:em},tm)=>Nf.data[em][ip]=tm),Nf}inverse(){const{height:s,width:sf}=this;return new Vp({height:sf,width:s}).rect({x:0,y:0},1/0,({x:Nf,y:ip})=>this.data[Nf][ip])}scale(s){if(!Number.isSafeInteger(s)||s>1024)throw new Error(`Wrong scale factor: ${s}`);const{height:sf,width:Nf}=this;return new Vp({height:s*sf,width:s*Nf}).rect({x:0,y:0},1/0,({x:ip,y:em})=>this.data[Math.floor(em/s)][Math.floor(ip/s)])}clone(){return new Vp(this.size()).rect({x:0,y:0},this.size(),({x:s,y:sf})=>this.data[sf][s])}assertDrawn(){this.rectRead(0,1/0,(s,sf)=>{if(typeof sf!="boolean")throw new Error("Invalid color type="+typeof sf)})}toString(){return this.data.map(s=>s.map(sf=>sf===void 0?"?":sf?"X":" ").join("")).join(`
`)}toASCII(){const{height:s,width:sf,data:Nf}=this;let ip="";for(let em=0;em<s;em+=2){for(let tm=0;tm<sf;tm++){const nm=Nf[em][tm],rm=em+1>=s||Nf[em+1][tm];nm||rm?!nm&&rm?ip+="":nm&&!rm?ip+="":nm&&rm&&(ip+=" "):ip+=""}ip+=`
`}return ip}toTerm(){const s="\x1b[0m",sf=`\x1b[1;47m  ${s}`,Nf=`\x1b[40m  ${s}`;return this.data.map(ip=>ip.map(em=>em?Nf:sf).join("")).join(`
`)}toSVG(){let s=`<svg xmlns:svg="http://www.w3.org/2000/svg" viewBox="0 0 ${this.width} ${this.height}" version="1.1" xmlns="http://www.w3.org/2000/svg">`;return this.rectRead(0,1/0,({x:sf,y:Nf},ip)=>{ip&&(s+=`<rect x="${sf}" y="${Nf}" width="1" height="1" />`)}),s+="</svg>",s}toGIF(){const s=nm=>[255&nm,nm>>>8&255],sf=[...s(this.width),...s(this.height)],Nf=[];this.rectRead(0,1/0,(nm,rm)=>Nf.push(+(rm===!0)));const ip=126,em=[71,73,70,56,55,97,...sf,246,0,0,255,255,255,...Fp$1(381,0),44,0,0,0,0,...sf,0,7],tm=Math.floor(Nf.length/ip);for(let nm=0;nm<tm;nm++)em.push(127,128,...Nf.slice(ip*nm,ip*(nm+1)).map(rm=>+rm));return em.push(Nf.length%ip+1,128,...Nf.slice(tm*ip).map(nm=>+nm)),em.push(1,129,0,59),new Uint8Array(em)}toImage(s=!1){const{height:sf,width:Nf}=this.size(),ip=new Uint8Array(sf*Nf*(s?3:4));let em=0;for(let tm=0;tm<sf;tm++)for(let nm=0;nm<Nf;nm++){const rm=this.data[tm][nm]?0:255;ip[em++]=rm,ip[em++]=rm,ip[em++]=rm,s||(ip[em++]=255)}return{height:sf,width:Nf,data:ip}}}const Gp=["low","medium","quartile","high"],Yp=["numeric","alphanumeric","byte","kanji","eci"],Zp=[26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706],Jp={low:[7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],medium:[10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],quartile:[13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],high:[17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]},Xp={low:[1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],medium:[1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],quartile:[1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],high:[1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]},Qp={size:{encode:r=>21+4*(r-1),decode:r=>(r-17)/4},sizeType:r=>Math.floor((r+7)/17),alignmentPatterns(r){if(r===1)return[];const s=Qp.size.encode(r)-6-1,sf=s-6,Nf=Math.ceil(sf/28);let ip=Math.floor(sf/Nf);ip%2?ip+=1:sf%Nf*2>=Nf&&(ip+=2);const em=[6];for(let tm=1;tm<Nf;tm++)em.push(s-(Nf-tm)*ip);return em.push(s),em},ECCode:{low:1,medium:0,quartile:3,high:2},formatMask:21522,formatBits(r,s){const sf=Qp.ECCode[r]<<3|s;let Nf=sf;for(let ip=0;ip<10;ip++)Nf=Nf<<1^1335*(Nf>>9);return(sf<<10|Nf)^Qp.formatMask},versionBits(r){let s=r;for(let sf=0;sf<12;sf++)s=s<<1^7973*(s>>11);return r<<12|s},alphabet:{numeric:Wp("0123456789"),alphanumerc:Wp("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:")},lengthBits:(r,s)=>({numeric:[10,12,14],alphanumeric:[9,11,13],byte:[8,16,16],kanji:[8,10,12],eci:[0,0,0]})[s][Qp.sizeType(r)],modeBits:{numeric:"0001",alphanumeric:"0010",byte:"0100",kanji:"1000",eci:"0111"},capacity(r,s){const sf=Zp[r-1],Nf=Jp[s][r-1],ip=Xp[s][r-1],em=Math.floor(sf/ip)-Nf,tm=ip-sf%ip;return{words:Nf,numBlocks:ip,shortBlocks:tm,blockLen:em,capacity:8*(sf-Nf*ip),total:(Nf+em)*ip+ip-tm}}},eg=[(r,s)=>(r+s)%2==0,(r,s)=>s%2==0,(r,s)=>r%3==0,(r,s)=>(r+s)%3==0,(r,s)=>(Math.floor(s/2)+Math.floor(r/3))%2==0,(r,s)=>r*s%2+r*s%3==0,(r,s)=>(r*s%2+r*s%3)%2==0,(r,s)=>((r+s)%2+r*s%3)%2==0],tg={tables:(r=>{const s=Fp$1(256,0),sf=Fp$1(256,0);for(let Nf=0,ip=1;Nf<256;Nf++)s[Nf]=ip,sf[ip]=Nf,ip<<=1,256&ip&&(ip^=285);return{exp:s,log:sf}})(),exp:r=>tg.tables.exp[r],log(r){if(r===0)throw new Error(`GF.log: wrong arg=${r}`);return tg.tables.log[r]%255},mul:(r,s)=>r===0||s===0?0:tg.tables.exp[(tg.tables.log[r]+tg.tables.log[s])%255],add:(r,s)=>r^s,pow:(r,s)=>tg.tables.exp[tg.tables.log[r]*s%255],inv(r){if(r===0)throw new Error(`GF.inverse: wrong arg=${r}`);return tg.tables.exp[255-tg.tables.log[r]]},polynomial(r){if(r.length==0)throw new Error("GF.polymomial: wrong length");if(r[0]!==0)return r;let s=0;for(;s<r.length-1&&r[s]==0;s++);return r.slice(s)},monomial(r,s){if(r<0)throw new Error(`GF.monomial: wrong degree=${r}`);if(s==0)return[0];let sf=Fp$1(r+1,0);return sf[0]=s,tg.polynomial(sf)},degree:r=>r.length-1,coefficient:(r,s)=>r[tg.degree(r)-s],mulPoly(r,s){if(r[0]===0||s[0]===0)return[0];const sf=Fp$1(r.length+s.length-1,0);for(let Nf=0;Nf<r.length;Nf++)for(let ip=0;ip<s.length;ip++)sf[Nf+ip]=tg.add(sf[Nf+ip],tg.mul(r[Nf],s[ip]));return tg.polynomial(sf)},mulPolyScalar(r,s){if(s==0)return[0];if(s==1)return r;const sf=Fp$1(r.length,0);for(let Nf=0;Nf<r.length;Nf++)sf[Nf]=tg.mul(r[Nf],s);return tg.polynomial(sf)},mulPolyMonomial(r,s,sf){if(s<0)throw new Error("GF.mulPolyMonomial: wrong degree");if(sf==0)return[0];const Nf=Fp$1(r.length+s,0);for(let ip=0;ip<r.length;ip++)Nf[ip]=tg.mul(r[ip],sf);return tg.polynomial(Nf)},addPoly(r,s){if(r[0]===0)return s;if(s[0]===0)return r;let sf=r,Nf=s;sf.length>Nf.length&&([sf,Nf]=[Nf,sf]);let ip=Fp$1(Nf.length,0),em=Nf.length-sf.length,tm=Nf.slice(0,em);for(let nm=0;nm<tm.length;nm++)ip[nm]=tm[nm];for(let nm=em;nm<Nf.length;nm++)ip[nm]=tg.add(sf[nm-em],Nf[nm]);return tg.polynomial(ip)},remainderPoly(r,s){const sf=Array.from(r);for(let Nf=0;Nf<r.length-s.length+1;Nf++){const ip=sf[Nf];if(ip!==0)for(let em=1;em<s.length;em++)s[em]!==0&&(sf[Nf+em]=tg.add(sf[Nf+em],tg.mul(s[em],ip)))}return sf.slice(r.length-s.length+1,sf.length)},divisorPoly(r){let s=[1];for(let sf=0;sf<r;sf++)s=tg.mulPoly(s,[1,tg.pow(2,sf)]);return s},evalPoly(r,s){if(s==0)return tg.coefficient(r,0);let sf=r[0];for(let Nf=1;Nf<r.length;Nf++)sf=tg.add(tg.mul(s,sf),r[Nf]);return sf},euclidian(r,s,sf){tg.degree(r)<tg.degree(s)&&([r,s]=[s,r]);let Nf=r,ip=s,em=[0],tm=[1];for(;2*tg.degree(ip)>=sf;){let om=Nf,im=em;if(Nf=ip,em=tm,Nf[0]===0)throw new Error("rLast[0] === 0");ip=om;let am=[0];const sm=tg.inv(Nf[0]);for(;tg.degree(ip)>=tg.degree(Nf)&&ip[0]!==0;){const cm=tg.degree(ip)-tg.degree(Nf),hm=tg.mul(ip[0],sm);am=tg.addPoly(am,tg.monomial(cm,hm)),ip=tg.addPoly(ip,tg.mulPolyMonomial(Nf,cm,hm))}if(am=tg.mulPoly(am,em),tm=tg.addPoly(am,im),tg.degree(ip)>=tg.degree(Nf))throw new Error(`Division failed r: ${ip}, rLast: ${Nf}`)}const nm=tg.coefficient(tm,0);if(nm==0)throw new Error("sigmaTilde(0) was zero");const rm=tg.inv(nm);return[tg.mulPolyScalar(tm,rm),tg.mulPolyScalar(ip,rm)]}};function ng(r,s){const{words:sf,shortBlocks:Nf,numBlocks:ip,blockLen:em,total:tm}=Qp.capacity(r,s),nm=(rm=sf,{encode(om){const im=tg.divisorPoly(rm),am=Array.from(om);return am.push(...im.slice(0,-1).fill(0)),Uint8Array.from(tg.remainderPoly(am,im))},decode(om){const im=om.slice(),am=tg.polynomial(Array.from(om));let sm=Fp$1(rm,0),cm=!1;for(let ym=0;ym<rm;ym++){const Sm=tg.evalPoly(am,tg.exp(ym));sm[sm.length-1-ym]=Sm,Sm!==0&&(cm=!0)}if(!cm)return im;sm=tg.polynomial(sm);const hm=tg.monomial(rm,1),[fm,pm]=tg.euclidian(hm,sm,rm),mm=Fp$1(tg.degree(fm),0);let _m=0;for(let ym=1;ym<256&&_m<mm.length;ym++)tg.evalPoly(fm,ym)===0&&(mm[_m++]=tg.inv(ym));if(_m!==mm.length)throw new Error("RS.decode: wrong errors number");for(let ym=0;ym<mm.length;ym++){const Sm=im.length-1-tg.log(mm[ym]);if(Sm<0)throw new Error("RS.decode: wrong error location");const jm=tg.inv(mm[ym]);let Pm=1;for(let Bm=0;Bm<mm.length;Bm++)ym!==Bm&&(Pm=tg.mul(Pm,tg.add(1,tg.mul(mm[Bm],jm))));im[Sm]=tg.add(im[Sm],tg.mul(tg.evalPoly(pm,jm),tg.inv(Pm)))}return im}});var rm;return{encode(om){const im=[],am=[];for(let fm=0;fm<ip;fm++){const pm=em+(fm<Nf?0:1);im.push(om.subarray(0,pm)),am.push(nm.encode(om.subarray(0,pm))),om=om.subarray(pm)}const sm=zp(...im),cm=zp(...am),hm=new Uint8Array(sm.length+cm.length);return hm.set(sm),hm.set(cm,sm.length),hm},decode(om){if(om.length!==tm)throw new Error(`interleave.decode: len(data)=${om.length}, total=${tm}`);const im=[];for(let cm=0;cm<ip;cm++){const hm=cm<Nf;im.push(new Uint8Array(sf+em+(hm?0:1)))}let am=0;for(let cm=0;cm<em;cm++)for(let hm=0;hm<ip;hm++)im[hm][cm]=om[am++];for(let cm=Nf;cm<ip;cm++)im[cm][em]=om[am++];for(let cm=em;cm<em+sf;cm++)for(let hm=0;hm<ip;hm++){const fm=hm<Nf;im[hm][cm+(fm?0:1)]=om[am++]}const sm=[];for(const cm of im)sm.push(...Array.from(nm.decode(cm)).slice(0,-sf));return Uint8Array.from(sm)}}}function rg(r,s,sf,Nf){let ip="",em=sf.length;if(Nf==="numeric"){const am=Qp.alphabet.numeric.decode(sf.split("")),sm=am.length;for(let cm=0;cm<sm-2;cm+=3)ip+=Up(100*am[cm]+10*am[cm+1]+am[cm+2],10);sm%3==1?ip+=Up(am[sm-1],4):sm%3==2&&(ip+=Up(10*am[sm-2]+am[sm-1],7))}else if(Nf==="alphanumeric"){const am=Qp.alphabet.alphanumerc.decode(sf.split("")),sm=am.length;for(let cm=0;cm<sm-1;cm+=2)ip+=Up(45*am[cm]+am[cm+1],11);sm%2==1&&(ip+=Up(am[sm-1],6))}else{if(Nf!=="byte")throw new Error("encode: unsupported type");{const am=function(sm){if(typeof sm!="string")throw new Error("utf8ToBytes expected string, got "+typeof sm);return new Uint8Array(new TextEncoder().encode(sm))}(sf);em=am.length,ip=Array.from(am).map(sm=>Up(sm,8)).join("")}}const{capacity:tm}=Qp.capacity(r,s),nm=Up(em,Qp.lengthBits(r,Nf));let rm=Qp.modeBits[Nf]+nm+ip;if(rm.length>tm)throw new Error("Capacity overflow");rm+="0".repeat(Math.min(4,Math.max(0,tm-rm.length))),rm.length%8&&(rm+="0".repeat(8-rm.length%8));const om="1110110000010001";for(let am=0;rm.length!==tm;am++)rm+=om[am%16];const im=Uint8Array.from(rm.match(/(.{8})/g).map(am=>+`0b${am}`));return ng(r,s).encode(im)}function ig(r,s,sf,Nf,ip=!1){const em=function(rm,om,im,am=!1){const sm=Qp.size.encode(rm);let cm=new Vp(sm+2);const hm=new Vp(3).rect(0,3,!0).border(1,!1).border(1,!0).border(1,!1);cm=cm.embed(0,hm).embed({x:-hm.width,y:0},hm).embed({x:0,y:-hm.height},hm),cm=cm.rectSlice(1,sm);const fm=new Vp(1).rect(0,1,!0).border(1,!1).border(1,!0),pm=Qp.alignmentPatterns(rm);for(const mm of pm)for(const _m of pm)cm.data[mm][_m]===void 0&&cm.embed({x:_m-2,y:mm-2},fm);cm=cm.hLine({x:0,y:6},1/0,({x:mm},_m)=>_m===void 0?mm%2==0:_m).vLine({x:6,y:0},1/0,({y:mm},_m)=>_m===void 0?mm%2==0:_m);{const mm=Qp.formatBits(om,im),_m=ym=>!am&&(mm>>ym&1)==1;for(let ym=0;ym<6;ym++)cm.data[ym][8]=_m(ym);for(let ym=6;ym<8;ym++)cm.data[ym+1][8]=_m(ym);for(let ym=8;ym<15;ym++)cm.data[sm-15+ym][8]=_m(ym);for(let ym=0;ym<8;ym++)cm.data[8][sm-ym-1]=_m(ym);for(let ym=8;ym<9;ym++)cm.data[8][15-ym-1+1]=_m(ym);for(let ym=9;ym<15;ym++)cm.data[8][15-ym-1]=_m(ym);cm.data[sm-8][8]=!am}if(rm>=7){const mm=Qp.versionBits(rm);for(let _m=0;_m<18;_m+=1){const ym=!am&&(mm>>_m&1)==1,Sm=Math.floor(_m/3),jm=_m%3+sm-8-3;cm.data[Sm][jm]=ym,cm.data[jm][Sm]=ym}}return cm}(r,s,Nf,ip);let tm=0;const nm=8*sf.length;if(function(rm,om,im){const am=rm.height,sm=eg[om];let cm=-1,hm=am-1;for(let fm=am-1;fm>0;fm-=2){for(fm==6&&(fm=5);;hm+=cm){for(let pm=0;pm<2;pm+=1){const mm=fm-pm;rm.data[hm][mm]===void 0&&im(mm,hm,sm(mm,hm))}if(hm+cm<0||hm+cm>=am)break}cm=-cm}}(em,Nf,(rm,om,im)=>{let am=!1;tm<nm&&(am=(sf[tm>>>3]>>(7-tm&7)&1)!=0,tm++),em.data[om][rm]=am!==im}),tm!==nm)throw new Error("QR: bytes left after draw");return em}function og(r){const s=r.inverse(),sf=cm=>{let hm=0;for(let fm,pm=0,mm=1;pm<cm.length;pm++)fm===cm[pm]&&(mm++,pm!==cm.length-1)||(mm>=5&&(hm+=mm-5+3),fm=cm[pm],mm=1);return hm};let Nf=0;r.data.forEach(cm=>Nf+=sf(cm)),s.data.forEach(cm=>Nf+=sf(cm));let ip=0,em=r.data;const tm=r.width-1,nm=r.height-1;for(let cm=0;cm<tm;cm++)for(let hm=0;hm<nm;hm++){const fm=cm+1,pm=hm+1;em[cm][hm]===em[fm][hm]&&em[fm][hm]===em[cm][pm]&&em[fm][hm]===em[fm][pm]&&(ip+=3)}const rm=cm=>{const hm=[!0,!1,!0,!0,!0,!1,!0],fm=[!1,!1,!1,!1],pm=[...hm,...fm],mm=[...fm,...hm];let _m=0;for(let ym=0;ym<cm.length;ym++)qp(cm,pm,ym)&&(_m+=40),qp(cm,mm,ym)&&(_m+=40);return _m};let om=0;for(const cm of r.data)om+=rm(cm);for(const cm of s.data)om+=rm(cm);let im=0;r.rectRead(0,1/0,(cm,hm)=>im+=hm?1:0);const am=im/(r.height*r.width)*100,sm=10*Math.floor(Math.abs(am-50)/5);return Nf+ip+om+sm}function sg(r,s="raw",sf={}){const Nf=sf.ecc!==void 0?sf.ecc:"medium";(function(im){if(!Gp.includes(im))throw new Error(`Invalid error correction mode=${im}. Expected: ${Gp}`)})(Nf);const ip=sf.encoding!==void 0?sf.encoding:function(im){let am="numeric";for(let sm of im)if(!Qp.alphabet.numeric.has(sm)&&(am="alphanumeric",!Qp.alphabet.alphanumerc.has(sm)))return"byte";return am}(r);(function(im){if(!Yp.includes(im))throw new Error(`Encoding: invalid mode=${im}. Expected: ${Yp}`);if(im==="kanji"||im==="eci")throw new Error(`Encoding: ${im} is not supported (yet?).`)})(ip),sf.mask!==void 0&&function(im){if(![0,1,2,3,4,5,6,7].includes(im)||!eg[im])throw new Error(`Invalid mask=${im}. Expected number [0..7]`)}(sf.mask);let em,tm=sf.version,nm=new Error("Unknown error");if(tm!==void 0)(function(im){if(!Number.isSafeInteger(im)||im<1||im>40)throw new Error(`Invalid version=${im}. Expected number [1..40]`)})(tm),em=rg(tm,Nf,r,ip);else for(let im=1;im<=40;im++)try{em=rg(im,Nf,r,ip),tm=im;break}catch(am){nm=am}if(!tm||!em)throw nm;let rm=function(im,am,sm,cm){if(cm===void 0){const hm=function(){let fm,pm=1/0;return{add(mm,_m){mm>=pm||(fm=_m,pm=mm)},get:()=>fm,score:()=>pm}}();for(let fm=0;fm<eg.length;fm++)hm.add(og(ig(im,am,sm,fm,!0)),fm);cm=hm.get()}if(cm===void 0)throw new Error("Cannot find mask");return ig(im,am,sm,cm)}(tm,Nf,em,sf.mask);rm.assertDrawn();const om=sf.border===void 0?2:sf.border;if(!Number.isSafeInteger(om))throw new Error("Wrong border type="+typeof om);if(rm=rm.border(om,!1),sf.scale!==void 0&&(rm=rm.scale(sf.scale)),s==="raw")return rm.data;if(s==="ascii")return rm.toASCII();if(s==="svg")return rm.toSVG();if(s==="gif")return rm.toGIF();if(s==="term")return rm.toTerm();throw new Error(`Unknown output: ${s}`)}const ag={DESKTOP:"Desktop",MOBILE:"Mobile",META_MASK_MOBILE_APP:"MetaMask mobile app",SCAN_TO_CONNECT:"Scan to connect and sign with",CONNECT_WITH_EXTENSION:"Connect With MetaMask Extension",INSTALL_MODAL:{TRUSTED_BY_USERS:"Trusted by over 30 million users to buy, store, send and swap crypto securely",LEADING_CRYPTO_WALLET:"The leading crypto wallet & gateway to blockchain apps built on Ethereum Mainnet, Polygon, Optimism, and many other networks",CONTROL_DIGITAL_INTERACTIONS:"Puts you in control of your digital interactions by making power of cryptography more accessible",INSTALL_META_MASK_EXTENSION:"Install MetaMask Extension"},PENDING_MODAL:{OPEN_META_MASK_SELECT_CODE:"Please open the MetaMask wallet app and select the code on the screen OR disconnect",OPEN_META_MASK_CONTINUE:"Open the MetaMask app to continue with your session.",NUMBER_AFTER_OPEN_NOTICE:"If a number doesn't appear after opening MetaMask, please click disconnect and re-scan the QRCode.",DISCONNECT:"Disconnect"},SELECT_MODAL:{CRYPTO_TAKE_CONTROL_TEXT:"Take control of your crypto and explore the blockchain with the wallet trusted by over 30 million people worldwide"},META_MASK_MODAL:{ADDRESS_COPIED:"Address copied to clipboard!",DISCONNECT:"Disconnect",ACTIVE_NETWORK:"Active Network"}};class cg{constructor(s){var sf;this.translations=ag,this.supportedLocales=["es","fr","he","it","pt","tr"],this.baseUrl=(sf=s?.baseUrl)!==null&&sf!==void 0?sf:"https://raw.githubusercontent.com/MetaMask/metamask-sdk/refs/heads/gh-pages/locales"}getBrowserLanguage(){if((navigator.languages||[navigator.language]).some(sf=>sf.toLowerCase().startsWith("en")))return"en";const s=navigator.language.toLowerCase().split("-")[0];return this.supportedLocales.includes(s)?s:"en"}async init(s){const sf=this.getBrowserLanguage()||s.fallbackLng;await this.loadTranslations(sf)}async loadTranslations(s){const sf=s.split("-")[0];if(sf!=="en"&&this.supportedLocales.includes(sf))try{const Nf=`${this.baseUrl}/${sf}.json`,ip=await fetch(Nf);if(!ip.ok)throw new Error(`HTTP error! status: ${ip.status}`);this.translations=await ip.json()}catch(Nf){console.warn(` Failed to load ${sf} translations, falling back to English:`,Nf),this.translations=ag}else this.translations=ag}t(s){return this.getNestedTranslation(s,this.translations)||s}getNestedTranslation(s,sf){const Nf=s.split(".");let ip=sf;for(const em of Nf){if(typeof ip!="object")return"";ip=ip[em]}return typeof ip=="string"?ip:""}}var lg;(function(r){r.SDK_MODAL_VIEWED="sdk_modal_viewed",r.SDK_MODAL_BUTTON_CLICKED="sdk_modal_button_clicked",r.SDK_MODAL_TOGGLE_CHANGED="sdk_modal_toggle_changed"})(lg||(lg={}));const dg=class{constructor(r){uf(this,r),this.close=Wf(this,"close"),this.startDesktopOnboarding=Wf(this,"startDesktopOnboarding"),this.trackAnalytics=Wf(this,"trackAnalytics"),this.link=void 0,this.sdkVersion=void 0,this.preferDesktop=void 0,this.tab=1,this.isDefaultTab=!0,this.translationsLoaded=!1,this.onClose=this.onClose.bind(this),this.onStartDesktopOnboardingHandler=this.onStartDesktopOnboardingHandler.bind(this),this.setTab=this.setTab.bind(this),this.render=this.render.bind(this),this.setTab(this.preferDesktop?1:2),this.i18nInstance=new cg}componentDidLoad(){this.trackAnalytics.emit({event:lg.SDK_MODAL_VIEWED,params:{extensionInstalled:!1,tab:this.tab===1?"desktop":"mobile"}})}async connectedCallback(){await this.i18nInstance.init({fallbackLng:"en"}),this.translationsLoaded=!0}updatePreferDesktop(r){r?this.setTab(1):this.setTab(2)}onClose(r=!1){this.close.emit({shouldTerminate:r})}onStartDesktopOnboardingHandler(){this.trackAnalytics.emit({event:lg.SDK_MODAL_BUTTON_CLICKED,params:{button_type:"install_extension",tab:"desktop"}}),this.startDesktopOnboarding.emit()}setTab(r,s=!1){s&&this.trackAnalytics.emit({event:lg.SDK_MODAL_TOGGLE_CHANGED,params:{toggle:this.tab===1?"desktop_to_mobile":"mobile_to_desktop"}}),this.tab=r,this.isDefaultTab=!1}render(){if(!this.translationsLoaded)return null;const r=Nf=>this.i18nInstance.t(Nf),s=this.isDefaultTab?this.preferDesktop?1:2:this.tab,sf=sg(this.link,"svg",{ecc:"medium",scale:2});return Kf(Tp,{className:"install-model"},Kf("div",{class:"backdrop",onClick:()=>this.onClose(!0)}),Kf("div",{class:"modal"},Kf("div",{class:"closeButtonContainer"},Kf("div",{class:"right"},Kf("span",{class:"closeButton",onClick:()=>this.onClose(!0)},Kf(Kp,null)))),Kf("div",{class:"logoContainer"},Kf(jp,null)),Kf("div",null,Kf("div",{class:"tabcontainer"},Kf("div",{class:"flexContainer"},Kf("div",{onClick:()=>this.setTab(1,!0),class:"tab flexItem "+(s===1?"tabactive":"")},r("DESKTOP")),Kf("div",{onClick:()=>this.setTab(2,!0),class:"tab flexItem "+(s===2?"tabactive":"")},r("MOBILE")))),Kf("div",{style:{display:s===1?"none":"block"}},Kf("div",{class:"flexContainer"},Kf("div",{class:"flexItem",style:{textAlign:"center",marginTop:"4"}},sf&&Kf("div",{id:"sdk-mm-qrcode",class:"center",innerHTML:sf}),Kf("div",{class:"connectMobileText"},r("SCAN_TO_CONNECT")," ",Kf("br",null),Kf("span",{class:"blue"},Kf("b",null,r("META_MASK_MOBILE_APP"))))))),Kf("div",{style:{display:s===2?"none":"block"}},Kf("div",{class:"item"},Kf(Op,{Icon:Np,text:r("INSTALL_MODAL.TRUSTED_BY_USERS")})),Kf("div",{class:"item"},Kf(Op,{Icon:Lp,text:r("INSTALL_MODAL.LEADING_CRYPTO_WALLET")})),Kf("div",{class:"item"},Kf(Op,{Icon:$p,text:r("INSTALL_MODAL.CONTROL_DIGITAL_INTERACTIONS")})),Kf("button",{class:"button",onClick:()=>this.onStartDesktopOnboardingHandler()},Kf(Dp,null),Kf("span",{class:"installExtensionText"},r("INSTALL_MODAL.INSTALL_META_MASK_EXTENSION"))))),Kf(Bp,{version:this.sdkVersion})))}get el(){return qf(this)}static get watchers(){return{preferDesktop:["updatePreferDesktop"]}}};dg.style=`.flexContainer {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: row;
}

.flexItem {
    flex: 1;
    justify-content: center;
    align-items: center;
}

.flexItem11 {
    flex: 11;
    justify-content: center;
    align-items: center;
}

.flexItem1 {
    flex: 1;
    justify-content: center;
    align-items: center;
}

.tab {
    padding: 8px;
    cursor: pointer;
    background-color: #F2F4F6;
    font-size: 12px;
    text-align: center;
    color: #24292E;
}

.tabcontainer {
    padding: 4px;
    background-color: #F2F4F6;
    border-radius: 8px;
    margin-bottom: 30px;
    margin-top: 30px;
}

.tabactive {
    background-color: white;
    -webkit-transition: background-color 300ms linear;
    -ms-transition: background-color 300ms linear;
    transition: background-color 300ms linear;
    border-radius: 8px;
}

.item {
    font-size: 12px;
    margin-bottom: 16px;
    border-radius: 8px;
    padding: 10px;
    border: 2px #F2F4F6 solid;
    color: #24292E;
}

.extensionLabel {
    font-style: normal;
    font-weight: bold;
    font-size: 14px;
    text-align: cetner;
    color: #24272A;
}

.notice {
    font-size: 12px;
    margin-left: 10px;
    margin-right: 10px;
    color: grey;
}

.button {
    margin-top: 41.5px;
    margin-bottom: 20px;
    width: 100%;
    display: flex;
    flex-direction: row;
    justify-content: center;
    align-items: center;
    padding: 12px 20px;
    background: #037DD6;
    border-radius: 32px;
    color: white;
    border: 0;
    font-size: 14px;
    cursor: pointer;
}

.backdrop {
    visibility: visible;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    width: 100%;
    z-index: 99998;
    background: rgba(0, 0, 0, 0.87);
    opacity: 0.3;
}

.modal {
    visibility: visible;
    position: fixed;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 99999;
    background: white;
    padding: 20px;
    border-radius: 8px;
    top: 50%;
    max-width: 100%;
    width: 460px;
    min-width: 300px;
    box-shadow: rgba(0, 0, 0, 0.2) 0px 11px 15px -7px, rgba(0, 0, 0, 0.14) 0px 24px 38px 3px, rgba(0, 0, 0, 0.12) 0px 9px 46px 8px;
    -webkit-font-smoothing: antialiased;
}

.closeButton {
    color: #BBC0C5;
    cursor: pointer;
}

.logoContainer {
    margin-left: 24px;
    margin-right: 24px;
    margin-top: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.connectMobileText {
    font-size: 14px;
    color: black;
    margin-top: 28px;
    margin-bottom: 28px;
    line-height: 2;
}

.blue {
    color: #037DD6;
    font-weight: 700;
}

.installExtensionText {
    margin-left: 10px;
}

.center {
    display: flex;
    justify-content: center;
    align-items: center;
}

.right {
    display: flex;
    align-items: center;
    justify-content: right;
}

#sdk-mm-qrcode {
    svg {
        width: 50%;
    }
}`;const ug=class{constructor(r){uf(this,r),this.close=Wf(this,"close"),this.disconnect=Wf(this,"disconnect"),this.updateOTPValue=Wf(this,"updateOTPValue"),this.displayOTP=void 0,this.sdkVersion=void 0,this.otpCode=void 0,this.translationsLoaded=!1,this.i18nInstance=new cg}async connectedCallback(){await this.i18nInstance.init({fallbackLng:"en"}),this.translationsLoaded=!0}onClose(){this.close.emit()}onDisconnect(){this.disconnect.emit()}onUpdateOTPValueHandler(r){this.updateOTPValue.emit({otpValue:r})}disconnectedCallback(){this.onClose()}render(){var r;if(!this.translationsLoaded)return null;const s=(r=this.displayOTP)===null||r===void 0||r,sf=this.sdkVersion,Nf=ip=>this.i18nInstance.t(ip);return Kf(Tp,{className:"pending-modal"},Kf("div",{class:"backdrop",onClick:()=>this.onClose()}),Kf("div",{class:"modal"},Kf("div",{class:"closeButtonContainer"},Kf("div",{class:"right"},Kf("span",{class:"closeButton",onClick:()=>this.onClose()},Kf(Kp,null)))),Kf("div",{class:"logoContainer"},Kf(jp,null)),Kf("div",null,Kf("div",{class:"flexContainer",style:{flexDirection:"column",color:"black"}},Kf("div",{class:"flexItem",style:{textAlign:"center",marginTop:"30px",marginBottom:"30px",fontSize:"16px"}},Nf(s?"PENDING_MODAL.OPEN_META_MASK_SELECT_CODE":"PENDING_MODAL.OPEN_META_MASK_CONTINUE")),Kf("div",{id:"sdk-mm-otp-value",style:{padding:"10px",fontSize:"32px",display:this.otpCode?"block":"none"}},this.otpCode),s&&Kf("div",{class:"notice"},"* ",Nf("PENDING_MODAL.NUMBER_AFTER_OPEN_NOTICE"))),Kf("div",{style:{marginTop:"20px"}},Kf("button",{class:"button blue",style:{marginTop:"5px",color:"#0376C9",borderColor:"#0376C9",borderWidth:"1px",borderStyle:"solid",backgroundColor:"white"},onClick:()=>this.onDisconnect()},Nf("PENDING_MODAL.DISCONNECT")))),Kf(Bp,{version:sf})))}get el(){return qf(this)}};ug.style=`.flexContainer {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: row;
}

.flexItem {
    flex: 1;
    justify-content: center;
    align-items: center;
}

.flexItem11 {
    flex: 11;
    justify-content: center;
    align-items: center;
}

.flexItem1 {
    flex: 1;
    justify-content: center;
    align-items: center;
}

.tab {
    padding: 8px;
    cursor: pointer;
    background-color: #F2F4F6;
    font-size: 12px;
    text-align: center;
    color: #24292E;
}

.tabcontainer {
    padding: 4px;
    background-color: #F2F4F6;
    border-radius: 8px;
    margin-bottom: 30px;
    margin-top: 30px;
}

.tabactive {
    background-color: white;
    -webkit-transition: background-color 300ms linear;
    -ms-transition: background-color 300ms linear;
    transition: background-color 300ms linear;
    border-radius: 8px;
}

.item {
    font-size: 12px;
    margin-bottom: 16px;
    border-radius: 8px;
    padding: 10px;
    border: 2px #F2F4F6 solid;
    color: #24292E;
}

.extensionLabel {
    font-style: normal;
    font-weight: bold;
    font-size: 14px;
    text-align: cetner;
    color: #24272A;
}

.notice {
    font-size: 12px;
    margin-left: 10px;
    margin-right: 10px;
    color: grey;
}

.button {
    margin-top: 41.5px;
    margin-bottom: 20px;
    width: 100%;
    display: flex;
    flex-direction: row;
    justify-content: center;
    align-items: center;
    padding: 12px 20px;
    background: #037DD6;
    border-radius: 32px;
    color: white;
    border: 0;
    font-size: 14px;
    cursor: pointer;
}

.backdrop {
    visibility: visible;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    width: 100%;
    z-index: 99998;
    background: rgba(0, 0, 0, 0.87);
    opacity: 0.3;
}

.modal {
    visibility: visible;
    position: fixed;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 99999;
    background: white;
    padding: 20px;
    border-radius: 8px;
    top: 50%;
    max-width: 100%;
    width: 460px;
    min-width: 300px;
    box-shadow: rgba(0, 0, 0, 0.2) 0px 11px 15px -7px, rgba(0, 0, 0, 0.14) 0px 24px 38px 3px, rgba(0, 0, 0, 0.12) 0px 9px 46px 8px;
    -webkit-font-smoothing: antialiased;
}

.closeButton {
    color: #BBC0C5;
    cursor: pointer;
}

.logoContainer {
    margin-left: 24px;
    margin-right: 24px;
    margin-top: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.connectMobileText {
    font-size: 14px;
    color: black;
    margin-top: 28px;
    margin-bottom: 28px;
    line-height: 2;
}

.blue {
    color: #037DD6;
    font-weight: 700;
}

.installExtensionText {
    margin-left: 10px;
}

.center {
    display: flex;
    justify-content: center;
    align-items: center;
}

.right {
    display: flex;
    align-items: center;
    justify-content: right;
}

#sdk-mm-qrcode {
    svg {
        width: 50%;
    }
}`;const hg=()=>Kf("svg",{width:"21",height:"15",viewBox:"0 0 21 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Kf("path",{d:"M14.1364 14.9851C13.5909 14.9851 13.2273 14.5851 13.2273 13.9851C13.2273 13.3851 13.5909 12.9851 14.1364 12.9851C16.6818 12.9851 18.6818 10.7851 18.6818 7.98508C18.6818 5.18508 16.6818 2.98508 14.1364 2.98508C11.5909 2.98508 9.59091 5.18508 9.59091 7.98508C9.59091 8.58508 9.22727 8.98508 8.68182 8.98508C8.13636 8.98508 7.77273 8.58508 7.77273 7.98508C7.77273 4.08508 10.5909 0.985077 14.1364 0.985077C17.6818 0.985077 20.5 4.08508 20.5 7.98508C20.5 11.8851 17.6818 14.9851 14.1364 14.9851ZM6.68182 14.7851C3.22727 14.7851 0.5 11.6851 0.5 7.98508C0.5 4.28508 3.22727 1.18508 6.68182 1.18508C7.22727 1.18508 7.59091 1.58508 7.59091 2.18508C7.59091 2.78508 7.22727 3.18508 6.68182 3.18508C4.22727 3.18508 2.31818 5.38508 2.31818 7.98508C2.31818 10.5851 4.22727 12.7851 6.68182 12.7851C9.13636 12.7851 11.0455 10.6851 11.0455 7.98508C11.0455 7.38508 11.4091 6.98508 11.9545 6.98508C12.5 6.98508 12.8636 7.38508 12.8636 7.98508C12.7727 11.6851 10.0455 14.7851 6.68182 14.7851Z",fill:"white"})),fg=()=>Kf("svg",{width:"400",height:"300",viewBox:"0 0 400 300",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Kf("rect",{width:"400",height:"300",fill:"white"}),Kf("path",{d:"M300.116 242.46L250.485 227.681L213.057 250.055L186.944 250.045L149.493 227.681L99.8843 242.46L84.7939 191.518L99.8843 134.979L84.7939 87.1777L99.8843 27.9336L177.402 74.2466H222.598L300.116 27.9336L315.206 87.1777L300.116 134.979L315.206 191.518L300.116 242.46Z",fill:"#FF5C16"}),Kf("path",{d:"M99.8955 27.9336L177.414 74.2792L174.331 106.085L99.8955 27.9336Z",fill:"#FF5C16"}),Kf("path",{d:"M149.505 191.539L183.612 217.521L149.505 227.681V191.539Z",fill:"#FF5C16"}),Kf("path",{d:"M180.886 148.585L174.33 106.107L132.369 134.991L132.348 134.98V135.001L132.477 164.732L149.493 148.585H149.504H180.886Z",fill:"#FF5C16"}),Kf("path",{d:"M300.116 27.9336L222.598 74.2792L225.67 106.085L300.116 27.9336Z",fill:"#FF5C16"}),Kf("path",{d:"M250.508 191.539L216.4 217.521L250.508 227.681V191.539Z",fill:"#FF5C16"}),Kf("path",{d:"M267.652 135.001H267.663H267.652V134.98L267.641 134.991L225.68 106.107L219.125 148.585H250.507L267.533 164.732L267.652 135.001Z",fill:"#FF5C16"}),Kf("path",{d:"M149.493 227.681L99.8843 242.46L84.7939 191.54H149.493V227.681Z",fill:"#E34807"}),Kf("path",{d:"M180.875 148.574L190.351 209.98L177.219 175.838L132.456 164.732L149.483 148.574H180.864H180.875Z",fill:"#E34807"}),Kf("path",{d:"M250.507 227.681L300.116 242.46L315.206 191.54H250.507V227.681Z",fill:"#E34807"}),Kf("path",{d:"M219.126 148.574L209.649 209.98L222.782 175.838L267.545 164.732L250.507 148.574H219.126Z",fill:"#E34807"}),Kf("path",{d:"M84.7939 191.517L99.8843 134.979H132.337L132.456 164.721L177.219 175.826L190.351 209.969L183.601 217.488L149.493 191.506H84.7939V191.517Z",fill:"#FF8D5D"}),Kf("path",{d:"M315.206 191.517L300.116 134.979H267.664L267.545 164.721L222.782 175.826L209.649 209.969L216.4 217.488L250.507 191.506H315.206V191.517Z",fill:"#FF8D5D"}),Kf("path",{d:"M222.598 74.2466H200H177.402L174.33 106.053L190.351 209.936H209.649L225.681 106.053L222.598 74.2466Z",fill:"#FF8D5D"}),Kf("path",{d:"M99.8843 27.9336L84.7939 87.1777L99.8843 134.979H132.337L174.319 106.085L99.8843 27.9336Z",fill:"#661800"}),Kf("path",{d:"M171.496 160.906H156.795L148.79 168.752L177.229 175.804L171.496 160.896V160.906Z",fill:"#661800"}),Kf("path",{d:"M300.116 27.9336L315.206 87.1777L300.116 134.979H267.663L225.681 106.085L300.116 27.9336Z",fill:"#661800"}),Kf("path",{d:"M228.525 160.906H243.248L251.253 168.763L222.781 175.826L228.525 160.896V160.906Z",fill:"#661800"}),Kf("path",{d:"M213.046 229.789L216.399 217.51L209.649 209.991H190.34L183.59 217.51L186.943 229.789",fill:"#661800"}),Kf("path",{d:"M213.047 229.789V250.066H186.944V229.789H213.047Z",fill:"#C0C4CD"}),Kf("path",{d:"M149.504 227.66L186.965 250.056V229.779L183.611 217.5L149.504 227.66Z",fill:"#E7EBF6"}),Kf("path",{d:"M250.506 227.66L213.045 250.056V229.779L216.398 217.5L250.506 227.66Z",fill:"#E7EBF6"})),pg=class{constructor(r){uf(this,r),this.close=Wf(this,"close"),this.connectWithExtension=Wf(this,"connectWithExtension"),this.link=void 0,this.sdkVersion=void 0,this.preferDesktop=void 0,this.tab=1,this.isDefaultTab=!0,this.translationsLoaded=!1,this.i18nInstance=new cg,this.setTab(this.preferDesktop?1:2)}async connectedCallback(){await this.i18nInstance.init({fallbackLng:"en"}),this.translationsLoaded=!0}onClose(r=!1){this.close.emit({shouldTerminate:r})}connectWithExtensionHandler(){this.connectWithExtension.emit()}setTab(r){this.tab=r,this.isDefaultTab=!1}disconnectedCallback(){this.onClose()}updatePreferDesktop(r){r?this.setTab(1):this.setTab(2)}render(){if(!this.translationsLoaded)return null;const r=ip=>this.i18nInstance.t(ip),s=this.sdkVersion,sf=this.isDefaultTab?this.preferDesktop?1:2:this.tab,Nf=sg(this.link,"svg",{ecc:"medium",scale:2});return Kf(Tp,{className:"select-modal"},Kf("div",{class:"backdrop",onClick:()=>this.onClose(!0)}),Kf("div",{class:"modal"},Kf("div",{class:"closeButtonContainer"},Kf("div",{class:"right"},Kf("span",{class:"closeButton",onClick:()=>this.onClose(!0)},Kf(Kp,null)))),Kf("div",{class:"logoContainer"},Kf(jp,null)),Kf("div",null,Kf("div",{class:"tabcontainer"},Kf("div",{class:"flexContainer"},Kf("div",{onClick:()=>this.setTab(1),class:"tab flexItem "+(sf===1?"tabactive":"")},r("DESKTOP")),Kf("div",{onClick:()=>this.setTab(2),class:"tab flexItem "+(sf===2?"tabactive":"")},r("MOBILE")))),Kf("div",{style:{display:sf===1?"none":"block"}},Kf("div",{class:"flexContainer"},Kf("div",{class:"flexItem",style:{textAlign:"center",marginTop:"4"}},Kf("div",{class:"center",id:"sdk-mm-qrcode",innerHTML:Nf}),Kf("div",{class:"connectMobileText"},r("SCAN_TO_CONNECT"),Kf("br",null),Kf("span",{class:"blue"},Kf("b",null,r("META_MASK_MOBILE_APP"))))))),Kf("div",{style:{display:sf===2?"none":"block"}},Kf("div",{style:{display:"flex",justifyContent:"center",height:"300",marginTop:"-20"}},Kf(fg,null)),Kf("div",{class:"extensionLabel"},r("SELECT_MODAL.CRYPTO_TAKE_CONTROL_TEXT")),Kf("button",{class:"button",onClick:()=>this.connectWithExtensionHandler()},Kf(hg,null),Kf("span",{class:"installExtensionText"},r("CONNECT_WITH_EXTENSION"))))),Kf(Bp,{version:s})))}get el(){return qf(this)}static get watchers(){return{preferDesktop:["updatePreferDesktop"]}}};pg.style=`.flexContainer {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: row;
}

.flexItem {
    flex: 1;
    justify-content: center;
    align-items: center;
}

.flexItem11 {
    flex: 11;
    justify-content: center;
    align-items: center;
}

.flexItem1 {
    flex: 1;
    justify-content: center;
    align-items: center;
}

.tab {
    padding: 8px;
    cursor: pointer;
    background-color: #F2F4F6;
    font-size: 12px;
    text-align: center;
    color: #24292E;
}

.tabcontainer {
    padding: 4px;
    background-color: #F2F4F6;
    border-radius: 8px;
    margin-bottom: 30px;
    margin-top: 30px;
}

.tabactive {
    background-color: white;
    -webkit-transition: background-color 300ms linear;
    -ms-transition: background-color 300ms linear;
    transition: background-color 300ms linear;
    border-radius: 8px;
}

.item {
    font-size: 12px;
    margin-bottom: 16px;
    border-radius: 8px;
    padding: 10px;
    border: 2px #F2F4F6 solid;
    color: #24292E;
}

.extensionLabel {
    font-style: normal;
    font-weight: bold;
    font-size: 14px;
    text-align: cetner;
    color: #24272A;
}

.notice {
    font-size: 12px;
    margin-left: 10px;
    margin-right: 10px;
    color: grey;
}

.button {
    margin-top: 41.5px;
    margin-bottom: 20px;
    width: 100%;
    display: flex;
    flex-direction: row;
    justify-content: center;
    align-items: center;
    padding: 12px 20px;
    background: #037DD6;
    border-radius: 32px;
    color: white;
    border: 0;
    font-size: 14px;
    cursor: pointer;
}

.backdrop {
    visibility: visible;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    width: 100%;
    z-index: 99998;
    background: rgba(0, 0, 0, 0.87);
    opacity: 0.3;
}

.modal {
    visibility: visible;
    position: fixed;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 99999;
    background: white;
    padding: 20px;
    border-radius: 8px;
    top: 50%;
    max-width: 100%;
    width: 460px;
    min-width: 300px;
    box-shadow: rgba(0, 0, 0, 0.2) 0px 11px 15px -7px, rgba(0, 0, 0, 0.14) 0px 24px 38px 3px, rgba(0, 0, 0, 0.12) 0px 9px 46px 8px;
    -webkit-font-smoothing: antialiased;
}

.closeButton {
    color: #BBC0C5;
    cursor: pointer;
}

.logoContainer {
    margin-left: 24px;
    margin-right: 24px;
    margin-top: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.connectMobileText {
    font-size: 14px;
    color: black;
    margin-top: 28px;
    margin-bottom: 28px;
    line-height: 2;
}

.blue {
    color: #037DD6;
    font-weight: 700;
}

.installExtensionText {
    margin-left: 10px;
}

.center {
    display: flex;
    justify-content: center;
    align-items: center;
}

.right {
    display: flex;
    align-items: center;
    justify-content: right;
}

#sdk-mm-qrcode {
    svg {
        width: 50%;
    }
}`;var gg=Object.freeze({__proto__:null,mm_install_modal:dg,mm_pending_modal:ug,mm_select_modal:pg});MetaMaskWallet=class{type="metamask";platform="ethereum";MMSDK;account=void 0;constructor(){this.MMSDK=new tf({dappMetadata:{name:"Cartridge Controller",url:window.location.href}})}isAvailable(){return typeof window<"u"&&!!window.ethereum?.isMetaMask}getInfo(){const s=this.isAvailable();return{type:this.type,available:s,version:s?window.ethereum?.version||"Unknown":void 0,chainId:s?window.ethereum?.chainId:void 0,name:"MetaMask",platform:this.platform}}async connect(){if(this.account)return{success:!0,wallet:this.type,account:this.account};try{if(!this.isAvailable())throw new Error("MetaMask is not available");const s=await this.MMSDK.connect();if(s&&s.length>0)return this.account=s[0],{success:!0,wallet:this.type,account:this.account};throw new Error("No accounts found")}catch(s){return console.error("Error connecting to MetaMask:",s),{success:!1,wallet:this.type,error:s.message||"Unknown error"}}}async signTransaction(s){try{if(!this.isAvailable()||!this.account)throw new Error("MetaMask is not connected");const sf=this.MMSDK.getProvider();if(!sf)throw new Error("MetaMask is not connected");const Nf=await sf.request({method:"eth_sendTransaction",params:[s]});return{success:!0,wallet:this.type,result:Nf}}catch(sf){return console.error("Error signing transaction with MetaMask:",sf),{success:!1,wallet:this.type,error:sf.message||"Unknown error"}}}async signMessage(s){try{if(!this.isAvailable()||!this.account)throw new Error("MetaMask is not connected");const sf=await this.MMSDK.connectAndSign({msg:s});return{success:!0,wallet:this.type,result:sf}}catch(sf){return console.error("Error signing message with MetaMask:",sf),{success:!1,wallet:this.type,error:sf.message||"Unknown error"}}}async signTypedData(s){try{if(!this.isAvailable()||!this.account)throw new Error("MetaMask is not connected");const sf=this.MMSDK.getProvider();if(!sf)throw new Error("MetaMask is not connected");const Nf=await sf.request({method:"eth_signTypedData_v4",params:[this.account,JSON.stringify(s)]});return{success:!0,wallet:this.type,result:Nf}}catch(sf){return console.error("Error signing typed data with MetaMask:",sf),{success:!1,wallet:this.type,error:sf.message||"Unknown error"}}}async sendTransaction(s){return{success:!1,wallet:this.type,error:"Not implemented"}}async switchChain(s){try{if(!this.isAvailable())throw new Error("MetaMask is not available");const sf=this.MMSDK.getProvider();if(!sf)throw new Error("MetaMask is not connected");try{return await sf.request({method:"wallet_switchEthereumChain",params:[{chainId:s}]}),!0}catch(Nf){throw Nf.code===4902&&console.warn("Chain not added to MetaMask"),Nf}}catch(sf){return console.error("Error switching chain for MetaMask:",sf),!1}}async getBalance(s){try{if(!this.isAvailable()||!this.account)throw new Error("MetaMask is not connected");if(s)return{success:!1,wallet:this.type,error:"Not implemented for ERC20"};{const sf=this.MMSDK.getProvider();if(!sf)throw new Error("MetaMask is not connected");const Nf=await sf.request({method:"eth_getBalance",params:[this.account,"latest"]});return{success:!0,wallet:this.type,result:Nf}}}catch(sf){return console.error("Error getting balance from MetaMask:",sf),{success:!1,wallet:this.type,error:sf.message||"Unknown error"}}}};var buffer={},base64Js={},hasRequiredBase64Js;function requireBase64Js(){if(hasRequiredBase64Js)return base64Js;hasRequiredBase64Js=1,base64Js.byteLength=nm,base64Js.toByteArray=om,base64Js.fromByteArray=sm;for(var r=[],s=[],sf=typeof Uint8Array<"u"?Uint8Array:Array,Nf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ip=0,em=Nf.length;ip<em;++ip)r[ip]=Nf[ip],s[Nf.charCodeAt(ip)]=ip;s[45]=62,s[95]=63;function tm(cm){var hm=cm.length;if(hm%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var fm=cm.indexOf("=");fm===-1&&(fm=hm);var pm=fm===hm?0:4-fm%4;return[fm,pm]}function nm(cm){var hm=tm(cm),fm=hm[0],pm=hm[1];return(fm+pm)*3/4-pm}function rm(cm,hm,fm){return(hm+fm)*3/4-fm}function om(cm){var hm,fm=tm(cm),pm=fm[0],mm=fm[1],_m=new sf(rm(cm,pm,mm)),ym=0,Sm=mm>0?pm-4:pm,jm;for(jm=0;jm<Sm;jm+=4)hm=s[cm.charCodeAt(jm)]<<18|s[cm.charCodeAt(jm+1)]<<12|s[cm.charCodeAt(jm+2)]<<6|s[cm.charCodeAt(jm+3)],_m[ym++]=hm>>16&255,_m[ym++]=hm>>8&255,_m[ym++]=hm&255;return mm===2&&(hm=s[cm.charCodeAt(jm)]<<2|s[cm.charCodeAt(jm+1)]>>4,_m[ym++]=hm&255),mm===1&&(hm=s[cm.charCodeAt(jm)]<<10|s[cm.charCodeAt(jm+1)]<<4|s[cm.charCodeAt(jm+2)]>>2,_m[ym++]=hm>>8&255,_m[ym++]=hm&255),_m}function im(cm){return r[cm>>18&63]+r[cm>>12&63]+r[cm>>6&63]+r[cm&63]}function am(cm,hm,fm){for(var pm,mm=[],_m=hm;_m<fm;_m+=3)pm=(cm[_m]<<16&0xff0000)+(cm[_m+1]<<8&65280)+(cm[_m+2]&255),mm.push(im(pm));return mm.join("")}function sm(cm){for(var hm,fm=cm.length,pm=fm%3,mm=[],_m=16383,ym=0,Sm=fm-pm;ym<Sm;ym+=_m)mm.push(am(cm,ym,ym+_m>Sm?Sm:ym+_m));return pm===1?(hm=cm[fm-1],mm.push(r[hm>>2]+r[hm<<4&63]+"==")):pm===2&&(hm=(cm[fm-2]<<8)+cm[fm-1],mm.push(r[hm>>10]+r[hm>>4&63]+r[hm<<2&63]+"=")),mm.join("")}return base64Js}var ieee754={};var hasRequiredIeee754;function requireIeee754(){return hasRequiredIeee754||(hasRequiredIeee754=1,ieee754.read=function(r,s,sf,Nf,ip){var em,tm,nm=ip*8-Nf-1,rm=(1<<nm)-1,om=rm>>1,im=-7,am=sf?ip-1:0,sm=sf?-1:1,cm=r[s+am];for(am+=sm,em=cm&(1<<-im)-1,cm>>=-im,im+=nm;im>0;em=em*256+r[s+am],am+=sm,im-=8);for(tm=em&(1<<-im)-1,em>>=-im,im+=Nf;im>0;tm=tm*256+r[s+am],am+=sm,im-=8);if(em===0)em=1-om;else{if(em===rm)return tm?NaN:(cm?-1:1)*(1/0);tm=tm+Math.pow(2,Nf),em=em-om}return(cm?-1:1)*tm*Math.pow(2,em-Nf)},ieee754.write=function(r,s,sf,Nf,ip,em){var tm,nm,rm,om=em*8-ip-1,im=(1<<om)-1,am=im>>1,sm=ip===23?Math.pow(2,-24)-Math.pow(2,-77):0,cm=Nf?0:em-1,hm=Nf?1:-1,fm=s<0||s===0&&1/s<0?1:0;for(s=Math.abs(s),isNaN(s)||s===1/0?(nm=isNaN(s)?1:0,tm=im):(tm=Math.floor(Math.log(s)/Math.LN2),s*(rm=Math.pow(2,-tm))<1&&(tm--,rm*=2),tm+am>=1?s+=sm/rm:s+=sm*Math.pow(2,1-am),s*rm>=2&&(tm++,rm/=2),tm+am>=im?(nm=0,tm=im):tm+am>=1?(nm=(s*rm-1)*Math.pow(2,ip),tm=tm+am):(nm=s*Math.pow(2,am-1)*Math.pow(2,ip),tm=0));ip>=8;r[sf+cm]=nm&255,cm+=hm,nm/=256,ip-=8);for(tm=tm<<ip|nm,om+=ip;om>0;r[sf+cm]=tm&255,cm+=hm,tm/=256,om-=8);r[sf+cm-hm]|=fm*128}),ieee754}var hasRequiredBuffer;function requireBuffer(){return hasRequiredBuffer||(hasRequiredBuffer=1,function(r){const s=requireBase64Js(),sf=requireIeee754(),Nf=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=nm,r.SlowBuffer=_m,r.INSPECT_MAX_BYTES=50;const ip=0x7fffffff;r.kMaxLength=ip,nm.TYPED_ARRAY_SUPPORT=em(),!nm.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function em(){try{const Fm=new Uint8Array(1),Cm={foo:function(){return 42}};return Object.setPrototypeOf(Cm,Uint8Array.prototype),Object.setPrototypeOf(Fm,Cm),Fm.foo()===42}catch{return!1}}Object.defineProperty(nm.prototype,"parent",{enumerable:!0,get:function(){if(nm.isBuffer(this))return this.buffer}}),Object.defineProperty(nm.prototype,"offset",{enumerable:!0,get:function(){if(nm.isBuffer(this))return this.byteOffset}});function tm(Fm){if(Fm>ip)throw new RangeError('The value "'+Fm+'" is invalid for option "size"');const Cm=new Uint8Array(Fm);return Object.setPrototypeOf(Cm,nm.prototype),Cm}function nm(Fm,Cm,Nm){if(typeof Fm=="number"){if(typeof Cm=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return am(Fm)}return rm(Fm,Cm,Nm)}nm.poolSize=8192;function rm(Fm,Cm,Nm){if(typeof Fm=="string")return sm(Fm,Cm);if(ArrayBuffer.isView(Fm))return hm(Fm);if(Fm==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Fm);if(Ag(Fm,ArrayBuffer)||Fm&&Ag(Fm.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ag(Fm,SharedArrayBuffer)||Fm&&Ag(Fm.buffer,SharedArrayBuffer)))return fm(Fm,Cm,Nm);if(typeof Fm=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Gm=Fm.valueOf&&Fm.valueOf();if(Gm!=null&&Gm!==Fm)return nm.from(Gm,Cm,Nm);const Jm=pm(Fm);if(Jm)return Jm;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Fm[Symbol.toPrimitive]=="function")return nm.from(Fm[Symbol.toPrimitive]("string"),Cm,Nm);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Fm)}nm.from=function(Fm,Cm,Nm){return rm(Fm,Cm,Nm)},Object.setPrototypeOf(nm.prototype,Uint8Array.prototype),Object.setPrototypeOf(nm,Uint8Array);function om(Fm){if(typeof Fm!="number")throw new TypeError('"size" argument must be of type number');if(Fm<0)throw new RangeError('The value "'+Fm+'" is invalid for option "size"')}function im(Fm,Cm,Nm){return om(Fm),Fm<=0?tm(Fm):Cm!==void 0?typeof Nm=="string"?tm(Fm).fill(Cm,Nm):tm(Fm).fill(Cm):tm(Fm)}nm.alloc=function(Fm,Cm,Nm){return im(Fm,Cm,Nm)};function am(Fm){return om(Fm),tm(Fm<0?0:mm(Fm)|0)}nm.allocUnsafe=function(Fm){return am(Fm)},nm.allocUnsafeSlow=function(Fm){return am(Fm)};function sm(Fm,Cm){if((typeof Cm!="string"||Cm==="")&&(Cm="utf8"),!nm.isEncoding(Cm))throw new TypeError("Unknown encoding: "+Cm);const Nm=ym(Fm,Cm)|0;let Gm=tm(Nm);const Jm=Gm.write(Fm,Cm);return Jm!==Nm&&(Gm=Gm.slice(0,Jm)),Gm}function cm(Fm){const Cm=Fm.length<0?0:mm(Fm.length)|0,Nm=tm(Cm);for(let Gm=0;Gm<Cm;Gm+=1)Nm[Gm]=Fm[Gm]&255;return Nm}function hm(Fm){if(Ag(Fm,Uint8Array)){const Cm=new Uint8Array(Fm);return fm(Cm.buffer,Cm.byteOffset,Cm.byteLength)}return cm(Fm)}function fm(Fm,Cm,Nm){if(Cm<0||Fm.byteLength<Cm)throw new RangeError('"offset" is outside of buffer bounds');if(Fm.byteLength<Cm+(Nm||0))throw new RangeError('"length" is outside of buffer bounds');let Gm;return Cm===void 0&&Nm===void 0?Gm=new Uint8Array(Fm):Nm===void 0?Gm=new Uint8Array(Fm,Cm):Gm=new Uint8Array(Fm,Cm,Nm),Object.setPrototypeOf(Gm,nm.prototype),Gm}function pm(Fm){if(nm.isBuffer(Fm)){const Cm=mm(Fm.length)|0,Nm=tm(Cm);return Nm.length===0||Fm.copy(Nm,0,0,Cm),Nm}if(Fm.length!==void 0)return typeof Fm.length!="number"||kg(Fm.length)?tm(0):cm(Fm);if(Fm.type==="Buffer"&&Array.isArray(Fm.data))return cm(Fm.data)}function mm(Fm){if(Fm>=ip)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+ip.toString(16)+" bytes");return Fm|0}function _m(Fm){return+Fm!=Fm&&(Fm=0),nm.alloc(+Fm)}nm.isBuffer=function(Cm){return Cm!=null&&Cm._isBuffer===!0&&Cm!==nm.prototype},nm.compare=function(Cm,Nm){if(Ag(Cm,Uint8Array)&&(Cm=nm.from(Cm,Cm.offset,Cm.byteLength)),Ag(Nm,Uint8Array)&&(Nm=nm.from(Nm,Nm.offset,Nm.byteLength)),!nm.isBuffer(Cm)||!nm.isBuffer(Nm))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Cm===Nm)return 0;let Gm=Cm.length,Jm=Nm.length;for(let yg=0,wg=Math.min(Gm,Jm);yg<wg;++yg)if(Cm[yg]!==Nm[yg]){Gm=Cm[yg],Jm=Nm[yg];break}return Gm<Jm?-1:Jm<Gm?1:0},nm.isEncoding=function(Cm){switch(String(Cm).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},nm.concat=function(Cm,Nm){if(!Array.isArray(Cm))throw new TypeError('"list" argument must be an Array of Buffers');if(Cm.length===0)return nm.alloc(0);let Gm;if(Nm===void 0)for(Nm=0,Gm=0;Gm<Cm.length;++Gm)Nm+=Cm[Gm].length;const Jm=nm.allocUnsafe(Nm);let yg=0;for(Gm=0;Gm<Cm.length;++Gm){let wg=Cm[Gm];if(Ag(wg,Uint8Array))yg+wg.length>Jm.length?(nm.isBuffer(wg)||(wg=nm.from(wg)),wg.copy(Jm,yg)):Uint8Array.prototype.set.call(Jm,wg,yg);else if(nm.isBuffer(wg))wg.copy(Jm,yg);else throw new TypeError('"list" argument must be an Array of Buffers');yg+=wg.length}return Jm};function ym(Fm,Cm){if(nm.isBuffer(Fm))return Fm.length;if(ArrayBuffer.isView(Fm)||Ag(Fm,ArrayBuffer))return Fm.byteLength;if(typeof Fm!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Fm);const Nm=Fm.length,Gm=arguments.length>2&&arguments[2]===!0;if(!Gm&&Nm===0)return 0;let Jm=!1;for(;;)switch(Cm){case"ascii":case"latin1":case"binary":return Nm;case"utf8":case"utf-8":return bg(Fm).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Nm*2;case"hex":return Nm>>>1;case"base64":return Eg(Fm).length;default:if(Jm)return Gm?-1:bg(Fm).length;Cm=(""+Cm).toLowerCase(),Jm=!0}}nm.byteLength=ym;function Sm(Fm,Cm,Nm){let Gm=!1;if((Cm===void 0||Cm<0)&&(Cm=0),Cm>this.length||((Nm===void 0||Nm>this.length)&&(Nm=this.length),Nm<=0)||(Nm>>>=0,Cm>>>=0,Nm<=Cm))return"";for(Fm||(Fm="utf8");;)switch(Fm){case"hex":return Em(this,Cm,Nm);case"utf8":case"utf-8":return dm(this,Cm,Nm);case"ascii":return Mm(this,Cm,Nm);case"latin1":case"binary":return bm(this,Cm,Nm);case"base64":return Im(this,Cm,Nm);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $m(this,Cm,Nm);default:if(Gm)throw new TypeError("Unknown encoding: "+Fm);Fm=(Fm+"").toLowerCase(),Gm=!0}}nm.prototype._isBuffer=!0;function jm(Fm,Cm,Nm){const Gm=Fm[Cm];Fm[Cm]=Fm[Nm],Fm[Nm]=Gm}nm.prototype.swap16=function(){const Cm=this.length;if(Cm%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let Nm=0;Nm<Cm;Nm+=2)jm(this,Nm,Nm+1);return this},nm.prototype.swap32=function(){const Cm=this.length;if(Cm%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let Nm=0;Nm<Cm;Nm+=4)jm(this,Nm,Nm+3),jm(this,Nm+1,Nm+2);return this},nm.prototype.swap64=function(){const Cm=this.length;if(Cm%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let Nm=0;Nm<Cm;Nm+=8)jm(this,Nm,Nm+7),jm(this,Nm+1,Nm+6),jm(this,Nm+2,Nm+5),jm(this,Nm+3,Nm+4);return this},nm.prototype.toString=function(){const Cm=this.length;return Cm===0?"":arguments.length===0?dm(this,0,Cm):Sm.apply(this,arguments)},nm.prototype.toLocaleString=nm.prototype.toString,nm.prototype.equals=function(Cm){if(!nm.isBuffer(Cm))throw new TypeError("Argument must be a Buffer");return this===Cm?!0:nm.compare(this,Cm)===0},nm.prototype.inspect=function(){let Cm="";const Nm=r.INSPECT_MAX_BYTES;return Cm=this.toString("hex",0,Nm).replace(/(.{2})/g,"$1 ").trim(),this.length>Nm&&(Cm+=" ... "),"<Buffer "+Cm+">"},Nf&&(nm.prototype[Nf]=nm.prototype.inspect),nm.prototype.compare=function(Cm,Nm,Gm,Jm,yg){if(Ag(Cm,Uint8Array)&&(Cm=nm.from(Cm,Cm.offset,Cm.byteLength)),!nm.isBuffer(Cm))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof Cm);if(Nm===void 0&&(Nm=0),Gm===void 0&&(Gm=Cm?Cm.length:0),Jm===void 0&&(Jm=0),yg===void 0&&(yg=this.length),Nm<0||Gm>Cm.length||Jm<0||yg>this.length)throw new RangeError("out of range index");if(Jm>=yg&&Nm>=Gm)return 0;if(Jm>=yg)return-1;if(Nm>=Gm)return 1;if(Nm>>>=0,Gm>>>=0,Jm>>>=0,yg>>>=0,this===Cm)return 0;let wg=yg-Jm,Tg=Gm-Nm;const $g=Math.min(wg,Tg),Mg=this.slice(Jm,yg),jg=Cm.slice(Nm,Gm);for(let Ig=0;Ig<$g;++Ig)if(Mg[Ig]!==jg[Ig]){wg=Mg[Ig],Tg=jg[Ig];break}return wg<Tg?-1:Tg<wg?1:0};function Pm(Fm,Cm,Nm,Gm,Jm){if(Fm.length===0)return-1;if(typeof Nm=="string"?(Gm=Nm,Nm=0):Nm>0x7fffffff?Nm=0x7fffffff:Nm<-0x80000000&&(Nm=-0x80000000),Nm=+Nm,kg(Nm)&&(Nm=Jm?0:Fm.length-1),Nm<0&&(Nm=Fm.length+Nm),Nm>=Fm.length){if(Jm)return-1;Nm=Fm.length-1}else if(Nm<0)if(Jm)Nm=0;else return-1;if(typeof Cm=="string"&&(Cm=nm.from(Cm,Gm)),nm.isBuffer(Cm))return Cm.length===0?-1:Bm(Fm,Cm,Nm,Gm,Jm);if(typeof Cm=="number")return Cm=Cm&255,typeof Uint8Array.prototype.indexOf=="function"?Jm?Uint8Array.prototype.indexOf.call(Fm,Cm,Nm):Uint8Array.prototype.lastIndexOf.call(Fm,Cm,Nm):Bm(Fm,[Cm],Nm,Gm,Jm);throw new TypeError("val must be string, number or Buffer")}function Bm(Fm,Cm,Nm,Gm,Jm){let yg=1,wg=Fm.length,Tg=Cm.length;if(Gm!==void 0&&(Gm=String(Gm).toLowerCase(),Gm==="ucs2"||Gm==="ucs-2"||Gm==="utf16le"||Gm==="utf-16le")){if(Fm.length<2||Cm.length<2)return-1;yg=2,wg/=2,Tg/=2,Nm/=2}function $g(jg,Ig){return yg===1?jg[Ig]:jg.readUInt16BE(Ig*yg)}let Mg;if(Jm){let jg=-1;for(Mg=Nm;Mg<wg;Mg++)if($g(Fm,Mg)===$g(Cm,jg===-1?0:Mg-jg)){if(jg===-1&&(jg=Mg),Mg-jg+1===Tg)return jg*yg}else jg!==-1&&(Mg-=Mg-jg),jg=-1}else for(Nm+Tg>wg&&(Nm=wg-Tg),Mg=Nm;Mg>=0;Mg--){let jg=!0;for(let Ig=0;Ig<Tg;Ig++)if($g(Fm,Mg+Ig)!==$g(Cm,Ig)){jg=!1;break}if(jg)return Mg}return-1}nm.prototype.includes=function(Cm,Nm,Gm){return this.indexOf(Cm,Nm,Gm)!==-1},nm.prototype.indexOf=function(Cm,Nm,Gm){return Pm(this,Cm,Nm,Gm,!0)},nm.prototype.lastIndexOf=function(Cm,Nm,Gm){return Pm(this,Cm,Nm,Gm,!1)};function qm(Fm,Cm,Nm,Gm){Nm=Number(Nm)||0;const Jm=Fm.length-Nm;Gm?(Gm=Number(Gm),Gm>Jm&&(Gm=Jm)):Gm=Jm;const yg=Cm.length;Gm>yg/2&&(Gm=yg/2);let wg;for(wg=0;wg<Gm;++wg){const Tg=parseInt(Cm.substr(wg*2,2),16);if(kg(Tg))return wg;Fm[Nm+wg]=Tg}return wg}function Rm(Fm,Cm,Nm,Gm){return _g(bg(Cm,Fm.length-Nm),Fm,Nm,Gm)}function Dm(Fm,Cm,Nm,Gm){return _g(vg(Cm),Fm,Nm,Gm)}function Um(Fm,Cm,Nm,Gm){return _g(Eg(Cm),Fm,Nm,Gm)}function Lm(Fm,Cm,Nm,Gm){return _g(Xm(Cm,Fm.length-Nm),Fm,Nm,Gm)}nm.prototype.write=function(Cm,Nm,Gm,Jm){if(Nm===void 0)Jm="utf8",Gm=this.length,Nm=0;else if(Gm===void 0&&typeof Nm=="string")Jm=Nm,Gm=this.length,Nm=0;else if(isFinite(Nm))Nm=Nm>>>0,isFinite(Gm)?(Gm=Gm>>>0,Jm===void 0&&(Jm="utf8")):(Jm=Gm,Gm=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const yg=this.length-Nm;if((Gm===void 0||Gm>yg)&&(Gm=yg),Cm.length>0&&(Gm<0||Nm<0)||Nm>this.length)throw new RangeError("Attempt to write outside buffer bounds");Jm||(Jm="utf8");let wg=!1;for(;;)switch(Jm){case"hex":return qm(this,Cm,Nm,Gm);case"utf8":case"utf-8":return Rm(this,Cm,Nm,Gm);case"ascii":case"latin1":case"binary":return Dm(this,Cm,Nm,Gm);case"base64":return Um(this,Cm,Nm,Gm);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Lm(this,Cm,Nm,Gm);default:if(wg)throw new TypeError("Unknown encoding: "+Jm);Jm=(""+Jm).toLowerCase(),wg=!0}},nm.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Im(Fm,Cm,Nm){return Cm===0&&Nm===Fm.length?s.fromByteArray(Fm):s.fromByteArray(Fm.slice(Cm,Nm))}function dm(Fm,Cm,Nm){Nm=Math.min(Fm.length,Nm);const Gm=[];let Jm=Cm;for(;Jm<Nm;){const yg=Fm[Jm];let wg=null,Tg=yg>239?4:yg>223?3:yg>191?2:1;if(Jm+Tg<=Nm){let $g,Mg,jg,Ig;switch(Tg){case 1:yg<128&&(wg=yg);break;case 2:$g=Fm[Jm+1],($g&192)===128&&(Ig=(yg&31)<<6|$g&63,Ig>127&&(wg=Ig));break;case 3:$g=Fm[Jm+1],Mg=Fm[Jm+2],($g&192)===128&&(Mg&192)===128&&(Ig=(yg&15)<<12|($g&63)<<6|Mg&63,Ig>2047&&(Ig<55296||Ig>57343)&&(wg=Ig));break;case 4:$g=Fm[Jm+1],Mg=Fm[Jm+2],jg=Fm[Jm+3],($g&192)===128&&(Mg&192)===128&&(jg&192)===128&&(Ig=(yg&15)<<18|($g&63)<<12|(Mg&63)<<6|jg&63,Ig>65535&&Ig<1114112&&(wg=Ig))}}wg===null?(wg=65533,Tg=1):wg>65535&&(wg-=65536,Gm.push(wg>>>10&1023|55296),wg=56320|wg&1023),Gm.push(wg),Jm+=Tg}return km(Gm)}const gm=4096;function km(Fm){const Cm=Fm.length;if(Cm<=gm)return String.fromCharCode.apply(String,Fm);let Nm="",Gm=0;for(;Gm<Cm;)Nm+=String.fromCharCode.apply(String,Fm.slice(Gm,Gm+=gm));return Nm}function Mm(Fm,Cm,Nm){let Gm="";Nm=Math.min(Fm.length,Nm);for(let Jm=Cm;Jm<Nm;++Jm)Gm+=String.fromCharCode(Fm[Jm]&127);return Gm}function bm(Fm,Cm,Nm){let Gm="";Nm=Math.min(Fm.length,Nm);for(let Jm=Cm;Jm<Nm;++Jm)Gm+=String.fromCharCode(Fm[Jm]);return Gm}function Em(Fm,Cm,Nm){const Gm=Fm.length;(!Cm||Cm<0)&&(Cm=0),(!Nm||Nm<0||Nm>Gm)&&(Nm=Gm);let Jm="";for(let yg=Cm;yg<Nm;++yg)Jm+=xg[Fm[yg]];return Jm}function $m(Fm,Cm,Nm){const Gm=Fm.slice(Cm,Nm);let Jm="";for(let yg=0;yg<Gm.length-1;yg+=2)Jm+=String.fromCharCode(Gm[yg]+Gm[yg+1]*256);return Jm}nm.prototype.slice=function(Cm,Nm){const Gm=this.length;Cm=~~Cm,Nm=Nm===void 0?Gm:~~Nm,Cm<0?(Cm+=Gm,Cm<0&&(Cm=0)):Cm>Gm&&(Cm=Gm),Nm<0?(Nm+=Gm,Nm<0&&(Nm=0)):Nm>Gm&&(Nm=Gm),Nm<Cm&&(Nm=Cm);const Jm=this.subarray(Cm,Nm);return Object.setPrototypeOf(Jm,nm.prototype),Jm};function Am(Fm,Cm,Nm){if(Fm%1!==0||Fm<0)throw new RangeError("offset is not uint");if(Fm+Cm>Nm)throw new RangeError("Trying to access beyond buffer length")}nm.prototype.readUintLE=nm.prototype.readUIntLE=function(Cm,Nm,Gm){Cm=Cm>>>0,Nm=Nm>>>0,Gm||Am(Cm,Nm,this.length);let Jm=this[Cm],yg=1,wg=0;for(;++wg<Nm&&(yg*=256);)Jm+=this[Cm+wg]*yg;return Jm},nm.prototype.readUintBE=nm.prototype.readUIntBE=function(Cm,Nm,Gm){Cm=Cm>>>0,Nm=Nm>>>0,Gm||Am(Cm,Nm,this.length);let Jm=this[Cm+--Nm],yg=1;for(;Nm>0&&(yg*=256);)Jm+=this[Cm+--Nm]*yg;return Jm},nm.prototype.readUint8=nm.prototype.readUInt8=function(Cm,Nm){return Cm=Cm>>>0,Nm||Am(Cm,1,this.length),this[Cm]},nm.prototype.readUint16LE=nm.prototype.readUInt16LE=function(Cm,Nm){return Cm=Cm>>>0,Nm||Am(Cm,2,this.length),this[Cm]|this[Cm+1]<<8},nm.prototype.readUint16BE=nm.prototype.readUInt16BE=function(Cm,Nm){return Cm=Cm>>>0,Nm||Am(Cm,2,this.length),this[Cm]<<8|this[Cm+1]},nm.prototype.readUint32LE=nm.prototype.readUInt32LE=function(Cm,Nm){return Cm=Cm>>>0,Nm||Am(Cm,4,this.length),(this[Cm]|this[Cm+1]<<8|this[Cm+2]<<16)+this[Cm+3]*0x1000000},nm.prototype.readUint32BE=nm.prototype.readUInt32BE=function(Cm,Nm){return Cm=Cm>>>0,Nm||Am(Cm,4,this.length),this[Cm]*0x1000000+(this[Cm+1]<<16|this[Cm+2]<<8|this[Cm+3])},nm.prototype.readBigUInt64LE=Cg(function(Cm){Cm=Cm>>>0,Wm(Cm,"offset");const Nm=this[Cm],Gm=this[Cm+7];(Nm===void 0||Gm===void 0)&&Ym(Cm,this.length-8);const Jm=Nm+this[++Cm]*2**8+this[++Cm]*2**16+this[++Cm]*2**24,yg=this[++Cm]+this[++Cm]*2**8+this[++Cm]*2**16+Gm*2**24;return BigInt(Jm)+(BigInt(yg)<<BigInt(32))}),nm.prototype.readBigUInt64BE=Cg(function(Cm){Cm=Cm>>>0,Wm(Cm,"offset");const Nm=this[Cm],Gm=this[Cm+7];(Nm===void 0||Gm===void 0)&&Ym(Cm,this.length-8);const Jm=Nm*2**24+this[++Cm]*2**16+this[++Cm]*2**8+this[++Cm],yg=this[++Cm]*2**24+this[++Cm]*2**16+this[++Cm]*2**8+Gm;return(BigInt(Jm)<<BigInt(32))+BigInt(yg)}),nm.prototype.readIntLE=function(Cm,Nm,Gm){Cm=Cm>>>0,Nm=Nm>>>0,Gm||Am(Cm,Nm,this.length);let Jm=this[Cm],yg=1,wg=0;for(;++wg<Nm&&(yg*=256);)Jm+=this[Cm+wg]*yg;return yg*=128,Jm>=yg&&(Jm-=Math.pow(2,8*Nm)),Jm},nm.prototype.readIntBE=function(Cm,Nm,Gm){Cm=Cm>>>0,Nm=Nm>>>0,Gm||Am(Cm,Nm,this.length);let Jm=Nm,yg=1,wg=this[Cm+--Jm];for(;Jm>0&&(yg*=256);)wg+=this[Cm+--Jm]*yg;return yg*=128,wg>=yg&&(wg-=Math.pow(2,8*Nm)),wg},nm.prototype.readInt8=function(Cm,Nm){return Cm=Cm>>>0,Nm||Am(Cm,1,this.length),this[Cm]&128?(255-this[Cm]+1)*-1:this[Cm]},nm.prototype.readInt16LE=function(Cm,Nm){Cm=Cm>>>0,Nm||Am(Cm,2,this.length);const Gm=this[Cm]|this[Cm+1]<<8;return Gm&32768?Gm|0xffff0000:Gm},nm.prototype.readInt16BE=function(Cm,Nm){Cm=Cm>>>0,Nm||Am(Cm,2,this.length);const Gm=this[Cm+1]|this[Cm]<<8;return Gm&32768?Gm|0xffff0000:Gm},nm.prototype.readInt32LE=function(Cm,Nm){return Cm=Cm>>>0,Nm||Am(Cm,4,this.length),this[Cm]|this[Cm+1]<<8|this[Cm+2]<<16|this[Cm+3]<<24},nm.prototype.readInt32BE=function(Cm,Nm){return Cm=Cm>>>0,Nm||Am(Cm,4,this.length),this[Cm]<<24|this[Cm+1]<<16|this[Cm+2]<<8|this[Cm+3]},nm.prototype.readBigInt64LE=Cg(function(Cm){Cm=Cm>>>0,Wm(Cm,"offset");const Nm=this[Cm],Gm=this[Cm+7];(Nm===void 0||Gm===void 0)&&Ym(Cm,this.length-8);const Jm=this[Cm+4]+this[Cm+5]*2**8+this[Cm+6]*2**16+(Gm<<24);return(BigInt(Jm)<<BigInt(32))+BigInt(Nm+this[++Cm]*2**8+this[++Cm]*2**16+this[++Cm]*2**24)}),nm.prototype.readBigInt64BE=Cg(function(Cm){Cm=Cm>>>0,Wm(Cm,"offset");const Nm=this[Cm],Gm=this[Cm+7];(Nm===void 0||Gm===void 0)&&Ym(Cm,this.length-8);const Jm=(Nm<<24)+this[++Cm]*2**16+this[++Cm]*2**8+this[++Cm];return(BigInt(Jm)<<BigInt(32))+BigInt(this[++Cm]*2**24+this[++Cm]*2**16+this[++Cm]*2**8+Gm)}),nm.prototype.readFloatLE=function(Cm,Nm){return Cm=Cm>>>0,Nm||Am(Cm,4,this.length),sf.read(this,Cm,!0,23,4)},nm.prototype.readFloatBE=function(Cm,Nm){return Cm=Cm>>>0,Nm||Am(Cm,4,this.length),sf.read(this,Cm,!1,23,4)},nm.prototype.readDoubleLE=function(Cm,Nm){return Cm=Cm>>>0,Nm||Am(Cm,8,this.length),sf.read(this,Cm,!0,52,8)},nm.prototype.readDoubleBE=function(Cm,Nm){return Cm=Cm>>>0,Nm||Am(Cm,8,this.length),sf.read(this,Cm,!1,52,8)};function lm(Fm,Cm,Nm,Gm,Jm,yg){if(!nm.isBuffer(Fm))throw new TypeError('"buffer" argument must be a Buffer instance');if(Cm>Jm||Cm<yg)throw new RangeError('"value" argument is out of bounds');if(Nm+Gm>Fm.length)throw new RangeError("Index out of range")}nm.prototype.writeUintLE=nm.prototype.writeUIntLE=function(Cm,Nm,Gm,Jm){if(Cm=+Cm,Nm=Nm>>>0,Gm=Gm>>>0,!Jm){const Tg=Math.pow(2,8*Gm)-1;lm(this,Cm,Nm,Gm,Tg,0)}let yg=1,wg=0;for(this[Nm]=Cm&255;++wg<Gm&&(yg*=256);)this[Nm+wg]=Cm/yg&255;return Nm+Gm},nm.prototype.writeUintBE=nm.prototype.writeUIntBE=function(Cm,Nm,Gm,Jm){if(Cm=+Cm,Nm=Nm>>>0,Gm=Gm>>>0,!Jm){const Tg=Math.pow(2,8*Gm)-1;lm(this,Cm,Nm,Gm,Tg,0)}let yg=Gm-1,wg=1;for(this[Nm+yg]=Cm&255;--yg>=0&&(wg*=256);)this[Nm+yg]=Cm/wg&255;return Nm+Gm},nm.prototype.writeUint8=nm.prototype.writeUInt8=function(Cm,Nm,Gm){return Cm=+Cm,Nm=Nm>>>0,Gm||lm(this,Cm,Nm,1,255,0),this[Nm]=Cm&255,Nm+1},nm.prototype.writeUint16LE=nm.prototype.writeUInt16LE=function(Cm,Nm,Gm){return Cm=+Cm,Nm=Nm>>>0,Gm||lm(this,Cm,Nm,2,65535,0),this[Nm]=Cm&255,this[Nm+1]=Cm>>>8,Nm+2},nm.prototype.writeUint16BE=nm.prototype.writeUInt16BE=function(Cm,Nm,Gm){return Cm=+Cm,Nm=Nm>>>0,Gm||lm(this,Cm,Nm,2,65535,0),this[Nm]=Cm>>>8,this[Nm+1]=Cm&255,Nm+2},nm.prototype.writeUint32LE=nm.prototype.writeUInt32LE=function(Cm,Nm,Gm){return Cm=+Cm,Nm=Nm>>>0,Gm||lm(this,Cm,Nm,4,0xffffffff,0),this[Nm+3]=Cm>>>24,this[Nm+2]=Cm>>>16,this[Nm+1]=Cm>>>8,this[Nm]=Cm&255,Nm+4},nm.prototype.writeUint32BE=nm.prototype.writeUInt32BE=function(Cm,Nm,Gm){return Cm=+Cm,Nm=Nm>>>0,Gm||lm(this,Cm,Nm,4,0xffffffff,0),this[Nm]=Cm>>>24,this[Nm+1]=Cm>>>16,this[Nm+2]=Cm>>>8,this[Nm+3]=Cm&255,Nm+4};function um(Fm,Cm,Nm,Gm,Jm){zm(Cm,Gm,Jm,Fm,Nm,7);let yg=Number(Cm&BigInt(0xffffffff));Fm[Nm++]=yg,yg=yg>>8,Fm[Nm++]=yg,yg=yg>>8,Fm[Nm++]=yg,yg=yg>>8,Fm[Nm++]=yg;let wg=Number(Cm>>BigInt(32)&BigInt(0xffffffff));return Fm[Nm++]=wg,wg=wg>>8,Fm[Nm++]=wg,wg=wg>>8,Fm[Nm++]=wg,wg=wg>>8,Fm[Nm++]=wg,Nm}function wm(Fm,Cm,Nm,Gm,Jm){zm(Cm,Gm,Jm,Fm,Nm,7);let yg=Number(Cm&BigInt(0xffffffff));Fm[Nm+7]=yg,yg=yg>>8,Fm[Nm+6]=yg,yg=yg>>8,Fm[Nm+5]=yg,yg=yg>>8,Fm[Nm+4]=yg;let wg=Number(Cm>>BigInt(32)&BigInt(0xffffffff));return Fm[Nm+3]=wg,wg=wg>>8,Fm[Nm+2]=wg,wg=wg>>8,Fm[Nm+1]=wg,wg=wg>>8,Fm[Nm]=wg,Nm+8}nm.prototype.writeBigUInt64LE=Cg(function(Cm,Nm=0){return um(this,Cm,Nm,BigInt(0),BigInt("0xffffffffffffffff"))}),nm.prototype.writeBigUInt64BE=Cg(function(Cm,Nm=0){return wm(this,Cm,Nm,BigInt(0),BigInt("0xffffffffffffffff"))}),nm.prototype.writeIntLE=function(Cm,Nm,Gm,Jm){if(Cm=+Cm,Nm=Nm>>>0,!Jm){const $g=Math.pow(2,8*Gm-1);lm(this,Cm,Nm,Gm,$g-1,-$g)}let yg=0,wg=1,Tg=0;for(this[Nm]=Cm&255;++yg<Gm&&(wg*=256);)Cm<0&&Tg===0&&this[Nm+yg-1]!==0&&(Tg=1),this[Nm+yg]=(Cm/wg>>0)-Tg&255;return Nm+Gm},nm.prototype.writeIntBE=function(Cm,Nm,Gm,Jm){if(Cm=+Cm,Nm=Nm>>>0,!Jm){const $g=Math.pow(2,8*Gm-1);lm(this,Cm,Nm,Gm,$g-1,-$g)}let yg=Gm-1,wg=1,Tg=0;for(this[Nm+yg]=Cm&255;--yg>=0&&(wg*=256);)Cm<0&&Tg===0&&this[Nm+yg+1]!==0&&(Tg=1),this[Nm+yg]=(Cm/wg>>0)-Tg&255;return Nm+Gm},nm.prototype.writeInt8=function(Cm,Nm,Gm){return Cm=+Cm,Nm=Nm>>>0,Gm||lm(this,Cm,Nm,1,127,-128),Cm<0&&(Cm=255+Cm+1),this[Nm]=Cm&255,Nm+1},nm.prototype.writeInt16LE=function(Cm,Nm,Gm){return Cm=+Cm,Nm=Nm>>>0,Gm||lm(this,Cm,Nm,2,32767,-32768),this[Nm]=Cm&255,this[Nm+1]=Cm>>>8,Nm+2},nm.prototype.writeInt16BE=function(Cm,Nm,Gm){return Cm=+Cm,Nm=Nm>>>0,Gm||lm(this,Cm,Nm,2,32767,-32768),this[Nm]=Cm>>>8,this[Nm+1]=Cm&255,Nm+2},nm.prototype.writeInt32LE=function(Cm,Nm,Gm){return Cm=+Cm,Nm=Nm>>>0,Gm||lm(this,Cm,Nm,4,0x7fffffff,-0x80000000),this[Nm]=Cm&255,this[Nm+1]=Cm>>>8,this[Nm+2]=Cm>>>16,this[Nm+3]=Cm>>>24,Nm+4},nm.prototype.writeInt32BE=function(Cm,Nm,Gm){return Cm=+Cm,Nm=Nm>>>0,Gm||lm(this,Cm,Nm,4,0x7fffffff,-0x80000000),Cm<0&&(Cm=0xffffffff+Cm+1),this[Nm]=Cm>>>24,this[Nm+1]=Cm>>>16,this[Nm+2]=Cm>>>8,this[Nm+3]=Cm&255,Nm+4},nm.prototype.writeBigInt64LE=Cg(function(Cm,Nm=0){return um(this,Cm,Nm,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),nm.prototype.writeBigInt64BE=Cg(function(Cm,Nm=0){return wm(this,Cm,Nm,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function xm(Fm,Cm,Nm,Gm,Jm,yg){if(Nm+Gm>Fm.length)throw new RangeError("Index out of range");if(Nm<0)throw new RangeError("Index out of range")}function Tm(Fm,Cm,Nm,Gm,Jm){return Cm=+Cm,Nm=Nm>>>0,Jm||xm(Fm,Cm,Nm,4),sf.write(Fm,Cm,Nm,Gm,23,4),Nm+4}nm.prototype.writeFloatLE=function(Cm,Nm,Gm){return Tm(this,Cm,Nm,!0,Gm)},nm.prototype.writeFloatBE=function(Cm,Nm,Gm){return Tm(this,Cm,Nm,!1,Gm)};function Om(Fm,Cm,Nm,Gm,Jm){return Cm=+Cm,Nm=Nm>>>0,Jm||xm(Fm,Cm,Nm,8),sf.write(Fm,Cm,Nm,Gm,52,8),Nm+8}nm.prototype.writeDoubleLE=function(Cm,Nm,Gm){return Om(this,Cm,Nm,!0,Gm)},nm.prototype.writeDoubleBE=function(Cm,Nm,Gm){return Om(this,Cm,Nm,!1,Gm)},nm.prototype.copy=function(Cm,Nm,Gm,Jm){if(!nm.isBuffer(Cm))throw new TypeError("argument should be a Buffer");if(Gm||(Gm=0),!Jm&&Jm!==0&&(Jm=this.length),Nm>=Cm.length&&(Nm=Cm.length),Nm||(Nm=0),Jm>0&&Jm<Gm&&(Jm=Gm),Jm===Gm||Cm.length===0||this.length===0)return 0;if(Nm<0)throw new RangeError("targetStart out of bounds");if(Gm<0||Gm>=this.length)throw new RangeError("Index out of range");if(Jm<0)throw new RangeError("sourceEnd out of bounds");Jm>this.length&&(Jm=this.length),Cm.length-Nm<Jm-Gm&&(Jm=Cm.length-Nm+Gm);const yg=Jm-Gm;return this===Cm&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Nm,Gm,Jm):Uint8Array.prototype.set.call(Cm,this.subarray(Gm,Jm),Nm),yg},nm.prototype.fill=function(Cm,Nm,Gm,Jm){if(typeof Cm=="string"){if(typeof Nm=="string"?(Jm=Nm,Nm=0,Gm=this.length):typeof Gm=="string"&&(Jm=Gm,Gm=this.length),Jm!==void 0&&typeof Jm!="string")throw new TypeError("encoding must be a string");if(typeof Jm=="string"&&!nm.isEncoding(Jm))throw new TypeError("Unknown encoding: "+Jm);if(Cm.length===1){const wg=Cm.charCodeAt(0);(Jm==="utf8"&&wg<128||Jm==="latin1")&&(Cm=wg)}}else typeof Cm=="number"?Cm=Cm&255:typeof Cm=="boolean"&&(Cm=Number(Cm));if(Nm<0||this.length<Nm||this.length<Gm)throw new RangeError("Out of range index");if(Gm<=Nm)return this;Nm=Nm>>>0,Gm=Gm===void 0?this.length:Gm>>>0,Cm||(Cm=0);let yg;if(typeof Cm=="number")for(yg=Nm;yg<Gm;++yg)this[yg]=Cm;else{const wg=nm.isBuffer(Cm)?Cm:nm.from(Cm,Jm),Tg=wg.length;if(Tg===0)throw new TypeError('The value "'+Cm+'" is invalid for argument "value"');for(yg=0;yg<Gm-Nm;++yg)this[yg+Nm]=wg[yg%Tg]}return this};const Hm={};function Km(Fm,Cm,Nm){Hm[Fm]=class extends Nm{constructor(){super(),Object.defineProperty(this,"message",{value:Cm.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${Fm}]`,this.stack,delete this.name}get code(){return Fm}set code(Jm){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Jm,writable:!0})}toString(){return`${this.name} [${Fm}]: ${this.message}`}}}Km("ERR_BUFFER_OUT_OF_BOUNDS",function(Fm){return Fm?`${Fm} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Km("ERR_INVALID_ARG_TYPE",function(Fm,Cm){return`The "${Fm}" argument must be of type number. Received type ${typeof Cm}`},TypeError),Km("ERR_OUT_OF_RANGE",function(Fm,Cm,Nm){let Gm=`The value of "${Fm}" is out of range.`,Jm=Nm;return Number.isInteger(Nm)&&Math.abs(Nm)>2**32?Jm=Zm(String(Nm)):typeof Nm=="bigint"&&(Jm=String(Nm),(Nm>BigInt(2)**BigInt(32)||Nm<-(BigInt(2)**BigInt(32)))&&(Jm=Zm(Jm)),Jm+="n"),Gm+=` It must be ${Cm}. Received ${Jm}`,Gm},RangeError);function Zm(Fm){let Cm="",Nm=Fm.length;const Gm=Fm[0]==="-"?1:0;for(;Nm>=Gm+4;Nm-=3)Cm=`_${Fm.slice(Nm-3,Nm)}${Cm}`;return`${Fm.slice(0,Nm)}${Cm}`}function Vm(Fm,Cm,Nm){Wm(Cm,"offset"),(Fm[Cm]===void 0||Fm[Cm+Nm]===void 0)&&Ym(Cm,Fm.length-(Nm+1))}function zm(Fm,Cm,Nm,Gm,Jm,yg){if(Fm>Nm||Fm<Cm){const wg=typeof Cm=="bigint"?"n":"";let Tg;throw Cm===0||Cm===BigInt(0)?Tg=`>= 0${wg} and < 2${wg} ** ${(yg+1)*8}${wg}`:Tg=`>= -(2${wg} ** ${(yg+1)*8-1}${wg}) and < 2 ** ${(yg+1)*8-1}${wg}`,new Hm.ERR_OUT_OF_RANGE("value",Tg,Fm)}Vm(Gm,Jm,yg)}function Wm(Fm,Cm){if(typeof Fm!="number")throw new Hm.ERR_INVALID_ARG_TYPE(Cm,"number",Fm)}function Ym(Fm,Cm,Nm){throw Math.floor(Fm)!==Fm?(Wm(Fm,Nm),new Hm.ERR_OUT_OF_RANGE("offset","an integer",Fm)):Cm<0?new Hm.ERR_BUFFER_OUT_OF_BOUNDS:new Hm.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${Cm}`,Fm)}const Qm=/[^+/0-9A-Za-z-_]/g;function mg(Fm){if(Fm=Fm.split("=")[0],Fm=Fm.trim().replace(Qm,""),Fm.length<2)return"";for(;Fm.length%4!==0;)Fm=Fm+"=";return Fm}function bg(Fm,Cm){Cm=Cm||1/0;let Nm;const Gm=Fm.length;let Jm=null;const yg=[];for(let wg=0;wg<Gm;++wg){if(Nm=Fm.charCodeAt(wg),Nm>55295&&Nm<57344){if(!Jm){if(Nm>56319){(Cm-=3)>-1&&yg.push(239,191,189);continue}else if(wg+1===Gm){(Cm-=3)>-1&&yg.push(239,191,189);continue}Jm=Nm;continue}if(Nm<56320){(Cm-=3)>-1&&yg.push(239,191,189),Jm=Nm;continue}Nm=(Jm-55296<<10|Nm-56320)+65536}else Jm&&(Cm-=3)>-1&&yg.push(239,191,189);if(Jm=null,Nm<128){if((Cm-=1)<0)break;yg.push(Nm)}else if(Nm<2048){if((Cm-=2)<0)break;yg.push(Nm>>6|192,Nm&63|128)}else if(Nm<65536){if((Cm-=3)<0)break;yg.push(Nm>>12|224,Nm>>6&63|128,Nm&63|128)}else if(Nm<1114112){if((Cm-=4)<0)break;yg.push(Nm>>18|240,Nm>>12&63|128,Nm>>6&63|128,Nm&63|128)}else throw new Error("Invalid code point")}return yg}function vg(Fm){const Cm=[];for(let Nm=0;Nm<Fm.length;++Nm)Cm.push(Fm.charCodeAt(Nm)&255);return Cm}function Xm(Fm,Cm){let Nm,Gm,Jm;const yg=[];for(let wg=0;wg<Fm.length&&!((Cm-=2)<0);++wg)Nm=Fm.charCodeAt(wg),Gm=Nm>>8,Jm=Nm%256,yg.push(Jm),yg.push(Gm);return yg}function Eg(Fm){return s.toByteArray(mg(Fm))}function _g(Fm,Cm,Nm,Gm){let Jm;for(Jm=0;Jm<Gm&&!(Jm+Nm>=Cm.length||Jm>=Fm.length);++Jm)Cm[Jm+Nm]=Fm[Jm];return Jm}function Ag(Fm,Cm){return Fm instanceof Cm||Fm!=null&&Fm.constructor!=null&&Fm.constructor.name!=null&&Fm.constructor.name===Cm.name}function kg(Fm){return Fm!==Fm}const xg=function(){const Fm="0123456789abcdef",Cm=new Array(256);for(let Nm=0;Nm<16;++Nm){const Gm=Nm*16;for(let Jm=0;Jm<16;++Jm)Cm[Gm+Jm]=Fm[Nm]+Fm[Jm]}return Cm}();function Cg(Fm){return typeof BigInt>"u"?Sg:Fm}function Sg(){throw new Error("BigInt not supported")}}(buffer)),buffer}var bufferExports=requireBuffer();function anumber(r){if(!Number.isSafeInteger(r)||r<0)throw new Error("positive integer expected, got "+r)}function isBytes$1(r){return r instanceof Uint8Array||ArrayBuffer.isView(r)&&r.constructor.name==="Uint8Array"}function abytes$1(r,...s){if(!isBytes$1(r))throw new Error("Uint8Array expected");if(s.length>0&&!s.includes(r.length))throw new Error("Uint8Array expected of length "+s+", got length="+r.length)}function ahash(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");anumber(r.outputLen),anumber(r.blockLen)}function aexists(r,s=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(s&&r.finished)throw new Error("Hash#digest() has already been called")}function aoutput(r,s){abytes$1(r);const sf=s.outputLen;if(r.length<sf)throw new Error("digestInto() expects output buffer of length at least "+sf)}const crypto$1=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function createView(r){return new DataView(r.buffer,r.byteOffset,r.byteLength)}function rotr(r,s){return r<<32-s|r>>>s}typeof Uint8Array.from([]).toHex=="function"&&Uint8Array.fromHex;function utf8ToBytes(r){if(typeof r!="string")throw new Error("utf8ToBytes expected string, got "+typeof r);return new Uint8Array(new TextEncoder().encode(r))}function toBytes(r){return typeof r=="string"&&(r=utf8ToBytes(r)),abytes$1(r),r}function concatBytes$1(...r){let s=0;for(let Nf=0;Nf<r.length;Nf++){const ip=r[Nf];abytes$1(ip),s+=ip.length}const sf=new Uint8Array(s);for(let Nf=0,ip=0;Nf<r.length;Nf++){const em=r[Nf];sf.set(em,ip),ip+=em.length}return sf}class Hash{clone(){return this._cloneInto()}}function wrapConstructor(r){const s=Nf=>r().update(toBytes(Nf)).digest(),sf=r();return s.outputLen=sf.outputLen,s.blockLen=sf.blockLen,s.create=()=>r(),s}function randomBytes(r=32){if(crypto$1&&typeof crypto$1.getRandomValues=="function")return crypto$1.getRandomValues(new Uint8Array(r));if(crypto$1&&typeof crypto$1.randomBytes=="function")return Uint8Array.from(crypto$1.randomBytes(r));throw new Error("crypto.getRandomValues must be defined")}function setBigUint64(r,s,sf,Nf){if(typeof r.setBigUint64=="function")return r.setBigUint64(s,sf,Nf);const ip=BigInt(32),em=BigInt(0xffffffff),tm=Number(sf>>ip&em),nm=Number(sf&em),rm=Nf?4:0,om=Nf?0:4;r.setUint32(s+rm,tm,Nf),r.setUint32(s+om,nm,Nf)}function Chi(r,s,sf){return r&s^~r&sf}function Maj(r,s,sf){return r&s^r&sf^s&sf}class HashMD extends Hash{constructor(s,sf,Nf,ip){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=s,this.outputLen=sf,this.padOffset=Nf,this.isLE=ip,this.buffer=new Uint8Array(s),this.view=createView(this.buffer)}update(s){aexists(this);const{view:sf,buffer:Nf,blockLen:ip}=this;s=toBytes(s);const em=s.length;for(let tm=0;tm<em;){const nm=Math.min(ip-this.pos,em-tm);if(nm===ip){const rm=createView(s);for(;ip<=em-tm;tm+=ip)this.process(rm,tm);continue}Nf.set(s.subarray(tm,tm+nm),this.pos),this.pos+=nm,tm+=nm,this.pos===ip&&(this.process(sf,0),this.pos=0)}return this.length+=s.length,this.roundClean(),this}digestInto(s){aexists(this),aoutput(s,this),this.finished=!0;const{buffer:sf,view:Nf,blockLen:ip,isLE:em}=this;let{pos:tm}=this;sf[tm++]=128,this.buffer.subarray(tm).fill(0),this.padOffset>ip-tm&&(this.process(Nf,0),tm=0);for(let am=tm;am<ip;am++)sf[am]=0;setBigUint64(Nf,ip-8,BigInt(this.length*8),em),this.process(Nf,0);const nm=createView(s),rm=this.outputLen;if(rm%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const om=rm/4,im=this.get();if(om>im.length)throw new Error("_sha2: outputLen bigger than state");for(let am=0;am<om;am++)nm.setUint32(4*am,im[am],em)}digest(){const{buffer:s,outputLen:sf}=this;this.digestInto(s);const Nf=s.slice(0,sf);return this.destroy(),Nf}_cloneInto(s){s||(s=new this.constructor),s.set(...this.get());const{blockLen:sf,buffer:Nf,length:ip,finished:em,destroyed:tm,pos:nm}=this;return s.length=ip,s.pos=nm,s.finished=em,s.destroyed=tm,ip%sf&&s.buffer.set(Nf),s}}const SHA256_K=new Uint32Array([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),SHA256_IV=new Uint32Array([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]),SHA256_W=new Uint32Array(64);class SHA256 extends HashMD{constructor(s=32){super(64,s,8,!1),this.A=SHA256_IV[0]|0,this.B=SHA256_IV[1]|0,this.C=SHA256_IV[2]|0,this.D=SHA256_IV[3]|0,this.E=SHA256_IV[4]|0,this.F=SHA256_IV[5]|0,this.G=SHA256_IV[6]|0,this.H=SHA256_IV[7]|0}get(){const{A:s,B:sf,C:Nf,D:ip,E:em,F:tm,G:nm,H:rm}=this;return[s,sf,Nf,ip,em,tm,nm,rm]}set(s,sf,Nf,ip,em,tm,nm,rm){this.A=s|0,this.B=sf|0,this.C=Nf|0,this.D=ip|0,this.E=em|0,this.F=tm|0,this.G=nm|0,this.H=rm|0}process(s,sf){for(let am=0;am<16;am++,sf+=4)SHA256_W[am]=s.getUint32(sf,!1);for(let am=16;am<64;am++){const sm=SHA256_W[am-15],cm=SHA256_W[am-2],hm=rotr(sm,7)^rotr(sm,18)^sm>>>3,fm=rotr(cm,17)^rotr(cm,19)^cm>>>10;SHA256_W[am]=fm+SHA256_W[am-7]+hm+SHA256_W[am-16]|0}let{A:Nf,B:ip,C:em,D:tm,E:nm,F:rm,G:om,H:im}=this;for(let am=0;am<64;am++){const sm=rotr(nm,6)^rotr(nm,11)^rotr(nm,25),cm=im+sm+Chi(nm,rm,om)+SHA256_K[am]+SHA256_W[am]|0,fm=(rotr(Nf,2)^rotr(Nf,13)^rotr(Nf,22))+Maj(Nf,ip,em)|0;im=om,om=rm,rm=nm,nm=tm+cm|0,tm=em,em=ip,ip=Nf,Nf=cm+fm|0}Nf=Nf+this.A|0,ip=ip+this.B|0,em=em+this.C|0,tm=tm+this.D|0,nm=nm+this.E|0,rm=rm+this.F|0,om=om+this.G|0,im=im+this.H|0,this.set(Nf,ip,em,tm,nm,rm,om,im)}roundClean(){SHA256_W.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const sha256=wrapConstructor(()=>new SHA256),U32_MASK64=BigInt(2**32-1),_32n=BigInt(32);function fromBig(r,s=!1){return s?{h:Number(r&U32_MASK64),l:Number(r>>_32n&U32_MASK64)}:{h:Number(r>>_32n&U32_MASK64)|0,l:Number(r&U32_MASK64)|0}}function split(r,s=!1){let sf=new Uint32Array(r.length),Nf=new Uint32Array(r.length);for(let ip=0;ip<r.length;ip++){const{h:em,l:tm}=fromBig(r[ip],s);[sf[ip],Nf[ip]]=[em,tm]}return[sf,Nf]}const toBig=(r,s)=>BigInt(r>>>0)<<_32n|BigInt(s>>>0),shrSH=(r,s,sf)=>r>>>sf,shrSL=(r,s,sf)=>r<<32-sf|s>>>sf,rotrSH=(r,s,sf)=>r>>>sf|s<<32-sf,rotrSL=(r,s,sf)=>r<<32-sf|s>>>sf,rotrBH=(r,s,sf)=>r<<64-sf|s>>>sf-32,rotrBL=(r,s,sf)=>r>>>sf-32|s<<64-sf,rotr32H=(r,s)=>s,rotr32L=(r,s)=>r,rotlSH=(r,s,sf)=>r<<sf|s>>>32-sf,rotlSL=(r,s,sf)=>s<<sf|r>>>32-sf,rotlBH=(r,s,sf)=>s<<sf-32|r>>>64-sf,rotlBL=(r,s,sf)=>r<<sf-32|s>>>64-sf;function add(r,s,sf,Nf){const ip=(s>>>0)+(Nf>>>0);return{h:r+sf+(ip/2**32|0)|0,l:ip|0}}const add3L=(r,s,sf)=>(r>>>0)+(s>>>0)+(sf>>>0),add3H=(r,s,sf,Nf)=>s+sf+Nf+(r/2**32|0)|0,add4L=(r,s,sf,Nf)=>(r>>>0)+(s>>>0)+(sf>>>0)+(Nf>>>0),add4H=(r,s,sf,Nf,ip)=>s+sf+Nf+ip+(r/2**32|0)|0,add5L=(r,s,sf,Nf,ip)=>(r>>>0)+(s>>>0)+(sf>>>0)+(Nf>>>0)+(ip>>>0),add5H=(r,s,sf,Nf,ip,em)=>s+sf+Nf+ip+em+(r/2**32|0)|0,u64$1={fromBig,split,toBig,shrSH,shrSL,rotrSH,rotrSL,rotrBH,rotrBL,rotr32H,rotr32L,rotlSH,rotlSL,rotlBH,rotlBL,add,add3L,add3H,add4L,add4H,add5H,add5L},[SHA512_Kh,SHA512_Kl]=u64$1.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))),SHA512_W_H=new Uint32Array(80),SHA512_W_L=new Uint32Array(80);class SHA512 extends HashMD{constructor(s=64){super(128,s,16,!1),this.Ah=0x6a09e667,this.Al=-0xc4336f8,this.Bh=-0x4498517b,this.Bl=-0x7b3558c5,this.Ch=0x3c6ef372,this.Cl=-0x16b07d5,this.Dh=-0x5ab00ac6,this.Dl=0x5f1d36f1,this.Eh=0x510e527f,this.El=-0x52197d2f,this.Fh=-0x64fa9774,this.Fl=0x2b3e6c1f,this.Gh=0x1f83d9ab,this.Gl=-0x4be4295,this.Hh=0x5be0cd19,this.Hl=0x137e2179}get(){const{Ah:s,Al:sf,Bh:Nf,Bl:ip,Ch:em,Cl:tm,Dh:nm,Dl:rm,Eh:om,El:im,Fh:am,Fl:sm,Gh:cm,Gl:hm,Hh:fm,Hl:pm}=this;return[s,sf,Nf,ip,em,tm,nm,rm,om,im,am,sm,cm,hm,fm,pm]}set(s,sf,Nf,ip,em,tm,nm,rm,om,im,am,sm,cm,hm,fm,pm){this.Ah=s|0,this.Al=sf|0,this.Bh=Nf|0,this.Bl=ip|0,this.Ch=em|0,this.Cl=tm|0,this.Dh=nm|0,this.Dl=rm|0,this.Eh=om|0,this.El=im|0,this.Fh=am|0,this.Fl=sm|0,this.Gh=cm|0,this.Gl=hm|0,this.Hh=fm|0,this.Hl=pm|0}process(s,sf){for(let ym=0;ym<16;ym++,sf+=4)SHA512_W_H[ym]=s.getUint32(sf),SHA512_W_L[ym]=s.getUint32(sf+=4);for(let ym=16;ym<80;ym++){const Sm=SHA512_W_H[ym-15]|0,jm=SHA512_W_L[ym-15]|0,Pm=u64$1.rotrSH(Sm,jm,1)^u64$1.rotrSH(Sm,jm,8)^u64$1.shrSH(Sm,jm,7),Bm=u64$1.rotrSL(Sm,jm,1)^u64$1.rotrSL(Sm,jm,8)^u64$1.shrSL(Sm,jm,7),qm=SHA512_W_H[ym-2]|0,Rm=SHA512_W_L[ym-2]|0,Dm=u64$1.rotrSH(qm,Rm,19)^u64$1.rotrBH(qm,Rm,61)^u64$1.shrSH(qm,Rm,6),Um=u64$1.rotrSL(qm,Rm,19)^u64$1.rotrBL(qm,Rm,61)^u64$1.shrSL(qm,Rm,6),Lm=u64$1.add4L(Bm,Um,SHA512_W_L[ym-7],SHA512_W_L[ym-16]),Im=u64$1.add4H(Lm,Pm,Dm,SHA512_W_H[ym-7],SHA512_W_H[ym-16]);SHA512_W_H[ym]=Im|0,SHA512_W_L[ym]=Lm|0}let{Ah:Nf,Al:ip,Bh:em,Bl:tm,Ch:nm,Cl:rm,Dh:om,Dl:im,Eh:am,El:sm,Fh:cm,Fl:hm,Gh:fm,Gl:pm,Hh:mm,Hl:_m}=this;for(let ym=0;ym<80;ym++){const Sm=u64$1.rotrSH(am,sm,14)^u64$1.rotrSH(am,sm,18)^u64$1.rotrBH(am,sm,41),jm=u64$1.rotrSL(am,sm,14)^u64$1.rotrSL(am,sm,18)^u64$1.rotrBL(am,sm,41),Pm=am&cm^~am&fm,Bm=sm&hm^~sm&pm,qm=u64$1.add5L(_m,jm,Bm,SHA512_Kl[ym],SHA512_W_L[ym]),Rm=u64$1.add5H(qm,mm,Sm,Pm,SHA512_Kh[ym],SHA512_W_H[ym]),Dm=qm|0,Um=u64$1.rotrSH(Nf,ip,28)^u64$1.rotrBH(Nf,ip,34)^u64$1.rotrBH(Nf,ip,39),Lm=u64$1.rotrSL(Nf,ip,28)^u64$1.rotrBL(Nf,ip,34)^u64$1.rotrBL(Nf,ip,39),Im=Nf&em^Nf&nm^em&nm,dm=ip&tm^ip&rm^tm&rm;mm=fm|0,_m=pm|0,fm=cm|0,pm=hm|0,cm=am|0,hm=sm|0,{h:am,l:sm}=u64$1.add(om|0,im|0,Rm|0,Dm|0),om=nm|0,im=rm|0,nm=em|0,rm=tm|0,em=Nf|0,tm=ip|0;const gm=u64$1.add3L(Dm,Lm,dm);Nf=u64$1.add3H(gm,Rm,Um,Im),ip=gm|0}({h:Nf,l:ip}=u64$1.add(this.Ah|0,this.Al|0,Nf|0,ip|0)),{h:em,l:tm}=u64$1.add(this.Bh|0,this.Bl|0,em|0,tm|0),{h:nm,l:rm}=u64$1.add(this.Ch|0,this.Cl|0,nm|0,rm|0),{h:om,l:im}=u64$1.add(this.Dh|0,this.Dl|0,om|0,im|0),{h:am,l:sm}=u64$1.add(this.Eh|0,this.El|0,am|0,sm|0),{h:cm,l:hm}=u64$1.add(this.Fh|0,this.Fl|0,cm|0,hm|0),{h:fm,l:pm}=u64$1.add(this.Gh|0,this.Gl|0,fm|0,pm|0),{h:mm,l:_m}=u64$1.add(this.Hh|0,this.Hl|0,mm|0,_m|0),this.set(Nf,ip,em,tm,nm,rm,om,im,am,sm,cm,hm,fm,pm,mm,_m)}roundClean(){SHA512_W_H.fill(0),SHA512_W_L.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const sha512=wrapConstructor(()=>new SHA512);const _0n$4=BigInt(0),_1n$6=BigInt(1);function isBytes(r){return r instanceof Uint8Array||ArrayBuffer.isView(r)&&r.constructor.name==="Uint8Array"}function abytes(r){if(!isBytes(r))throw new Error("Uint8Array expected")}function abool(r,s){if(typeof s!="boolean")throw new Error(r+" boolean expected, got "+s)}function numberToHexUnpadded(r){const s=r.toString(16);return s.length&1?"0"+s:s}function hexToNumber(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);return r===""?_0n$4:BigInt("0x"+r)}const hasHexBuiltin=(typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function"),hexes=Array.from({length:256},(r,s)=>s.toString(16).padStart(2,"0"));function bytesToHex(r){if(abytes(r),hasHexBuiltin)return r.toHex();let s="";for(let sf=0;sf<r.length;sf++)s+=hexes[r[sf]];return s}const asciis={_0:48,_9:57,A:65,F:70,a:97,f:102};function asciiToBase16(r){if(r>=asciis._0&&r<=asciis._9)return r-asciis._0;if(r>=asciis.A&&r<=asciis.F)return r-(asciis.A-10);if(r>=asciis.a&&r<=asciis.f)return r-(asciis.a-10)}function hexToBytes(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);if(hasHexBuiltin)return Uint8Array.fromHex(r);const s=r.length,sf=s/2;if(s%2)throw new Error("hex string expected, got unpadded hex of length "+s);const Nf=new Uint8Array(sf);for(let ip=0,em=0;ip<sf;ip++,em+=2){const tm=asciiToBase16(r.charCodeAt(em)),nm=asciiToBase16(r.charCodeAt(em+1));if(tm===void 0||nm===void 0){const rm=r[em]+r[em+1];throw new Error('hex string expected, got non-hex character "'+rm+'" at index '+em)}Nf[ip]=tm*16+nm}return Nf}function bytesToNumberBE(r){return hexToNumber(bytesToHex(r))}function bytesToNumberLE(r){return abytes(r),hexToNumber(bytesToHex(Uint8Array.from(r).reverse()))}function numberToBytesBE(r,s){return hexToBytes(r.toString(16).padStart(s*2,"0"))}function numberToBytesLE(r,s){return numberToBytesBE(r,s).reverse()}function ensureBytes(r,s,sf){let Nf;if(typeof s=="string")try{Nf=hexToBytes(s)}catch(em){throw new Error(r+" must be hex string or Uint8Array, cause: "+em)}else if(isBytes(s))Nf=Uint8Array.from(s);else throw new Error(r+" must be hex string or Uint8Array");const ip=Nf.length;if(typeof sf=="number"&&ip!==sf)throw new Error(r+" of length "+sf+" expected, got "+ip);return Nf}function concatBytes(...r){let s=0;for(let Nf=0;Nf<r.length;Nf++){const ip=r[Nf];abytes(ip),s+=ip.length}const sf=new Uint8Array(s);for(let Nf=0,ip=0;Nf<r.length;Nf++){const em=r[Nf];sf.set(em,ip),ip+=em.length}return sf}const isPosBig=r=>typeof r=="bigint"&&_0n$4<=r;function inRange$1(r,s,sf){return isPosBig(r)&&isPosBig(s)&&isPosBig(sf)&&s<=r&&r<sf}function aInRange(r,s,sf,Nf){if(!inRange$1(s,sf,Nf))throw new Error("expected valid "+r+": "+sf+" <= n < "+Nf+", got "+s)}function bitLen(r){let s;for(s=0;r>_0n$4;r>>=_1n$6,s+=1);return s}const bitMask=r=>(_1n$6<<BigInt(r))-_1n$6,u8n=r=>new Uint8Array(r),u8fr=r=>Uint8Array.from(r);function createHmacDrbg(r,s,sf){if(typeof r!="number"||r<2)throw new Error("hashLen must be a number");if(typeof s!="number"||s<2)throw new Error("qByteLen must be a number");if(typeof sf!="function")throw new Error("hmacFn must be a function");let Nf=u8n(r),ip=u8n(r),em=0;const tm=()=>{Nf.fill(1),ip.fill(0),em=0},nm=(...am)=>sf(ip,Nf,...am),rm=(am=u8n(0))=>{ip=nm(u8fr([0]),am),Nf=nm(),am.length!==0&&(ip=nm(u8fr([1]),am),Nf=nm())},om=()=>{if(em++>=1e3)throw new Error("drbg: tried 1000 values");let am=0;const sm=[];for(;am<s;){Nf=nm();const cm=Nf.slice();sm.push(cm),am+=Nf.length}return concatBytes(...sm)};return(am,sm)=>{tm(),rm(am);let cm;for(;!(cm=sm(om()));)rm();return tm(),cm}}const validatorFns={bigint:r=>typeof r=="bigint",function:r=>typeof r=="function",boolean:r=>typeof r=="boolean",string:r=>typeof r=="string",stringOrUint8Array:r=>typeof r=="string"||isBytes(r),isSafeInteger:r=>Number.isSafeInteger(r),array:r=>Array.isArray(r),field:(r,s)=>s.Fp.isValid(r),hash:r=>typeof r=="function"&&Number.isSafeInteger(r.outputLen)};function validateObject(r,s,sf={}){const Nf=(ip,em,tm)=>{const nm=validatorFns[em];if(typeof nm!="function")throw new Error("invalid validator function");const rm=r[ip];if(!(tm&&rm===void 0)&&!nm(rm,r))throw new Error("param "+String(ip)+" is invalid. Expected "+em+", got "+rm)};for(const[ip,em]of Object.entries(s))Nf(ip,em,!1);for(const[ip,em]of Object.entries(sf))Nf(ip,em,!0);return r}function memoized(r){const s=new WeakMap;return(sf,...Nf)=>{const ip=s.get(sf);if(ip!==void 0)return ip;const em=r(sf,...Nf);return s.set(sf,em),em}}const _0n$3=BigInt(0),_1n$5=BigInt(1),_2n$3=BigInt(2),_3n$1=BigInt(3),_4n=BigInt(4),_5n$1=BigInt(5),_8n$2=BigInt(8);function mod(r,s){const sf=r%s;return sf>=_0n$3?sf:s+sf}function pow(r,s,sf){if(s<_0n$3)throw new Error("invalid exponent, negatives unsupported");if(sf<=_0n$3)throw new Error("invalid modulus");if(sf===_1n$5)return _0n$3;let Nf=_1n$5;for(;s>_0n$3;)s&_1n$5&&(Nf=Nf*r%sf),r=r*r%sf,s>>=_1n$5;return Nf}function pow2(r,s,sf){let Nf=r;for(;s-- >_0n$3;)Nf*=Nf,Nf%=sf;return Nf}function invert(r,s){if(r===_0n$3)throw new Error("invert: expected non-zero number");if(s<=_0n$3)throw new Error("invert: expected positive modulus, got "+s);let sf=mod(r,s),Nf=s,ip=_0n$3,em=_1n$5;for(;sf!==_0n$3;){const nm=Nf/sf,rm=Nf%sf,om=ip-em*nm;Nf=sf,sf=rm,ip=em,em=om}if(Nf!==_1n$5)throw new Error("invert: does not exist");return mod(ip,s)}function tonelliShanks(r){const s=(r-_1n$5)/_2n$3;let sf,Nf,ip;for(sf=r-_1n$5,Nf=0;sf%_2n$3===_0n$3;sf/=_2n$3,Nf++);for(ip=_2n$3;ip<r&&pow(ip,s,r)!==r-_1n$5;ip++)if(ip>1e3)throw new Error("Cannot find square root: likely non-prime P");if(Nf===1){const tm=(r+_1n$5)/_4n;return function(rm,om){const im=rm.pow(om,tm);if(!rm.eql(rm.sqr(im),om))throw new Error("Cannot find square root");return im}}const em=(sf+_1n$5)/_2n$3;return function(nm,rm){if(nm.pow(rm,s)===nm.neg(nm.ONE))throw new Error("Cannot find square root");let om=Nf,im=nm.pow(nm.mul(nm.ONE,ip),sf),am=nm.pow(rm,em),sm=nm.pow(rm,sf);for(;!nm.eql(sm,nm.ONE);){if(nm.eql(sm,nm.ZERO))return nm.ZERO;let cm=1;for(let fm=nm.sqr(sm);cm<om&&!nm.eql(fm,nm.ONE);cm++)fm=nm.sqr(fm);const hm=nm.pow(im,_1n$5<<BigInt(om-cm-1));im=nm.sqr(hm),am=nm.mul(am,hm),sm=nm.mul(sm,im),om=cm}return am}}function FpSqrt(r){if(r%_4n===_3n$1){const s=(r+_1n$5)/_4n;return function(Nf,ip){const em=Nf.pow(ip,s);if(!Nf.eql(Nf.sqr(em),ip))throw new Error("Cannot find square root");return em}}if(r%_8n$2===_5n$1){const s=(r-_5n$1)/_8n$2;return function(Nf,ip){const em=Nf.mul(ip,_2n$3),tm=Nf.pow(em,s),nm=Nf.mul(ip,tm),rm=Nf.mul(Nf.mul(nm,_2n$3),tm),om=Nf.mul(nm,Nf.sub(rm,Nf.ONE));if(!Nf.eql(Nf.sqr(om),ip))throw new Error("Cannot find square root");return om}}return tonelliShanks(r)}const isNegativeLE=(r,s)=>(mod(r,s)&_1n$5)===_1n$5,FIELD_FIELDS=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function validateField(r){const s={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},sf=FIELD_FIELDS.reduce((Nf,ip)=>(Nf[ip]="function",Nf),s);return validateObject(r,sf)}function FpPow(r,s,sf){if(sf<_0n$3)throw new Error("invalid exponent, negatives unsupported");if(sf===_0n$3)return r.ONE;if(sf===_1n$5)return s;let Nf=r.ONE,ip=s;for(;sf>_0n$3;)sf&_1n$5&&(Nf=r.mul(Nf,ip)),ip=r.sqr(ip),sf>>=_1n$5;return Nf}function FpInvertBatch(r,s){const sf=new Array(s.length),Nf=s.reduce((em,tm,nm)=>r.is0(tm)?em:(sf[nm]=em,r.mul(em,tm)),r.ONE),ip=r.inv(Nf);return s.reduceRight((em,tm,nm)=>r.is0(tm)?em:(sf[nm]=r.mul(em,sf[nm]),r.mul(em,tm)),ip),sf}function nLength(r,s){const sf=s!==void 0?s:r.toString(2).length,Nf=Math.ceil(sf/8);return{nBitLength:sf,nByteLength:Nf}}function Field(r,s,sf=!1,Nf={}){if(r<=_0n$3)throw new Error("invalid field: expected ORDER > 0, got "+r);const{nBitLength:ip,nByteLength:em}=nLength(r,s);if(em>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let tm;const nm=Object.freeze({ORDER:r,isLE:sf,BITS:ip,BYTES:em,MASK:bitMask(ip),ZERO:_0n$3,ONE:_1n$5,create:rm=>mod(rm,r),isValid:rm=>{if(typeof rm!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof rm);return _0n$3<=rm&&rm<r},is0:rm=>rm===_0n$3,isOdd:rm=>(rm&_1n$5)===_1n$5,neg:rm=>mod(-rm,r),eql:(rm,om)=>rm===om,sqr:rm=>mod(rm*rm,r),add:(rm,om)=>mod(rm+om,r),sub:(rm,om)=>mod(rm-om,r),mul:(rm,om)=>mod(rm*om,r),pow:(rm,om)=>FpPow(nm,rm,om),div:(rm,om)=>mod(rm*invert(om,r),r),sqrN:rm=>rm*rm,addN:(rm,om)=>rm+om,subN:(rm,om)=>rm-om,mulN:(rm,om)=>rm*om,inv:rm=>invert(rm,r),sqrt:Nf.sqrt||(rm=>(tm||(tm=FpSqrt(r)),tm(nm,rm))),invertBatch:rm=>FpInvertBatch(nm,rm),cmov:(rm,om,im)=>im?om:rm,toBytes:rm=>sf?numberToBytesLE(rm,em):numberToBytesBE(rm,em),fromBytes:rm=>{if(rm.length!==em)throw new Error("Field.fromBytes: expected "+em+" bytes, got "+rm.length);return sf?bytesToNumberLE(rm):bytesToNumberBE(rm)}});return Object.freeze(nm)}function getFieldBytesLength(r){if(typeof r!="bigint")throw new Error("field order must be bigint");const s=r.toString(2).length;return Math.ceil(s/8)}function getMinHashLength(r){const s=getFieldBytesLength(r);return s+Math.ceil(s/2)}function mapHashToField(r,s,sf=!1){const Nf=r.length,ip=getFieldBytesLength(s),em=getMinHashLength(s);if(Nf<16||Nf<em||Nf>1024)throw new Error("expected "+em+"-1024 bytes of input, got "+Nf);const tm=sf?bytesToNumberLE(r):bytesToNumberBE(r),nm=mod(tm,s-_1n$5)+_1n$5;return sf?numberToBytesLE(nm,ip):numberToBytesBE(nm,ip)}const _0n$2=BigInt(0),_1n$4=BigInt(1);function constTimeNegate(r,s){const sf=s.negate();return r?sf:s}function validateW(r,s){if(!Number.isSafeInteger(r)||r<=0||r>s)throw new Error("invalid window size, expected [1.."+s+"], got W="+r)}function calcWOpts(r,s){validateW(r,s);const sf=Math.ceil(s/r)+1,Nf=2**(r-1),ip=2**r,em=bitMask(r),tm=BigInt(r);return{windows:sf,windowSize:Nf,mask:em,maxNumber:ip,shiftBy:tm}}function calcOffsets(r,s,sf){const{windowSize:Nf,mask:ip,maxNumber:em,shiftBy:tm}=sf;let nm=Number(r&ip),rm=r>>tm;nm>Nf&&(nm-=em,rm+=_1n$4);const om=s*Nf,im=om+Math.abs(nm)-1,am=nm===0,sm=nm<0,cm=s%2!==0;return{nextN:rm,offset:im,isZero:am,isNeg:sm,isNegF:cm,offsetF:om}}function validateMSMPoints(r,s){if(!Array.isArray(r))throw new Error("array expected");r.forEach((sf,Nf)=>{if(!(sf instanceof s))throw new Error("invalid point at index "+Nf)})}function validateMSMScalars(r,s){if(!Array.isArray(r))throw new Error("array of scalars expected");r.forEach((sf,Nf)=>{if(!s.isValid(sf))throw new Error("invalid scalar at index "+Nf)})}const pointPrecomputes=new WeakMap,pointWindowSizes=new WeakMap;function getW(r){return pointWindowSizes.get(r)||1}function wNAF(r,s){return{constTimeNegate,hasPrecomputes(sf){return getW(sf)!==1},unsafeLadder(sf,Nf,ip=r.ZERO){let em=sf;for(;Nf>_0n$2;)Nf&_1n$4&&(ip=ip.add(em)),em=em.double(),Nf>>=_1n$4;return ip},precomputeWindow(sf,Nf){const{windows:ip,windowSize:em}=calcWOpts(Nf,s),tm=[];let nm=sf,rm=nm;for(let om=0;om<ip;om++){rm=nm,tm.push(rm);for(let im=1;im<em;im++)rm=rm.add(nm),tm.push(rm);nm=rm.double()}return tm},wNAF(sf,Nf,ip){let em=r.ZERO,tm=r.BASE;const nm=calcWOpts(sf,s);for(let rm=0;rm<nm.windows;rm++){const{nextN:om,offset:im,isZero:am,isNeg:sm,isNegF:cm,offsetF:hm}=calcOffsets(ip,rm,nm);ip=om,am?tm=tm.add(constTimeNegate(cm,Nf[hm])):em=em.add(constTimeNegate(sm,Nf[im]))}return{p:em,f:tm}},wNAFUnsafe(sf,Nf,ip,em=r.ZERO){const tm=calcWOpts(sf,s);for(let nm=0;nm<tm.windows&&ip!==_0n$2;nm++){const{nextN:rm,offset:om,isZero:im,isNeg:am}=calcOffsets(ip,nm,tm);if(ip=rm,!im){const sm=Nf[om];em=em.add(am?sm.negate():sm)}}return em},getPrecomputes(sf,Nf,ip){let em=pointPrecomputes.get(Nf);return em||(em=this.precomputeWindow(Nf,sf),sf!==1&&pointPrecomputes.set(Nf,ip(em))),em},wNAFCached(sf,Nf,ip){const em=getW(sf);return this.wNAF(em,this.getPrecomputes(em,sf,ip),Nf)},wNAFCachedUnsafe(sf,Nf,ip,em){const tm=getW(sf);return tm===1?this.unsafeLadder(sf,Nf,em):this.wNAFUnsafe(tm,this.getPrecomputes(tm,sf,ip),Nf,em)},setWindowSize(sf,Nf){validateW(Nf,s),pointWindowSizes.set(sf,Nf),pointPrecomputes.delete(sf)}}}function pippenger(r,s,sf,Nf){if(validateMSMPoints(sf,r),validateMSMScalars(Nf,s),sf.length!==Nf.length)throw new Error("arrays of points and scalars must have equal length");const ip=r.ZERO,em=bitLen(BigInt(sf.length)),tm=em>12?em-3:em>4?em-2:em?2:1,nm=bitMask(tm),rm=new Array(Number(nm)+1).fill(ip),om=Math.floor((s.BITS-1)/tm)*tm;let im=ip;for(let am=om;am>=0;am-=tm){rm.fill(ip);for(let cm=0;cm<Nf.length;cm++){const hm=Nf[cm],fm=Number(hm>>BigInt(am)&nm);rm[fm]=rm[fm].add(sf[cm])}let sm=ip;for(let cm=rm.length-1,hm=ip;cm>0;cm--)hm=hm.add(rm[cm]),sm=sm.add(hm);if(im=im.add(sm),am!==0)for(let cm=0;cm<tm;cm++)im=im.double()}return im}function validateBasic(r){return validateField(r.Fp),validateObject(r,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...nLength(r.n,r.nBitLength),...r,p:r.Fp.ORDER})}const _0n$1=BigInt(0),_1n$3=BigInt(1),_2n$2=BigInt(2),_8n$1=BigInt(8),VERIFY_DEFAULT={zip215:!0};function validateOpts$1(r){const s=validateBasic(r);return validateObject(r,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...s})}function twistedEdwards(r){const s=validateOpts$1(r),{Fp:sf,n:Nf,prehash:ip,hash:em,randomBytes:tm,nByteLength:nm,h:rm}=s,om=_2n$2<<BigInt(nm*8)-_1n$3,im=sf.create,am=Field(s.n,s.nBitLength),sm=s.uvRatio||((Mm,bm)=>{try{return{isValid:!0,value:sf.sqrt(Mm*sf.inv(bm))}}catch{return{isValid:!1,value:_0n$1}}}),cm=s.adjustScalarBytes||(Mm=>Mm),hm=s.domain||((Mm,bm,Em)=>{if(abool("phflag",Em),bm.length||Em)throw new Error("Contexts/pre-hash are not supported");return Mm});function fm(Mm,bm,Em=!1){const $m=Em?_1n$3:_0n$1;aInRange("coordinate "+Mm,bm,$m,om)}function pm(Mm){if(!(Mm instanceof ym))throw new Error("ExtendedPoint expected")}const mm=memoized((Mm,bm)=>{const{ex:Em,ey:$m,ez:Am}=Mm,lm=Mm.is0();bm==null&&(bm=lm?_8n$1:sf.inv(Am));const um=im(Em*bm),wm=im($m*bm),xm=im(Am*bm);if(lm)return{x:_0n$1,y:_1n$3};if(xm!==_1n$3)throw new Error("invZ was invalid");return{x:um,y:wm}}),_m=memoized(Mm=>{const{a:bm,d:Em}=s;if(Mm.is0())throw new Error("bad point: ZERO");const{ex:$m,ey:Am,ez:lm,et:um}=Mm,wm=im($m*$m),xm=im(Am*Am),Tm=im(lm*lm),Om=im(Tm*Tm),Hm=im(wm*bm),Km=im(Tm*im(Hm+xm)),Zm=im(Om+im(Em*im(wm*xm)));if(Km!==Zm)throw new Error("bad point: equation left != right (1)");const Vm=im($m*Am),zm=im(lm*um);if(Vm!==zm)throw new Error("bad point: equation left != right (2)");return!0});class ym{constructor(bm,Em,$m,Am){fm("x",bm),fm("y",Em),fm("z",$m,!0),fm("t",Am),this.ex=bm,this.ey=Em,this.ez=$m,this.et=Am,Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(bm){if(bm instanceof ym)throw new Error("extended point not allowed");const{x:Em,y:$m}=bm||{};return fm("x",Em),fm("y",$m),new ym(Em,$m,_1n$3,im(Em*$m))}static normalizeZ(bm){const Em=sf.invertBatch(bm.map($m=>$m.ez));return bm.map(($m,Am)=>$m.toAffine(Em[Am])).map(ym.fromAffine)}static msm(bm,Em){return pippenger(ym,am,bm,Em)}_setWindowSize(bm){Pm.setWindowSize(this,bm)}assertValidity(){_m(this)}equals(bm){pm(bm);const{ex:Em,ey:$m,ez:Am}=this,{ex:lm,ey:um,ez:wm}=bm,xm=im(Em*wm),Tm=im(lm*Am),Om=im($m*wm),Hm=im(um*Am);return xm===Tm&&Om===Hm}is0(){return this.equals(ym.ZERO)}negate(){return new ym(im(-this.ex),this.ey,this.ez,im(-this.et))}double(){const{a:bm}=s,{ex:Em,ey:$m,ez:Am}=this,lm=im(Em*Em),um=im($m*$m),wm=im(_2n$2*im(Am*Am)),xm=im(bm*lm),Tm=Em+$m,Om=im(im(Tm*Tm)-lm-um),Hm=xm+um,Km=Hm-wm,Zm=xm-um,Vm=im(Om*Km),zm=im(Hm*Zm),Wm=im(Om*Zm),Ym=im(Km*Hm);return new ym(Vm,zm,Ym,Wm)}add(bm){pm(bm);const{a:Em,d:$m}=s,{ex:Am,ey:lm,ez:um,et:wm}=this,{ex:xm,ey:Tm,ez:Om,et:Hm}=bm,Km=im(Am*xm),Zm=im(lm*Tm),Vm=im(wm*$m*Hm),zm=im(um*Om),Wm=im((Am+lm)*(xm+Tm)-Km-Zm),Ym=zm-Vm,Qm=zm+Vm,mg=im(Zm-Em*Km),bg=im(Wm*Ym),vg=im(Qm*mg),Xm=im(Wm*mg),Eg=im(Ym*Qm);return new ym(bg,vg,Eg,Xm)}subtract(bm){return this.add(bm.negate())}wNAF(bm){return Pm.wNAFCached(this,bm,ym.normalizeZ)}multiply(bm){const Em=bm;aInRange("scalar",Em,_1n$3,Nf);const{p:$m,f:Am}=this.wNAF(Em);return ym.normalizeZ([$m,Am])[0]}multiplyUnsafe(bm,Em=ym.ZERO){const $m=bm;return aInRange("scalar",$m,_0n$1,Nf),$m===_0n$1?jm:this.is0()||$m===_1n$3?this:Pm.wNAFCachedUnsafe(this,$m,ym.normalizeZ,Em)}isSmallOrder(){return this.multiplyUnsafe(rm).is0()}isTorsionFree(){return Pm.unsafeLadder(this,Nf).is0()}toAffine(bm){return mm(this,bm)}clearCofactor(){const{h:bm}=s;return bm===_1n$3?this:this.multiplyUnsafe(bm)}static fromHex(bm,Em=!1){const{d:$m,a:Am}=s,lm=sf.BYTES;bm=ensureBytes("pointHex",bm,lm),abool("zip215",Em);const um=bm.slice(),wm=bm[lm-1];um[lm-1]=wm&-129;const xm=bytesToNumberLE(um),Tm=Em?om:sf.ORDER;aInRange("pointHex.y",xm,_0n$1,Tm);const Om=im(xm*xm),Hm=im(Om-_1n$3),Km=im($m*Om-Am);let{isValid:Zm,value:Vm}=sm(Hm,Km);if(!Zm)throw new Error("Point.fromHex: invalid y coordinate");const zm=(Vm&_1n$3)===_1n$3,Wm=(wm&128)!==0;if(!Em&&Vm===_0n$1&&Wm)throw new Error("Point.fromHex: x=0 and x_0=1");return Wm!==zm&&(Vm=im(-Vm)),ym.fromAffine({x:Vm,y:xm})}static fromPrivateKey(bm){const{scalar:Em}=Rm(bm);return Sm.multiply(Em)}toRawBytes(){const{x:bm,y:Em}=this.toAffine(),$m=numberToBytesLE(Em,sf.BYTES);return $m[$m.length-1]|=bm&_1n$3?128:0,$m}toHex(){return bytesToHex(this.toRawBytes())}}ym.BASE=new ym(s.Gx,s.Gy,_1n$3,im(s.Gx*s.Gy)),ym.ZERO=new ym(_0n$1,_1n$3,_1n$3,_0n$1);const{BASE:Sm,ZERO:jm}=ym,Pm=wNAF(ym,nm*8);function Bm(Mm){return mod(Mm,Nf)}function qm(Mm){return Bm(bytesToNumberLE(Mm))}function Rm(Mm){const bm=sf.BYTES;Mm=ensureBytes("private key",Mm,bm);const Em=ensureBytes("hashed private key",em(Mm),2*bm),$m=cm(Em.slice(0,bm)),Am=Em.slice(bm,2*bm),lm=qm($m);return{head:$m,prefix:Am,scalar:lm}}function Dm(Mm){const{head:bm,prefix:Em,scalar:$m}=Rm(Mm),Am=Sm.multiply($m),lm=Am.toRawBytes();return{head:bm,prefix:Em,scalar:$m,point:Am,pointBytes:lm}}function Um(Mm){return Dm(Mm).pointBytes}function Lm(Mm=new Uint8Array,...bm){const Em=concatBytes(...bm);return qm(em(hm(Em,ensureBytes("context",Mm),!!ip)))}function Im(Mm,bm,Em={}){Mm=ensureBytes("message",Mm),ip&&(Mm=ip(Mm));const{prefix:$m,scalar:Am,pointBytes:lm}=Dm(bm),um=Lm(Em.context,$m,Mm),wm=Sm.multiply(um).toRawBytes(),xm=Lm(Em.context,wm,lm,Mm),Tm=Bm(um+xm*Am);aInRange("signature.s",Tm,_0n$1,Nf);const Om=concatBytes(wm,numberToBytesLE(Tm,sf.BYTES));return ensureBytes("result",Om,sf.BYTES*2)}const dm=VERIFY_DEFAULT;function gm(Mm,bm,Em,$m=dm){const{context:Am,zip215:lm}=$m,um=sf.BYTES;Mm=ensureBytes("signature",Mm,2*um),bm=ensureBytes("message",bm),Em=ensureBytes("publicKey",Em,um),lm!==void 0&&abool("zip215",lm),ip&&(bm=ip(bm));const wm=bytesToNumberLE(Mm.slice(um,2*um));let xm,Tm,Om;try{xm=ym.fromHex(Em,lm),Tm=ym.fromHex(Mm.slice(0,um),lm),Om=Sm.multiplyUnsafe(wm)}catch{return!1}if(!lm&&xm.isSmallOrder())return!1;const Hm=Lm(Am,Tm.toRawBytes(),xm.toRawBytes(),bm);return Tm.add(xm.multiplyUnsafe(Hm)).subtract(Om).clearCofactor().equals(ym.ZERO)}return Sm._setWindowSize(8),{CURVE:s,getPublicKey:Um,sign:Im,verify:gm,ExtendedPoint:ym,utils:{getExtendedPublicKey:Dm,randomPrivateKey:()=>tm(sf.BYTES),precompute(Mm=8,bm=ym.BASE){return bm._setWindowSize(Mm),bm.multiply(BigInt(3)),bm}}}}const ED25519_P=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),ED25519_SQRT_M1=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const _1n$2=BigInt(1),_2n$1=BigInt(2);BigInt(3);const _5n=BigInt(5),_8n=BigInt(8);function ed25519_pow_2_252_3(r){const s=BigInt(10),sf=BigInt(20),Nf=BigInt(40),ip=BigInt(80),em=ED25519_P,nm=r*r%em*r%em,rm=pow2(nm,_2n$1,em)*nm%em,om=pow2(rm,_1n$2,em)*r%em,im=pow2(om,_5n,em)*om%em,am=pow2(im,s,em)*im%em,sm=pow2(am,sf,em)*am%em,cm=pow2(sm,Nf,em)*sm%em,hm=pow2(cm,ip,em)*cm%em,fm=pow2(hm,ip,em)*cm%em,pm=pow2(fm,s,em)*im%em;return{pow_p_5_8:pow2(pm,_2n$1,em)*r%em,b2:nm}}function adjustScalarBytes(r){return r[0]&=248,r[31]&=127,r[31]|=64,r}function uvRatio(r,s){const sf=ED25519_P,Nf=mod(s*s*s,sf),ip=mod(Nf*Nf*s,sf),em=ed25519_pow_2_252_3(r*ip).pow_p_5_8;let tm=mod(r*Nf*em,sf);const nm=mod(s*tm*tm,sf),rm=tm,om=mod(tm*ED25519_SQRT_M1,sf),im=nm===r,am=nm===mod(-r,sf),sm=nm===mod(-r*ED25519_SQRT_M1,sf);return im&&(tm=rm),(am||sm)&&(tm=om),isNegativeLE(tm,sf)&&(tm=mod(-tm,sf)),{isValid:im||am,value:tm}}const Fp=Field(ED25519_P,void 0,!0),ed25519Defaults={a:Fp.create(BigInt(-1)),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:_8n,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:sha512,randomBytes,adjustScalarBytes,uvRatio},ed25519=twistedEdwards(ed25519Defaults);var bn$1={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0$1=getAugmentedNamespace(__viteBrowserExternal$1);var bn=bn$1.exports,hasRequiredBn;function requireBn(){return hasRequiredBn||(hasRequiredBn=1,function(r){(function(s,sf){function Nf(Im,dm){if(!Im)throw new Error(dm||"Assertion failed")}function ip(Im,dm){Im.super_=dm;var gm=function(){};gm.prototype=dm.prototype,Im.prototype=new gm,Im.prototype.constructor=Im}function em(Im,dm,gm){if(em.isBN(Im))return Im;this.negative=0,this.words=null,this.length=0,this.red=null,Im!==null&&((dm==="le"||dm==="be")&&(gm=dm,dm=10),this._init(Im||0,dm||10,gm||"be"))}typeof s=="object"?s.exports=em:sf.BN=em,em.BN=em,em.wordSize=26;var tm;try{typeof window<"u"&&typeof window.Buffer<"u"?tm=window.Buffer:tm=require$$0$1.Buffer}catch{}em.isBN=function(dm){return dm instanceof em?!0:dm!==null&&typeof dm=="object"&&dm.constructor.wordSize===em.wordSize&&Array.isArray(dm.words)},em.max=function(dm,gm){return dm.cmp(gm)>0?dm:gm},em.min=function(dm,gm){return dm.cmp(gm)<0?dm:gm},em.prototype._init=function(dm,gm,km){if(typeof dm=="number")return this._initNumber(dm,gm,km);if(typeof dm=="object")return this._initArray(dm,gm,km);gm==="hex"&&(gm=16),Nf(gm===(gm|0)&&gm>=2&&gm<=36),dm=dm.toString().replace(/\s+/g,"");var Mm=0;dm[0]==="-"&&(Mm++,this.negative=1),Mm<dm.length&&(gm===16?this._parseHex(dm,Mm,km):(this._parseBase(dm,gm,Mm),km==="le"&&this._initArray(this.toArray(),gm,km)))},em.prototype._initNumber=function(dm,gm,km){dm<0&&(this.negative=1,dm=-dm),dm<0x4000000?(this.words=[dm&0x3ffffff],this.length=1):dm<0x10000000000000?(this.words=[dm&0x3ffffff,dm/0x4000000&0x3ffffff],this.length=2):(Nf(dm<0x20000000000000),this.words=[dm&0x3ffffff,dm/0x4000000&0x3ffffff,1],this.length=3),km==="le"&&this._initArray(this.toArray(),gm,km)},em.prototype._initArray=function(dm,gm,km){if(Nf(typeof dm.length=="number"),dm.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(dm.length/3),this.words=new Array(this.length);for(var Mm=0;Mm<this.length;Mm++)this.words[Mm]=0;var bm,Em,$m=0;if(km==="be")for(Mm=dm.length-1,bm=0;Mm>=0;Mm-=3)Em=dm[Mm]|dm[Mm-1]<<8|dm[Mm-2]<<16,this.words[bm]|=Em<<$m&0x3ffffff,this.words[bm+1]=Em>>>26-$m&0x3ffffff,$m+=24,$m>=26&&($m-=26,bm++);else if(km==="le")for(Mm=0,bm=0;Mm<dm.length;Mm+=3)Em=dm[Mm]|dm[Mm+1]<<8|dm[Mm+2]<<16,this.words[bm]|=Em<<$m&0x3ffffff,this.words[bm+1]=Em>>>26-$m&0x3ffffff,$m+=24,$m>=26&&($m-=26,bm++);return this._strip()};function nm(Im,dm){var gm=Im.charCodeAt(dm);if(gm>=48&&gm<=57)return gm-48;if(gm>=65&&gm<=70)return gm-55;if(gm>=97&&gm<=102)return gm-87;Nf(!1,"Invalid character in "+Im)}function rm(Im,dm,gm){var km=nm(Im,gm);return gm-1>=dm&&(km|=nm(Im,gm-1)<<4),km}em.prototype._parseHex=function(dm,gm,km){this.length=Math.ceil((dm.length-gm)/6),this.words=new Array(this.length);for(var Mm=0;Mm<this.length;Mm++)this.words[Mm]=0;var bm=0,Em=0,$m;if(km==="be")for(Mm=dm.length-1;Mm>=gm;Mm-=2)$m=rm(dm,gm,Mm)<<bm,this.words[Em]|=$m&0x3ffffff,bm>=18?(bm-=18,Em+=1,this.words[Em]|=$m>>>26):bm+=8;else{var Am=dm.length-gm;for(Mm=Am%2===0?gm+1:gm;Mm<dm.length;Mm+=2)$m=rm(dm,gm,Mm)<<bm,this.words[Em]|=$m&0x3ffffff,bm>=18?(bm-=18,Em+=1,this.words[Em]|=$m>>>26):bm+=8}this._strip()};function om(Im,dm,gm,km){for(var Mm=0,bm=0,Em=Math.min(Im.length,gm),$m=dm;$m<Em;$m++){var Am=Im.charCodeAt($m)-48;Mm*=km,Am>=49?bm=Am-49+10:Am>=17?bm=Am-17+10:bm=Am,Nf(Am>=0&&bm<km,"Invalid character"),Mm+=bm}return Mm}em.prototype._parseBase=function(dm,gm,km){this.words=[0],this.length=1;for(var Mm=0,bm=1;bm<=0x3ffffff;bm*=gm)Mm++;Mm--,bm=bm/gm|0;for(var Em=dm.length-km,$m=Em%Mm,Am=Math.min(Em,Em-$m)+km,lm=0,um=km;um<Am;um+=Mm)lm=om(dm,um,um+Mm,gm),this.imuln(bm),this.words[0]+lm<0x4000000?this.words[0]+=lm:this._iaddn(lm);if($m!==0){var wm=1;for(lm=om(dm,um,dm.length,gm),um=0;um<$m;um++)wm*=gm;this.imuln(wm),this.words[0]+lm<0x4000000?this.words[0]+=lm:this._iaddn(lm)}this._strip()},em.prototype.copy=function(dm){dm.words=new Array(this.length);for(var gm=0;gm<this.length;gm++)dm.words[gm]=this.words[gm];dm.length=this.length,dm.negative=this.negative,dm.red=this.red};function im(Im,dm){Im.words=dm.words,Im.length=dm.length,Im.negative=dm.negative,Im.red=dm.red}if(em.prototype._move=function(dm){im(dm,this)},em.prototype.clone=function(){var dm=new em(null);return this.copy(dm),dm},em.prototype._expand=function(dm){for(;this.length<dm;)this.words[this.length++]=0;return this},em.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},em.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{em.prototype[Symbol.for("nodejs.util.inspect.custom")]=am}catch{em.prototype.inspect=am}else em.prototype.inspect=am;function am(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var sm=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],cm=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],hm=[0,0,0x2000000,0x290d741,0x1000000,0x2e90edd,0x39aa400,0x267bf47,0x1000000,0x290d741,1e7,0x12959c3,0x222c000,0x3bd7765,7529536,0xadcea1,0x1000000,0x1704f61,0x206fc40,0x2cddcf9,64e6,4084101,5153632,6436343,7962624,9765625,0xb54ba0,0xdaf26b,0x1069c00,0x138f9ad,243e5,0x1b4d89f,0x2000000,0x25528a1,0x2b54a20,0x3216b93,0x39aa400];em.prototype.toString=function(dm,gm){dm=dm||10,gm=gm|0||1;var km;if(dm===16||dm==="hex"){km="";for(var Mm=0,bm=0,Em=0;Em<this.length;Em++){var $m=this.words[Em],Am=(($m<<Mm|bm)&0xffffff).toString(16);bm=$m>>>24-Mm&0xffffff,Mm+=2,Mm>=26&&(Mm-=26,Em--),bm!==0||Em!==this.length-1?km=sm[6-Am.length]+Am+km:km=Am+km}for(bm!==0&&(km=bm.toString(16)+km);km.length%gm!==0;)km="0"+km;return this.negative!==0&&(km="-"+km),km}if(dm===(dm|0)&&dm>=2&&dm<=36){var lm=cm[dm],um=hm[dm];km="";var wm=this.clone();for(wm.negative=0;!wm.isZero();){var xm=wm.modrn(um).toString(dm);wm=wm.idivn(um),wm.isZero()?km=xm+km:km=sm[lm-xm.length]+xm+km}for(this.isZero()&&(km="0"+km);km.length%gm!==0;)km="0"+km;return this.negative!==0&&(km="-"+km),km}Nf(!1,"Base should be between 2 and 36")},em.prototype.toNumber=function(){var dm=this.words[0];return this.length===2?dm+=this.words[1]*0x4000000:this.length===3&&this.words[2]===1?dm+=0x10000000000000+this.words[1]*0x4000000:this.length>2&&Nf(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-dm:dm},em.prototype.toJSON=function(){return this.toString(16,2)},tm&&(em.prototype.toBuffer=function(dm,gm){return this.toArrayLike(tm,dm,gm)}),em.prototype.toArray=function(dm,gm){return this.toArrayLike(Array,dm,gm)};var fm=function(dm,gm){return dm.allocUnsafe?dm.allocUnsafe(gm):new dm(gm)};em.prototype.toArrayLike=function(dm,gm,km){this._strip();var Mm=this.byteLength(),bm=km||Math.max(1,Mm);Nf(Mm<=bm,"byte array longer than desired length"),Nf(bm>0,"Requested array length <= 0");var Em=fm(dm,bm),$m=gm==="le"?"LE":"BE";return this["_toArrayLike"+$m](Em,Mm),Em},em.prototype._toArrayLikeLE=function(dm,gm){for(var km=0,Mm=0,bm=0,Em=0;bm<this.length;bm++){var $m=this.words[bm]<<Em|Mm;dm[km++]=$m&255,km<dm.length&&(dm[km++]=$m>>8&255),km<dm.length&&(dm[km++]=$m>>16&255),Em===6?(km<dm.length&&(dm[km++]=$m>>24&255),Mm=0,Em=0):(Mm=$m>>>24,Em+=2)}if(km<dm.length)for(dm[km++]=Mm;km<dm.length;)dm[km++]=0},em.prototype._toArrayLikeBE=function(dm,gm){for(var km=dm.length-1,Mm=0,bm=0,Em=0;bm<this.length;bm++){var $m=this.words[bm]<<Em|Mm;dm[km--]=$m&255,km>=0&&(dm[km--]=$m>>8&255),km>=0&&(dm[km--]=$m>>16&255),Em===6?(km>=0&&(dm[km--]=$m>>24&255),Mm=0,Em=0):(Mm=$m>>>24,Em+=2)}if(km>=0)for(dm[km--]=Mm;km>=0;)dm[km--]=0},Math.clz32?em.prototype._countBits=function(dm){return 32-Math.clz32(dm)}:em.prototype._countBits=function(dm){var gm=dm,km=0;return gm>=4096&&(km+=13,gm>>>=13),gm>=64&&(km+=7,gm>>>=7),gm>=8&&(km+=4,gm>>>=4),gm>=2&&(km+=2,gm>>>=2),km+gm},em.prototype._zeroBits=function(dm){if(dm===0)return 26;var gm=dm,km=0;return(gm&8191)===0&&(km+=13,gm>>>=13),(gm&127)===0&&(km+=7,gm>>>=7),(gm&15)===0&&(km+=4,gm>>>=4),(gm&3)===0&&(km+=2,gm>>>=2),(gm&1)===0&&km++,km},em.prototype.bitLength=function(){var dm=this.words[this.length-1],gm=this._countBits(dm);return(this.length-1)*26+gm};function pm(Im){for(var dm=new Array(Im.bitLength()),gm=0;gm<dm.length;gm++){var km=gm/26|0,Mm=gm%26;dm[gm]=Im.words[km]>>>Mm&1}return dm}em.prototype.zeroBits=function(){if(this.isZero())return 0;for(var dm=0,gm=0;gm<this.length;gm++){var km=this._zeroBits(this.words[gm]);if(dm+=km,km!==26)break}return dm},em.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},em.prototype.toTwos=function(dm){return this.negative!==0?this.abs().inotn(dm).iaddn(1):this.clone()},em.prototype.fromTwos=function(dm){return this.testn(dm-1)?this.notn(dm).iaddn(1).ineg():this.clone()},em.prototype.isNeg=function(){return this.negative!==0},em.prototype.neg=function(){return this.clone().ineg()},em.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},em.prototype.iuor=function(dm){for(;this.length<dm.length;)this.words[this.length++]=0;for(var gm=0;gm<dm.length;gm++)this.words[gm]=this.words[gm]|dm.words[gm];return this._strip()},em.prototype.ior=function(dm){return Nf((this.negative|dm.negative)===0),this.iuor(dm)},em.prototype.or=function(dm){return this.length>dm.length?this.clone().ior(dm):dm.clone().ior(this)},em.prototype.uor=function(dm){return this.length>dm.length?this.clone().iuor(dm):dm.clone().iuor(this)},em.prototype.iuand=function(dm){var gm;this.length>dm.length?gm=dm:gm=this;for(var km=0;km<gm.length;km++)this.words[km]=this.words[km]&dm.words[km];return this.length=gm.length,this._strip()},em.prototype.iand=function(dm){return Nf((this.negative|dm.negative)===0),this.iuand(dm)},em.prototype.and=function(dm){return this.length>dm.length?this.clone().iand(dm):dm.clone().iand(this)},em.prototype.uand=function(dm){return this.length>dm.length?this.clone().iuand(dm):dm.clone().iuand(this)},em.prototype.iuxor=function(dm){var gm,km;this.length>dm.length?(gm=this,km=dm):(gm=dm,km=this);for(var Mm=0;Mm<km.length;Mm++)this.words[Mm]=gm.words[Mm]^km.words[Mm];if(this!==gm)for(;Mm<gm.length;Mm++)this.words[Mm]=gm.words[Mm];return this.length=gm.length,this._strip()},em.prototype.ixor=function(dm){return Nf((this.negative|dm.negative)===0),this.iuxor(dm)},em.prototype.xor=function(dm){return this.length>dm.length?this.clone().ixor(dm):dm.clone().ixor(this)},em.prototype.uxor=function(dm){return this.length>dm.length?this.clone().iuxor(dm):dm.clone().iuxor(this)},em.prototype.inotn=function(dm){Nf(typeof dm=="number"&&dm>=0);var gm=Math.ceil(dm/26)|0,km=dm%26;this._expand(gm),km>0&&gm--;for(var Mm=0;Mm<gm;Mm++)this.words[Mm]=~this.words[Mm]&0x3ffffff;return km>0&&(this.words[Mm]=~this.words[Mm]&0x3ffffff>>26-km),this._strip()},em.prototype.notn=function(dm){return this.clone().inotn(dm)},em.prototype.setn=function(dm,gm){Nf(typeof dm=="number"&&dm>=0);var km=dm/26|0,Mm=dm%26;return this._expand(km+1),gm?this.words[km]=this.words[km]|1<<Mm:this.words[km]=this.words[km]&~(1<<Mm),this._strip()},em.prototype.iadd=function(dm){var gm;if(this.negative!==0&&dm.negative===0)return this.negative=0,gm=this.isub(dm),this.negative^=1,this._normSign();if(this.negative===0&&dm.negative!==0)return dm.negative=0,gm=this.isub(dm),dm.negative=1,gm._normSign();var km,Mm;this.length>dm.length?(km=this,Mm=dm):(km=dm,Mm=this);for(var bm=0,Em=0;Em<Mm.length;Em++)gm=(km.words[Em]|0)+(Mm.words[Em]|0)+bm,this.words[Em]=gm&0x3ffffff,bm=gm>>>26;for(;bm!==0&&Em<km.length;Em++)gm=(km.words[Em]|0)+bm,this.words[Em]=gm&0x3ffffff,bm=gm>>>26;if(this.length=km.length,bm!==0)this.words[this.length]=bm,this.length++;else if(km!==this)for(;Em<km.length;Em++)this.words[Em]=km.words[Em];return this},em.prototype.add=function(dm){var gm;return dm.negative!==0&&this.negative===0?(dm.negative=0,gm=this.sub(dm),dm.negative^=1,gm):dm.negative===0&&this.negative!==0?(this.negative=0,gm=dm.sub(this),this.negative=1,gm):this.length>dm.length?this.clone().iadd(dm):dm.clone().iadd(this)},em.prototype.isub=function(dm){if(dm.negative!==0){dm.negative=0;var gm=this.iadd(dm);return dm.negative=1,gm._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(dm),this.negative=1,this._normSign();var km=this.cmp(dm);if(km===0)return this.negative=0,this.length=1,this.words[0]=0,this;var Mm,bm;km>0?(Mm=this,bm=dm):(Mm=dm,bm=this);for(var Em=0,$m=0;$m<bm.length;$m++)gm=(Mm.words[$m]|0)-(bm.words[$m]|0)+Em,Em=gm>>26,this.words[$m]=gm&0x3ffffff;for(;Em!==0&&$m<Mm.length;$m++)gm=(Mm.words[$m]|0)+Em,Em=gm>>26,this.words[$m]=gm&0x3ffffff;if(Em===0&&$m<Mm.length&&Mm!==this)for(;$m<Mm.length;$m++)this.words[$m]=Mm.words[$m];return this.length=Math.max(this.length,$m),Mm!==this&&(this.negative=1),this._strip()},em.prototype.sub=function(dm){return this.clone().isub(dm)};function mm(Im,dm,gm){gm.negative=dm.negative^Im.negative;var km=Im.length+dm.length|0;gm.length=km,km=km-1|0;var Mm=Im.words[0]|0,bm=dm.words[0]|0,Em=Mm*bm,$m=Em&0x3ffffff,Am=Em/0x4000000|0;gm.words[0]=$m;for(var lm=1;lm<km;lm++){for(var um=Am>>>26,wm=Am&0x3ffffff,xm=Math.min(lm,dm.length-1),Tm=Math.max(0,lm-Im.length+1);Tm<=xm;Tm++){var Om=lm-Tm|0;Mm=Im.words[Om]|0,bm=dm.words[Tm]|0,Em=Mm*bm+wm,um+=Em/0x4000000|0,wm=Em&0x3ffffff}gm.words[lm]=wm|0,Am=um|0}return Am!==0?gm.words[lm]=Am|0:gm.length--,gm._strip()}var _m=function(dm,gm,km){var Mm=dm.words,bm=gm.words,Em=km.words,$m=0,Am,lm,um,wm=Mm[0]|0,xm=wm&8191,Tm=wm>>>13,Om=Mm[1]|0,Hm=Om&8191,Km=Om>>>13,Zm=Mm[2]|0,Vm=Zm&8191,zm=Zm>>>13,Wm=Mm[3]|0,Ym=Wm&8191,Qm=Wm>>>13,mg=Mm[4]|0,bg=mg&8191,vg=mg>>>13,Xm=Mm[5]|0,Eg=Xm&8191,_g=Xm>>>13,Ag=Mm[6]|0,kg=Ag&8191,xg=Ag>>>13,Cg=Mm[7]|0,Sg=Cg&8191,Fm=Cg>>>13,Cm=Mm[8]|0,Nm=Cm&8191,Gm=Cm>>>13,Jm=Mm[9]|0,yg=Jm&8191,wg=Jm>>>13,Tg=bm[0]|0,$g=Tg&8191,Mg=Tg>>>13,jg=bm[1]|0,Ig=jg&8191,Ng=jg>>>13,zy=bm[2]|0,Og=zy&8191,Rg=zy>>>13,Uy=bm[3]|0,Dg=Uy&8191,Bg=Uy>>>13,Fy=bm[4]|0,Lg=Fy&8191,Pg=Fy>>>13,Hy=bm[5]|0,zg=Hy&8191,Ug=Hy>>>13,qy=bm[6]|0,Fg=qy&8191,Hg=qy>>>13,Vy=bm[7]|0,qg=Vy&8191,Vg=Vy>>>13,Ky=bm[8]|0,Kg=Ky&8191,Wg=Ky>>>13,Wy=bm[9]|0,Gg=Wy&8191,Zg=Wy>>>13;km.negative=dm.negative^gm.negative,km.length=19,Am=Math.imul(xm,$g),lm=Math.imul(xm,Mg),lm=lm+Math.imul(Tm,$g)|0,um=Math.imul(Tm,Mg);var fy=($m+Am|0)+((lm&8191)<<13)|0;$m=(um+(lm>>>13)|0)+(fy>>>26)|0,fy&=0x3ffffff,Am=Math.imul(Hm,$g),lm=Math.imul(Hm,Mg),lm=lm+Math.imul(Km,$g)|0,um=Math.imul(Km,Mg),Am=Am+Math.imul(xm,Ig)|0,lm=lm+Math.imul(xm,Ng)|0,lm=lm+Math.imul(Tm,Ig)|0,um=um+Math.imul(Tm,Ng)|0;var py=($m+Am|0)+((lm&8191)<<13)|0;$m=(um+(lm>>>13)|0)+(py>>>26)|0,py&=0x3ffffff,Am=Math.imul(Vm,$g),lm=Math.imul(Vm,Mg),lm=lm+Math.imul(zm,$g)|0,um=Math.imul(zm,Mg),Am=Am+Math.imul(Hm,Ig)|0,lm=lm+Math.imul(Hm,Ng)|0,lm=lm+Math.imul(Km,Ig)|0,um=um+Math.imul(Km,Ng)|0,Am=Am+Math.imul(xm,Og)|0,lm=lm+Math.imul(xm,Rg)|0,lm=lm+Math.imul(Tm,Og)|0,um=um+Math.imul(Tm,Rg)|0;var my=($m+Am|0)+((lm&8191)<<13)|0;$m=(um+(lm>>>13)|0)+(my>>>26)|0,my&=0x3ffffff,Am=Math.imul(Ym,$g),lm=Math.imul(Ym,Mg),lm=lm+Math.imul(Qm,$g)|0,um=Math.imul(Qm,Mg),Am=Am+Math.imul(Vm,Ig)|0,lm=lm+Math.imul(Vm,Ng)|0,lm=lm+Math.imul(zm,Ig)|0,um=um+Math.imul(zm,Ng)|0,Am=Am+Math.imul(Hm,Og)|0,lm=lm+Math.imul(Hm,Rg)|0,lm=lm+Math.imul(Km,Og)|0,um=um+Math.imul(Km,Rg)|0,Am=Am+Math.imul(xm,Dg)|0,lm=lm+Math.imul(xm,Bg)|0,lm=lm+Math.imul(Tm,Dg)|0,um=um+Math.imul(Tm,Bg)|0;var gy=($m+Am|0)+((lm&8191)<<13)|0;$m=(um+(lm>>>13)|0)+(gy>>>26)|0,gy&=0x3ffffff,Am=Math.imul(bg,$g),lm=Math.imul(bg,Mg),lm=lm+Math.imul(vg,$g)|0,um=Math.imul(vg,Mg),Am=Am+Math.imul(Ym,Ig)|0,lm=lm+Math.imul(Ym,Ng)|0,lm=lm+Math.imul(Qm,Ig)|0,um=um+Math.imul(Qm,Ng)|0,Am=Am+Math.imul(Vm,Og)|0,lm=lm+Math.imul(Vm,Rg)|0,lm=lm+Math.imul(zm,Og)|0,um=um+Math.imul(zm,Rg)|0,Am=Am+Math.imul(Hm,Dg)|0,lm=lm+Math.imul(Hm,Bg)|0,lm=lm+Math.imul(Km,Dg)|0,um=um+Math.imul(Km,Bg)|0,Am=Am+Math.imul(xm,Lg)|0,lm=lm+Math.imul(xm,Pg)|0,lm=lm+Math.imul(Tm,Lg)|0,um=um+Math.imul(Tm,Pg)|0;var yy=($m+Am|0)+((lm&8191)<<13)|0;$m=(um+(lm>>>13)|0)+(yy>>>26)|0,yy&=0x3ffffff,Am=Math.imul(Eg,$g),lm=Math.imul(Eg,Mg),lm=lm+Math.imul(_g,$g)|0,um=Math.imul(_g,Mg),Am=Am+Math.imul(bg,Ig)|0,lm=lm+Math.imul(bg,Ng)|0,lm=lm+Math.imul(vg,Ig)|0,um=um+Math.imul(vg,Ng)|0,Am=Am+Math.imul(Ym,Og)|0,lm=lm+Math.imul(Ym,Rg)|0,lm=lm+Math.imul(Qm,Og)|0,um=um+Math.imul(Qm,Rg)|0,Am=Am+Math.imul(Vm,Dg)|0,lm=lm+Math.imul(Vm,Bg)|0,lm=lm+Math.imul(zm,Dg)|0,um=um+Math.imul(zm,Bg)|0,Am=Am+Math.imul(Hm,Lg)|0,lm=lm+Math.imul(Hm,Pg)|0,lm=lm+Math.imul(Km,Lg)|0,um=um+Math.imul(Km,Pg)|0,Am=Am+Math.imul(xm,zg)|0,lm=lm+Math.imul(xm,Ug)|0,lm=lm+Math.imul(Tm,zg)|0,um=um+Math.imul(Tm,Ug)|0;var by=($m+Am|0)+((lm&8191)<<13)|0;$m=(um+(lm>>>13)|0)+(by>>>26)|0,by&=0x3ffffff,Am=Math.imul(kg,$g),lm=Math.imul(kg,Mg),lm=lm+Math.imul(xg,$g)|0,um=Math.imul(xg,Mg),Am=Am+Math.imul(Eg,Ig)|0,lm=lm+Math.imul(Eg,Ng)|0,lm=lm+Math.imul(_g,Ig)|0,um=um+Math.imul(_g,Ng)|0,Am=Am+Math.imul(bg,Og)|0,lm=lm+Math.imul(bg,Rg)|0,lm=lm+Math.imul(vg,Og)|0,um=um+Math.imul(vg,Rg)|0,Am=Am+Math.imul(Ym,Dg)|0,lm=lm+Math.imul(Ym,Bg)|0,lm=lm+Math.imul(Qm,Dg)|0,um=um+Math.imul(Qm,Bg)|0,Am=Am+Math.imul(Vm,Lg)|0,lm=lm+Math.imul(Vm,Pg)|0,lm=lm+Math.imul(zm,Lg)|0,um=um+Math.imul(zm,Pg)|0,Am=Am+Math.imul(Hm,zg)|0,lm=lm+Math.imul(Hm,Ug)|0,lm=lm+Math.imul(Km,zg)|0,um=um+Math.imul(Km,Ug)|0,Am=Am+Math.imul(xm,Fg)|0,lm=lm+Math.imul(xm,Hg)|0,lm=lm+Math.imul(Tm,Fg)|0,um=um+Math.imul(Tm,Hg)|0;var wy=($m+Am|0)+((lm&8191)<<13)|0;$m=(um+(lm>>>13)|0)+(wy>>>26)|0,wy&=0x3ffffff,Am=Math.imul(Sg,$g),lm=Math.imul(Sg,Mg),lm=lm+Math.imul(Fm,$g)|0,um=Math.imul(Fm,Mg),Am=Am+Math.imul(kg,Ig)|0,lm=lm+Math.imul(kg,Ng)|0,lm=lm+Math.imul(xg,Ig)|0,um=um+Math.imul(xg,Ng)|0,Am=Am+Math.imul(Eg,Og)|0,lm=lm+Math.imul(Eg,Rg)|0,lm=lm+Math.imul(_g,Og)|0,um=um+Math.imul(_g,Rg)|0,Am=Am+Math.imul(bg,Dg)|0,lm=lm+Math.imul(bg,Bg)|0,lm=lm+Math.imul(vg,Dg)|0,um=um+Math.imul(vg,Bg)|0,Am=Am+Math.imul(Ym,Lg)|0,lm=lm+Math.imul(Ym,Pg)|0,lm=lm+Math.imul(Qm,Lg)|0,um=um+Math.imul(Qm,Pg)|0,Am=Am+Math.imul(Vm,zg)|0,lm=lm+Math.imul(Vm,Ug)|0,lm=lm+Math.imul(zm,zg)|0,um=um+Math.imul(zm,Ug)|0,Am=Am+Math.imul(Hm,Fg)|0,lm=lm+Math.imul(Hm,Hg)|0,lm=lm+Math.imul(Km,Fg)|0,um=um+Math.imul(Km,Hg)|0,Am=Am+Math.imul(xm,qg)|0,lm=lm+Math.imul(xm,Vg)|0,lm=lm+Math.imul(Tm,qg)|0,um=um+Math.imul(Tm,Vg)|0;var vy=($m+Am|0)+((lm&8191)<<13)|0;$m=(um+(lm>>>13)|0)+(vy>>>26)|0,vy&=0x3ffffff,Am=Math.imul(Nm,$g),lm=Math.imul(Nm,Mg),lm=lm+Math.imul(Gm,$g)|0,um=Math.imul(Gm,Mg),Am=Am+Math.imul(Sg,Ig)|0,lm=lm+Math.imul(Sg,Ng)|0,lm=lm+Math.imul(Fm,Ig)|0,um=um+Math.imul(Fm,Ng)|0,Am=Am+Math.imul(kg,Og)|0,lm=lm+Math.imul(kg,Rg)|0,lm=lm+Math.imul(xg,Og)|0,um=um+Math.imul(xg,Rg)|0,Am=Am+Math.imul(Eg,Dg)|0,lm=lm+Math.imul(Eg,Bg)|0,lm=lm+Math.imul(_g,Dg)|0,um=um+Math.imul(_g,Bg)|0,Am=Am+Math.imul(bg,Lg)|0,lm=lm+Math.imul(bg,Pg)|0,lm=lm+Math.imul(vg,Lg)|0,um=um+Math.imul(vg,Pg)|0,Am=Am+Math.imul(Ym,zg)|0,lm=lm+Math.imul(Ym,Ug)|0,lm=lm+Math.imul(Qm,zg)|0,um=um+Math.imul(Qm,Ug)|0,Am=Am+Math.imul(Vm,Fg)|0,lm=lm+Math.imul(Vm,Hg)|0,lm=lm+Math.imul(zm,Fg)|0,um=um+Math.imul(zm,Hg)|0,Am=Am+Math.imul(Hm,qg)|0,lm=lm+Math.imul(Hm,Vg)|0,lm=lm+Math.imul(Km,qg)|0,um=um+Math.imul(Km,Vg)|0,Am=Am+Math.imul(xm,Kg)|0,lm=lm+Math.imul(xm,Wg)|0,lm=lm+Math.imul(Tm,Kg)|0,um=um+Math.imul(Tm,Wg)|0;var _y=($m+Am|0)+((lm&8191)<<13)|0;$m=(um+(lm>>>13)|0)+(_y>>>26)|0,_y&=0x3ffffff,Am=Math.imul(yg,$g),lm=Math.imul(yg,Mg),lm=lm+Math.imul(wg,$g)|0,um=Math.imul(wg,Mg),Am=Am+Math.imul(Nm,Ig)|0,lm=lm+Math.imul(Nm,Ng)|0,lm=lm+Math.imul(Gm,Ig)|0,um=um+Math.imul(Gm,Ng)|0,Am=Am+Math.imul(Sg,Og)|0,lm=lm+Math.imul(Sg,Rg)|0,lm=lm+Math.imul(Fm,Og)|0,um=um+Math.imul(Fm,Rg)|0,Am=Am+Math.imul(kg,Dg)|0,lm=lm+Math.imul(kg,Bg)|0,lm=lm+Math.imul(xg,Dg)|0,um=um+Math.imul(xg,Bg)|0,Am=Am+Math.imul(Eg,Lg)|0,lm=lm+Math.imul(Eg,Pg)|0,lm=lm+Math.imul(_g,Lg)|0,um=um+Math.imul(_g,Pg)|0,Am=Am+Math.imul(bg,zg)|0,lm=lm+Math.imul(bg,Ug)|0,lm=lm+Math.imul(vg,zg)|0,um=um+Math.imul(vg,Ug)|0,Am=Am+Math.imul(Ym,Fg)|0,lm=lm+Math.imul(Ym,Hg)|0,lm=lm+Math.imul(Qm,Fg)|0,um=um+Math.imul(Qm,Hg)|0,Am=Am+Math.imul(Vm,qg)|0,lm=lm+Math.imul(Vm,Vg)|0,lm=lm+Math.imul(zm,qg)|0,um=um+Math.imul(zm,Vg)|0,Am=Am+Math.imul(Hm,Kg)|0,lm=lm+Math.imul(Hm,Wg)|0,lm=lm+Math.imul(Km,Kg)|0,um=um+Math.imul(Km,Wg)|0,Am=Am+Math.imul(xm,Gg)|0,lm=lm+Math.imul(xm,Zg)|0,lm=lm+Math.imul(Tm,Gg)|0,um=um+Math.imul(Tm,Zg)|0;var Ey=($m+Am|0)+((lm&8191)<<13)|0;$m=(um+(lm>>>13)|0)+(Ey>>>26)|0,Ey&=0x3ffffff,Am=Math.imul(yg,Ig),lm=Math.imul(yg,Ng),lm=lm+Math.imul(wg,Ig)|0,um=Math.imul(wg,Ng),Am=Am+Math.imul(Nm,Og)|0,lm=lm+Math.imul(Nm,Rg)|0,lm=lm+Math.imul(Gm,Og)|0,um=um+Math.imul(Gm,Rg)|0,Am=Am+Math.imul(Sg,Dg)|0,lm=lm+Math.imul(Sg,Bg)|0,lm=lm+Math.imul(Fm,Dg)|0,um=um+Math.imul(Fm,Bg)|0,Am=Am+Math.imul(kg,Lg)|0,lm=lm+Math.imul(kg,Pg)|0,lm=lm+Math.imul(xg,Lg)|0,um=um+Math.imul(xg,Pg)|0,Am=Am+Math.imul(Eg,zg)|0,lm=lm+Math.imul(Eg,Ug)|0,lm=lm+Math.imul(_g,zg)|0,um=um+Math.imul(_g,Ug)|0,Am=Am+Math.imul(bg,Fg)|0,lm=lm+Math.imul(bg,Hg)|0,lm=lm+Math.imul(vg,Fg)|0,um=um+Math.imul(vg,Hg)|0,Am=Am+Math.imul(Ym,qg)|0,lm=lm+Math.imul(Ym,Vg)|0,lm=lm+Math.imul(Qm,qg)|0,um=um+Math.imul(Qm,Vg)|0,Am=Am+Math.imul(Vm,Kg)|0,lm=lm+Math.imul(Vm,Wg)|0,lm=lm+Math.imul(zm,Kg)|0,um=um+Math.imul(zm,Wg)|0,Am=Am+Math.imul(Hm,Gg)|0,lm=lm+Math.imul(Hm,Zg)|0,lm=lm+Math.imul(Km,Gg)|0,um=um+Math.imul(Km,Zg)|0;var ky=($m+Am|0)+((lm&8191)<<13)|0;$m=(um+(lm>>>13)|0)+(ky>>>26)|0,ky&=0x3ffffff,Am=Math.imul(yg,Og),lm=Math.imul(yg,Rg),lm=lm+Math.imul(wg,Og)|0,um=Math.imul(wg,Rg),Am=Am+Math.imul(Nm,Dg)|0,lm=lm+Math.imul(Nm,Bg)|0,lm=lm+Math.imul(Gm,Dg)|0,um=um+Math.imul(Gm,Bg)|0,Am=Am+Math.imul(Sg,Lg)|0,lm=lm+Math.imul(Sg,Pg)|0,lm=lm+Math.imul(Fm,Lg)|0,um=um+Math.imul(Fm,Pg)|0,Am=Am+Math.imul(kg,zg)|0,lm=lm+Math.imul(kg,Ug)|0,lm=lm+Math.imul(xg,zg)|0,um=um+Math.imul(xg,Ug)|0,Am=Am+Math.imul(Eg,Fg)|0,lm=lm+Math.imul(Eg,Hg)|0,lm=lm+Math.imul(_g,Fg)|0,um=um+Math.imul(_g,Hg)|0,Am=Am+Math.imul(bg,qg)|0,lm=lm+Math.imul(bg,Vg)|0,lm=lm+Math.imul(vg,qg)|0,um=um+Math.imul(vg,Vg)|0,Am=Am+Math.imul(Ym,Kg)|0,lm=lm+Math.imul(Ym,Wg)|0,lm=lm+Math.imul(Qm,Kg)|0,um=um+Math.imul(Qm,Wg)|0,Am=Am+Math.imul(Vm,Gg)|0,lm=lm+Math.imul(Vm,Zg)|0,lm=lm+Math.imul(zm,Gg)|0,um=um+Math.imul(zm,Zg)|0;var xy=($m+Am|0)+((lm&8191)<<13)|0;$m=(um+(lm>>>13)|0)+(xy>>>26)|0,xy&=0x3ffffff,Am=Math.imul(yg,Dg),lm=Math.imul(yg,Bg),lm=lm+Math.imul(wg,Dg)|0,um=Math.imul(wg,Bg),Am=Am+Math.imul(Nm,Lg)|0,lm=lm+Math.imul(Nm,Pg)|0,lm=lm+Math.imul(Gm,Lg)|0,um=um+Math.imul(Gm,Pg)|0,Am=Am+Math.imul(Sg,zg)|0,lm=lm+Math.imul(Sg,Ug)|0,lm=lm+Math.imul(Fm,zg)|0,um=um+Math.imul(Fm,Ug)|0,Am=Am+Math.imul(kg,Fg)|0,lm=lm+Math.imul(kg,Hg)|0,lm=lm+Math.imul(xg,Fg)|0,um=um+Math.imul(xg,Hg)|0,Am=Am+Math.imul(Eg,qg)|0,lm=lm+Math.imul(Eg,Vg)|0,lm=lm+Math.imul(_g,qg)|0,um=um+Math.imul(_g,Vg)|0,Am=Am+Math.imul(bg,Kg)|0,lm=lm+Math.imul(bg,Wg)|0,lm=lm+Math.imul(vg,Kg)|0,um=um+Math.imul(vg,Wg)|0,Am=Am+Math.imul(Ym,Gg)|0,lm=lm+Math.imul(Ym,Zg)|0,lm=lm+Math.imul(Qm,Gg)|0,um=um+Math.imul(Qm,Zg)|0;var Ay=($m+Am|0)+((lm&8191)<<13)|0;$m=(um+(lm>>>13)|0)+(Ay>>>26)|0,Ay&=0x3ffffff,Am=Math.imul(yg,Lg),lm=Math.imul(yg,Pg),lm=lm+Math.imul(wg,Lg)|0,um=Math.imul(wg,Pg),Am=Am+Math.imul(Nm,zg)|0,lm=lm+Math.imul(Nm,Ug)|0,lm=lm+Math.imul(Gm,zg)|0,um=um+Math.imul(Gm,Ug)|0,Am=Am+Math.imul(Sg,Fg)|0,lm=lm+Math.imul(Sg,Hg)|0,lm=lm+Math.imul(Fm,Fg)|0,um=um+Math.imul(Fm,Hg)|0,Am=Am+Math.imul(kg,qg)|0,lm=lm+Math.imul(kg,Vg)|0,lm=lm+Math.imul(xg,qg)|0,um=um+Math.imul(xg,Vg)|0,Am=Am+Math.imul(Eg,Kg)|0,lm=lm+Math.imul(Eg,Wg)|0,lm=lm+Math.imul(_g,Kg)|0,um=um+Math.imul(_g,Wg)|0,Am=Am+Math.imul(bg,Gg)|0,lm=lm+Math.imul(bg,Zg)|0,lm=lm+Math.imul(vg,Gg)|0,um=um+Math.imul(vg,Zg)|0;var Sy=($m+Am|0)+((lm&8191)<<13)|0;$m=(um+(lm>>>13)|0)+(Sy>>>26)|0,Sy&=0x3ffffff,Am=Math.imul(yg,zg),lm=Math.imul(yg,Ug),lm=lm+Math.imul(wg,zg)|0,um=Math.imul(wg,Ug),Am=Am+Math.imul(Nm,Fg)|0,lm=lm+Math.imul(Nm,Hg)|0,lm=lm+Math.imul(Gm,Fg)|0,um=um+Math.imul(Gm,Hg)|0,Am=Am+Math.imul(Sg,qg)|0,lm=lm+Math.imul(Sg,Vg)|0,lm=lm+Math.imul(Fm,qg)|0,um=um+Math.imul(Fm,Vg)|0,Am=Am+Math.imul(kg,Kg)|0,lm=lm+Math.imul(kg,Wg)|0,lm=lm+Math.imul(xg,Kg)|0,um=um+Math.imul(xg,Wg)|0,Am=Am+Math.imul(Eg,Gg)|0,lm=lm+Math.imul(Eg,Zg)|0,lm=lm+Math.imul(_g,Gg)|0,um=um+Math.imul(_g,Zg)|0;var Iy=($m+Am|0)+((lm&8191)<<13)|0;$m=(um+(lm>>>13)|0)+(Iy>>>26)|0,Iy&=0x3ffffff,Am=Math.imul(yg,Fg),lm=Math.imul(yg,Hg),lm=lm+Math.imul(wg,Fg)|0,um=Math.imul(wg,Hg),Am=Am+Math.imul(Nm,qg)|0,lm=lm+Math.imul(Nm,Vg)|0,lm=lm+Math.imul(Gm,qg)|0,um=um+Math.imul(Gm,Vg)|0,Am=Am+Math.imul(Sg,Kg)|0,lm=lm+Math.imul(Sg,Wg)|0,lm=lm+Math.imul(Fm,Kg)|0,um=um+Math.imul(Fm,Wg)|0,Am=Am+Math.imul(kg,Gg)|0,lm=lm+Math.imul(kg,Zg)|0,lm=lm+Math.imul(xg,Gg)|0,um=um+Math.imul(xg,Zg)|0;var My=($m+Am|0)+((lm&8191)<<13)|0;$m=(um+(lm>>>13)|0)+(My>>>26)|0,My&=0x3ffffff,Am=Math.imul(yg,qg),lm=Math.imul(yg,Vg),lm=lm+Math.imul(wg,qg)|0,um=Math.imul(wg,Vg),Am=Am+Math.imul(Nm,Kg)|0,lm=lm+Math.imul(Nm,Wg)|0,lm=lm+Math.imul(Gm,Kg)|0,um=um+Math.imul(Gm,Wg)|0,Am=Am+Math.imul(Sg,Gg)|0,lm=lm+Math.imul(Sg,Zg)|0,lm=lm+Math.imul(Fm,Gg)|0,um=um+Math.imul(Fm,Zg)|0;var $y=($m+Am|0)+((lm&8191)<<13)|0;$m=(um+(lm>>>13)|0)+($y>>>26)|0,$y&=0x3ffffff,Am=Math.imul(yg,Kg),lm=Math.imul(yg,Wg),lm=lm+Math.imul(wg,Kg)|0,um=Math.imul(wg,Wg),Am=Am+Math.imul(Nm,Gg)|0,lm=lm+Math.imul(Nm,Zg)|0,lm=lm+Math.imul(Gm,Gg)|0,um=um+Math.imul(Gm,Zg)|0;var Ty=($m+Am|0)+((lm&8191)<<13)|0;$m=(um+(lm>>>13)|0)+(Ty>>>26)|0,Ty&=0x3ffffff,Am=Math.imul(yg,Gg),lm=Math.imul(yg,Zg),lm=lm+Math.imul(wg,Gg)|0,um=Math.imul(wg,Zg);var Cy=($m+Am|0)+((lm&8191)<<13)|0;return $m=(um+(lm>>>13)|0)+(Cy>>>26)|0,Cy&=0x3ffffff,Em[0]=fy,Em[1]=py,Em[2]=my,Em[3]=gy,Em[4]=yy,Em[5]=by,Em[6]=wy,Em[7]=vy,Em[8]=_y,Em[9]=Ey,Em[10]=ky,Em[11]=xy,Em[12]=Ay,Em[13]=Sy,Em[14]=Iy,Em[15]=My,Em[16]=$y,Em[17]=Ty,Em[18]=Cy,$m!==0&&(Em[19]=$m,km.length++),km};Math.imul||(_m=mm);function ym(Im,dm,gm){gm.negative=dm.negative^Im.negative,gm.length=Im.length+dm.length;for(var km=0,Mm=0,bm=0;bm<gm.length-1;bm++){var Em=Mm;Mm=0;for(var $m=km&0x3ffffff,Am=Math.min(bm,dm.length-1),lm=Math.max(0,bm-Im.length+1);lm<=Am;lm++){var um=bm-lm,wm=Im.words[um]|0,xm=dm.words[lm]|0,Tm=wm*xm,Om=Tm&0x3ffffff;Em=Em+(Tm/0x4000000|0)|0,Om=Om+$m|0,$m=Om&0x3ffffff,Em=Em+(Om>>>26)|0,Mm+=Em>>>26,Em&=0x3ffffff}gm.words[bm]=$m,km=Em,Em=Mm}return km!==0?gm.words[bm]=km:gm.length--,gm._strip()}function Sm(Im,dm,gm){return ym(Im,dm,gm)}em.prototype.mulTo=function(dm,gm){var km,Mm=this.length+dm.length;return this.length===10&&dm.length===10?km=_m(this,dm,gm):Mm<63?km=mm(this,dm,gm):Mm<1024?km=ym(this,dm,gm):km=Sm(this,dm,gm),km},em.prototype.mul=function(dm){var gm=new em(null);return gm.words=new Array(this.length+dm.length),this.mulTo(dm,gm)},em.prototype.mulf=function(dm){var gm=new em(null);return gm.words=new Array(this.length+dm.length),Sm(this,dm,gm)},em.prototype.imul=function(dm){return this.clone().mulTo(dm,this)},em.prototype.imuln=function(dm){var gm=dm<0;gm&&(dm=-dm),Nf(typeof dm=="number"),Nf(dm<0x4000000);for(var km=0,Mm=0;Mm<this.length;Mm++){var bm=(this.words[Mm]|0)*dm,Em=(bm&0x3ffffff)+(km&0x3ffffff);km>>=26,km+=bm/0x4000000|0,km+=Em>>>26,this.words[Mm]=Em&0x3ffffff}return km!==0&&(this.words[Mm]=km,this.length++),gm?this.ineg():this},em.prototype.muln=function(dm){return this.clone().imuln(dm)},em.prototype.sqr=function(){return this.mul(this)},em.prototype.isqr=function(){return this.imul(this.clone())},em.prototype.pow=function(dm){var gm=pm(dm);if(gm.length===0)return new em(1);for(var km=this,Mm=0;Mm<gm.length&&gm[Mm]===0;Mm++,km=km.sqr());if(++Mm<gm.length)for(var bm=km.sqr();Mm<gm.length;Mm++,bm=bm.sqr())gm[Mm]!==0&&(km=km.mul(bm));return km},em.prototype.iushln=function(dm){Nf(typeof dm=="number"&&dm>=0);var gm=dm%26,km=(dm-gm)/26,Mm=0x3ffffff>>>26-gm<<26-gm,bm;if(gm!==0){var Em=0;for(bm=0;bm<this.length;bm++){var $m=this.words[bm]&Mm,Am=(this.words[bm]|0)-$m<<gm;this.words[bm]=Am|Em,Em=$m>>>26-gm}Em&&(this.words[bm]=Em,this.length++)}if(km!==0){for(bm=this.length-1;bm>=0;bm--)this.words[bm+km]=this.words[bm];for(bm=0;bm<km;bm++)this.words[bm]=0;this.length+=km}return this._strip()},em.prototype.ishln=function(dm){return Nf(this.negative===0),this.iushln(dm)},em.prototype.iushrn=function(dm,gm,km){Nf(typeof dm=="number"&&dm>=0);var Mm;gm?Mm=(gm-gm%26)/26:Mm=0;var bm=dm%26,Em=Math.min((dm-bm)/26,this.length),$m=0x3ffffff^0x3ffffff>>>bm<<bm,Am=km;if(Mm-=Em,Mm=Math.max(0,Mm),Am){for(var lm=0;lm<Em;lm++)Am.words[lm]=this.words[lm];Am.length=Em}if(Em!==0)if(this.length>Em)for(this.length-=Em,lm=0;lm<this.length;lm++)this.words[lm]=this.words[lm+Em];else this.words[0]=0,this.length=1;var um=0;for(lm=this.length-1;lm>=0&&(um!==0||lm>=Mm);lm--){var wm=this.words[lm]|0;this.words[lm]=um<<26-bm|wm>>>bm,um=wm&$m}return Am&&um!==0&&(Am.words[Am.length++]=um),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},em.prototype.ishrn=function(dm,gm,km){return Nf(this.negative===0),this.iushrn(dm,gm,km)},em.prototype.shln=function(dm){return this.clone().ishln(dm)},em.prototype.ushln=function(dm){return this.clone().iushln(dm)},em.prototype.shrn=function(dm){return this.clone().ishrn(dm)},em.prototype.ushrn=function(dm){return this.clone().iushrn(dm)},em.prototype.testn=function(dm){Nf(typeof dm=="number"&&dm>=0);var gm=dm%26,km=(dm-gm)/26,Mm=1<<gm;if(this.length<=km)return!1;var bm=this.words[km];return!!(bm&Mm)},em.prototype.imaskn=function(dm){Nf(typeof dm=="number"&&dm>=0);var gm=dm%26,km=(dm-gm)/26;if(Nf(this.negative===0,"imaskn works only with positive numbers"),this.length<=km)return this;if(gm!==0&&km++,this.length=Math.min(km,this.length),gm!==0){var Mm=0x3ffffff^0x3ffffff>>>gm<<gm;this.words[this.length-1]&=Mm}return this._strip()},em.prototype.maskn=function(dm){return this.clone().imaskn(dm)},em.prototype.iaddn=function(dm){return Nf(typeof dm=="number"),Nf(dm<0x4000000),dm<0?this.isubn(-dm):this.negative!==0?this.length===1&&(this.words[0]|0)<=dm?(this.words[0]=dm-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(dm),this.negative=1,this):this._iaddn(dm)},em.prototype._iaddn=function(dm){this.words[0]+=dm;for(var gm=0;gm<this.length&&this.words[gm]>=0x4000000;gm++)this.words[gm]-=0x4000000,gm===this.length-1?this.words[gm+1]=1:this.words[gm+1]++;return this.length=Math.max(this.length,gm+1),this},em.prototype.isubn=function(dm){if(Nf(typeof dm=="number"),Nf(dm<0x4000000),dm<0)return this.iaddn(-dm);if(this.negative!==0)return this.negative=0,this.iaddn(dm),this.negative=1,this;if(this.words[0]-=dm,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var gm=0;gm<this.length&&this.words[gm]<0;gm++)this.words[gm]+=0x4000000,this.words[gm+1]-=1;return this._strip()},em.prototype.addn=function(dm){return this.clone().iaddn(dm)},em.prototype.subn=function(dm){return this.clone().isubn(dm)},em.prototype.iabs=function(){return this.negative=0,this},em.prototype.abs=function(){return this.clone().iabs()},em.prototype._ishlnsubmul=function(dm,gm,km){var Mm=dm.length+km,bm;this._expand(Mm);var Em,$m=0;for(bm=0;bm<dm.length;bm++){Em=(this.words[bm+km]|0)+$m;var Am=(dm.words[bm]|0)*gm;Em-=Am&0x3ffffff,$m=(Em>>26)-(Am/0x4000000|0),this.words[bm+km]=Em&0x3ffffff}for(;bm<this.length-km;bm++)Em=(this.words[bm+km]|0)+$m,$m=Em>>26,this.words[bm+km]=Em&0x3ffffff;if($m===0)return this._strip();for(Nf($m===-1),$m=0,bm=0;bm<this.length;bm++)Em=-(this.words[bm]|0)+$m,$m=Em>>26,this.words[bm]=Em&0x3ffffff;return this.negative=1,this._strip()},em.prototype._wordDiv=function(dm,gm){var km=this.length-dm.length,Mm=this.clone(),bm=dm,Em=bm.words[bm.length-1]|0,$m=this._countBits(Em);km=26-$m,km!==0&&(bm=bm.ushln(km),Mm.iushln(km),Em=bm.words[bm.length-1]|0);var Am=Mm.length-bm.length,lm;if(gm!=="mod"){lm=new em(null),lm.length=Am+1,lm.words=new Array(lm.length);for(var um=0;um<lm.length;um++)lm.words[um]=0}var wm=Mm.clone()._ishlnsubmul(bm,1,Am);wm.negative===0&&(Mm=wm,lm&&(lm.words[Am]=1));for(var xm=Am-1;xm>=0;xm--){var Tm=(Mm.words[bm.length+xm]|0)*0x4000000+(Mm.words[bm.length+xm-1]|0);for(Tm=Math.min(Tm/Em|0,0x3ffffff),Mm._ishlnsubmul(bm,Tm,xm);Mm.negative!==0;)Tm--,Mm.negative=0,Mm._ishlnsubmul(bm,1,xm),Mm.isZero()||(Mm.negative^=1);lm&&(lm.words[xm]=Tm)}return lm&&lm._strip(),Mm._strip(),gm!=="div"&&km!==0&&Mm.iushrn(km),{div:lm||null,mod:Mm}},em.prototype.divmod=function(dm,gm,km){if(Nf(!dm.isZero()),this.isZero())return{div:new em(0),mod:new em(0)};var Mm,bm,Em;return this.negative!==0&&dm.negative===0?(Em=this.neg().divmod(dm,gm),gm!=="mod"&&(Mm=Em.div.neg()),gm!=="div"&&(bm=Em.mod.neg(),km&&bm.negative!==0&&bm.iadd(dm)),{div:Mm,mod:bm}):this.negative===0&&dm.negative!==0?(Em=this.divmod(dm.neg(),gm),gm!=="mod"&&(Mm=Em.div.neg()),{div:Mm,mod:Em.mod}):(this.negative&dm.negative)!==0?(Em=this.neg().divmod(dm.neg(),gm),gm!=="div"&&(bm=Em.mod.neg(),km&&bm.negative!==0&&bm.isub(dm)),{div:Em.div,mod:bm}):dm.length>this.length||this.cmp(dm)<0?{div:new em(0),mod:this}:dm.length===1?gm==="div"?{div:this.divn(dm.words[0]),mod:null}:gm==="mod"?{div:null,mod:new em(this.modrn(dm.words[0]))}:{div:this.divn(dm.words[0]),mod:new em(this.modrn(dm.words[0]))}:this._wordDiv(dm,gm)},em.prototype.div=function(dm){return this.divmod(dm,"div",!1).div},em.prototype.mod=function(dm){return this.divmod(dm,"mod",!1).mod},em.prototype.umod=function(dm){return this.divmod(dm,"mod",!0).mod},em.prototype.divRound=function(dm){var gm=this.divmod(dm);if(gm.mod.isZero())return gm.div;var km=gm.div.negative!==0?gm.mod.isub(dm):gm.mod,Mm=dm.ushrn(1),bm=dm.andln(1),Em=km.cmp(Mm);return Em<0||bm===1&&Em===0?gm.div:gm.div.negative!==0?gm.div.isubn(1):gm.div.iaddn(1)},em.prototype.modrn=function(dm){var gm=dm<0;gm&&(dm=-dm),Nf(dm<=0x3ffffff);for(var km=(1<<26)%dm,Mm=0,bm=this.length-1;bm>=0;bm--)Mm=(km*Mm+(this.words[bm]|0))%dm;return gm?-Mm:Mm},em.prototype.modn=function(dm){return this.modrn(dm)},em.prototype.idivn=function(dm){var gm=dm<0;gm&&(dm=-dm),Nf(dm<=0x3ffffff);for(var km=0,Mm=this.length-1;Mm>=0;Mm--){var bm=(this.words[Mm]|0)+km*0x4000000;this.words[Mm]=bm/dm|0,km=bm%dm}return this._strip(),gm?this.ineg():this},em.prototype.divn=function(dm){return this.clone().idivn(dm)},em.prototype.egcd=function(dm){Nf(dm.negative===0),Nf(!dm.isZero());var gm=this,km=dm.clone();gm.negative!==0?gm=gm.umod(dm):gm=gm.clone();for(var Mm=new em(1),bm=new em(0),Em=new em(0),$m=new em(1),Am=0;gm.isEven()&&km.isEven();)gm.iushrn(1),km.iushrn(1),++Am;for(var lm=km.clone(),um=gm.clone();!gm.isZero();){for(var wm=0,xm=1;(gm.words[0]&xm)===0&&wm<26;++wm,xm<<=1);if(wm>0)for(gm.iushrn(wm);wm-- >0;)(Mm.isOdd()||bm.isOdd())&&(Mm.iadd(lm),bm.isub(um)),Mm.iushrn(1),bm.iushrn(1);for(var Tm=0,Om=1;(km.words[0]&Om)===0&&Tm<26;++Tm,Om<<=1);if(Tm>0)for(km.iushrn(Tm);Tm-- >0;)(Em.isOdd()||$m.isOdd())&&(Em.iadd(lm),$m.isub(um)),Em.iushrn(1),$m.iushrn(1);gm.cmp(km)>=0?(gm.isub(km),Mm.isub(Em),bm.isub($m)):(km.isub(gm),Em.isub(Mm),$m.isub(bm))}return{a:Em,b:$m,gcd:km.iushln(Am)}},em.prototype._invmp=function(dm){Nf(dm.negative===0),Nf(!dm.isZero());var gm=this,km=dm.clone();gm.negative!==0?gm=gm.umod(dm):gm=gm.clone();for(var Mm=new em(1),bm=new em(0),Em=km.clone();gm.cmpn(1)>0&&km.cmpn(1)>0;){for(var $m=0,Am=1;(gm.words[0]&Am)===0&&$m<26;++$m,Am<<=1);if($m>0)for(gm.iushrn($m);$m-- >0;)Mm.isOdd()&&Mm.iadd(Em),Mm.iushrn(1);for(var lm=0,um=1;(km.words[0]&um)===0&&lm<26;++lm,um<<=1);if(lm>0)for(km.iushrn(lm);lm-- >0;)bm.isOdd()&&bm.iadd(Em),bm.iushrn(1);gm.cmp(km)>=0?(gm.isub(km),Mm.isub(bm)):(km.isub(gm),bm.isub(Mm))}var wm;return gm.cmpn(1)===0?wm=Mm:wm=bm,wm.cmpn(0)<0&&wm.iadd(dm),wm},em.prototype.gcd=function(dm){if(this.isZero())return dm.abs();if(dm.isZero())return this.abs();var gm=this.clone(),km=dm.clone();gm.negative=0,km.negative=0;for(var Mm=0;gm.isEven()&&km.isEven();Mm++)gm.iushrn(1),km.iushrn(1);do{for(;gm.isEven();)gm.iushrn(1);for(;km.isEven();)km.iushrn(1);var bm=gm.cmp(km);if(bm<0){var Em=gm;gm=km,km=Em}else if(bm===0||km.cmpn(1)===0)break;gm.isub(km)}while(!0);return km.iushln(Mm)},em.prototype.invm=function(dm){return this.egcd(dm).a.umod(dm)},em.prototype.isEven=function(){return(this.words[0]&1)===0},em.prototype.isOdd=function(){return(this.words[0]&1)===1},em.prototype.andln=function(dm){return this.words[0]&dm},em.prototype.bincn=function(dm){Nf(typeof dm=="number");var gm=dm%26,km=(dm-gm)/26,Mm=1<<gm;if(this.length<=km)return this._expand(km+1),this.words[km]|=Mm,this;for(var bm=Mm,Em=km;bm!==0&&Em<this.length;Em++){var $m=this.words[Em]|0;$m+=bm,bm=$m>>>26,$m&=0x3ffffff,this.words[Em]=$m}return bm!==0&&(this.words[Em]=bm,this.length++),this},em.prototype.isZero=function(){return this.length===1&&this.words[0]===0},em.prototype.cmpn=function(dm){var gm=dm<0;if(this.negative!==0&&!gm)return-1;if(this.negative===0&&gm)return 1;this._strip();var km;if(this.length>1)km=1;else{gm&&(dm=-dm),Nf(dm<=0x3ffffff,"Number is too big");var Mm=this.words[0]|0;km=Mm===dm?0:Mm<dm?-1:1}return this.negative!==0?-km|0:km},em.prototype.cmp=function(dm){if(this.negative!==0&&dm.negative===0)return-1;if(this.negative===0&&dm.negative!==0)return 1;var gm=this.ucmp(dm);return this.negative!==0?-gm|0:gm},em.prototype.ucmp=function(dm){if(this.length>dm.length)return 1;if(this.length<dm.length)return-1;for(var gm=0,km=this.length-1;km>=0;km--){var Mm=this.words[km]|0,bm=dm.words[km]|0;if(Mm!==bm){Mm<bm?gm=-1:Mm>bm&&(gm=1);break}}return gm},em.prototype.gtn=function(dm){return this.cmpn(dm)===1},em.prototype.gt=function(dm){return this.cmp(dm)===1},em.prototype.gten=function(dm){return this.cmpn(dm)>=0},em.prototype.gte=function(dm){return this.cmp(dm)>=0},em.prototype.ltn=function(dm){return this.cmpn(dm)===-1},em.prototype.lt=function(dm){return this.cmp(dm)===-1},em.prototype.lten=function(dm){return this.cmpn(dm)<=0},em.prototype.lte=function(dm){return this.cmp(dm)<=0},em.prototype.eqn=function(dm){return this.cmpn(dm)===0},em.prototype.eq=function(dm){return this.cmp(dm)===0},em.red=function(dm){return new Um(dm)},em.prototype.toRed=function(dm){return Nf(!this.red,"Already a number in reduction context"),Nf(this.negative===0,"red works only with positives"),dm.convertTo(this)._forceRed(dm)},em.prototype.fromRed=function(){return Nf(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},em.prototype._forceRed=function(dm){return this.red=dm,this},em.prototype.forceRed=function(dm){return Nf(!this.red,"Already a number in reduction context"),this._forceRed(dm)},em.prototype.redAdd=function(dm){return Nf(this.red,"redAdd works only with red numbers"),this.red.add(this,dm)},em.prototype.redIAdd=function(dm){return Nf(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,dm)},em.prototype.redSub=function(dm){return Nf(this.red,"redSub works only with red numbers"),this.red.sub(this,dm)},em.prototype.redISub=function(dm){return Nf(this.red,"redISub works only with red numbers"),this.red.isub(this,dm)},em.prototype.redShl=function(dm){return Nf(this.red,"redShl works only with red numbers"),this.red.shl(this,dm)},em.prototype.redMul=function(dm){return Nf(this.red,"redMul works only with red numbers"),this.red._verify2(this,dm),this.red.mul(this,dm)},em.prototype.redIMul=function(dm){return Nf(this.red,"redMul works only with red numbers"),this.red._verify2(this,dm),this.red.imul(this,dm)},em.prototype.redSqr=function(){return Nf(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},em.prototype.redISqr=function(){return Nf(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},em.prototype.redSqrt=function(){return Nf(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},em.prototype.redInvm=function(){return Nf(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},em.prototype.redNeg=function(){return Nf(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},em.prototype.redPow=function(dm){return Nf(this.red&&!dm.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,dm)};var jm={k256:null,p224:null,p192:null,p25519:null};function Pm(Im,dm){this.name=Im,this.p=new em(dm,16),this.n=this.p.bitLength(),this.k=new em(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Pm.prototype._tmp=function(){var dm=new em(null);return dm.words=new Array(Math.ceil(this.n/13)),dm},Pm.prototype.ireduce=function(dm){var gm=dm,km;do this.split(gm,this.tmp),gm=this.imulK(gm),gm=gm.iadd(this.tmp),km=gm.bitLength();while(km>this.n);var Mm=km<this.n?-1:gm.ucmp(this.p);return Mm===0?(gm.words[0]=0,gm.length=1):Mm>0?gm.isub(this.p):gm.strip!==void 0?gm.strip():gm._strip(),gm},Pm.prototype.split=function(dm,gm){dm.iushrn(this.n,0,gm)},Pm.prototype.imulK=function(dm){return dm.imul(this.k)};function Bm(){Pm.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}ip(Bm,Pm),Bm.prototype.split=function(dm,gm){for(var km=4194303,Mm=Math.min(dm.length,9),bm=0;bm<Mm;bm++)gm.words[bm]=dm.words[bm];if(gm.length=Mm,dm.length<=9){dm.words[0]=0,dm.length=1;return}var Em=dm.words[9];for(gm.words[gm.length++]=Em&km,bm=10;bm<dm.length;bm++){var $m=dm.words[bm]|0;dm.words[bm-10]=($m&km)<<4|Em>>>22,Em=$m}Em>>>=22,dm.words[bm-10]=Em,Em===0&&dm.length>10?dm.length-=10:dm.length-=9},Bm.prototype.imulK=function(dm){dm.words[dm.length]=0,dm.words[dm.length+1]=0,dm.length+=2;for(var gm=0,km=0;km<dm.length;km++){var Mm=dm.words[km]|0;gm+=Mm*977,dm.words[km]=gm&0x3ffffff,gm=Mm*64+(gm/0x4000000|0)}return dm.words[dm.length-1]===0&&(dm.length--,dm.words[dm.length-1]===0&&dm.length--),dm};function qm(){Pm.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}ip(qm,Pm);function Rm(){Pm.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}ip(Rm,Pm);function Dm(){Pm.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}ip(Dm,Pm),Dm.prototype.imulK=function(dm){for(var gm=0,km=0;km<dm.length;km++){var Mm=(dm.words[km]|0)*19+gm,bm=Mm&0x3ffffff;Mm>>>=26,dm.words[km]=bm,gm=Mm}return gm!==0&&(dm.words[dm.length++]=gm),dm},em._prime=function(dm){if(jm[dm])return jm[dm];var gm;if(dm==="k256")gm=new Bm;else if(dm==="p224")gm=new qm;else if(dm==="p192")gm=new Rm;else if(dm==="p25519")gm=new Dm;else throw new Error("Unknown prime "+dm);return jm[dm]=gm,gm};function Um(Im){if(typeof Im=="string"){var dm=em._prime(Im);this.m=dm.p,this.prime=dm}else Nf(Im.gtn(1),"modulus must be greater than 1"),this.m=Im,this.prime=null}Um.prototype._verify1=function(dm){Nf(dm.negative===0,"red works only with positives"),Nf(dm.red,"red works only with red numbers")},Um.prototype._verify2=function(dm,gm){Nf((dm.negative|gm.negative)===0,"red works only with positives"),Nf(dm.red&&dm.red===gm.red,"red works only with red numbers")},Um.prototype.imod=function(dm){return this.prime?this.prime.ireduce(dm)._forceRed(this):(im(dm,dm.umod(this.m)._forceRed(this)),dm)},Um.prototype.neg=function(dm){return dm.isZero()?dm.clone():this.m.sub(dm)._forceRed(this)},Um.prototype.add=function(dm,gm){this._verify2(dm,gm);var km=dm.add(gm);return km.cmp(this.m)>=0&&km.isub(this.m),km._forceRed(this)},Um.prototype.iadd=function(dm,gm){this._verify2(dm,gm);var km=dm.iadd(gm);return km.cmp(this.m)>=0&&km.isub(this.m),km},Um.prototype.sub=function(dm,gm){this._verify2(dm,gm);var km=dm.sub(gm);return km.cmpn(0)<0&&km.iadd(this.m),km._forceRed(this)},Um.prototype.isub=function(dm,gm){this._verify2(dm,gm);var km=dm.isub(gm);return km.cmpn(0)<0&&km.iadd(this.m),km},Um.prototype.shl=function(dm,gm){return this._verify1(dm),this.imod(dm.ushln(gm))},Um.prototype.imul=function(dm,gm){return this._verify2(dm,gm),this.imod(dm.imul(gm))},Um.prototype.mul=function(dm,gm){return this._verify2(dm,gm),this.imod(dm.mul(gm))},Um.prototype.isqr=function(dm){return this.imul(dm,dm.clone())},Um.prototype.sqr=function(dm){return this.mul(dm,dm)},Um.prototype.sqrt=function(dm){if(dm.isZero())return dm.clone();var gm=this.m.andln(3);if(Nf(gm%2===1),gm===3){var km=this.m.add(new em(1)).iushrn(2);return this.pow(dm,km)}for(var Mm=this.m.subn(1),bm=0;!Mm.isZero()&&Mm.andln(1)===0;)bm++,Mm.iushrn(1);Nf(!Mm.isZero());var Em=new em(1).toRed(this),$m=Em.redNeg(),Am=this.m.subn(1).iushrn(1),lm=this.m.bitLength();for(lm=new em(2*lm*lm).toRed(this);this.pow(lm,Am).cmp($m)!==0;)lm.redIAdd($m);for(var um=this.pow(lm,Mm),wm=this.pow(dm,Mm.addn(1).iushrn(1)),xm=this.pow(dm,Mm),Tm=bm;xm.cmp(Em)!==0;){for(var Om=xm,Hm=0;Om.cmp(Em)!==0;Hm++)Om=Om.redSqr();Nf(Hm<Tm);var Km=this.pow(um,new em(1).iushln(Tm-Hm-1));wm=wm.redMul(Km),um=Km.redSqr(),xm=xm.redMul(um),Tm=Hm}return wm},Um.prototype.invm=function(dm){var gm=dm._invmp(this.m);return gm.negative!==0?(gm.negative=0,this.imod(gm).redNeg()):this.imod(gm)},Um.prototype.pow=function(dm,gm){if(gm.isZero())return new em(1).toRed(this);if(gm.cmpn(1)===0)return dm.clone();var km=4,Mm=new Array(1<<km);Mm[0]=new em(1).toRed(this),Mm[1]=dm;for(var bm=2;bm<Mm.length;bm++)Mm[bm]=this.mul(Mm[bm-1],dm);var Em=Mm[0],$m=0,Am=0,lm=gm.bitLength()%26;for(lm===0&&(lm=26),bm=gm.length-1;bm>=0;bm--){for(var um=gm.words[bm],wm=lm-1;wm>=0;wm--){var xm=um>>wm&1;if(Em!==Mm[0]&&(Em=this.sqr(Em)),xm===0&&$m===0){Am=0;continue}$m<<=1,$m|=xm,Am++,!(Am!==km&&(bm!==0||wm!==0))&&(Em=this.mul(Em,Mm[$m]),Am=0,$m=0)}lm=26}return Em},Um.prototype.convertTo=function(dm){var gm=dm.umod(this.m);return gm===dm?gm.clone():gm},Um.prototype.convertFrom=function(dm){var gm=dm.clone();return gm.red=null,gm},em.mont=function(dm){return new Lm(dm)};function Lm(Im){Um.call(this,Im),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new em(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ip(Lm,Um),Lm.prototype.convertTo=function(dm){return this.imod(dm.ushln(this.shift))},Lm.prototype.convertFrom=function(dm){var gm=this.imod(dm.mul(this.rinv));return gm.red=null,gm},Lm.prototype.imul=function(dm,gm){if(dm.isZero()||gm.isZero())return dm.words[0]=0,dm.length=1,dm;var km=dm.imul(gm),Mm=km.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),bm=km.isub(Mm).iushrn(this.shift),Em=bm;return bm.cmp(this.m)>=0?Em=bm.isub(this.m):bm.cmpn(0)<0&&(Em=bm.iadd(this.m)),Em._forceRed(this)},Lm.prototype.mul=function(dm,gm){if(dm.isZero()||gm.isZero())return new em(0)._forceRed(this);var km=dm.mul(gm),Mm=km.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),bm=km.isub(Mm).iushrn(this.shift),Em=bm;return bm.cmp(this.m)>=0?Em=bm.isub(this.m):bm.cmpn(0)<0&&(Em=bm.iadd(this.m)),Em._forceRed(this)},Lm.prototype.invm=function(dm){var gm=this.imod(dm._invmp(this.m).mul(this.r2));return gm._forceRed(this)}})(r,bn)}(bn$1)),bn$1.exports}var bnExports=requireBn();const BN=getDefaultExportFromCjs(bnExports);var safeBuffer={exports:{}};var hasRequiredSafeBuffer;function requireSafeBuffer(){return hasRequiredSafeBuffer||(hasRequiredSafeBuffer=1,function(r,s){var sf=requireBuffer(),Nf=sf.Buffer;function ip(tm,nm){for(var rm in tm)nm[rm]=tm[rm]}Nf.from&&Nf.alloc&&Nf.allocUnsafe&&Nf.allocUnsafeSlow?r.exports=sf:(ip(sf,s),s.Buffer=em);function em(tm,nm,rm){return Nf(tm,nm,rm)}em.prototype=Object.create(Nf.prototype),ip(Nf,em),em.from=function(tm,nm,rm){if(typeof tm=="number")throw new TypeError("Argument must not be a number");return Nf(tm,nm,rm)},em.alloc=function(tm,nm,rm){if(typeof tm!="number")throw new TypeError("Argument must be a number");var om=Nf(tm);return nm!==void 0?typeof rm=="string"?om.fill(nm,rm):om.fill(nm):om.fill(0),om},em.allocUnsafe=function(tm){if(typeof tm!="number")throw new TypeError("Argument must be a number");return Nf(tm)},em.allocUnsafeSlow=function(tm){if(typeof tm!="number")throw new TypeError("Argument must be a number");return sf.SlowBuffer(tm)}}(safeBuffer,safeBuffer.exports)),safeBuffer.exports}var src,hasRequiredSrc;function requireSrc(){if(hasRequiredSrc)return src;hasRequiredSrc=1;var r=requireSafeBuffer().Buffer;function s(sf){if(sf.length>=255)throw new TypeError("Alphabet too long");for(var Nf=new Uint8Array(256),ip=0;ip<Nf.length;ip++)Nf[ip]=255;for(var em=0;em<sf.length;em++){var tm=sf.charAt(em),nm=tm.charCodeAt(0);if(Nf[nm]!==255)throw new TypeError(tm+" is ambiguous");Nf[nm]=em}var rm=sf.length,om=sf.charAt(0),im=Math.log(rm)/Math.log(256),am=Math.log(256)/Math.log(rm);function sm(fm){if((Array.isArray(fm)||fm instanceof Uint8Array)&&(fm=r.from(fm)),!r.isBuffer(fm))throw new TypeError("Expected Buffer");if(fm.length===0)return"";for(var pm=0,mm=0,_m=0,ym=fm.length;_m!==ym&&fm[_m]===0;)_m++,pm++;for(var Sm=(ym-_m)*am+1>>>0,jm=new Uint8Array(Sm);_m!==ym;){for(var Pm=fm[_m],Bm=0,qm=Sm-1;(Pm!==0||Bm<mm)&&qm!==-1;qm--,Bm++)Pm+=256*jm[qm]>>>0,jm[qm]=Pm%rm>>>0,Pm=Pm/rm>>>0;if(Pm!==0)throw new Error("Non-zero carry");mm=Bm,_m++}for(var Rm=Sm-mm;Rm!==Sm&&jm[Rm]===0;)Rm++;for(var Dm=om.repeat(pm);Rm<Sm;++Rm)Dm+=sf.charAt(jm[Rm]);return Dm}function cm(fm){if(typeof fm!="string")throw new TypeError("Expected String");if(fm.length===0)return r.alloc(0);for(var pm=0,mm=0,_m=0;fm[pm]===om;)mm++,pm++;for(var ym=(fm.length-pm)*im+1>>>0,Sm=new Uint8Array(ym);pm<fm.length;){var jm=fm.charCodeAt(pm);if(jm>255)return;var Pm=Nf[jm];if(Pm===255)return;for(var Bm=0,qm=ym-1;(Pm!==0||Bm<_m)&&qm!==-1;qm--,Bm++)Pm+=rm*Sm[qm]>>>0,Sm[qm]=Pm%256>>>0,Pm=Pm/256>>>0;if(Pm!==0)throw new Error("Non-zero carry");_m=Bm,pm++}for(var Rm=ym-_m;Rm!==ym&&Sm[Rm]===0;)Rm++;var Dm=r.allocUnsafe(mm+(ym-Rm));Dm.fill(0,0,mm);for(var Um=mm;Rm!==ym;)Dm[Um++]=Sm[Rm++];return Dm}function hm(fm){var pm=cm(fm);if(pm)return pm;throw new Error("Non-base"+rm+" character")}return{encode:sm,decodeUnsafe:cm,decode:hm}}return src=s,src}var bs58$1,hasRequiredBs58;function requireBs58(){if(hasRequiredBs58)return bs58$1;hasRequiredBs58=1;var r=requireSrc(),s="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return bs58$1=r(s),bs58$1}var bs58Exports=requireBs58();const bs58=getDefaultExportFromCjs(bs58Exports);var lib={};function inRange(r,s,sf){return s<=r&&r<=sf}function ToDictionary(r){if(r===void 0)return{};if(r===Object(r))return r;throw TypeError("Could not convert argument to dictionary")}function stringToCodePoints(r){for(var s=String(r),sf=s.length,Nf=0,ip=[];Nf<sf;){var em=s.charCodeAt(Nf);if(em<55296||em>57343)ip.push(em);else if(56320<=em&&em<=57343)ip.push(65533);else if(55296<=em&&em<=56319)if(Nf===sf-1)ip.push(65533);else{var tm=r.charCodeAt(Nf+1);if(56320<=tm&&tm<=57343){var nm=em&1023,rm=tm&1023;ip.push(65536+(nm<<10)+rm),Nf+=1}else ip.push(65533)}Nf+=1}return ip}function codePointsToString(r){for(var s="",sf=0;sf<r.length;++sf){var Nf=r[sf];Nf<=65535?s+=String.fromCharCode(Nf):(Nf-=65536,s+=String.fromCharCode((Nf>>10)+55296,(Nf&1023)+56320))}return s}var end_of_stream=-1;function Stream(r){this.tokens=[].slice.call(r)}Stream.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():end_of_stream},prepend:function(r){if(Array.isArray(r))for(var s=(r);s.length;)this.tokens.unshift(s.pop());else this.tokens.unshift(r)},push:function(r){if(Array.isArray(r))for(var s=(r);s.length;)this.tokens.push(s.shift());else this.tokens.push(r)}};var finished=-1;function decoderError(r,s){if(r)throw TypeError("Decoder error");return s||65533}var DEFAULT_ENCODING="utf-8";function TextDecoder$1(r,s){if(!(this instanceof TextDecoder$1))return new TextDecoder$1(r,s);if(r=r!==void 0?String(r).toLowerCase():DEFAULT_ENCODING,r!==DEFAULT_ENCODING)throw new Error("Encoding not supported. Only utf-8 is supported");s=ToDictionary(s),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!s.fatal,this._ignoreBOM=!!s.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}TextDecoder$1.prototype={decode:function r(s,sf){var Nf;typeof s=="object"&&s instanceof ArrayBuffer?Nf=new Uint8Array(s):typeof s=="object"&&"buffer"in s&&s.buffer instanceof ArrayBuffer?Nf=new Uint8Array(s.buffer,s.byteOffset,s.byteLength):Nf=new Uint8Array(0),sf=ToDictionary(sf),this._streaming||(this._decoder=new UTF8Decoder({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!sf.stream;for(var ip=new Stream(Nf),em=[],tm;!ip.endOfStream()&&(tm=this._decoder.handler(ip,ip.read()),tm!==finished);)tm!==null&&(Array.isArray(tm)?em.push.apply(em,tm):em.push(tm));if(!this._streaming){do{if(tm=this._decoder.handler(ip,ip.read()),tm===finished)break;tm!==null&&(Array.isArray(tm)?em.push.apply(em,tm):em.push(tm))}while(!ip.endOfStream());this._decoder=null}return em.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(em[0]===65279?(this._BOMseen=!0,em.shift()):this._BOMseen=!0),codePointsToString(em)}};function TextEncoder$1(r,s){if(!(this instanceof TextEncoder$1))return new TextEncoder$1(r,s);if(r=r!==void 0?String(r).toLowerCase():DEFAULT_ENCODING,r!==DEFAULT_ENCODING)throw new Error("Encoding not supported. Only utf-8 is supported");s=ToDictionary(s),this._streaming=!1,this._encoder=null,this._options={fatal:!!s.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}TextEncoder$1.prototype={encode:function r(s,sf){s=s?String(s):"",sf=ToDictionary(sf),this._streaming||(this._encoder=new UTF8Encoder(this._options)),this._streaming=!!sf.stream;for(var Nf=[],ip=new Stream(stringToCodePoints(s)),em;!ip.endOfStream()&&(em=this._encoder.handler(ip,ip.read()),em!==finished);)Array.isArray(em)?Nf.push.apply(Nf,em):Nf.push(em);if(!this._streaming){for(;em=this._encoder.handler(ip,ip.read()),em!==finished;)Array.isArray(em)?Nf.push.apply(Nf,em):Nf.push(em);this._encoder=null}return new Uint8Array(Nf)}};function UTF8Decoder(r){var s=r.fatal,sf=0,Nf=0,ip=0,em=128,tm=191;this.handler=function(nm,rm){if(rm===end_of_stream&&ip!==0)return ip=0,decoderError(s);if(rm===end_of_stream)return finished;if(ip===0){if(inRange(rm,0,127))return rm;if(inRange(rm,194,223))ip=1,sf=rm-192;else if(inRange(rm,224,239))rm===224&&(em=160),rm===237&&(tm=159),ip=2,sf=rm-224;else if(inRange(rm,240,244))rm===240&&(em=144),rm===244&&(tm=143),ip=3,sf=rm-240;else return decoderError(s);return sf=sf<<6*ip,null}if(!inRange(rm,em,tm))return sf=ip=Nf=0,em=128,tm=191,nm.prepend(rm),decoderError(s);if(em=128,tm=191,Nf+=1,sf+=rm-128<<6*(ip-Nf),Nf!==ip)return null;var om=sf;return sf=ip=Nf=0,om}}function UTF8Encoder(r){r.fatal,this.handler=function(s,sf){if(sf===end_of_stream)return finished;if(inRange(sf,0,127))return sf;var Nf,ip;inRange(sf,128,2047)?(Nf=1,ip=192):inRange(sf,2048,65535)?(Nf=2,ip=224):inRange(sf,65536,1114111)&&(Nf=3,ip=240);for(var em=[(sf>>6*Nf)+ip];Nf>0;){var tm=sf>>6*(Nf-1);em.push(128|tm&63),Nf-=1}return em}}const encoding=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:TextDecoder$1,TextEncoder:TextEncoder$1},Symbol.toStringTag,{value:"Module"})),require$$2=getAugmentedNamespace(encoding);var hasRequiredLib;function requireLib(){if(hasRequiredLib)return lib;hasRequiredLib=1;var r=lib&&lib.__createBinding||(Object.create?function(Rm,Dm,Um,Lm){Lm===void 0&&(Lm=Um),Object.defineProperty(Rm,Lm,{enumerable:!0,get:function(){return Dm[Um]}})}:function(Rm,Dm,Um,Lm){Lm===void 0&&(Lm=Um),Rm[Lm]=Dm[Um]}),s=lib&&lib.__setModuleDefault||(Object.create?function(Rm,Dm){Object.defineProperty(Rm,"default",{enumerable:!0,value:Dm})}:function(Rm,Dm){Rm.default=Dm}),sf=lib&&lib.__decorate||function(Rm,Dm,Um,Lm){var Im=arguments.length,dm=Im<3?Dm:Lm===null?Lm=Object.getOwnPropertyDescriptor(Dm,Um):Lm,gm;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")dm=Reflect.decorate(Rm,Dm,Um,Lm);else for(var km=Rm.length-1;km>=0;km--)(gm=Rm[km])&&(dm=(Im<3?gm(dm):Im>3?gm(Dm,Um,dm):gm(Dm,Um))||dm);return Im>3&&dm&&Object.defineProperty(Dm,Um,dm),dm},Nf=lib&&lib.__importStar||function(Rm){if(Rm&&Rm.__esModule)return Rm;var Dm={};if(Rm!=null)for(var Um in Rm)Um!=="default"&&Object.hasOwnProperty.call(Rm,Um)&&r(Dm,Rm,Um);return s(Dm,Rm),Dm},ip=lib&&lib.__importDefault||function(Rm){return Rm&&Rm.__esModule?Rm:{default:Rm}};Object.defineProperty(lib,"__esModule",{value:!0}),lib.deserializeUnchecked=lib.deserialize=lib.serialize=lib.BinaryReader=lib.BinaryWriter=lib.BorshError=lib.baseDecode=lib.baseEncode=void 0;const em=ip(requireBn()),tm=ip(requireBs58()),nm=Nf(require$$2),rm=typeof TextDecoder!="function"?nm.TextDecoder:TextDecoder,om=new rm("utf-8",{fatal:!0});function im(Rm){return typeof Rm=="string"&&(Rm=Buffer.from(Rm,"utf8")),tm.default.encode(Buffer.from(Rm))}lib.baseEncode=im;function am(Rm){return Buffer.from(tm.default.decode(Rm))}lib.baseDecode=am;const sm=1024;class cm extends Error{constructor(Dm){super(Dm),this.fieldPath=[],this.originalMessage=Dm}addToFieldPath(Dm){this.fieldPath.splice(0,0,Dm),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}lib.BorshError=cm;class hm{constructor(){this.buf=Buffer.alloc(sm),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(sm)]))}writeU8(Dm){this.maybeResize(),this.buf.writeUInt8(Dm,this.length),this.length+=1}writeU16(Dm){this.maybeResize(),this.buf.writeUInt16LE(Dm,this.length),this.length+=2}writeU32(Dm){this.maybeResize(),this.buf.writeUInt32LE(Dm,this.length),this.length+=4}writeU64(Dm){this.maybeResize(),this.writeBuffer(Buffer.from(new em.default(Dm).toArray("le",8)))}writeU128(Dm){this.maybeResize(),this.writeBuffer(Buffer.from(new em.default(Dm).toArray("le",16)))}writeU256(Dm){this.maybeResize(),this.writeBuffer(Buffer.from(new em.default(Dm).toArray("le",32)))}writeU512(Dm){this.maybeResize(),this.writeBuffer(Buffer.from(new em.default(Dm).toArray("le",64)))}writeBuffer(Dm){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),Dm,Buffer.alloc(sm)]),this.length+=Dm.length}writeString(Dm){this.maybeResize();const Um=Buffer.from(Dm,"utf8");this.writeU32(Um.length),this.writeBuffer(Um)}writeFixedArray(Dm){this.writeBuffer(Buffer.from(Dm))}writeArray(Dm,Um){this.maybeResize(),this.writeU32(Dm.length);for(const Lm of Dm)this.maybeResize(),Um(Lm)}toArray(){return this.buf.subarray(0,this.length)}}lib.BinaryWriter=hm;function fm(Rm,Dm,Um){const Lm=Um.value;Um.value=function(...Im){try{return Lm.apply(this,Im)}catch(dm){if(dm instanceof RangeError){const gm=dm.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(gm)>=0)throw new cm("Reached the end of buffer when deserializing")}throw dm}}}class pm{constructor(Dm){this.buf=Dm,this.offset=0}readU8(){const Dm=this.buf.readUInt8(this.offset);return this.offset+=1,Dm}readU16(){const Dm=this.buf.readUInt16LE(this.offset);return this.offset+=2,Dm}readU32(){const Dm=this.buf.readUInt32LE(this.offset);return this.offset+=4,Dm}readU64(){const Dm=this.readBuffer(8);return new em.default(Dm,"le")}readU128(){const Dm=this.readBuffer(16);return new em.default(Dm,"le")}readU256(){const Dm=this.readBuffer(32);return new em.default(Dm,"le")}readU512(){const Dm=this.readBuffer(64);return new em.default(Dm,"le")}readBuffer(Dm){if(this.offset+Dm>this.buf.length)throw new cm(`Expected buffer length ${Dm} isn't within bounds`);const Um=this.buf.slice(this.offset,this.offset+Dm);return this.offset+=Dm,Um}readString(){const Dm=this.readU32(),Um=this.readBuffer(Dm);try{return om.decode(Um)}catch(Lm){throw new cm(`Error decoding UTF-8 string: ${Lm}`)}}readFixedArray(Dm){return new Uint8Array(this.readBuffer(Dm))}readArray(Dm){const Um=this.readU32(),Lm=Array();for(let Im=0;Im<Um;++Im)Lm.push(Dm());return Lm}}sf([fm],pm.prototype,"readU8",null),sf([fm],pm.prototype,"readU16",null),sf([fm],pm.prototype,"readU32",null),sf([fm],pm.prototype,"readU64",null),sf([fm],pm.prototype,"readU128",null),sf([fm],pm.prototype,"readU256",null),sf([fm],pm.prototype,"readU512",null),sf([fm],pm.prototype,"readString",null),sf([fm],pm.prototype,"readFixedArray",null),sf([fm],pm.prototype,"readArray",null),lib.BinaryReader=pm;function mm(Rm){return Rm.charAt(0).toUpperCase()+Rm.slice(1)}function _m(Rm,Dm,Um,Lm,Im){try{if(typeof Lm=="string")Im[`write${mm(Lm)}`](Um);else if(Lm instanceof Array)if(typeof Lm[0]=="number"){if(Um.length!==Lm[0])throw new cm(`Expecting byte array of length ${Lm[0]}, but got ${Um.length} bytes`);Im.writeFixedArray(Um)}else if(Lm.length===2&&typeof Lm[1]=="number"){if(Um.length!==Lm[1])throw new cm(`Expecting byte array of length ${Lm[1]}, but got ${Um.length} bytes`);for(let dm=0;dm<Lm[1];dm++)_m(Rm,null,Um[dm],Lm[0],Im)}else Im.writeArray(Um,dm=>{_m(Rm,Dm,dm,Lm[0],Im)});else if(Lm.kind!==void 0)switch(Lm.kind){case"option":{Um==null?Im.writeU8(0):(Im.writeU8(1),_m(Rm,Dm,Um,Lm.type,Im));break}case"map":{Im.writeU32(Um.size),Um.forEach((dm,gm)=>{_m(Rm,Dm,gm,Lm.key,Im),_m(Rm,Dm,dm,Lm.value,Im)});break}default:throw new cm(`FieldType ${Lm} unrecognized`)}else ym(Rm,Um,Im)}catch(dm){throw dm instanceof cm&&dm.addToFieldPath(Dm),dm}}function ym(Rm,Dm,Um){if(typeof Dm.borshSerialize=="function"){Dm.borshSerialize(Um);return}const Lm=Rm.get(Dm.constructor);if(!Lm)throw new cm(`Class ${Dm.constructor.name} is missing in schema`);if(Lm.kind==="struct")Lm.fields.map(([Im,dm])=>{_m(Rm,Im,Dm[Im],dm,Um)});else if(Lm.kind==="enum"){const Im=Dm[Lm.field];for(let dm=0;dm<Lm.values.length;++dm){const[gm,km]=Lm.values[dm];if(gm===Im){Um.writeU8(dm),_m(Rm,gm,Dm[gm],km,Um);break}}}else throw new cm(`Unexpected schema kind: ${Lm.kind} for ${Dm.constructor.name}`)}function Sm(Rm,Dm,Um=hm){const Lm=new Um;return ym(Rm,Dm,Lm),Lm.toArray()}lib.serialize=Sm;function jm(Rm,Dm,Um,Lm){try{if(typeof Um=="string")return Lm[`read${mm(Um)}`]();if(Um instanceof Array){if(typeof Um[0]=="number")return Lm.readFixedArray(Um[0]);if(typeof Um[1]=="number"){const Im=[];for(let dm=0;dm<Um[1];dm++)Im.push(jm(Rm,null,Um[0],Lm));return Im}else return Lm.readArray(()=>jm(Rm,Dm,Um[0],Lm))}if(Um.kind==="option")return Lm.readU8()?jm(Rm,Dm,Um.type,Lm):void 0;if(Um.kind==="map"){let Im=new Map;const dm=Lm.readU32();for(let gm=0;gm<dm;gm++){const km=jm(Rm,Dm,Um.key,Lm),Mm=jm(Rm,Dm,Um.value,Lm);Im.set(km,Mm)}return Im}return Pm(Rm,Um,Lm)}catch(Im){throw Im instanceof cm&&Im.addToFieldPath(Dm),Im}}function Pm(Rm,Dm,Um){if(typeof Dm.borshDeserialize=="function")return Dm.borshDeserialize(Um);const Lm=Rm.get(Dm);if(!Lm)throw new cm(`Class ${Dm.name} is missing in schema`);if(Lm.kind==="struct"){const Im={};for(const[dm,gm]of Rm.get(Dm).fields)Im[dm]=jm(Rm,dm,gm,Um);return new Dm(Im)}if(Lm.kind==="enum"){const Im=Um.readU8();if(Im>=Lm.values.length)throw new cm(`Enum index: ${Im} is out of range`);const[dm,gm]=Lm.values[Im],km=jm(Rm,dm,gm,Um);return new Dm({[dm]:km})}throw new cm(`Unexpected schema kind: ${Lm.kind} for ${Dm.constructor.name}`)}function Bm(Rm,Dm,Um,Lm=pm){const Im=new Lm(Um),dm=Pm(Rm,Dm,Im);if(Im.offset<Um.length)throw new cm(`Unexpected ${Um.length-Im.offset} bytes after deserialized data`);return dm}lib.deserialize=Bm;function qm(Rm,Dm,Um,Lm=pm){const Im=new Lm(Um);return Pm(Rm,Dm,Im)}return lib.deserializeUnchecked=qm,lib}var libExports=requireLib(),Layout={},hasRequiredLayout;function requireLayout(){if(hasRequiredLayout)return Layout;hasRequiredLayout=1,Object.defineProperty(Layout,"__esModule",{value:!0}),Layout.s16=Layout.s8=Layout.nu64be=Layout.u48be=Layout.u40be=Layout.u32be=Layout.u24be=Layout.u16be=Layout.nu64=Layout.u48=Layout.u40=Layout.u32=Layout.u24=Layout.u16=Layout.u8=Layout.offset=Layout.greedy=Layout.Constant=Layout.UTF8=Layout.CString=Layout.Blob=Layout.Boolean=Layout.BitField=Layout.BitStructure=Layout.VariantLayout=Layout.Union=Layout.UnionLayoutDiscriminator=Layout.UnionDiscriminator=Layout.Structure=Layout.Sequence=Layout.DoubleBE=Layout.Double=Layout.FloatBE=Layout.Float=Layout.NearInt64BE=Layout.NearInt64=Layout.NearUInt64BE=Layout.NearUInt64=Layout.IntBE=Layout.Int=Layout.UIntBE=Layout.UInt=Layout.OffsetLayout=Layout.GreedyCount=Layout.ExternalLayout=Layout.bindConstructorLayout=Layout.nameWithProperty=Layout.Layout=Layout.uint8ArrayToBuffer=Layout.checkUint8Array=void 0,Layout.constant=Layout.utf8=Layout.cstr=Layout.blob=Layout.unionLayoutDiscriminator=Layout.union=Layout.seq=Layout.bits=Layout.struct=Layout.f64be=Layout.f64=Layout.f32be=Layout.f32=Layout.ns64be=Layout.s48be=Layout.s40be=Layout.s32be=Layout.s24be=Layout.s16be=Layout.ns64=Layout.s48=Layout.s40=Layout.s32=Layout.s24=void 0;const r=requireBuffer();function s(lm){if(!(lm instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}Layout.checkUint8Array=s;function sf(lm){return s(lm),r.Buffer.from(lm.buffer,lm.byteOffset,lm.length)}Layout.uint8ArrayToBuffer=sf;let Nf=class{constructor(um,wm){if(!Number.isInteger(um))throw new TypeError("span must be an integer");this.span=um,this.property=wm}makeDestinationObject(){return{}}getSpan(um,wm){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(um){const wm=Object.create(this.constructor.prototype);return Object.assign(wm,this),wm.property=um,wm}fromArray(um){}};Layout.Layout=Nf;function ip(lm,um){return um.property?lm+"["+um.property+"]":lm}Layout.nameWithProperty=ip;function em(lm,um){if(typeof lm!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(lm,"layout_"))throw new Error("Class is already bound to a layout");if(!(um&&um instanceof Nf))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(um,"boundConstructor_"))throw new Error("layout is already bound to a constructor");lm.layout_=um,um.boundConstructor_=lm,um.makeDestinationObject=()=>new lm,Object.defineProperty(lm.prototype,"encode",{value(wm,xm){return um.encode(this,wm,xm)},writable:!0}),Object.defineProperty(lm,"decode",{value(wm,xm){return um.decode(wm,xm)},writable:!0})}Layout.bindConstructorLayout=em;class tm extends Nf{isCount(){throw new Error("ExternalLayout is abstract")}}Layout.ExternalLayout=tm;class nm extends tm{constructor(um=1,wm){if(!Number.isInteger(um)||0>=um)throw new TypeError("elementSpan must be a (positive) integer");super(-1,wm),this.elementSpan=um}isCount(){return!0}decode(um,wm=0){s(um);const xm=um.length-wm;return Math.floor(xm/this.elementSpan)}encode(um,wm,xm){return 0}}Layout.GreedyCount=nm;class rm extends tm{constructor(um,wm=0,xm){if(!(um instanceof Nf))throw new TypeError("layout must be a Layout");if(!Number.isInteger(wm))throw new TypeError("offset must be integer or undefined");super(um.span,xm||um.property),this.layout=um,this.offset=wm}isCount(){return this.layout instanceof om||this.layout instanceof im}decode(um,wm=0){return this.layout.decode(um,wm+this.offset)}encode(um,wm,xm=0){return this.layout.encode(um,wm,xm+this.offset)}}Layout.OffsetLayout=rm;class om extends Nf{constructor(um,wm){if(super(um,wm),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(um,wm=0){return sf(um).readUIntLE(wm,this.span)}encode(um,wm,xm=0){return sf(wm).writeUIntLE(um,xm,this.span),this.span}}Layout.UInt=om;class im extends Nf{constructor(um,wm){if(super(um,wm),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(um,wm=0){return sf(um).readUIntBE(wm,this.span)}encode(um,wm,xm=0){return sf(wm).writeUIntBE(um,xm,this.span),this.span}}Layout.UIntBE=im;class am extends Nf{constructor(um,wm){if(super(um,wm),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(um,wm=0){return sf(um).readIntLE(wm,this.span)}encode(um,wm,xm=0){return sf(wm).writeIntLE(um,xm,this.span),this.span}}Layout.Int=am;class sm extends Nf{constructor(um,wm){if(super(um,wm),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(um,wm=0){return sf(um).readIntBE(wm,this.span)}encode(um,wm,xm=0){return sf(wm).writeIntBE(um,xm,this.span),this.span}}Layout.IntBE=sm;const cm=Math.pow(2,32);function hm(lm){const um=Math.floor(lm/cm),wm=lm-um*cm;return{hi32:um,lo32:wm}}function fm(lm,um){return lm*cm+um}class pm extends Nf{constructor(um){super(8,um)}decode(um,wm=0){const xm=sf(um),Tm=xm.readUInt32LE(wm),Om=xm.readUInt32LE(wm+4);return fm(Om,Tm)}encode(um,wm,xm=0){const Tm=hm(um),Om=sf(wm);return Om.writeUInt32LE(Tm.lo32,xm),Om.writeUInt32LE(Tm.hi32,xm+4),8}}Layout.NearUInt64=pm;class mm extends Nf{constructor(um){super(8,um)}decode(um,wm=0){const xm=sf(um),Tm=xm.readUInt32BE(wm),Om=xm.readUInt32BE(wm+4);return fm(Tm,Om)}encode(um,wm,xm=0){const Tm=hm(um),Om=sf(wm);return Om.writeUInt32BE(Tm.hi32,xm),Om.writeUInt32BE(Tm.lo32,xm+4),8}}Layout.NearUInt64BE=mm;class _m extends Nf{constructor(um){super(8,um)}decode(um,wm=0){const xm=sf(um),Tm=xm.readUInt32LE(wm),Om=xm.readInt32LE(wm+4);return fm(Om,Tm)}encode(um,wm,xm=0){const Tm=hm(um),Om=sf(wm);return Om.writeUInt32LE(Tm.lo32,xm),Om.writeInt32LE(Tm.hi32,xm+4),8}}Layout.NearInt64=_m;class ym extends Nf{constructor(um){super(8,um)}decode(um,wm=0){const xm=sf(um),Tm=xm.readInt32BE(wm),Om=xm.readUInt32BE(wm+4);return fm(Tm,Om)}encode(um,wm,xm=0){const Tm=hm(um),Om=sf(wm);return Om.writeInt32BE(Tm.hi32,xm),Om.writeUInt32BE(Tm.lo32,xm+4),8}}Layout.NearInt64BE=ym;class Sm extends Nf{constructor(um){super(4,um)}decode(um,wm=0){return sf(um).readFloatLE(wm)}encode(um,wm,xm=0){return sf(wm).writeFloatLE(um,xm),4}}Layout.Float=Sm;class jm extends Nf{constructor(um){super(4,um)}decode(um,wm=0){return sf(um).readFloatBE(wm)}encode(um,wm,xm=0){return sf(wm).writeFloatBE(um,xm),4}}Layout.FloatBE=jm;class Pm extends Nf{constructor(um){super(8,um)}decode(um,wm=0){return sf(um).readDoubleLE(wm)}encode(um,wm,xm=0){return sf(wm).writeDoubleLE(um,xm),8}}Layout.Double=Pm;class Bm extends Nf{constructor(um){super(8,um)}decode(um,wm=0){return sf(um).readDoubleBE(wm)}encode(um,wm,xm=0){return sf(wm).writeDoubleBE(um,xm),8}}Layout.DoubleBE=Bm;class qm extends Nf{constructor(um,wm,xm){if(!(um instanceof Nf))throw new TypeError("elementLayout must be a Layout");if(!(wm instanceof tm&&wm.isCount()||Number.isInteger(wm)&&0<=wm))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let Tm=-1;!(wm instanceof tm)&&0<um.span&&(Tm=wm*um.span),super(Tm,xm),this.elementLayout=um,this.count=wm}getSpan(um,wm=0){if(0<=this.span)return this.span;let xm=0,Tm=this.count;if(Tm instanceof tm&&(Tm=Tm.decode(um,wm)),0<this.elementLayout.span)xm=Tm*this.elementLayout.span;else{let Om=0;for(;Om<Tm;)xm+=this.elementLayout.getSpan(um,wm+xm),++Om}return xm}decode(um,wm=0){const xm=[];let Tm=0,Om=this.count;for(Om instanceof tm&&(Om=Om.decode(um,wm));Tm<Om;)xm.push(this.elementLayout.decode(um,wm)),wm+=this.elementLayout.getSpan(um,wm),Tm+=1;return xm}encode(um,wm,xm=0){const Tm=this.elementLayout,Om=um.reduce((Hm,Km)=>Hm+Tm.encode(Km,wm,xm+Hm),0);return this.count instanceof tm&&this.count.encode(um.length,wm,xm),Om}}Layout.Sequence=qm;class Rm extends Nf{constructor(um,wm,xm){if(!(Array.isArray(um)&&um.reduce((Om,Hm)=>Om&&Hm instanceof Nf,!0)))throw new TypeError("fields must be array of Layout instances");typeof wm=="boolean"&&xm===void 0&&(xm=wm,wm=void 0);for(const Om of um)if(0>Om.span&&Om.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let Tm=-1;try{Tm=um.reduce((Om,Hm)=>Om+Hm.getSpan(),0)}catch{}super(Tm,wm),this.fields=um,this.decodePrefixes=!!xm}getSpan(um,wm=0){if(0<=this.span)return this.span;let xm=0;try{xm=this.fields.reduce((Tm,Om)=>{const Hm=Om.getSpan(um,wm);return wm+=Hm,Tm+Hm},0)}catch{throw new RangeError("indeterminate span")}return xm}decode(um,wm=0){s(um);const xm=this.makeDestinationObject();for(const Tm of this.fields)if(Tm.property!==void 0&&(xm[Tm.property]=Tm.decode(um,wm)),wm+=Tm.getSpan(um,wm),this.decodePrefixes&&um.length===wm)break;return xm}encode(um,wm,xm=0){const Tm=xm;let Om=0,Hm=0;for(const Km of this.fields){let Zm=Km.span;if(Hm=0<Zm?Zm:0,Km.property!==void 0){const Vm=um[Km.property];Vm!==void 0&&(Hm=Km.encode(Vm,wm,xm),0>Zm&&(Zm=Km.getSpan(wm,xm)))}Om=xm,xm+=Zm}return Om+Hm-Tm}fromArray(um){const wm=this.makeDestinationObject();for(const xm of this.fields)xm.property!==void 0&&0<um.length&&(wm[xm.property]=um.shift());return wm}layoutFor(um){if(typeof um!="string")throw new TypeError("property must be string");for(const wm of this.fields)if(wm.property===um)return wm}offsetOf(um){if(typeof um!="string")throw new TypeError("property must be string");let wm=0;for(const xm of this.fields){if(xm.property===um)return wm;0>xm.span?wm=-1:0<=wm&&(wm+=xm.span)}}}Layout.Structure=Rm;class Dm{constructor(um){this.property=um}decode(um,wm){throw new Error("UnionDiscriminator is abstract")}encode(um,wm,xm){throw new Error("UnionDiscriminator is abstract")}}Layout.UnionDiscriminator=Dm;class Um extends Dm{constructor(um,wm){if(!(um instanceof tm&&um.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(wm||um.property||"variant"),this.layout=um}decode(um,wm){return this.layout.decode(um,wm)}encode(um,wm,xm){return this.layout.encode(um,wm,xm)}}Layout.UnionLayoutDiscriminator=Um;class Lm extends Nf{constructor(um,wm,xm){let Tm;if(um instanceof om||um instanceof im)Tm=new Um(new rm(um));else if(um instanceof tm&&um.isCount())Tm=new Um(um);else if(um instanceof Dm)Tm=um;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(wm===void 0&&(wm=null),!(wm===null||wm instanceof Nf))throw new TypeError("defaultLayout must be null or a Layout");if(wm!==null){if(0>wm.span)throw new Error("defaultLayout must have constant span");wm.property===void 0&&(wm=wm.replicate("content"))}let Om=-1;wm&&(Om=wm.span,0<=Om&&(um instanceof om||um instanceof im)&&(Om+=Tm.layout.span)),super(Om,xm),this.discriminator=Tm,this.usesPrefixDiscriminator=um instanceof om||um instanceof im,this.defaultLayout=wm,this.registry={};let Hm=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(Km){return Hm(Km)},this.configGetSourceVariant=function(Km){Hm=Km.bind(this)}}getSpan(um,wm=0){if(0<=this.span)return this.span;const xm=this.getVariant(um,wm);if(!xm)throw new Error("unable to determine span for unrecognized variant");return xm.getSpan(um,wm)}defaultGetSourceVariant(um){if(Object.prototype.hasOwnProperty.call(um,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(um,this.defaultLayout.property))return;const wm=this.registry[um[this.discriminator.property]];if(wm&&(!wm.layout||wm.property&&Object.prototype.hasOwnProperty.call(um,wm.property)))return wm}else for(const wm in this.registry){const xm=this.registry[wm];if(xm.property&&Object.prototype.hasOwnProperty.call(um,xm.property))return xm}throw new Error("unable to infer src variant")}decode(um,wm=0){let xm;const Tm=this.discriminator,Om=Tm.decode(um,wm),Hm=this.registry[Om];if(Hm===void 0){const Km=this.defaultLayout;let Zm=0;this.usesPrefixDiscriminator&&(Zm=Tm.layout.span),xm=this.makeDestinationObject(),xm[Tm.property]=Om,xm[Km.property]=Km.decode(um,wm+Zm)}else xm=Hm.decode(um,wm);return xm}encode(um,wm,xm=0){const Tm=this.getSourceVariant(um);if(Tm===void 0){const Om=this.discriminator,Hm=this.defaultLayout;let Km=0;return this.usesPrefixDiscriminator&&(Km=Om.layout.span),Om.encode(um[Om.property],wm,xm),Km+Hm.encode(um[Hm.property],wm,xm+Km)}return Tm.encode(um,wm,xm)}addVariant(um,wm,xm){const Tm=new Im(this,um,wm,xm);return this.registry[um]=Tm,Tm}getVariant(um,wm=0){let xm;return um instanceof Uint8Array?xm=this.discriminator.decode(um,wm):xm=um,this.registry[xm]}}Layout.Union=Lm;class Im extends Nf{constructor(um,wm,xm,Tm){if(!(um instanceof Lm))throw new TypeError("union must be a Union");if(!Number.isInteger(wm)||0>wm)throw new TypeError("variant must be a (non-negative) integer");if(typeof xm=="string"&&Tm===void 0&&(Tm=xm,xm=null),xm){if(!(xm instanceof Nf))throw new TypeError("layout must be a Layout");if(um.defaultLayout!==null&&0<=xm.span&&xm.span>um.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof Tm!="string")throw new TypeError("variant must have a String property")}let Om=um.span;0>um.span&&(Om=xm?xm.span:0,0<=Om&&um.usesPrefixDiscriminator&&(Om+=um.discriminator.layout.span)),super(Om,Tm),this.union=um,this.variant=wm,this.layout=xm||null}getSpan(um,wm=0){if(0<=this.span)return this.span;let xm=0;this.union.usesPrefixDiscriminator&&(xm=this.union.discriminator.layout.span);let Tm=0;return this.layout&&(Tm=this.layout.getSpan(um,wm+xm)),xm+Tm}decode(um,wm=0){const xm=this.makeDestinationObject();if(this!==this.union.getVariant(um,wm))throw new Error("variant mismatch");let Tm=0;return this.union.usesPrefixDiscriminator&&(Tm=this.union.discriminator.layout.span),this.layout?xm[this.property]=this.layout.decode(um,wm+Tm):this.property?xm[this.property]=!0:this.union.usesPrefixDiscriminator&&(xm[this.union.discriminator.property]=this.variant),xm}encode(um,wm,xm=0){let Tm=0;if(this.union.usesPrefixDiscriminator&&(Tm=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(um,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,wm,xm);let Om=Tm;if(this.layout&&(this.layout.encode(um[this.property],wm,xm+Tm),Om+=this.layout.getSpan(wm,xm+Tm),0<=this.union.span&&Om>this.union.span))throw new Error("encoded variant overruns containing union");return Om}fromArray(um){if(this.layout)return this.layout.fromArray(um)}}Layout.VariantLayout=Im;function dm(lm){return 0>lm&&(lm+=0x100000000),lm}class gm extends Nf{constructor(um,wm,xm){if(!(um instanceof om||um instanceof im))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof wm=="string"&&xm===void 0&&(xm=wm,wm=!1),4<um.span)throw new RangeError("word cannot exceed 32 bits");super(um.span,xm),this.word=um,this.msb=!!wm,this.fields=[];let Tm=0;this._packedSetValue=function(Om){return Tm=dm(Om),this},this._packedGetValue=function(){return Tm}}decode(um,wm=0){const xm=this.makeDestinationObject(),Tm=this.word.decode(um,wm);this._packedSetValue(Tm);for(const Om of this.fields)Om.property!==void 0&&(xm[Om.property]=Om.decode(um));return xm}encode(um,wm,xm=0){const Tm=this.word.decode(wm,xm);this._packedSetValue(Tm);for(const Om of this.fields)if(Om.property!==void 0){const Hm=um[Om.property];Hm!==void 0&&Om.encode(Hm)}return this.word.encode(this._packedGetValue(),wm,xm)}addField(um,wm){const xm=new km(this,um,wm);return this.fields.push(xm),xm}addBoolean(um){const wm=new Mm(this,um);return this.fields.push(wm),wm}fieldFor(um){if(typeof um!="string")throw new TypeError("property must be string");for(const wm of this.fields)if(wm.property===um)return wm}}Layout.BitStructure=gm;class km{constructor(um,wm,xm){if(!(um instanceof gm))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(wm)||0>=wm)throw new TypeError("bits must be positive integer");const Tm=8*um.span,Om=um.fields.reduce((Hm,Km)=>Hm+Km.bits,0);if(wm+Om>Tm)throw new Error("bits too long for span remainder ("+(Tm-Om)+" of "+Tm+" remain)");this.container=um,this.bits=wm,this.valueMask=(1<<wm)-1,wm===32&&(this.valueMask=0xffffffff),this.start=Om,this.container.msb&&(this.start=Tm-Om-wm),this.wordMask=dm(this.valueMask<<this.start),this.property=xm}decode(um,wm){const xm=this.container._packedGetValue();return dm(xm&this.wordMask)>>>this.start}encode(um){if(typeof um!="number"||!Number.isInteger(um)||um!==dm(um&this.valueMask))throw new TypeError(ip("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const wm=this.container._packedGetValue(),xm=dm(um<<this.start);this.container._packedSetValue(dm(wm&~this.wordMask)|xm)}}Layout.BitField=km;class Mm extends km{constructor(um,wm){super(um,1,wm)}decode(um,wm){return!!super.decode(um,wm)}encode(um){typeof um=="boolean"&&(um=+um),super.encode(um)}}Layout.Boolean=Mm;class bm extends Nf{constructor(um,wm){if(!(um instanceof tm&&um.isCount()||Number.isInteger(um)&&0<=um))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let xm=-1;um instanceof tm||(xm=um),super(xm,wm),this.length=um}getSpan(um,wm){let xm=this.span;return 0>xm&&(xm=this.length.decode(um,wm)),xm}decode(um,wm=0){let xm=this.span;return 0>xm&&(xm=this.length.decode(um,wm)),sf(um).slice(wm,wm+xm)}encode(um,wm,xm){let Tm=this.length;if(this.length instanceof tm&&(Tm=um.length),!(um instanceof Uint8Array&&Tm===um.length))throw new TypeError(ip("Blob.encode",this)+" requires (length "+Tm+") Uint8Array as src");if(xm+Tm>wm.length)throw new RangeError("encoding overruns Uint8Array");const Om=sf(um);return sf(wm).write(Om.toString("hex"),xm,Tm,"hex"),this.length instanceof tm&&this.length.encode(Tm,wm,xm),Tm}}Layout.Blob=bm;class Em extends Nf{constructor(um){super(-1,um)}getSpan(um,wm=0){s(um);let xm=wm;for(;xm<um.length&&um[xm]!==0;)xm+=1;return 1+xm-wm}decode(um,wm=0){const xm=this.getSpan(um,wm);return sf(um).slice(wm,wm+xm-1).toString("utf-8")}encode(um,wm,xm=0){typeof um!="string"&&(um=String(um));const Tm=r.Buffer.from(um,"utf8"),Om=Tm.length;if(xm+Om>wm.length)throw new RangeError("encoding overruns Buffer");const Hm=sf(wm);return Tm.copy(Hm,xm),Hm[xm+Om]=0,Om+1}}Layout.CString=Em;class $m extends Nf{constructor(um,wm){if(typeof um=="string"&&wm===void 0&&(wm=um,um=void 0),um===void 0)um=-1;else if(!Number.isInteger(um))throw new TypeError("maxSpan must be an integer");super(-1,wm),this.maxSpan=um}getSpan(um,wm=0){return s(um),um.length-wm}decode(um,wm=0){const xm=this.getSpan(um,wm);if(0<=this.maxSpan&&this.maxSpan<xm)throw new RangeError("text length exceeds maxSpan");return sf(um).slice(wm,wm+xm).toString("utf-8")}encode(um,wm,xm=0){typeof um!="string"&&(um=String(um));const Tm=r.Buffer.from(um,"utf8"),Om=Tm.length;if(0<=this.maxSpan&&this.maxSpan<Om)throw new RangeError("text length exceeds maxSpan");if(xm+Om>wm.length)throw new RangeError("encoding overruns Buffer");return Tm.copy(sf(wm),xm),Om}}Layout.UTF8=$m;class Am extends Nf{constructor(um,wm){super(0,wm),this.value=um}decode(um,wm){return this.value}encode(um,wm,xm){return 0}}return Layout.Constant=Am,Layout.greedy=(lm,um)=>new nm(lm,um),Layout.offset=(lm,um,wm)=>new rm(lm,um,wm),Layout.u8=lm=>new om(1,lm),Layout.u16=lm=>new om(2,lm),Layout.u24=lm=>new om(3,lm),Layout.u32=lm=>new om(4,lm),Layout.u40=lm=>new om(5,lm),Layout.u48=lm=>new om(6,lm),Layout.nu64=lm=>new pm(lm),Layout.u16be=lm=>new im(2,lm),Layout.u24be=lm=>new im(3,lm),Layout.u32be=lm=>new im(4,lm),Layout.u40be=lm=>new im(5,lm),Layout.u48be=lm=>new im(6,lm),Layout.nu64be=lm=>new mm(lm),Layout.s8=lm=>new am(1,lm),Layout.s16=lm=>new am(2,lm),Layout.s24=lm=>new am(3,lm),Layout.s32=lm=>new am(4,lm),Layout.s40=lm=>new am(5,lm),Layout.s48=lm=>new am(6,lm),Layout.ns64=lm=>new _m(lm),Layout.s16be=lm=>new sm(2,lm),Layout.s24be=lm=>new sm(3,lm),Layout.s32be=lm=>new sm(4,lm),Layout.s40be=lm=>new sm(5,lm),Layout.s48be=lm=>new sm(6,lm),Layout.ns64be=lm=>new ym(lm),Layout.f32=lm=>new Sm(lm),Layout.f32be=lm=>new jm(lm),Layout.f64=lm=>new Pm(lm),Layout.f64be=lm=>new Bm(lm),Layout.struct=(lm,um,wm)=>new Rm(lm,um,wm),Layout.bits=(lm,um,wm)=>new gm(lm,um,wm),Layout.seq=(lm,um,wm)=>new qm(lm,um,wm),Layout.union=(lm,um,wm)=>new Lm(lm,um,wm),Layout.unionLayoutDiscriminator=(lm,um)=>new Um(lm,um),Layout.blob=(lm,um)=>new bm(lm,um),Layout.cstr=lm=>new Em(lm),Layout.utf8=(lm,um)=>new $m(lm,um),Layout.constant=(lm,um)=>new Am(lm,um),Layout}var LayoutExports=requireLayout(),browser$1={},hasRequiredBrowser$1;function requireBrowser$1(){if(hasRequiredBrowser$1)return browser$1;hasRequiredBrowser$1=1,Object.defineProperty(browser$1,"__esModule",{value:!0});function r(ip){{const em=Buffer.from(ip);em.reverse();const tm=em.toString("hex");return tm.length===0?BigInt(0):BigInt(`0x${tm}`)}}browser$1.toBigIntLE=r;function s(ip){{const em=ip.toString("hex");return em.length===0?BigInt(0):BigInt(`0x${em}`)}}browser$1.toBigIntBE=s;function sf(ip,em){{const tm=ip.toString(16),nm=Buffer.from(tm.padStart(em*2,"0").slice(0,em*2),"hex");return nm.reverse(),nm}}browser$1.toBufferLE=sf;function Nf(ip,em){{const tm=ip.toString(16);return Buffer.from(tm.padStart(em*2,"0").slice(0,em*2),"hex")}}return browser$1.toBufferBE=Nf,browser$1}var browserExports=requireBrowser$1();class StructError extends TypeError{constructor(s,sf){let Nf;const{message:ip,explanation:em,...tm}=s,{path:nm}=s,rm=nm.length===0?ip:`At path: ${nm.join(".")} -- ${ip}`;super(em??rm),em!=null&&(this.cause=rm),Object.assign(this,tm),this.name=this.constructor.name,this.failures=()=>Nf??(Nf=[s,...sf()])}}function isIterable(r){return isObject(r)&&typeof r[Symbol.iterator]=="function"}function isObject(r){return typeof r=="object"&&r!=null}function isNonArrayObject(r){return isObject(r)&&!Array.isArray(r)}function print(r){return typeof r=="symbol"?r.toString():typeof r=="string"?JSON.stringify(r):`${r}`}function shiftIterator(r){const{done:s,value:sf}=r.next();return s?void 0:sf}function toFailure(r,s,sf,Nf){if(r===!0)return;r===!1?r={}:typeof r=="string"&&(r={message:r});const{path:ip,branch:em}=s,{type:tm}=sf,{refinement:nm,message:rm=`Expected a value of type \`${tm}\`${nm?` with refinement \`${nm}\``:""}, but received: \`${print(Nf)}\``}=r;return{value:Nf,type:tm,refinement:nm,key:ip[ip.length-1],path:ip,branch:em,...r,message:rm}}function*toFailures(r,s,sf,Nf){isIterable(r)||(r=[r]);for(const ip of r){const em=toFailure(ip,s,sf,Nf);em&&(yield em)}}function*run(r,s,sf={}){const{path:Nf=[],branch:ip=[r],coerce:em=!1,mask:tm=!1}=sf,nm={path:Nf,branch:ip,mask:tm};em&&(r=s.coercer(r,nm));let rm="valid";for(const om of s.validator(r,nm))om.explanation=sf.message,rm="not_valid",yield[om,void 0];for(let[om,im,am]of s.entries(r,nm)){const sm=run(im,am,{path:om===void 0?Nf:[...Nf,om],branch:om===void 0?ip:[...ip,im],coerce:em,mask:tm,message:sf.message});for(const cm of sm)cm[0]?(rm=cm[0].refinement!=null?"not_refined":"not_valid",yield[cm[0],void 0]):em&&(im=cm[1],om===void 0?r=im:r instanceof Map?r.set(om,im):r instanceof Set?r.add(im):isObject(r)&&(im!==void 0||om in r)&&(r[om]=im))}if(rm!=="not_valid")for(const om of s.refiner(r,nm))om.explanation=sf.message,rm="not_refined",yield[om,void 0];rm==="valid"&&(yield[void 0,r])}let Struct$1=class{constructor(s){const{type:sf,schema:Nf,validator:ip,refiner:em,coercer:tm=rm=>rm,entries:nm=function*(){}}=s;this.type=sf,this.schema=Nf,this.entries=nm,this.coercer=tm,ip?this.validator=(rm,om)=>{const im=ip(rm,om);return toFailures(im,om,this,rm)}:this.validator=()=>[],em?this.refiner=(rm,om)=>{const im=em(rm,om);return toFailures(im,om,this,rm)}:this.refiner=()=>[]}assert(s,sf){return assert$2(s,this,sf)}create(s,sf){return create(s,this,sf)}is(s){return is(s,this)}mask(s,sf){return mask(s,this,sf)}validate(s,sf={}){return validate(s,this,sf)}};function assert$2(r,s,sf){const Nf=validate(r,s,{message:sf});if(Nf[0])throw Nf[0]}function create(r,s,sf){const Nf=validate(r,s,{coerce:!0,message:sf});if(Nf[0])throw Nf[0];return Nf[1]}function mask(r,s,sf){const Nf=validate(r,s,{coerce:!0,mask:!0,message:sf});if(Nf[0])throw Nf[0];return Nf[1]}function is(r,s){return!validate(r,s)[0]}function validate(r,s,sf={}){const Nf=run(r,s,sf),ip=shiftIterator(Nf);return ip[0]?[new StructError(ip[0],function*(){for(const tm of Nf)tm[0]&&(yield tm[0])}),void 0]:[void 0,ip[1]]}function define(r,s){return new Struct$1({type:r,schema:null,validator:s})}function any(){return define("any",()=>!0)}function array(r){return new Struct$1({type:"array",schema:r,*entries(s){if(r&&Array.isArray(s))for(const[sf,Nf]of s.entries())yield[sf,Nf,r]},coercer(s){return Array.isArray(s)?s.slice():s},validator(s){return Array.isArray(s)||`Expected an array value, but received: ${print(s)}`}})}function boolean(){return define("boolean",r=>typeof r=="boolean")}function instance(r){return define("instance",s=>s instanceof r||`Expected a \`${r.name}\` instance, but received: ${print(s)}`)}function literal(r){const s=print(r),sf=typeof r;return new Struct$1({type:"literal",schema:sf==="string"||sf==="number"||sf==="boolean"?r:null,validator(Nf){return Nf===r||`Expected the literal \`${s}\`, but received: ${print(Nf)}`}})}function never(){return define("never",()=>!1)}function nullable(r){return new Struct$1({...r,validator:(s,sf)=>s===null||r.validator(s,sf),refiner:(s,sf)=>s===null||r.refiner(s,sf)})}function number(){return define("number",r=>typeof r=="number"&&!isNaN(r)||`Expected a number, but received: ${print(r)}`)}function optional(r){return new Struct$1({...r,validator:(s,sf)=>s===void 0||r.validator(s,sf),refiner:(s,sf)=>s===void 0||r.refiner(s,sf)})}function record(r,s){return new Struct$1({type:"record",schema:null,*entries(sf){if(isObject(sf))for(const Nf in sf){const ip=sf[Nf];yield[Nf,Nf,r],yield[Nf,ip,s]}},validator(sf){return isNonArrayObject(sf)||`Expected an object, but received: ${print(sf)}`},coercer(sf){return isNonArrayObject(sf)?{...sf}:sf}})}function string(){return define("string",r=>typeof r=="string"||`Expected a string, but received: ${print(r)}`)}function tuple(r){const s=never();return new Struct$1({type:"tuple",schema:null,*entries(sf){if(Array.isArray(sf)){const Nf=Math.max(r.length,sf.length);for(let ip=0;ip<Nf;ip++)yield[ip,sf[ip],r[ip]||s]}},validator(sf){return Array.isArray(sf)||`Expected an array, but received: ${print(sf)}`},coercer(sf){return Array.isArray(sf)?sf.slice():sf}})}function type(r){const s=Object.keys(r);return new Struct$1({type:"type",schema:r,*entries(sf){if(isObject(sf))for(const Nf of s)yield[Nf,sf[Nf],r[Nf]]},validator(sf){return isNonArrayObject(sf)||`Expected an object, but received: ${print(sf)}`},coercer(sf){return isNonArrayObject(sf)?{...sf}:sf}})}function union(r){const s=r.map(sf=>sf.type).join(" | ");return new Struct$1({type:"union",schema:null,coercer(sf,Nf){for(const ip of r){const[em,tm]=ip.validate(sf,{coerce:!0,mask:Nf.mask});if(!em)return tm}return sf},validator(sf,Nf){const ip=[];for(const em of r){const[...tm]=run(sf,em,Nf),[nm]=tm;if(nm[0])for(const[rm]of tm)rm&&ip.push(rm);else return[]}return[`Expected the value to satisfy a union of \`${s}\`, but received: ${print(sf)}`,...ip]}})}function unknown(){return define("unknown",()=>!0)}function coerce(r,s,sf){return new Struct$1({...r,coercer:(Nf,ip)=>is(Nf,s)?r.coercer(sf(Nf,ip),ip):r.coercer(Nf,ip)})}const require$$0=getAugmentedNamespace(esmBrowser);var generateRequest_1,hasRequiredGenerateRequest;function requireGenerateRequest(){if(hasRequiredGenerateRequest)return generateRequest_1;hasRequiredGenerateRequest=1;const r=require$$0.v4;return generateRequest_1=function(sf,Nf,ip,em){if(typeof sf!="string")throw new TypeError(sf+" must be a string");em=em||{};const tm=typeof em.version=="number"?em.version:2;if(tm!==1&&tm!==2)throw new TypeError(tm+" must be 1 or 2");const nm={method:sf};if(tm===2&&(nm.jsonrpc="2.0"),Nf){if(typeof Nf!="object"&&!Array.isArray(Nf))throw new TypeError(Nf+" must be an object, array or omitted");nm.params=Nf}if(typeof ip>"u"){const rm=typeof em.generator=="function"?em.generator:function(){return r()};nm.id=rm(nm,em)}else tm===2&&ip===null?em.notificationIdNull&&(nm.id=null):nm.id=ip;return nm},generateRequest_1}var browser,hasRequiredBrowser;function requireBrowser(){if(hasRequiredBrowser)return browser;hasRequiredBrowser=1;const r=require$$0.v4,s=requireGenerateRequest(),sf=function(Nf,ip){if(!(this instanceof sf))return new sf(Nf,ip);ip||(ip={}),this.options={reviver:typeof ip.reviver<"u"?ip.reviver:null,replacer:typeof ip.replacer<"u"?ip.replacer:null,generator:typeof ip.generator<"u"?ip.generator:function(){return r()},version:typeof ip.version<"u"?ip.version:2,notificationIdNull:typeof ip.notificationIdNull=="boolean"?ip.notificationIdNull:!1},this.callServer=Nf};return browser=sf,sf.prototype.request=function(Nf,ip,em,tm){const nm=this;let rm=null;const om=Array.isArray(Nf)&&typeof ip=="function";if(this.options.version===1&&om)throw new TypeError("JSON-RPC 1.0 does not support batching");if(om||!om&&Nf&&typeof Nf=="object"&&typeof ip=="function")tm=ip,rm=Nf;else{typeof em=="function"&&(tm=em,em=void 0);const sm=typeof tm=="function";try{rm=s(Nf,ip,em,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(cm){if(sm)return tm(cm);throw cm}if(!sm)return rm}let am;try{am=JSON.stringify(rm,this.options.replacer)}catch(sm){return tm(sm)}return this.callServer(am,function(sm,cm){nm._parseResponse(sm,cm,tm)}),rm},sf.prototype._parseResponse=function(Nf,ip,em){if(Nf){em(Nf);return}if(!ip)return em();let tm;try{tm=JSON.parse(ip,this.options.reviver)}catch(nm){return em(nm)}if(em.length===3)if(Array.isArray(tm)){const nm=function(om){return typeof om.error<"u"},rm=function(om){return!nm(om)};return em(null,tm.filter(nm),tm.filter(rm))}else return em(null,tm.error,tm.result);em(null,tm)},browser}requireBrowser();var eventemitter3={exports:{}},hasRequiredEventemitter3;function requireEventemitter3(){return hasRequiredEventemitter3||(hasRequiredEventemitter3=1,function(r){var s=Object.prototype.hasOwnProperty,sf="~";function Nf(){}Object.create&&(Nf.prototype=Object.create(null),new Nf().__proto__||(sf=!1));function ip(rm,om,im){this.fn=rm,this.context=om,this.once=im||!1}function em(rm,om,im,am,sm){if(typeof im!="function")throw new TypeError("The listener must be a function");var cm=new ip(im,am||rm,sm),hm=sf?sf+om:om;return rm._events[hm]?rm._events[hm].fn?rm._events[hm]=[rm._events[hm],cm]:rm._events[hm].push(cm):(rm._events[hm]=cm,rm._eventsCount++),rm}function tm(rm,om){--rm._eventsCount===0?rm._events=new Nf:delete rm._events[om]}function nm(){this._events=new Nf,this._eventsCount=0}nm.prototype.eventNames=function(){var om=[],im,am;if(this._eventsCount===0)return om;for(am in im=this._events)s.call(im,am)&&om.push(sf?am.slice(1):am);return Object.getOwnPropertySymbols?om.concat(Object.getOwnPropertySymbols(im)):om},nm.prototype.listeners=function(om){var im=sf?sf+om:om,am=this._events[im];if(!am)return[];if(am.fn)return[am.fn];for(var sm=0,cm=am.length,hm=new Array(cm);sm<cm;sm++)hm[sm]=am[sm].fn;return hm},nm.prototype.listenerCount=function(om){var im=sf?sf+om:om,am=this._events[im];return am?am.fn?1:am.length:0},nm.prototype.emit=function(om,im,am,sm,cm,hm){var fm=sf?sf+om:om;if(!this._events[fm])return!1;var pm=this._events[fm],mm=arguments.length,_m,ym;if(pm.fn){switch(pm.once&&this.removeListener(om,pm.fn,void 0,!0),mm){case 1:return pm.fn.call(pm.context),!0;case 2:return pm.fn.call(pm.context,im),!0;case 3:return pm.fn.call(pm.context,im,am),!0;case 4:return pm.fn.call(pm.context,im,am,sm),!0;case 5:return pm.fn.call(pm.context,im,am,sm,cm),!0;case 6:return pm.fn.call(pm.context,im,am,sm,cm,hm),!0}for(ym=1,_m=new Array(mm-1);ym<mm;ym++)_m[ym-1]=arguments[ym];pm.fn.apply(pm.context,_m)}else{var Sm=pm.length,jm;for(ym=0;ym<Sm;ym++)switch(pm[ym].once&&this.removeListener(om,pm[ym].fn,void 0,!0),mm){case 1:pm[ym].fn.call(pm[ym].context);break;case 2:pm[ym].fn.call(pm[ym].context,im);break;case 3:pm[ym].fn.call(pm[ym].context,im,am);break;case 4:pm[ym].fn.call(pm[ym].context,im,am,sm);break;default:if(!_m)for(jm=1,_m=new Array(mm-1);jm<mm;jm++)_m[jm-1]=arguments[jm];pm[ym].fn.apply(pm[ym].context,_m)}}return!0},nm.prototype.on=function(om,im,am){return em(this,om,im,am,!1)},nm.prototype.once=function(om,im,am){return em(this,om,im,am,!0)},nm.prototype.removeListener=function(om,im,am,sm){var cm=sf?sf+om:om;if(!this._events[cm])return this;if(!im)return tm(this,cm),this;var hm=this._events[cm];if(hm.fn)hm.fn===im&&(!sm||hm.once)&&(!am||hm.context===am)&&tm(this,cm);else{for(var fm=0,pm=[],mm=hm.length;fm<mm;fm++)(hm[fm].fn!==im||sm&&!hm[fm].once||am&&hm[fm].context!==am)&&pm.push(hm[fm]);pm.length?this._events[cm]=pm.length===1?pm[0]:pm:tm(this,cm)}return this},nm.prototype.removeAllListeners=function(om){var im;return om?(im=sf?sf+om:om,this._events[im]&&tm(this,im)):(this._events=new Nf,this._eventsCount=0),this},nm.prototype.off=nm.prototype.removeListener,nm.prototype.addListener=nm.prototype.on,nm.prefixed=sf,nm.EventEmitter=nm,r.exports=nm}(eventemitter3)),eventemitter3.exports}requireEventemitter3();class HMAC extends Hash{constructor(s,sf){super(),this.finished=!1,this.destroyed=!1,ahash(s);const Nf=toBytes(sf);if(this.iHash=s.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const ip=this.blockLen,em=new Uint8Array(ip);em.set(Nf.length>ip?s.create().update(Nf).digest():Nf);for(let tm=0;tm<em.length;tm++)em[tm]^=54;this.iHash.update(em),this.oHash=s.create();for(let tm=0;tm<em.length;tm++)em[tm]^=106;this.oHash.update(em),em.fill(0)}update(s){return aexists(this),this.iHash.update(s),this}digestInto(s){aexists(this),abytes$1(s,this.outputLen),this.finished=!0,this.iHash.digestInto(s),this.oHash.update(s),this.oHash.digestInto(s),this.destroy()}digest(){const s=new Uint8Array(this.oHash.outputLen);return this.digestInto(s),s}_cloneInto(s){s||(s=Object.create(Object.getPrototypeOf(this),{}));const{oHash:sf,iHash:Nf,finished:ip,destroyed:em,blockLen:tm,outputLen:nm}=this;return s=s,s.finished=ip,s.destroyed=em,s.blockLen=tm,s.outputLen=nm,s.oHash=sf._cloneInto(s.oHash),s.iHash=Nf._cloneInto(s.iHash),s}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const hmac=(r,s,sf)=>new HMAC(r,s).update(sf).digest();hmac.create=(r,s)=>new HMAC(r,s);function validateSigVerOpts(r){r.lowS!==void 0&&abool("lowS",r.lowS),r.prehash!==void 0&&abool("prehash",r.prehash)}function validatePointOpts(r){const s=validateBasic(r);validateObject(s,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:sf,Fp:Nf,a:ip}=s;if(sf){if(!Nf.eql(ip,Nf.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof sf!="object"||typeof sf.beta!="bigint"||typeof sf.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...s})}class DERErr extends Error{constructor(s=""){super(s)}}const DER={Err:DERErr,_tlv:{encode:(r,s)=>{const{Err:sf}=DER;if(r<0||r>256)throw new sf("tlv.encode: wrong tag");if(s.length&1)throw new sf("tlv.encode: unpadded data");const Nf=s.length/2,ip=numberToHexUnpadded(Nf);if(ip.length/2&128)throw new sf("tlv.encode: long form length too big");const em=Nf>127?numberToHexUnpadded(ip.length/2|128):"";return numberToHexUnpadded(r)+em+ip+s},decode(r,s){const{Err:sf}=DER;let Nf=0;if(r<0||r>256)throw new sf("tlv.encode: wrong tag");if(s.length<2||s[Nf++]!==r)throw new sf("tlv.decode: wrong tlv");const ip=s[Nf++],em=!!(ip&128);let tm=0;if(!em)tm=ip;else{const rm=ip&127;if(!rm)throw new sf("tlv.decode(long): indefinite length not supported");if(rm>4)throw new sf("tlv.decode(long): byte length is too big");const om=s.subarray(Nf,Nf+rm);if(om.length!==rm)throw new sf("tlv.decode: length bytes not complete");if(om[0]===0)throw new sf("tlv.decode(long): zero leftmost byte");for(const im of om)tm=tm<<8|im;if(Nf+=rm,tm<128)throw new sf("tlv.decode(long): not minimal encoding")}const nm=s.subarray(Nf,Nf+tm);if(nm.length!==tm)throw new sf("tlv.decode: wrong value length");return{v:nm,l:s.subarray(Nf+tm)}}},_int:{encode(r){const{Err:s}=DER;if(r<_0n)throw new s("integer: negative integers are not allowed");let sf=numberToHexUnpadded(r);if(Number.parseInt(sf[0],16)&8&&(sf="00"+sf),sf.length&1)throw new s("unexpected DER parsing assertion: unpadded hex");return sf},decode(r){const{Err:s}=DER;if(r[0]&128)throw new s("invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new s("invalid signature integer: unnecessary leading zero");return bytesToNumberBE(r)}},toSig(r){const{Err:s,_int:sf,_tlv:Nf}=DER,ip=ensureBytes("signature",r),{v:em,l:tm}=Nf.decode(48,ip);if(tm.length)throw new s("invalid signature: left bytes after parsing");const{v:nm,l:rm}=Nf.decode(2,em),{v:om,l:im}=Nf.decode(2,rm);if(im.length)throw new s("invalid signature: left bytes after parsing");return{r:sf.decode(nm),s:sf.decode(om)}},hexFromSig(r){const{_tlv:s,_int:sf}=DER,Nf=s.encode(2,sf.encode(r.r)),ip=s.encode(2,sf.encode(r.s)),em=Nf+ip;return s.encode(48,em)}},_0n=BigInt(0),_1n$1=BigInt(1);BigInt(2);const _3n=BigInt(3);BigInt(4);function weierstrassPoints(r){const s=validatePointOpts(r),{Fp:sf}=s,Nf=Field(s.n,s.nBitLength),ip=s.toBytes||((fm,pm,mm)=>{const _m=pm.toAffine();return concatBytes(Uint8Array.from([4]),sf.toBytes(_m.x),sf.toBytes(_m.y))}),em=s.fromBytes||(fm=>{const pm=fm.subarray(1),mm=sf.fromBytes(pm.subarray(0,sf.BYTES)),_m=sf.fromBytes(pm.subarray(sf.BYTES,2*sf.BYTES));return{x:mm,y:_m}});function tm(fm){const{a:pm,b:mm}=s,_m=sf.sqr(fm),ym=sf.mul(_m,fm);return sf.add(sf.add(ym,sf.mul(fm,pm)),mm)}if(!sf.eql(sf.sqr(s.Gy),tm(s.Gx)))throw new Error("bad generator point: equation left != right");function nm(fm){return inRange$1(fm,_1n$1,s.n)}function rm(fm){const{allowedPrivateKeyLengths:pm,nByteLength:mm,wrapPrivateKey:_m,n:ym}=s;if(pm&&typeof fm!="bigint"){if(isBytes(fm)&&(fm=bytesToHex(fm)),typeof fm!="string"||!pm.includes(fm.length))throw new Error("invalid private key");fm=fm.padStart(mm*2,"0")}let Sm;try{Sm=typeof fm=="bigint"?fm:bytesToNumberBE(ensureBytes("private key",fm,mm))}catch{throw new Error("invalid private key, expected hex or "+mm+" bytes, got "+typeof fm)}return _m&&(Sm=mod(Sm,ym)),aInRange("private key",Sm,_1n$1,ym),Sm}function om(fm){if(!(fm instanceof sm))throw new Error("ProjectivePoint expected")}const im=memoized((fm,pm)=>{const{px:mm,py:_m,pz:ym}=fm;if(sf.eql(ym,sf.ONE))return{x:mm,y:_m};const Sm=fm.is0();pm==null&&(pm=Sm?sf.ONE:sf.inv(ym));const jm=sf.mul(mm,pm),Pm=sf.mul(_m,pm),Bm=sf.mul(ym,pm);if(Sm)return{x:sf.ZERO,y:sf.ZERO};if(!sf.eql(Bm,sf.ONE))throw new Error("invZ was invalid");return{x:jm,y:Pm}}),am=memoized(fm=>{if(fm.is0()){if(s.allowInfinityPoint&&!sf.is0(fm.py))return;throw new Error("bad point: ZERO")}const{x:pm,y:mm}=fm.toAffine();if(!sf.isValid(pm)||!sf.isValid(mm))throw new Error("bad point: x or y not FE");const _m=sf.sqr(mm),ym=tm(pm);if(!sf.eql(_m,ym))throw new Error("bad point: equation left != right");if(!fm.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class sm{constructor(pm,mm,_m){if(pm==null||!sf.isValid(pm))throw new Error("x required");if(mm==null||!sf.isValid(mm))throw new Error("y required");if(_m==null||!sf.isValid(_m))throw new Error("z required");this.px=pm,this.py=mm,this.pz=_m,Object.freeze(this)}static fromAffine(pm){const{x:mm,y:_m}=pm||{};if(!pm||!sf.isValid(mm)||!sf.isValid(_m))throw new Error("invalid affine point");if(pm instanceof sm)throw new Error("projective point not allowed");const ym=Sm=>sf.eql(Sm,sf.ZERO);return ym(mm)&&ym(_m)?sm.ZERO:new sm(mm,_m,sf.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(pm){const mm=sf.invertBatch(pm.map(_m=>_m.pz));return pm.map((_m,ym)=>_m.toAffine(mm[ym])).map(sm.fromAffine)}static fromHex(pm){const mm=sm.fromAffine(em(ensureBytes("pointHex",pm)));return mm.assertValidity(),mm}static fromPrivateKey(pm){return sm.BASE.multiply(rm(pm))}static msm(pm,mm){return pippenger(sm,Nf,pm,mm)}_setWindowSize(pm){hm.setWindowSize(this,pm)}assertValidity(){am(this)}hasEvenY(){const{y:pm}=this.toAffine();if(sf.isOdd)return!sf.isOdd(pm);throw new Error("Field doesn't support isOdd")}equals(pm){om(pm);const{px:mm,py:_m,pz:ym}=this,{px:Sm,py:jm,pz:Pm}=pm,Bm=sf.eql(sf.mul(mm,Pm),sf.mul(Sm,ym)),qm=sf.eql(sf.mul(_m,Pm),sf.mul(jm,ym));return Bm&&qm}negate(){return new sm(this.px,sf.neg(this.py),this.pz)}double(){const{a:pm,b:mm}=s,_m=sf.mul(mm,_3n),{px:ym,py:Sm,pz:jm}=this;let Pm=sf.ZERO,Bm=sf.ZERO,qm=sf.ZERO,Rm=sf.mul(ym,ym),Dm=sf.mul(Sm,Sm),Um=sf.mul(jm,jm),Lm=sf.mul(ym,Sm);return Lm=sf.add(Lm,Lm),qm=sf.mul(ym,jm),qm=sf.add(qm,qm),Pm=sf.mul(pm,qm),Bm=sf.mul(_m,Um),Bm=sf.add(Pm,Bm),Pm=sf.sub(Dm,Bm),Bm=sf.add(Dm,Bm),Bm=sf.mul(Pm,Bm),Pm=sf.mul(Lm,Pm),qm=sf.mul(_m,qm),Um=sf.mul(pm,Um),Lm=sf.sub(Rm,Um),Lm=sf.mul(pm,Lm),Lm=sf.add(Lm,qm),qm=sf.add(Rm,Rm),Rm=sf.add(qm,Rm),Rm=sf.add(Rm,Um),Rm=sf.mul(Rm,Lm),Bm=sf.add(Bm,Rm),Um=sf.mul(Sm,jm),Um=sf.add(Um,Um),Rm=sf.mul(Um,Lm),Pm=sf.sub(Pm,Rm),qm=sf.mul(Um,Dm),qm=sf.add(qm,qm),qm=sf.add(qm,qm),new sm(Pm,Bm,qm)}add(pm){om(pm);const{px:mm,py:_m,pz:ym}=this,{px:Sm,py:jm,pz:Pm}=pm;let Bm=sf.ZERO,qm=sf.ZERO,Rm=sf.ZERO;const Dm=s.a,Um=sf.mul(s.b,_3n);let Lm=sf.mul(mm,Sm),Im=sf.mul(_m,jm),dm=sf.mul(ym,Pm),gm=sf.add(mm,_m),km=sf.add(Sm,jm);gm=sf.mul(gm,km),km=sf.add(Lm,Im),gm=sf.sub(gm,km),km=sf.add(mm,ym);let Mm=sf.add(Sm,Pm);return km=sf.mul(km,Mm),Mm=sf.add(Lm,dm),km=sf.sub(km,Mm),Mm=sf.add(_m,ym),Bm=sf.add(jm,Pm),Mm=sf.mul(Mm,Bm),Bm=sf.add(Im,dm),Mm=sf.sub(Mm,Bm),Rm=sf.mul(Dm,km),Bm=sf.mul(Um,dm),Rm=sf.add(Bm,Rm),Bm=sf.sub(Im,Rm),Rm=sf.add(Im,Rm),qm=sf.mul(Bm,Rm),Im=sf.add(Lm,Lm),Im=sf.add(Im,Lm),dm=sf.mul(Dm,dm),km=sf.mul(Um,km),Im=sf.add(Im,dm),dm=sf.sub(Lm,dm),dm=sf.mul(Dm,dm),km=sf.add(km,dm),Lm=sf.mul(Im,km),qm=sf.add(qm,Lm),Lm=sf.mul(Mm,km),Bm=sf.mul(gm,Bm),Bm=sf.sub(Bm,Lm),Lm=sf.mul(gm,Im),Rm=sf.mul(Mm,Rm),Rm=sf.add(Rm,Lm),new sm(Bm,qm,Rm)}subtract(pm){return this.add(pm.negate())}is0(){return this.equals(sm.ZERO)}wNAF(pm){return hm.wNAFCached(this,pm,sm.normalizeZ)}multiplyUnsafe(pm){const{endo:mm,n:_m}=s;aInRange("scalar",pm,_0n,_m);const ym=sm.ZERO;if(pm===_0n)return ym;if(this.is0()||pm===_1n$1)return this;if(!mm||hm.hasPrecomputes(this))return hm.wNAFCachedUnsafe(this,pm,sm.normalizeZ);let{k1neg:Sm,k1:jm,k2neg:Pm,k2:Bm}=mm.splitScalar(pm),qm=ym,Rm=ym,Dm=this;for(;jm>_0n||Bm>_0n;)jm&_1n$1&&(qm=qm.add(Dm)),Bm&_1n$1&&(Rm=Rm.add(Dm)),Dm=Dm.double(),jm>>=_1n$1,Bm>>=_1n$1;return Sm&&(qm=qm.negate()),Pm&&(Rm=Rm.negate()),Rm=new sm(sf.mul(Rm.px,mm.beta),Rm.py,Rm.pz),qm.add(Rm)}multiply(pm){const{endo:mm,n:_m}=s;aInRange("scalar",pm,_1n$1,_m);let ym,Sm;if(mm){const{k1neg:jm,k1:Pm,k2neg:Bm,k2:qm}=mm.splitScalar(pm);let{p:Rm,f:Dm}=this.wNAF(Pm),{p:Um,f:Lm}=this.wNAF(qm);Rm=hm.constTimeNegate(jm,Rm),Um=hm.constTimeNegate(Bm,Um),Um=new sm(sf.mul(Um.px,mm.beta),Um.py,Um.pz),ym=Rm.add(Um),Sm=Dm.add(Lm)}else{const{p:jm,f:Pm}=this.wNAF(pm);ym=jm,Sm=Pm}return sm.normalizeZ([ym,Sm])[0]}multiplyAndAddUnsafe(pm,mm,_m){const ym=sm.BASE,Sm=(Pm,Bm)=>Bm===_0n||Bm===_1n$1||!Pm.equals(ym)?Pm.multiplyUnsafe(Bm):Pm.multiply(Bm),jm=Sm(this,mm).add(Sm(pm,_m));return jm.is0()?void 0:jm}toAffine(pm){return im(this,pm)}isTorsionFree(){const{h:pm,isTorsionFree:mm}=s;if(pm===_1n$1)return!0;if(mm)return mm(sm,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:pm,clearCofactor:mm}=s;return pm===_1n$1?this:mm?mm(sm,this):this.multiplyUnsafe(s.h)}toRawBytes(pm=!0){return abool("isCompressed",pm),this.assertValidity(),ip(sm,this,pm)}toHex(pm=!0){return abool("isCompressed",pm),bytesToHex(this.toRawBytes(pm))}}sm.BASE=new sm(s.Gx,s.Gy,sf.ONE),sm.ZERO=new sm(sf.ZERO,sf.ONE,sf.ZERO);const cm=s.nBitLength,hm=wNAF(sm,s.endo?Math.ceil(cm/2):cm);return{CURVE:s,ProjectivePoint:sm,normPrivateKeyToScalar:rm,weierstrassEquation:tm,isWithinCurveOrder:nm}}function validateOpts(r){const s=validateBasic(r);return validateObject(s,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...s})}function weierstrass(r){const s=validateOpts(r),{Fp:sf,n:Nf}=s,ip=sf.BYTES+1,em=2*sf.BYTES+1;function tm(dm){return mod(dm,Nf)}function nm(dm){return invert(dm,Nf)}const{ProjectivePoint:rm,normPrivateKeyToScalar:om,weierstrassEquation:im,isWithinCurveOrder:am}=weierstrassPoints({...s,toBytes(dm,gm,km){const Mm=gm.toAffine(),bm=sf.toBytes(Mm.x),Em=concatBytes;return abool("isCompressed",km),km?Em(Uint8Array.from([gm.hasEvenY()?2:3]),bm):Em(Uint8Array.from([4]),bm,sf.toBytes(Mm.y))},fromBytes(dm){const gm=dm.length,km=dm[0],Mm=dm.subarray(1);if(gm===ip&&(km===2||km===3)){const bm=bytesToNumberBE(Mm);if(!inRange$1(bm,_1n$1,sf.ORDER))throw new Error("Point is not on curve");const Em=im(bm);let $m;try{$m=sf.sqrt(Em)}catch(um){const wm=um instanceof Error?": "+um.message:"";throw new Error("Point is not on curve"+wm)}const Am=($m&_1n$1)===_1n$1;return(km&1)===1!==Am&&($m=sf.neg($m)),{x:bm,y:$m}}else if(gm===em&&km===4){const bm=sf.fromBytes(Mm.subarray(0,sf.BYTES)),Em=sf.fromBytes(Mm.subarray(sf.BYTES,2*sf.BYTES));return{x:bm,y:Em}}else{const bm=ip,Em=em;throw new Error("invalid Point, expected length of "+bm+", or uncompressed "+Em+", got "+gm)}}}),sm=dm=>bytesToHex(numberToBytesBE(dm,s.nByteLength));function cm(dm){const gm=Nf>>_1n$1;return dm>gm}function hm(dm){return cm(dm)?tm(-dm):dm}const fm=(dm,gm,km)=>bytesToNumberBE(dm.slice(gm,km));class pm{constructor(gm,km,Mm){aInRange("r",gm,_1n$1,Nf),aInRange("s",km,_1n$1,Nf),this.r=gm,this.s=km,Mm!=null&&(this.recovery=Mm),Object.freeze(this)}static fromCompact(gm){const km=s.nByteLength;return gm=ensureBytes("compactSignature",gm,km*2),new pm(fm(gm,0,km),fm(gm,km,2*km))}static fromDER(gm){const{r:km,s:Mm}=DER.toSig(ensureBytes("DER",gm));return new pm(km,Mm)}assertValidity(){}addRecoveryBit(gm){return new pm(this.r,this.s,gm)}recoverPublicKey(gm){const{r:km,s:Mm,recovery:bm}=this,Em=Pm(ensureBytes("msgHash",gm));if(bm==null||![0,1,2,3].includes(bm))throw new Error("recovery id invalid");const $m=bm===2||bm===3?km+s.n:km;if($m>=sf.ORDER)throw new Error("recovery id 2 or 3 invalid");const Am=(bm&1)===0?"02":"03",lm=rm.fromHex(Am+sm($m)),um=nm($m),wm=tm(-Em*um),xm=tm(Mm*um),Tm=rm.BASE.multiplyAndAddUnsafe(lm,wm,xm);if(!Tm)throw new Error("point at infinify");return Tm.assertValidity(),Tm}hasHighS(){return cm(this.s)}normalizeS(){return this.hasHighS()?new pm(this.r,tm(-this.s),this.recovery):this}toDERRawBytes(){return hexToBytes(this.toDERHex())}toDERHex(){return DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return hexToBytes(this.toCompactHex())}toCompactHex(){return sm(this.r)+sm(this.s)}}const mm={isValidPrivateKey(dm){try{return om(dm),!0}catch{return!1}},normPrivateKeyToScalar:om,randomPrivateKey:()=>{const dm=getMinHashLength(s.n);return mapHashToField(s.randomBytes(dm),s.n)},precompute(dm=8,gm=rm.BASE){return gm._setWindowSize(dm),gm.multiply(BigInt(3)),gm}};function _m(dm,gm=!0){return rm.fromPrivateKey(dm).toRawBytes(gm)}function ym(dm){const gm=isBytes(dm),km=typeof dm=="string",Mm=(gm||km)&&dm.length;return gm?Mm===ip||Mm===em:km?Mm===2*ip||Mm===2*em:dm instanceof rm}function Sm(dm,gm,km=!0){if(ym(dm))throw new Error("first arg must be private key");if(!ym(gm))throw new Error("second arg must be public key");return rm.fromHex(gm).multiply(om(dm)).toRawBytes(km)}const jm=s.bits2int||function(dm){if(dm.length>8192)throw new Error("input is too large");const gm=bytesToNumberBE(dm),km=dm.length*8-s.nBitLength;return km>0?gm>>BigInt(km):gm},Pm=s.bits2int_modN||function(dm){return tm(jm(dm))},Bm=bitMask(s.nBitLength);function qm(dm){return aInRange("num < 2^"+s.nBitLength,dm,_0n,Bm),numberToBytesBE(dm,s.nByteLength)}function Rm(dm,gm,km=Dm){if(["recovered","canonical"].some(Hm=>Hm in km))throw new Error("sign() legacy options not supported");const{hash:Mm,randomBytes:bm}=s;let{lowS:Em,prehash:$m,extraEntropy:Am}=km;Em==null&&(Em=!0),dm=ensureBytes("msgHash",dm),validateSigVerOpts(km),$m&&(dm=ensureBytes("prehashed msgHash",Mm(dm)));const lm=Pm(dm),um=om(gm),wm=[qm(um),qm(lm)];if(Am!=null&&Am!==!1){const Hm=Am===!0?bm(sf.BYTES):Am;wm.push(ensureBytes("extraEntropy",Hm))}const xm=concatBytes(...wm),Tm=lm;function Om(Hm){const Km=jm(Hm);if(!am(Km))return;const Zm=nm(Km),Vm=rm.BASE.multiply(Km).toAffine(),zm=tm(Vm.x);if(zm===_0n)return;const Wm=tm(Zm*tm(Tm+zm*um));if(Wm===_0n)return;let Ym=(Vm.x===zm?0:2)|Number(Vm.y&_1n$1),Qm=Wm;return Em&&cm(Wm)&&(Qm=hm(Wm),Ym^=1),new pm(zm,Qm,Ym)}return{seed:xm,k2sig:Om}}const Dm={lowS:s.lowS,prehash:!1},Um={lowS:s.lowS,prehash:!1};function Lm(dm,gm,km=Dm){const{seed:Mm,k2sig:bm}=Rm(dm,gm,km),Em=s;return createHmacDrbg(Em.hash.outputLen,Em.nByteLength,Em.hmac)(Mm,bm)}rm.BASE._setWindowSize(8);function Im(dm,gm,km,Mm=Um){const bm=dm;gm=ensureBytes("msgHash",gm),km=ensureBytes("publicKey",km);const{lowS:Em,prehash:$m,format:Am}=Mm;if(validateSigVerOpts(Mm),"strict"in Mm)throw new Error("options.strict was renamed to lowS");if(Am!==void 0&&Am!=="compact"&&Am!=="der")throw new Error("format must be compact or der");const lm=typeof bm=="string"||isBytes(bm),um=!lm&&!Am&&typeof bm=="object"&&bm!==null&&typeof bm.r=="bigint"&&typeof bm.s=="bigint";if(!lm&&!um)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let wm,xm;try{if(um&&(wm=new pm(bm.r,bm.s)),lm){try{Am!=="compact"&&(wm=pm.fromDER(bm))}catch(Ym){if(!(Ym instanceof DER.Err))throw Ym}!wm&&Am!=="der"&&(wm=pm.fromCompact(bm))}xm=rm.fromHex(km)}catch{return!1}if(!wm||Em&&wm.hasHighS())return!1;$m&&(gm=s.hash(gm));const{r:Tm,s:Om}=wm,Hm=Pm(gm),Km=nm(Om),Zm=tm(Hm*Km),Vm=tm(Tm*Km),zm=rm.BASE.multiplyAndAddUnsafe(xm,Zm,Vm)?.toAffine();return zm?tm(zm.x)===Tm:!1}return{CURVE:s,getPublicKey:_m,getSharedSecret:Sm,sign:Lm,verify:Im,ProjectivePoint:rm,Signature:pm,utils:mm}}function getHash(r){return{hash:r,hmac:(s,...sf)=>hmac(r,s,concatBytes$1(...sf)),randomBytes}}function createCurve(r,s){const sf=Nf=>weierstrass({...r,...getHash(Nf)});return{...sf(s),create:sf}}const secp256k1P=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),secp256k1N=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),_1n=BigInt(1),_2n=BigInt(2),divNearest=(r,s)=>(r+s/_2n)/s;function sqrtMod(r){const s=secp256k1P,sf=BigInt(3),Nf=BigInt(6),ip=BigInt(11),em=BigInt(22),tm=BigInt(23),nm=BigInt(44),rm=BigInt(88),om=r*r*r%s,im=om*om*r%s,am=pow2(im,sf,s)*im%s,sm=pow2(am,sf,s)*im%s,cm=pow2(sm,_2n,s)*om%s,hm=pow2(cm,ip,s)*cm%s,fm=pow2(hm,em,s)*hm%s,pm=pow2(fm,nm,s)*fm%s,mm=pow2(pm,rm,s)*pm%s,_m=pow2(mm,nm,s)*fm%s,ym=pow2(_m,sf,s)*im%s,Sm=pow2(ym,tm,s)*hm%s,jm=pow2(Sm,Nf,s)*om%s,Pm=pow2(jm,_2n,s);if(!Fpk1.eql(Fpk1.sqr(Pm),r))throw new Error("Cannot find square root");return Pm}const Fpk1=Field(secp256k1P,void 0,void 0,{sqrt:sqrtMod}),secp256k1=createCurve({a:BigInt(0),b:BigInt(7),Fp:Fpk1,n:secp256k1N,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:r=>{const s=secp256k1N,sf=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),Nf=-_1n*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),ip=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),em=sf,tm=BigInt("0x100000000000000000000000000000000"),nm=divNearest(em*r,s),rm=divNearest(-Nf*r,s);let om=mod(r-nm*sf-rm*ip,s),im=mod(-nm*Nf-rm*em,s);const am=om>tm,sm=im>tm;if(am&&(om=s-om),sm&&(im=s-im),om>tm||im>tm)throw new Error("splitScalar: Endomorphism failed, k="+r);return{k1neg:am,k1:om,k2neg:sm,k2:im}}}},sha256);BigInt(0);function isOnCurve(r){try{return ed25519.ExtendedPoint.fromHex(r),!0}catch{return!1}}const sign=(r,s)=>ed25519.sign(r,s.slice(0,32)),verify=ed25519.verify,toBuffer=r=>bufferExports.Buffer.isBuffer(r)?r:r instanceof Uint8Array?bufferExports.Buffer.from(r.buffer,r.byteOffset,r.byteLength):bufferExports.Buffer.from(r);class Struct{constructor(s){Object.assign(this,s)}encode(){return bufferExports.Buffer.from(libExports.serialize(SOLANA_SCHEMA,this))}static decode(s){return libExports.deserialize(SOLANA_SCHEMA,this,s)}static decodeUnchecked(s){return libExports.deserializeUnchecked(SOLANA_SCHEMA,this,s)}}const SOLANA_SCHEMA=new Map;var _PublicKey;const MAX_SEED_LENGTH=32,PUBLIC_KEY_LENGTH=32;function isPublicKeyData(r){return r._bn!==void 0}let uniquePublicKeyCounter=1;class PublicKey extends Struct{constructor(s){if(super({}),this._bn=void 0,isPublicKeyData(s))this._bn=s._bn;else{if(typeof s=="string"){const sf=bs58.decode(s);if(sf.length!=PUBLIC_KEY_LENGTH)throw new Error("Invalid public key input");this._bn=new BN(sf)}else this._bn=new BN(s);if(this._bn.byteLength()>PUBLIC_KEY_LENGTH)throw new Error("Invalid public key input")}}static unique(){const s=new PublicKey(uniquePublicKeyCounter);return uniquePublicKeyCounter+=1,new PublicKey(s.toBuffer())}equals(s){return this._bn.eq(s._bn)}toBase58(){return bs58.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const s=this.toBuffer();return new Uint8Array(s.buffer,s.byteOffset,s.byteLength)}toBuffer(){const s=this._bn.toArrayLike(bufferExports.Buffer);if(s.length===PUBLIC_KEY_LENGTH)return s;const sf=bufferExports.Buffer.alloc(32);return s.copy(sf,32-s.length),sf}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(s,sf,Nf){const ip=bufferExports.Buffer.concat([s.toBuffer(),bufferExports.Buffer.from(sf),Nf.toBuffer()]),em=sha256(ip);return new PublicKey(em)}static createProgramAddressSync(s,sf){let Nf=bufferExports.Buffer.alloc(0);s.forEach(function(em){if(em.length>MAX_SEED_LENGTH)throw new TypeError("Max seed length exceeded");Nf=bufferExports.Buffer.concat([Nf,toBuffer(em)])}),Nf=bufferExports.Buffer.concat([Nf,sf.toBuffer(),bufferExports.Buffer.from("ProgramDerivedAddress")]);const ip=sha256(Nf);if(isOnCurve(ip))throw new Error("Invalid seeds, address must fall off the curve");return new PublicKey(ip)}static async createProgramAddress(s,sf){return this.createProgramAddressSync(s,sf)}static findProgramAddressSync(s,sf){let Nf=255,ip;for(;Nf!=0;){try{const em=s.concat(bufferExports.Buffer.from([Nf]));ip=this.createProgramAddressSync(em,sf)}catch(em){if(em instanceof TypeError)throw em;Nf--;continue}return[ip,Nf]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(s,sf){return this.findProgramAddressSync(s,sf)}static isOnCurve(s){const sf=new PublicKey(s);return isOnCurve(sf.toBytes())}}_PublicKey=PublicKey;PublicKey.default=new _PublicKey("11111111111111111111111111111111");SOLANA_SCHEMA.set(PublicKey,{kind:"struct",fields:[["_bn","u256"]]});new PublicKey("BPFLoader1111111111111111111111111111111111");const PACKET_DATA_SIZE=1232,VERSION_PREFIX_MASK=127,SIGNATURE_LENGTH_IN_BYTES=64;class MessageAccountKeys{constructor(s,sf){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=s,this.accountKeysFromLookups=sf}keySegments(){const s=[this.staticAccountKeys];return this.accountKeysFromLookups&&(s.push(this.accountKeysFromLookups.writable),s.push(this.accountKeysFromLookups.readonly)),s}get(s){for(const sf of this.keySegments()){if(s<sf.length)return sf[s];s-=sf.length}}get length(){return this.keySegments().flat().length}compileInstructions(s){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const Nf=new Map;this.keySegments().flat().forEach((em,tm)=>{Nf.set(em.toBase58(),tm)});const ip=em=>{const tm=Nf.get(em.toBase58());if(tm===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return tm};return s.map(em=>({programIdIndex:ip(em.programId),accountKeyIndexes:em.keys.map(tm=>ip(tm.pubkey)),data:em.data}))}}const publicKey=(r="publicKey")=>LayoutExports.blob(32,r),rustString=(r="string")=>{const s=LayoutExports.struct([LayoutExports.u32("length"),LayoutExports.u32("lengthPadding"),LayoutExports.blob(LayoutExports.offset(LayoutExports.u32(),-8),"chars")],r),sf=s.decode.bind(s),Nf=s.encode.bind(s),ip=s;return ip.decode=(em,tm)=>sf(em,tm).chars.toString(),ip.encode=(em,tm,nm)=>{const rm={chars:bufferExports.Buffer.from(em,"utf8")};return Nf(rm,tm,nm)},ip.alloc=em=>LayoutExports.u32().span+LayoutExports.u32().span+bufferExports.Buffer.from(em,"utf8").length,ip},authorized=(r="authorized")=>LayoutExports.struct([publicKey("staker"),publicKey("withdrawer")],r),lockup=(r="lockup")=>LayoutExports.struct([LayoutExports.ns64("unixTimestamp"),LayoutExports.ns64("epoch"),publicKey("custodian")],r),voteInit=(r="voteInit")=>LayoutExports.struct([publicKey("nodePubkey"),publicKey("authorizedVoter"),publicKey("authorizedWithdrawer"),LayoutExports.u8("commission")],r),voteAuthorizeWithSeedArgs=(r="voteAuthorizeWithSeedArgs")=>LayoutExports.struct([LayoutExports.u32("voteAuthorizationType"),publicKey("currentAuthorityDerivedKeyOwnerPubkey"),rustString("currentAuthorityDerivedKeySeed"),publicKey("newAuthorized")],r);function decodeLength(r){let s=0,sf=0;for(;;){let Nf=r.shift();if(s|=(Nf&127)<<sf*7,sf+=1,(Nf&128)===0)break}return s}function encodeLength(r,s){let sf=s;for(;;){let Nf=sf&127;if(sf>>=7,sf==0){r.push(Nf);break}else Nf|=128,r.push(Nf)}}function assert$1(r,s){if(!r)throw new Error(s||"Assertion failed")}class CompiledKeys{constructor(s,sf){this.payer=void 0,this.keyMetaMap=void 0,this.payer=s,this.keyMetaMap=sf}static compile(s,sf){const Nf=new Map,ip=tm=>{const nm=tm.toBase58();let rm=Nf.get(nm);return rm===void 0&&(rm={isSigner:!1,isWritable:!1,isInvoked:!1},Nf.set(nm,rm)),rm},em=ip(sf);em.isSigner=!0,em.isWritable=!0;for(const tm of s){ip(tm.programId).isInvoked=!0;for(const nm of tm.keys){const rm=ip(nm.pubkey);rm.isSigner||=nm.isSigner,rm.isWritable||=nm.isWritable}}return new CompiledKeys(sf,Nf)}getMessageComponents(){const s=[...this.keyMetaMap.entries()];assert$1(s.length<=256,"Max static account keys length exceeded");const sf=s.filter(([,rm])=>rm.isSigner&&rm.isWritable),Nf=s.filter(([,rm])=>rm.isSigner&&!rm.isWritable),ip=s.filter(([,rm])=>!rm.isSigner&&rm.isWritable),em=s.filter(([,rm])=>!rm.isSigner&&!rm.isWritable),tm={numRequiredSignatures:sf.length+Nf.length,numReadonlySignedAccounts:Nf.length,numReadonlyUnsignedAccounts:em.length};{assert$1(sf.length>0,"Expected at least one writable signer key");const[rm]=sf[0];assert$1(rm===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const nm=[...sf.map(([rm])=>new PublicKey(rm)),...Nf.map(([rm])=>new PublicKey(rm)),...ip.map(([rm])=>new PublicKey(rm)),...em.map(([rm])=>new PublicKey(rm))];return[tm,nm]}extractTableLookup(s){const[sf,Nf]=this.drainKeysFoundInLookupTable(s.state.addresses,tm=>!tm.isSigner&&!tm.isInvoked&&tm.isWritable),[ip,em]=this.drainKeysFoundInLookupTable(s.state.addresses,tm=>!tm.isSigner&&!tm.isInvoked&&!tm.isWritable);if(!(sf.length===0&&ip.length===0))return[{accountKey:s.key,writableIndexes:sf,readonlyIndexes:ip},{writable:Nf,readonly:em}]}drainKeysFoundInLookupTable(s,sf){const Nf=new Array,ip=new Array;for(const[em,tm]of this.keyMetaMap.entries())if(sf(tm)){const nm=new PublicKey(em),rm=s.findIndex(om=>om.equals(nm));rm>=0&&(assert$1(rm<256,"Max lookup table index exceeded"),Nf.push(rm),ip.push(nm),this.keyMetaMap.delete(em))}return[Nf,ip]}}const END_OF_BUFFER_ERROR_MESSAGE="Reached end of buffer unexpectedly";function guardedShift(r){if(r.length===0)throw new Error(END_OF_BUFFER_ERROR_MESSAGE);return r.shift()}function guardedSplice(r,...s){const[sf]=s;if(s.length===2?sf+(s[1]??0)>r.length:sf>=r.length)throw new Error(END_OF_BUFFER_ERROR_MESSAGE);return r.splice(...s)}class Message{constructor(s){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=s.header,this.accountKeys=s.accountKeys.map(sf=>new PublicKey(sf)),this.recentBlockhash=s.recentBlockhash,this.instructions=s.instructions,this.instructions.forEach(sf=>this.indexToProgramIds.set(sf.programIdIndex,this.accountKeys[sf.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(s=>({programIdIndex:s.programIdIndex,accountKeyIndexes:s.accounts,data:bs58.decode(s.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new MessageAccountKeys(this.staticAccountKeys)}static compile(s){const sf=CompiledKeys.compile(s.instructions,s.payerKey),[Nf,ip]=sf.getMessageComponents(),tm=new MessageAccountKeys(ip).compileInstructions(s.instructions).map(nm=>({programIdIndex:nm.programIdIndex,accounts:nm.accountKeyIndexes,data:bs58.encode(nm.data)}));return new Message({header:Nf,accountKeys:ip,recentBlockhash:s.recentBlockhash,instructions:tm})}isAccountSigner(s){return s<this.header.numRequiredSignatures}isAccountWritable(s){const sf=this.header.numRequiredSignatures;if(s>=this.header.numRequiredSignatures){const Nf=s-sf,em=this.accountKeys.length-sf-this.header.numReadonlyUnsignedAccounts;return Nf<em}else{const Nf=sf-this.header.numReadonlySignedAccounts;return s<Nf}}isProgramId(s){return this.indexToProgramIds.has(s)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((s,sf)=>!this.isProgramId(sf))}serialize(){const s=this.accountKeys.length;let sf=[];encodeLength(sf,s);const Nf=this.instructions.map(am=>{const{accounts:sm,programIdIndex:cm}=am,hm=Array.from(bs58.decode(am.data));let fm=[];encodeLength(fm,sm.length);let pm=[];return encodeLength(pm,hm.length),{programIdIndex:cm,keyIndicesCount:bufferExports.Buffer.from(fm),keyIndices:sm,dataLength:bufferExports.Buffer.from(pm),data:hm}});let ip=[];encodeLength(ip,Nf.length);let em=bufferExports.Buffer.alloc(PACKET_DATA_SIZE);bufferExports.Buffer.from(ip).copy(em);let tm=ip.length;Nf.forEach(am=>{const cm=LayoutExports.struct([LayoutExports.u8("programIdIndex"),LayoutExports.blob(am.keyIndicesCount.length,"keyIndicesCount"),LayoutExports.seq(LayoutExports.u8("keyIndex"),am.keyIndices.length,"keyIndices"),LayoutExports.blob(am.dataLength.length,"dataLength"),LayoutExports.seq(LayoutExports.u8("userdatum"),am.data.length,"data")]).encode(am,em,tm);tm+=cm}),em=em.slice(0,tm);const nm=LayoutExports.struct([LayoutExports.blob(1,"numRequiredSignatures"),LayoutExports.blob(1,"numReadonlySignedAccounts"),LayoutExports.blob(1,"numReadonlyUnsignedAccounts"),LayoutExports.blob(sf.length,"keyCount"),LayoutExports.seq(publicKey("key"),s,"keys"),publicKey("recentBlockhash")]),rm={numRequiredSignatures:bufferExports.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:bufferExports.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:bufferExports.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:bufferExports.Buffer.from(sf),keys:this.accountKeys.map(am=>toBuffer(am.toBytes())),recentBlockhash:bs58.decode(this.recentBlockhash)};let om=bufferExports.Buffer.alloc(2048);const im=nm.encode(rm,om);return em.copy(om,im),om.slice(0,im+em.length)}static from(s){let sf=[...s];const Nf=guardedShift(sf);if(Nf!==(Nf&VERSION_PREFIX_MASK))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const ip=guardedShift(sf),em=guardedShift(sf),tm=decodeLength(sf);let nm=[];for(let sm=0;sm<tm;sm++){const cm=guardedSplice(sf,0,PUBLIC_KEY_LENGTH);nm.push(new PublicKey(bufferExports.Buffer.from(cm)))}const rm=guardedSplice(sf,0,PUBLIC_KEY_LENGTH),om=decodeLength(sf);let im=[];for(let sm=0;sm<om;sm++){const cm=guardedShift(sf),hm=decodeLength(sf),fm=guardedSplice(sf,0,hm),pm=decodeLength(sf),mm=guardedSplice(sf,0,pm),_m=bs58.encode(bufferExports.Buffer.from(mm));im.push({programIdIndex:cm,accounts:fm,data:_m})}const am={header:{numRequiredSignatures:Nf,numReadonlySignedAccounts:ip,numReadonlyUnsignedAccounts:em},recentBlockhash:bs58.encode(bufferExports.Buffer.from(rm)),accountKeys:nm,instructions:im};return new Message(am)}}const DEFAULT_SIGNATURE=bufferExports.Buffer.alloc(SIGNATURE_LENGTH_IN_BYTES).fill(0);class TransactionInstruction{constructor(s){this.keys=void 0,this.programId=void 0,this.data=bufferExports.Buffer.alloc(0),this.programId=s.programId,this.keys=s.keys,s.data&&(this.data=s.data)}toJSON(){return{keys:this.keys.map(({pubkey:s,isSigner:sf,isWritable:Nf})=>({pubkey:s.toJSON(),isSigner:sf,isWritable:Nf})),programId:this.programId.toJSON(),data:[...this.data]}}}class Transaction{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(s){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!s)if(s.feePayer&&(this.feePayer=s.feePayer),s.signatures&&(this.signatures=s.signatures),Object.prototype.hasOwnProperty.call(s,"nonceInfo")){const{minContextSlot:sf,nonceInfo:Nf}=s;this.minNonceContextSlot=sf,this.nonceInfo=Nf}else if(Object.prototype.hasOwnProperty.call(s,"lastValidBlockHeight")){const{blockhash:sf,lastValidBlockHeight:Nf}=s;this.recentBlockhash=sf,this.lastValidBlockHeight=Nf}else{const{recentBlockhash:sf,nonceInfo:Nf}=s;Nf&&(this.nonceInfo=Nf),this.recentBlockhash=sf}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(s=>s.toJSON()),signers:this.signatures.map(({publicKey:s})=>s.toJSON())}}add(...s){if(s.length===0)throw new Error("No instructions");return s.forEach(sf=>{"instructions"in sf?this.instructions=this.instructions.concat(sf.instructions):"data"in sf&&"programId"in sf&&"keys"in sf?this.instructions.push(sf):this.instructions.push(new TransactionInstruction(sf))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let s,sf;if(this.nonceInfo?(s=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?sf=[this.nonceInfo.nonceInstruction,...this.instructions]:sf=this.instructions):(s=this.recentBlockhash,sf=this.instructions),!s)throw new Error("Transaction recentBlockhash required");sf.length<1&&console.warn("No instructions provided");let Nf;if(this.feePayer)Nf=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)Nf=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let fm=0;fm<sf.length;fm++)if(sf[fm].programId===void 0)throw new Error(`Transaction instruction index ${fm} has undefined program id`);const ip=[],em=[];sf.forEach(fm=>{fm.keys.forEach(mm=>{em.push({...mm})});const pm=fm.programId.toString();ip.includes(pm)||ip.push(pm)}),ip.forEach(fm=>{em.push({pubkey:new PublicKey(fm),isSigner:!1,isWritable:!1})});const tm=[];em.forEach(fm=>{const pm=fm.pubkey.toString(),mm=tm.findIndex(_m=>_m.pubkey.toString()===pm);mm>-1?(tm[mm].isWritable=tm[mm].isWritable||fm.isWritable,tm[mm].isSigner=tm[mm].isSigner||fm.isSigner):tm.push(fm)}),tm.sort(function(fm,pm){if(fm.isSigner!==pm.isSigner)return fm.isSigner?-1:1;if(fm.isWritable!==pm.isWritable)return fm.isWritable?-1:1;const mm={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return fm.pubkey.toBase58().localeCompare(pm.pubkey.toBase58(),"en",mm)});const nm=tm.findIndex(fm=>fm.pubkey.equals(Nf));if(nm>-1){const[fm]=tm.splice(nm,1);fm.isSigner=!0,fm.isWritable=!0,tm.unshift(fm)}else tm.unshift({pubkey:Nf,isSigner:!0,isWritable:!0});for(const fm of this.signatures){const pm=tm.findIndex(mm=>mm.pubkey.equals(fm.publicKey));if(pm>-1)tm[pm].isSigner||(tm[pm].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${fm.publicKey.toString()}`)}let rm=0,om=0,im=0;const am=[],sm=[];tm.forEach(({pubkey:fm,isSigner:pm,isWritable:mm})=>{pm?(am.push(fm.toString()),rm+=1,mm||(om+=1)):(sm.push(fm.toString()),mm||(im+=1))});const cm=am.concat(sm),hm=sf.map(fm=>{const{data:pm,programId:mm}=fm;return{programIdIndex:cm.indexOf(mm.toString()),accounts:fm.keys.map(_m=>cm.indexOf(_m.pubkey.toString())),data:bs58.encode(pm)}});return hm.forEach(fm=>{assert$1(fm.programIdIndex>=0),fm.accounts.forEach(pm=>assert$1(pm>=0))}),new Message({header:{numRequiredSignatures:rm,numReadonlySignedAccounts:om,numReadonlyUnsignedAccounts:im},accountKeys:cm,recentBlockhash:s,instructions:hm})}_compile(){const s=this.compileMessage(),sf=s.accountKeys.slice(0,s.header.numRequiredSignatures);return this.signatures.length===sf.length&&this.signatures.every((ip,em)=>sf[em].equals(ip.publicKey))||(this.signatures=sf.map(Nf=>({signature:null,publicKey:Nf}))),s}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(s){return(await s.getFeeForMessage(this.compileMessage())).value}setSigners(...s){if(s.length===0)throw new Error("No signers");const sf=new Set;this.signatures=s.filter(Nf=>{const ip=Nf.toString();return sf.has(ip)?!1:(sf.add(ip),!0)}).map(Nf=>({signature:null,publicKey:Nf}))}sign(...s){if(s.length===0)throw new Error("No signers");const sf=new Set,Nf=[];for(const em of s){const tm=em.publicKey.toString();sf.has(tm)||(sf.add(tm),Nf.push(em))}this.signatures=Nf.map(em=>({signature:null,publicKey:em.publicKey}));const ip=this._compile();this._partialSign(ip,...Nf)}partialSign(...s){if(s.length===0)throw new Error("No signers");const sf=new Set,Nf=[];for(const em of s){const tm=em.publicKey.toString();sf.has(tm)||(sf.add(tm),Nf.push(em))}const ip=this._compile();this._partialSign(ip,...Nf)}_partialSign(s,...sf){const Nf=s.serialize();sf.forEach(ip=>{const em=sign(Nf,ip.secretKey);this._addSignature(ip.publicKey,toBuffer(em))})}addSignature(s,sf){this._compile(),this._addSignature(s,sf)}_addSignature(s,sf){assert$1(sf.length===64);const Nf=this.signatures.findIndex(ip=>s.equals(ip.publicKey));if(Nf<0)throw new Error(`unknown signer: ${s.toString()}`);this.signatures[Nf].signature=bufferExports.Buffer.from(sf)}verifySignatures(s=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),s)}_getMessageSignednessErrors(s,sf){const Nf={};for(const{signature:ip,publicKey:em}of this.signatures)ip===null?sf&&(Nf.missing||=[]).push(em):verify(ip,s,em.toBytes())||(Nf.invalid||=[]).push(em);return Nf.invalid||Nf.missing?Nf:void 0}serialize(s){const{requireAllSignatures:sf,verifySignatures:Nf}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},s),ip=this.serializeMessage();if(Nf){const em=this._getMessageSignednessErrors(ip,sf);if(em){let tm="Signature verification failed.";throw em.invalid&&(tm+=`
Invalid signature for public key${em.invalid.length===1?"":"(s)"} [\`${em.invalid.map(nm=>nm.toBase58()).join("`, `")}\`].`),em.missing&&(tm+=`
Missing signature for public key${em.missing.length===1?"":"(s)"} [\`${em.missing.map(nm=>nm.toBase58()).join("`, `")}\`].`),new Error(tm)}}return this._serialize(ip)}_serialize(s){const{signatures:sf}=this,Nf=[];encodeLength(Nf,sf.length);const ip=Nf.length+sf.length*64+s.length,em=bufferExports.Buffer.alloc(ip);return assert$1(sf.length<256),bufferExports.Buffer.from(Nf).copy(em,0),sf.forEach(({signature:tm},nm)=>{tm!==null&&(assert$1(tm.length===64,"signature has invalid length"),bufferExports.Buffer.from(tm).copy(em,Nf.length+nm*64))}),s.copy(em,Nf.length+sf.length*64),assert$1(em.length<=PACKET_DATA_SIZE,`Transaction too large: ${em.length} > ${PACKET_DATA_SIZE}`),em}get keys(){return assert$1(this.instructions.length===1),this.instructions[0].keys.map(s=>s.pubkey)}get programId(){return assert$1(this.instructions.length===1),this.instructions[0].programId}get data(){return assert$1(this.instructions.length===1),this.instructions[0].data}static from(s){let sf=[...s];const Nf=decodeLength(sf);let ip=[];for(let em=0;em<Nf;em++){const tm=guardedSplice(sf,0,SIGNATURE_LENGTH_IN_BYTES);ip.push(bs58.encode(bufferExports.Buffer.from(tm)))}return Transaction.populate(Message.from(sf),ip)}static populate(s,sf=[]){const Nf=new Transaction;return Nf.recentBlockhash=s.recentBlockhash,s.header.numRequiredSignatures>0&&(Nf.feePayer=s.accountKeys[0]),sf.forEach((ip,em)=>{const tm={signature:ip==bs58.encode(DEFAULT_SIGNATURE)?null:bs58.decode(ip),publicKey:s.accountKeys[em]};Nf.signatures.push(tm)}),s.instructions.forEach(ip=>{const em=ip.accounts.map(tm=>{const nm=s.accountKeys[tm];return{pubkey:nm,isSigner:Nf.signatures.some(rm=>rm.publicKey.toString()===nm.toString())||s.isAccountSigner(tm),isWritable:s.isAccountWritable(tm)}});Nf.instructions.push(new TransactionInstruction({keys:em,programId:s.accountKeys[ip.programIdIndex],data:bs58.decode(ip.data)}))}),Nf._message=s,Nf._json=Nf.toJSON(),Nf}}new PublicKey("SysvarC1ock11111111111111111111111111111111");new PublicKey("SysvarEpochSchedu1e111111111111111111111111");new PublicKey("Sysvar1nstructions1111111111111111111111111");new PublicKey("SysvarRecentB1ockHashes11111111111111111111");new PublicKey("SysvarRent111111111111111111111111111111111");new PublicKey("SysvarRewards111111111111111111111111111111");new PublicKey("SysvarS1otHashes111111111111111111111111111");new PublicKey("SysvarS1otHistory11111111111111111111111111");new PublicKey("SysvarStakeHistory1111111111111111111111111");const FeeCalculatorLayout=LayoutExports.nu64("lamportsPerSignature"),NonceAccountLayout=LayoutExports.struct([LayoutExports.u32("version"),LayoutExports.u32("state"),publicKey("authorizedPubkey"),publicKey("nonce"),LayoutExports.struct([FeeCalculatorLayout],"feeCalculator")]);NonceAccountLayout.span;const encodeDecode=r=>{const s=r.decode.bind(r),sf=r.encode.bind(r);return{decode:s,encode:sf}},bigInt=r=>s=>{const sf=LayoutExports.blob(r,s),{encode:Nf,decode:ip}=encodeDecode(sf),em=sf;return em.decode=(tm,nm)=>{const rm=ip(tm,nm);return browserExports.toBigIntLE(bufferExports.Buffer.from(rm))},em.encode=(tm,nm,rm)=>{const om=browserExports.toBufferLE(tm,r);return Nf(om,nm,rm)},em},u64=bigInt(8);Object.freeze({Create:{index:0,layout:LayoutExports.struct([LayoutExports.u32("instruction"),LayoutExports.ns64("lamports"),LayoutExports.ns64("space"),publicKey("programId")])},Assign:{index:1,layout:LayoutExports.struct([LayoutExports.u32("instruction"),publicKey("programId")])},Transfer:{index:2,layout:LayoutExports.struct([LayoutExports.u32("instruction"),u64("lamports")])},CreateWithSeed:{index:3,layout:LayoutExports.struct([LayoutExports.u32("instruction"),publicKey("base"),rustString("seed"),LayoutExports.ns64("lamports"),LayoutExports.ns64("space"),publicKey("programId")])},AdvanceNonceAccount:{index:4,layout:LayoutExports.struct([LayoutExports.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:LayoutExports.struct([LayoutExports.u32("instruction"),LayoutExports.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:LayoutExports.struct([LayoutExports.u32("instruction"),publicKey("authorized")])},AuthorizeNonceAccount:{index:7,layout:LayoutExports.struct([LayoutExports.u32("instruction"),publicKey("authorized")])},Allocate:{index:8,layout:LayoutExports.struct([LayoutExports.u32("instruction"),LayoutExports.ns64("space")])},AllocateWithSeed:{index:9,layout:LayoutExports.struct([LayoutExports.u32("instruction"),publicKey("base"),rustString("seed"),LayoutExports.ns64("space"),publicKey("programId")])},AssignWithSeed:{index:10,layout:LayoutExports.struct([LayoutExports.u32("instruction"),publicKey("base"),rustString("seed"),publicKey("programId")])},TransferWithSeed:{index:11,layout:LayoutExports.struct([LayoutExports.u32("instruction"),u64("lamports"),rustString("seed"),publicKey("programId")])},UpgradeNonceAccount:{index:12,layout:LayoutExports.struct([LayoutExports.u32("instruction")])}});new PublicKey("11111111111111111111111111111111");new PublicKey("BPFLoader2111111111111111111111111111111111");LayoutExports.struct([LayoutExports.u32("typeIndex"),u64("deactivationSlot"),LayoutExports.nu64("lastExtendedSlot"),LayoutExports.u8("lastExtendedStartIndex"),LayoutExports.u8(),LayoutExports.seq(publicKey(),LayoutExports.offset(LayoutExports.u8(),-1),"authority")]);const PublicKeyFromString=coerce(instance(PublicKey),string(),r=>new PublicKey(r)),RawAccountDataResult=tuple([string(),literal("base64")]),BufferFromRawAccountData=coerce(instance(bufferExports.Buffer),RawAccountDataResult,r=>bufferExports.Buffer.from(r[0],"base64"));function createRpcResult(r){return union([type({jsonrpc:literal("2.0"),id:string(),result:r}),type({jsonrpc:literal("2.0"),id:string(),error:type({code:unknown(),message:string(),data:optional(any())})})])}const UnknownRpcResult=createRpcResult(unknown());function jsonRpcResult(r){return coerce(createRpcResult(r),UnknownRpcResult,s=>"error"in s?s:{...s,result:create(s.result,r)})}function jsonRpcResultAndContext(r){return jsonRpcResult(type({context:type({slot:number()}),value:r}))}function notificationResultAndContext(r){return type({context:type({slot:number()}),value:r})}const GetInflationGovernorResult=type({foundation:number(),foundationTerm:number(),initial:number(),taper:number(),terminal:number()});jsonRpcResult(array(nullable(type({epoch:number(),effectiveSlot:number(),amount:number(),postBalance:number(),commission:optional(nullable(number()))}))));const GetRecentPrioritizationFeesResult=array(type({slot:number(),prioritizationFee:number()})),GetInflationRateResult=type({total:number(),validator:number(),foundation:number(),epoch:number()}),GetEpochInfoResult=type({epoch:number(),slotIndex:number(),slotsInEpoch:number(),absoluteSlot:number(),blockHeight:optional(number()),transactionCount:optional(number())}),GetEpochScheduleResult=type({slotsPerEpoch:number(),leaderScheduleSlotOffset:number(),warmup:boolean(),firstNormalEpoch:number(),firstNormalSlot:number()}),GetLeaderScheduleResult=record(string(),array(number())),TransactionErrorResult=nullable(union([type({}),string()])),SignatureStatusResult=type({err:TransactionErrorResult}),SignatureReceivedResult=literal("receivedSignature");type({"solana-core":string(),"feature-set":optional(number())});const ParsedInstructionStruct=type({program:string(),programId:PublicKeyFromString,parsed:unknown()}),PartiallyDecodedInstructionStruct=type({programId:PublicKeyFromString,accounts:array(PublicKeyFromString),data:string()});jsonRpcResultAndContext(type({err:nullable(union([type({}),string()])),logs:nullable(array(string())),accounts:optional(nullable(array(nullable(type({executable:boolean(),owner:string(),lamports:number(),data:array(string()),rentEpoch:optional(number())}))))),unitsConsumed:optional(number()),returnData:optional(nullable(type({programId:string(),data:tuple([string(),literal("base64")])}))),innerInstructions:optional(nullable(array(type({index:number(),instructions:array(union([ParsedInstructionStruct,PartiallyDecodedInstructionStruct]))}))))}));jsonRpcResultAndContext(type({byIdentity:record(string(),array(number())),range:type({firstSlot:number(),lastSlot:number()})}));jsonRpcResult(GetInflationGovernorResult);jsonRpcResult(GetInflationRateResult);jsonRpcResult(GetRecentPrioritizationFeesResult);jsonRpcResult(GetEpochInfoResult);jsonRpcResult(GetEpochScheduleResult);jsonRpcResult(GetLeaderScheduleResult);jsonRpcResult(number());jsonRpcResultAndContext(type({total:number(),circulating:number(),nonCirculating:number(),nonCirculatingAccounts:array(PublicKeyFromString)}));const TokenAmountResult=type({amount:string(),uiAmount:nullable(number()),decimals:number(),uiAmountString:optional(string())});jsonRpcResultAndContext(array(type({address:PublicKeyFromString,amount:string(),uiAmount:nullable(number()),decimals:number(),uiAmountString:optional(string())})));jsonRpcResultAndContext(array(type({pubkey:PublicKeyFromString,account:type({executable:boolean(),owner:PublicKeyFromString,lamports:number(),data:BufferFromRawAccountData,rentEpoch:number()})})));const ParsedAccountDataResult=type({program:string(),parsed:unknown(),space:number()});jsonRpcResultAndContext(array(type({pubkey:PublicKeyFromString,account:type({executable:boolean(),owner:PublicKeyFromString,lamports:number(),data:ParsedAccountDataResult,rentEpoch:number()})})));jsonRpcResultAndContext(array(type({lamports:number(),address:PublicKeyFromString})));const AccountInfoResult=type({executable:boolean(),owner:PublicKeyFromString,lamports:number(),data:BufferFromRawAccountData,rentEpoch:number()});type({pubkey:PublicKeyFromString,account:AccountInfoResult});const ParsedOrRawAccountData=coerce(union([instance(bufferExports.Buffer),ParsedAccountDataResult]),union([RawAccountDataResult,ParsedAccountDataResult]),r=>Array.isArray(r)?create(r,BufferFromRawAccountData):r),ParsedAccountInfoResult=type({executable:boolean(),owner:PublicKeyFromString,lamports:number(),data:ParsedOrRawAccountData,rentEpoch:number()});type({pubkey:PublicKeyFromString,account:ParsedAccountInfoResult});type({state:union([literal("active"),literal("inactive"),literal("activating"),literal("deactivating")]),active:number(),inactive:number()});jsonRpcResult(array(type({signature:string(),slot:number(),err:TransactionErrorResult,memo:nullable(string()),blockTime:optional(nullable(number()))})));jsonRpcResult(array(type({signature:string(),slot:number(),err:TransactionErrorResult,memo:nullable(string()),blockTime:optional(nullable(number()))})));type({subscription:number(),result:notificationResultAndContext(AccountInfoResult)});const ProgramAccountInfoResult=type({pubkey:PublicKeyFromString,account:AccountInfoResult});type({subscription:number(),result:notificationResultAndContext(ProgramAccountInfoResult)});const SlotInfoResult=type({parent:number(),slot:number(),root:number()});type({subscription:number(),result:SlotInfoResult});const SlotUpdateResult=union([type({type:union([literal("firstShredReceived"),literal("completed"),literal("optimisticConfirmation"),literal("root")]),slot:number(),timestamp:number()}),type({type:literal("createdBank"),parent:number(),slot:number(),timestamp:number()}),type({type:literal("frozen"),slot:number(),timestamp:number(),stats:type({numTransactionEntries:number(),numSuccessfulTransactions:number(),numFailedTransactions:number(),maxTransactionsPerEntry:number()})}),type({type:literal("dead"),slot:number(),timestamp:number(),err:string()})]);type({subscription:number(),result:SlotUpdateResult});type({subscription:number(),result:notificationResultAndContext(union([SignatureStatusResult,SignatureReceivedResult]))});type({subscription:number(),result:number()});type({pubkey:string(),gossip:nullable(string()),tpu:nullable(string()),rpc:nullable(string()),version:nullable(string())});const VoteAccountInfoResult=type({votePubkey:string(),nodePubkey:string(),activatedStake:number(),epochVoteAccount:boolean(),epochCredits:array(tuple([number(),number(),number()])),commission:number(),lastVote:number(),rootSlot:nullable(number())});jsonRpcResult(type({current:array(VoteAccountInfoResult),delinquent:array(VoteAccountInfoResult)}));const ConfirmationStatus=union([literal("processed"),literal("confirmed"),literal("finalized")]),SignatureStatusResponse=type({slot:number(),confirmations:nullable(number()),err:TransactionErrorResult,confirmationStatus:optional(ConfirmationStatus)});jsonRpcResultAndContext(array(nullable(SignatureStatusResponse)));jsonRpcResult(number());const AddressTableLookupStruct=type({accountKey:PublicKeyFromString,writableIndexes:array(number()),readonlyIndexes:array(number())}),ConfirmedTransactionResult=type({signatures:array(string()),message:type({accountKeys:array(string()),header:type({numRequiredSignatures:number(),numReadonlySignedAccounts:number(),numReadonlyUnsignedAccounts:number()}),instructions:array(type({accounts:array(number()),data:string(),programIdIndex:number()})),recentBlockhash:string(),addressTableLookups:optional(array(AddressTableLookupStruct))})}),AnnotatedAccountKey=type({pubkey:PublicKeyFromString,signer:boolean(),writable:boolean(),source:optional(union([literal("transaction"),literal("lookupTable")]))}),ConfirmedTransactionAccountsModeResult=type({accountKeys:array(AnnotatedAccountKey),signatures:array(string())}),ParsedInstructionResult=type({parsed:unknown(),program:string(),programId:PublicKeyFromString}),RawInstructionResult=type({accounts:array(PublicKeyFromString),data:string(),programId:PublicKeyFromString}),InstructionResult=union([RawInstructionResult,ParsedInstructionResult]),UnknownInstructionResult=union([type({parsed:unknown(),program:string(),programId:string()}),type({accounts:array(string()),data:string(),programId:string()})]),ParsedOrRawInstruction=coerce(InstructionResult,UnknownInstructionResult,r=>"accounts"in r?create(r,RawInstructionResult):create(r,ParsedInstructionResult)),ParsedConfirmedTransactionResult=type({signatures:array(string()),message:type({accountKeys:array(AnnotatedAccountKey),instructions:array(ParsedOrRawInstruction),recentBlockhash:string(),addressTableLookups:optional(nullable(array(AddressTableLookupStruct)))})}),TokenBalanceResult=type({accountIndex:number(),mint:string(),owner:optional(string()),programId:optional(string()),uiTokenAmount:TokenAmountResult}),LoadedAddressesResult=type({writable:array(PublicKeyFromString),readonly:array(PublicKeyFromString)}),ConfirmedTransactionMetaResult=type({err:TransactionErrorResult,fee:number(),innerInstructions:optional(nullable(array(type({index:number(),instructions:array(type({accounts:array(number()),data:string(),programIdIndex:number()}))})))),preBalances:array(number()),postBalances:array(number()),logMessages:optional(nullable(array(string()))),preTokenBalances:optional(nullable(array(TokenBalanceResult))),postTokenBalances:optional(nullable(array(TokenBalanceResult))),loadedAddresses:optional(LoadedAddressesResult),computeUnitsConsumed:optional(number())}),ParsedConfirmedTransactionMetaResult=type({err:TransactionErrorResult,fee:number(),innerInstructions:optional(nullable(array(type({index:number(),instructions:array(ParsedOrRawInstruction)})))),preBalances:array(number()),postBalances:array(number()),logMessages:optional(nullable(array(string()))),preTokenBalances:optional(nullable(array(TokenBalanceResult))),postTokenBalances:optional(nullable(array(TokenBalanceResult))),loadedAddresses:optional(LoadedAddressesResult),computeUnitsConsumed:optional(number())}),TransactionVersionStruct=union([literal(0),literal("legacy")]),RewardsResult=type({pubkey:string(),lamports:number(),postBalance:nullable(number()),rewardType:nullable(string()),commission:optional(nullable(number()))});jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),transactions:array(type({transaction:ConfirmedTransactionResult,meta:nullable(ConfirmedTransactionMetaResult),version:optional(TransactionVersionStruct)})),rewards:optional(array(RewardsResult)),blockTime:nullable(number()),blockHeight:nullable(number())})));jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),rewards:optional(array(RewardsResult)),blockTime:nullable(number()),blockHeight:nullable(number())})));jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),transactions:array(type({transaction:ConfirmedTransactionAccountsModeResult,meta:nullable(ConfirmedTransactionMetaResult),version:optional(TransactionVersionStruct)})),rewards:optional(array(RewardsResult)),blockTime:nullable(number()),blockHeight:nullable(number())})));jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),transactions:array(type({transaction:ParsedConfirmedTransactionResult,meta:nullable(ParsedConfirmedTransactionMetaResult),version:optional(TransactionVersionStruct)})),rewards:optional(array(RewardsResult)),blockTime:nullable(number()),blockHeight:nullable(number())})));jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),transactions:array(type({transaction:ConfirmedTransactionAccountsModeResult,meta:nullable(ParsedConfirmedTransactionMetaResult),version:optional(TransactionVersionStruct)})),rewards:optional(array(RewardsResult)),blockTime:nullable(number()),blockHeight:nullable(number())})));jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),rewards:optional(array(RewardsResult)),blockTime:nullable(number()),blockHeight:nullable(number())})));jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),transactions:array(type({transaction:ConfirmedTransactionResult,meta:nullable(ConfirmedTransactionMetaResult)})),rewards:optional(array(RewardsResult)),blockTime:nullable(number())})));jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),signatures:array(string()),blockTime:nullable(number())})));jsonRpcResult(nullable(type({slot:number(),meta:nullable(ConfirmedTransactionMetaResult),blockTime:optional(nullable(number())),transaction:ConfirmedTransactionResult,version:optional(TransactionVersionStruct)})));jsonRpcResult(nullable(type({slot:number(),transaction:ParsedConfirmedTransactionResult,meta:nullable(ParsedConfirmedTransactionMetaResult),blockTime:optional(nullable(number())),version:optional(TransactionVersionStruct)})));jsonRpcResultAndContext(type({blockhash:string(),lastValidBlockHeight:number()}));jsonRpcResultAndContext(boolean());const PerfSampleResult=type({slot:number(),numTransactions:number(),numSlots:number(),samplePeriodSecs:number()});jsonRpcResult(array(PerfSampleResult));jsonRpcResultAndContext(nullable(type({feeCalculator:type({lamportsPerSignature:number()})})));jsonRpcResult(string());jsonRpcResult(string());const LogsResult=type({err:TransactionErrorResult,logs:array(string()),signature:string()});type({result:notificationResultAndContext(LogsResult),subscription:number()});Object.freeze({CreateLookupTable:{index:0,layout:LayoutExports.struct([LayoutExports.u32("instruction"),u64("recentSlot"),LayoutExports.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:LayoutExports.struct([LayoutExports.u32("instruction")])},ExtendLookupTable:{index:2,layout:LayoutExports.struct([LayoutExports.u32("instruction"),u64(),LayoutExports.seq(publicKey(),LayoutExports.offset(LayoutExports.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:LayoutExports.struct([LayoutExports.u32("instruction")])},CloseLookupTable:{index:4,layout:LayoutExports.struct([LayoutExports.u32("instruction")])}});new PublicKey("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:LayoutExports.struct([LayoutExports.u8("instruction"),LayoutExports.u32("units"),LayoutExports.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:LayoutExports.struct([LayoutExports.u8("instruction"),LayoutExports.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:LayoutExports.struct([LayoutExports.u8("instruction"),LayoutExports.u32("units")])},SetComputeUnitPrice:{index:3,layout:LayoutExports.struct([LayoutExports.u8("instruction"),u64("microLamports")])}});new PublicKey("ComputeBudget111111111111111111111111111111");LayoutExports.struct([LayoutExports.u8("numSignatures"),LayoutExports.u8("padding"),LayoutExports.u16("signatureOffset"),LayoutExports.u16("signatureInstructionIndex"),LayoutExports.u16("publicKeyOffset"),LayoutExports.u16("publicKeyInstructionIndex"),LayoutExports.u16("messageDataOffset"),LayoutExports.u16("messageDataSize"),LayoutExports.u16("messageInstructionIndex")]);new PublicKey("Ed25519SigVerify111111111111111111111111111");secp256k1.utils.isValidPrivateKey;LayoutExports.struct([LayoutExports.u8("numSignatures"),LayoutExports.u16("signatureOffset"),LayoutExports.u8("signatureInstructionIndex"),LayoutExports.u16("ethAddressOffset"),LayoutExports.u8("ethAddressInstructionIndex"),LayoutExports.u16("messageDataOffset"),LayoutExports.u16("messageDataSize"),LayoutExports.u8("messageInstructionIndex"),LayoutExports.blob(20,"ethAddress"),LayoutExports.blob(64,"signature"),LayoutExports.u8("recoveryId")]);new PublicKey("KeccakSecp256k11111111111111111111111111111");var _Lockup;new PublicKey("StakeConfig11111111111111111111111111111111");class Lockup{constructor(s,sf,Nf){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=s,this.epoch=sf,this.custodian=Nf}}_Lockup=Lockup;Lockup.default=new _Lockup(0,0,PublicKey.default);Object.freeze({Initialize:{index:0,layout:LayoutExports.struct([LayoutExports.u32("instruction"),authorized(),lockup()])},Authorize:{index:1,layout:LayoutExports.struct([LayoutExports.u32("instruction"),publicKey("newAuthorized"),LayoutExports.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:LayoutExports.struct([LayoutExports.u32("instruction")])},Split:{index:3,layout:LayoutExports.struct([LayoutExports.u32("instruction"),LayoutExports.ns64("lamports")])},Withdraw:{index:4,layout:LayoutExports.struct([LayoutExports.u32("instruction"),LayoutExports.ns64("lamports")])},Deactivate:{index:5,layout:LayoutExports.struct([LayoutExports.u32("instruction")])},Merge:{index:7,layout:LayoutExports.struct([LayoutExports.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:LayoutExports.struct([LayoutExports.u32("instruction"),publicKey("newAuthorized"),LayoutExports.u32("stakeAuthorizationType"),rustString("authoritySeed"),publicKey("authorityOwner")])}});new PublicKey("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:LayoutExports.struct([LayoutExports.u32("instruction"),voteInit()])},Authorize:{index:1,layout:LayoutExports.struct([LayoutExports.u32("instruction"),publicKey("newAuthorized"),LayoutExports.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:LayoutExports.struct([LayoutExports.u32("instruction"),LayoutExports.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:LayoutExports.struct([LayoutExports.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:LayoutExports.struct([LayoutExports.u32("instruction"),voteAuthorizeWithSeedArgs()])}});new PublicKey("Vote111111111111111111111111111111111111111");new PublicKey("Va1idator1nfo111111111111111111111111111111");type({name:string(),website:optional(string()),details:optional(string()),iconUrl:optional(string()),keybaseUsername:optional(string())});new PublicKey("Vote111111111111111111111111111111111111111");LayoutExports.struct([publicKey("nodePubkey"),publicKey("authorizedWithdrawer"),LayoutExports.u8("commission"),LayoutExports.nu64(),LayoutExports.seq(LayoutExports.struct([LayoutExports.nu64("slot"),LayoutExports.u32("confirmationCount")]),LayoutExports.offset(LayoutExports.u32(),-8),"votes"),LayoutExports.u8("rootSlotValid"),LayoutExports.nu64("rootSlot"),LayoutExports.nu64(),LayoutExports.seq(LayoutExports.struct([LayoutExports.nu64("epoch"),publicKey("authorizedVoter")]),LayoutExports.offset(LayoutExports.u32(),-8),"authorizedVoters"),LayoutExports.struct([LayoutExports.seq(LayoutExports.struct([publicKey("authorizedPubkey"),LayoutExports.nu64("epochOfLastAuthorizedSwitch"),LayoutExports.nu64("targetEpoch")]),32,"buf"),LayoutExports.nu64("idx"),LayoutExports.u8("isEmpty")],"priorVoters"),LayoutExports.nu64(),LayoutExports.seq(LayoutExports.struct([LayoutExports.nu64("epoch"),LayoutExports.nu64("credits"),LayoutExports.nu64("prevCredits")]),LayoutExports.offset(LayoutExports.u32(),-8),"epochCredits"),LayoutExports.struct([LayoutExports.nu64("slot"),LayoutExports.nu64("timestamp")],"lastTimestamp")]);PhantomWallet=class{type="phantom";platform="solana";account=void 0;getProvider(){if(typeof window>"u")throw new Error("Not ready");const s=window.solana;if(!s?.isPhantom)throw new Error("Phantom is not available");return s}isAvailable(){return typeof window<"u"&&!!window.solana?.isPhantom}getInfo(){const s=this.isAvailable();return{type:this.type,available:s,version:"Unknown",name:"Phantom",platform:this.platform}}async connect(){if(this.account)return{success:!0,wallet:this.type,account:this.account};try{if(!this.isAvailable())throw new Error("Phantom is not available");const s=await this.getProvider().connect();if(s.publicKey)return this.account=s.publicKey.toString(),{success:!0,wallet:this.type,account:this.account};throw new Error("No accounts found")}catch(s){return console.error("Error connecting to Phantom:",s),{success:!1,wallet:this.type,error:s.message||"Unknown error"}}}async signMessage(s){try{if(!this.isAvailable()||!this.account)throw new Error("Phantom is not connected");const sf=new TextEncoder().encode(s),Nf=await this.getProvider().signMessage(sf,"utf8");return{success:!0,wallet:this.type,result:Nf}}catch(sf){return console.error("Error signing message with Phantom:",sf),{success:!1,wallet:this.type,error:sf.message||"Unknown error"}}}async sendTransaction(s){if(!this.isAvailable()||!this.account)throw new Error("Phantom is not connected");try{const sf=Transaction.from(s),ip=await this.getProvider().signAndSendTransaction(sf);return{success:!0,wallet:this.type,result:ip}}catch(sf){return console.error("Error sending transaction with Phantom:",sf),{success:!1,wallet:this.type,error:sf.message||"Unknown error"}}}async switchChain(s){return console.warn("Chain switching not supported for Phantom"),!1}async getBalance(s){try{if(!this.isAvailable()||!this.account)throw new Error("Phantom is not connected");return{success:!0,wallet:this.type,result:"Implement based on Phantom API"}}catch(sf){return console.error("Error getting balance from Phantom:",sf),{success:!1,wallet:this.type,error:sf.message||"Unknown error"}}}};function requestProviders(r){if(typeof window>"u")return;const s=sf=>r(sf.detail);return window.addEventListener("eip6963:announceProvider",s),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",s)}function createStore(){const r=new Set;let s=[];const sf=()=>requestProviders(ip=>{s.some(({info:em})=>em.uuid===ip.info.uuid)||(s=[...s,ip],r.forEach(em=>em(s,{added:[ip]})))});let Nf=sf();return{_listeners(){return r},clear(){r.forEach(ip=>ip([],{removed:[...s]})),s=[]},destroy(){this.clear(),r.clear(),Nf?.()},findProvider({rdns:ip}){return s.find(em=>em.info.rdns===ip)},getProviders(){return s},reset(){this.clear(),Nf?.(),Nf=sf()},subscribe(ip,{emitImmediately:em}={}){return r.add(ip),em&&ip(s,{added:s}),()=>r.delete(ip)}}}const RABBY_RDNS="io.rabby";RabbyWallet=class{type="rabby";platform="ethereum";account=void 0;store=createStore();provider;constructor(){this.provider=this.store.getProviders().find(s=>s.info.rdns===RABBY_RDNS),this.store.subscribe(s=>{const sf=s.find(Nf=>Nf.info.rdns===RABBY_RDNS);sf&&(this.provider=sf)})}isAvailable(){return!!this.provider}getInfo(){const s=this.isAvailable();return{type:this.type,available:s,version:s?window.ethereum?.version||"Unknown":void 0,chainId:s?window.ethereum?.chainId:void 0,name:"Rabby",platform:this.platform}}async connect(){if(this.account)return{success:!0,wallet:this.type,account:this.account};try{if(!this.isAvailable())throw new Error("Rabby is not available");const s=await this.provider?.provider.request({method:"eth_requestAccounts"});if(s&&s.length>0)return this.account=s[0],{success:!0,wallet:this.type,account:this.account};throw new Error("No accounts found")}catch(s){return console.error("Error connecting to Rabby:",s),{success:!1,wallet:this.type,error:s.message||"Unknown error"}}}async signTransaction(s){try{if(!this.isAvailable()||!this.account)throw new Error("Rabby is not connected");const sf=this.provider?.provider;if(!sf)throw new Error("Rabby is not connected");const Nf=await sf.request({method:"eth_sendTransaction",params:[s]});return{success:!0,wallet:this.type,result:Nf}}catch(sf){return console.error("Error signing transaction with Rabby:",sf),{success:!1,wallet:this.type,error:sf.message||"Unknown error"}}}async signMessage(s){try{if(!this.isAvailable()||!this.account)throw new Error("Rabby is not connected");const sf=await this.provider?.provider.request({method:"personal_sign",params:[this.account,s]});return{success:!0,wallet:this.type,result:sf}}catch(sf){return console.error("Error signing message with Rabby:",sf),{success:!1,wallet:this.type,error:sf.message||"Unknown error"}}}async signTypedData(s){try{if(!this.isAvailable()||!this.account)throw new Error("Rabby is not connected");const sf=this.provider?.provider;if(!sf)throw new Error("Rabby is not connected");const Nf=await sf.request({method:"eth_signTypedData_v4",params:[this.account,JSON.stringify(s)]});return{success:!0,wallet:this.type,result:Nf}}catch(sf){return console.error("Error signing typed data with Rabby:",sf),{success:!1,wallet:this.type,error:sf.message||"Unknown error"}}}async sendTransaction(s){return{success:!1,wallet:this.type,error:"Not implemented"}}async switchChain(s){try{if(!this.isAvailable())throw new Error("Rabby is not available");const sf=this.provider?.provider;if(!sf)throw new Error("Rabby is not connected");try{return await sf.request({method:"wallet_switchEthereumChain",params:[{chainId:s}]}),!0}catch(Nf){throw Nf.code===4902&&console.warn("Chain not added to Rabby"),Nf}}catch(sf){return console.error("Error switching chain for Rabby:",sf),!1}}async getBalance(s){try{if(!this.isAvailable()||!this.account)throw new Error("Rabby is not connected");if(s)return{success:!1,wallet:this.type,error:"Not implemented for ERC20"};{const sf=this.provider?.provider;if(!sf)throw new Error("Rabby is not connected");const Nf=await sf.request({method:"eth_getBalance",params:[this.account,"latest"]});return{success:!0,wallet:this.type,result:Nf}}}catch(sf){return console.error("Error getting balance from Rabby:",sf),{success:!1,wallet:this.type,error:sf.message||"Unknown error"}}}};WalletBridge=class{walletAdapters;connectedWalletsByType=new Map;connectedWalletsByAddress=new Map;constructor(){this.walletAdapters=new Map,this.walletAdapters.set("metamask",new MetaMaskWallet),this.walletAdapters.set("phantom",new PhantomWallet),this.walletAdapters.set("argent",new ArgentWallet),this.walletAdapters.set("rabby",new RabbyWallet),typeof window<"u"&&(window.wallet_bridge=this)}getIFrameMethods(){return{externalDetectWallets:s=>()=>this.detectWallets(),externalConnectWallet:s=>sf=>this.connectWallet(sf),externalSignMessage:s=>(sf,Nf)=>this.signMessage(sf,Nf),externalSignTypedData:s=>(sf,Nf)=>this.signTypedData(sf,Nf),externalSendTransaction:s=>(sf,Nf)=>this.sendTransaction(sf,Nf),externalGetBalance:s=>(sf,Nf)=>this.getBalance(sf,Nf)}}async detectWallets(){return Array.from(this.walletAdapters.values()).map(sf=>sf.getInfo())}getWalletAdapterByType(s){const sf=this.walletAdapters.get(s);if(!sf)throw new Error(`Unsupported wallet type: ${s}`);return sf}handleError(s,sf,Nf,ip){const em=sf instanceof Error?sf.message:"Unknown error";let tm="unknown";if(typeof s=="string"){const nm=this.connectedWalletsByAddress.get(s);tm=ip??nm?.type??s}else tm=s;return console.error(`Error ${Nf} with ${s} wallet:`,sf),{success:!1,wallet:tm,error:em}}async connectWallet(s){try{const sf=this.getWalletAdapterByType(s),Nf=await sf.connect();if(Nf.success&&Nf.account)this.connectedWalletsByType.set(s,sf),this.connectedWalletsByAddress.set(Nf.account,sf),console.log(`Wallet ${s} connected with address ${Nf.account}`);else if(Nf.success&&!Nf.account)return console.error(`Wallet ${s} connected successfully but did not provide an address.`),{...Nf,success:!1,error:"Wallet connected but address not found."};return Nf}catch(sf){return this.handleError(s,sf,"connecting to")}}getConnectedWalletAdapter(s){let sf;if(typeof s=="string"?sf=this.connectedWalletsByAddress.get(s):sf=this.connectedWalletsByType.get(s),!sf&&typeof s=="string"&&(sf=this.connectedWalletsByType.get(s)),!sf)throw new Error(`Wallet with identifier ${s} is not connected or supported`);return sf}async signMessage(s,sf){let Nf;try{if(Nf=this.getConnectedWalletAdapter(s),!Nf.signMessage)throw new Error(`Wallet type ${Nf.type} (identifier: ${s}) does not support signing messages`);return await Nf.signMessage(sf)}catch(ip){return this.handleError(s,ip,"signing message with",Nf?.type)}}async signTypedData(s,sf){let Nf;try{if(Nf=this.getConnectedWalletAdapter(s),!Nf.signTypedData)throw new Error(`Wallet type ${Nf.type} (identifier: ${s}) does not support signing typed data`);return await Nf.signTypedData(sf)}catch(ip){return this.handleError(s,ip,"signing typed data with",Nf?.type)}}async sendTransaction(s,sf){let Nf;try{return Nf=this.getConnectedWalletAdapter(s),await Nf.sendTransaction(sf)}catch(ip){return this.handleError(s,ip,"sending transaction with",Nf?.type)}}async getBalance(s,sf){let Nf;try{return Nf=this.getConnectedWalletAdapter(s),await Nf.getBalance(sf)}catch(ip){return this.handleError(s,ip,"getting balance from",Nf?.type)}}};class KeychainIFrame extends IFrame{walletBridge;constructor({url:s,policies:sf,...Nf}){const ip=new URL(s??KEYCHAIN_URL),em=new WalletBridge;sf&&ip.searchParams.set("policies",encodeURIComponent(JSON.stringify(sf))),super({...Nf,id:"controller-keychain",url:ip,methods:em.getIFrameMethods()}),this.walletBridge=em,typeof window<"u"&&(window.external_wallets=this.walletBridge)}getWalletBridge(){return this.walletBridge}}class ProfileIFrame extends IFrame{constructor({profileUrl:s,rpcUrl:sf,version:Nf,username:ip,slot:em,namespace:tm,tokens:nm,policies:rm,...om}){const im=(s||PROFILE_URL).replace(/\/$/,"");let am=new URL(em?`${im}/account/${ip}/slot/${em}`:`${im}/account/${ip}`);if(em&&am.searchParams.set("ps",encodeURIComponent(em)),tm&&am.searchParams.set("ns",encodeURIComponent(tm)),Nf&&am.searchParams.set("v",encodeURIComponent(Nf)),am.searchParams.set("rpcUrl",encodeURIComponent(sf)),nm?.erc20&&am.searchParams.set("erc20",encodeURIComponent(nm.erc20.toString())),rm?.contracts){const sm=Object.values(rm.contracts).flatMap(cm=>cm.methods);am.searchParams.set("methods",encodeURIComponent(JSON.stringify(sm)))}super({...om,id:"controller-profile",url:am})}}NotReadyToConnect=class extends Error{constructor(){super("Not ready to connect"),Object.setPrototypeOf(this,NotReadyToConnect.prototype)}};const version$1="0.7.11",manifest={version:version$1},icon="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAwIiBoZWlnaHQ9IjgwMCIgdmlld0JveD0iMCAwIDgwMCA4MDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxnIGZpbHRlcj0idXJsKCNmaWx0ZXIwX2RfNTExMl83ODIpIj4KPHBhdGggZD0iTTQ2OS4yMzYgNzBDNDgyLjM5IDcwIDQ5My4wNTMgODAuNjYzIDQ5My4wNTMgOTMuODE2NFYxNDcuMTQ3TDUxNS4zMzggMTQ3LjE0N0w1MTUuNDI4IDE0Ny4xNDdMNTE1LjU1NCAxNDcuMTQ3TDUxNS44MjYgMTQ3LjE0OUM1MTYuMDE2IDE0Ny4xNTEgNTE2LjIyNSAxNDcuMTUzIDUxNi40NTEgMTQ3LjE1N0M1MTYuOTA0IDE0Ny4xNjQgNTE3LjQyOCAxNDcuMTc2IDUxOC4wMiAxNDcuMTk1QzUxOS4yMDEgMTQ3LjIzNCA1MjAuNjYgMTQ3LjMwNCA1MjIuMzYxIDE0Ny40MjRDNTI1Ljc0MSAxNDcuNjYzIDUzMC4xODUgMTQ4LjExNCA1MzUuMzYzIDE0OC45NjlDNTQ1LjAwMSAxNTAuNTYyIDU1OC41NTYgMTUzLjc4IDU3Mi45MTggMTYwLjYwM0w3MzAuNDIgMjI2LjY3MUw3MzIuMTAxIDIyNy41MDVDNzcxLjc4NyAyNDcuMTc3IDc4OS45OTMgMjg2LjI5NiA3ODkuOTkzIDMyMi4wMzZWNTg1Ljg2NUM3ODkuOTkzIDU4Ni4wNTQgNzg5Ljk5NCA1ODYuMjU0IDc4OS45OTQgNTg2LjQ2M0w3ODkuOTk2IDU4Ni45MTNDNzkwLjAzOCA1OTcuMDk2IDc5MC4xNjEgNjI2Ljk5NiA3NjQuMjMxIDY1Mi44MjNMNzE0Ljc2IDcwMi4wOTVMNzE0LjY0MSA3MDIuMjE1QzcwNC42MDEgNzEyLjI3NSA2OTIuMTIzIDcyMC42NTIgNjc2LjI4NCA3MjQuODc5QzY2NC4zOSA3MjguMDU0IDY1Mi44MjcgNzI3Ljk2NiA2NDguNjM3IDcyNy45MzRMNjQ4LjYxOSA3MjcuOTMzQzY0OC40MDkgNzI3LjkzMiA2NDguMjE5IDcyNy45MyA2NDguMDQ3IDcyNy45M0w2NDcuNzUyIDcyNy45MjlINDgwLjcyMUM0NzQuMDk0IDcyNy45MjkgNDY4LjcyMSA3MjIuNTU2IDQ2OC43MjEgNzE1LjkyOVY2NjguMzg4SDMyOC41ODZDMzI4LjU4NiA2NzIuNjI5IDMyOC41NzIgNjk4LjA1MiAzMjguNTYxIDcxNS45NDRDMzI4LjU1NyA3MjIuNTY5IDMyMy4xODYgNzI3LjkyOSAzMTYuNTYxIDcyNy45MjlIMTUyLjI0NkMxNTIuMTA0IDcyNy45MjkgMTUxLjk0MiA3MjcuOTI5IDE1MS43NjIgNzI3LjkzMUwxNTEuMzYyIDcyNy45MzRDMTQ3LjE3MiA3MjcuOTY2IDEzNS42MDkgNzI4LjA1NCAxMjMuNzE0IDcyNC44NzlDMTA3Ljg3MyA3MjAuNjUxIDk1LjM5MzggNzEyLjI3MiA4NS4zNTI5IDcwMi4yMUw4NS4yMzg2IDcwMi4wOTVMMzUuNjcgNjUyLjcyNUwzNS41NzIzIDY1Mi42MjdDOS44NjI0MiA2MjYuNzggOS45NjY3IDU5Ny4xODUgMTAuMDAzIDU4Ni44NzRDMTAuMDA0MyA1ODYuNTEzIDEwLjAwNTUgNTg2LjE3NyAxMC4wMDU1IDU4NS44NjVWMzIyLjAzNkMxMC4wMDU1IDI4Ni40MyAyOC4xNjYyIDI0Ny4xOTkgNjcuODk3NyAyMjcuNTA1TDY5LjU3OSAyMjYuNjcxTDIyNy4wODEgMTYwLjYwM0MyNDEuNDQzIDE1My43OCAyNTQuOTk4IDE1MC41NjIgMjY0LjYzNiAxNDguOTY5QzI2OS44MTQgMTQ4LjExNCAyNzQuMjU4IDE0Ny42NjMgMjc3LjYzOCAxNDcuNDI0QzI3OS4zMzggMTQ3LjMwNCAyODAuNzk4IDE0Ny4yMzQgMjgxLjk3OSAxNDcuMTk1QzI4Mi41NzEgMTQ3LjE3NiAyODMuMDk1IDE0Ny4xNjQgMjgzLjU0NyAxNDcuMTU3TDI4My45MTcgMTQ3LjE1MkwyODQuMTczIDE0Ny4xNDlMMjg0LjQ0NSAxNDcuMTQ3TDI4NC41NzEgMTQ3LjE0N0wyODQuNjYgMTQ3LjE0N0wzMDYuOTQyIDE0Ny4xNDdWOTMuODE2NEMzMDYuOTQyIDgwLjY2MyAzMTcuNjA1IDcwIDMzMC43NTggNzBINDY5LjIzNloiIGZpbGw9IiMxOTFBMUEiLz4KPHBhdGggZD0iTTM2Ni40ODMgMTI5LjU0SDQzMy41MTJWMjA2LjY4N0gzNjYuNDgzVjEyOS41NFoiIGZpbGw9IiNGQkNCNEEiLz4KPHBhdGggZD0iTTI2OS4wMSA2MDIuNDI5SDE0NC4wMDhDMTM1Ljc2OCA2MDIuNDI5IDEzNS43NjggNTk0LjE0NiAxMzUuNzY4IDU5NC4xNDZWMjgwLjg1QzEzNS43NjggMjgwLjg1IDEzNS43NjggMjcyLjY0NCAxNDQuMDA4IDI3Mi42NDRIMzY2LjQ4M0wzNjYuNDgzIDIwNi42ODdIMjg0LjY5QzI4NC42OSAyMDYuNjg3IDI2OC4xMzQgMjA2LjY4NyAyNTEuNTc5IDIxNC44OTNMOTQuMzQxNCAyODAuODVDNzcuNzg2MSAyODkuMDU3IDY5LjU0NjkgMzA1LjYyMyA2OS41NDY5IDMyMi4wMzVWNTg1Ljg2M0M2OS41NDY5IDU5NC4xNDcgNjkuNTQ2OSA2MDIuMzUzIDc3Ljc4NjEgNjEwLjYzNkwxMjcuNDUyIDY2MC4xMDRDMTM1LjY5MSA2NjguMzg3IDE0MS45MjggNjY4LjM4NyAxNTIuMjQ3IDY2OC4zODdIMjY5LjAyOUMyNjkuMDM3IDY0OC4zNCAyNjkuMDQ2IDYyNC42NTUgMjY5LjA1NCA2MDIuODg3SDUyOC4wMTNWNjY4LjM4N0g2NDcuNzUzQzY1OC4wNzEgNjY4LjM4NyA2NjQuMzA4IDY2OC4zODcgNjcyLjU0NyA2NjAuMTA0TDcyMi4yMTMgNjEwLjYzNkM3MzAuNDUzIDYwMi40MjkgNzMwLjQ1MyA1OTQuMTQ3IDczMC40NTMgNTg1Ljg2M1YzMjIuMDM1QzczMC40NTMgMzA1LjU0NiA3MjIuMjEzIDI4OS4wNTcgNzA1LjY1OCAyODAuODVMNTQ4LjQyMSAyMTQuODkzQzUzMS44NjUgMjA2LjY4NyA1MTUuMzEgMjA2LjY4NyA1MTUuMzEgMjA2LjY4N0g0MzMuNTEyTDQzMy41MTIgMjcyLjY0NEg2NTYuMDY5QzY2NC4zMDggMjcyLjY0NCA2NjQuMzA4IDI4MC44NSA2NjQuMzA4IDI4MC44NVY1OTQuMTQ2QzY2NC4zMDggNTk0LjE0NiA2NjQuMzA4IDYwMi40MjkgNjU2LjA2OSA2MDIuNDI5SDUyOC4yNjJWNTM3LjM5NkgyNjkuMDc1QzI2OS4wNzUgNTQzLjcwNyAyNjkuMDE3IDU5Ni45MTIgMjY5LjAxIDYwMi40MjlaIiBmaWxsPSIjRkJDQjRBIi8+CjxwYXRoIGQ9Ik0yNjkuMDA5IDQzNi4xNzJINTI4LjI2MlYzNzAuNjgxSDI2OS4wNzVDMjY5LjA3NSAzNzcuMzczIDI2OS4wMDkgNDM2Ljc4OCAyNjkuMDA5IDQzNi4xNzJaIiBmaWxsPSIjRkJDQjRBIi8+CjwvZz4KPGRlZnM+CjxmaWx0ZXIgaWQ9ImZpbHRlcjBfZF81MTEyXzc4MiIgeD0iLTQiIHk9IjAiIHdpZHRoPSI4MDgiIGhlaWdodD0iODA4IiBmaWx0ZXJVbml0cz0idXNlclNwYWNlT25Vc2UiIGNvbG9yLWludGVycG9sYXRpb24tZmlsdGVycz0ic1JHQiI+CjxmZUZsb29kIGZsb29kLW9wYWNpdHk9IjAiIHJlc3VsdD0iQmFja2dyb3VuZEltYWdlRml4Ii8+CjxmZUNvbG9yTWF0cml4IGluPSJTb3VyY2VBbHBoYSIgdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDEyNyAwIiByZXN1bHQ9ImhhcmRBbHBoYSIvPgo8ZmVPZmZzZXQgZHk9IjQiLz4KPGZlR2F1c3NpYW5CbHVyIHN0ZERldmlhdGlvbj0iMiIvPgo8ZmVDb21wb3NpdGUgaW4yPSJoYXJkQWxwaGEiIG9wZXJhdG9yPSJvdXQiLz4KPGZlQ29sb3JNYXRyaXggdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAuMjUgMCIvPgo8ZmVCbGVuZCBtb2RlPSJub3JtYWwiIGluMj0iQmFja2dyb3VuZEltYWdlRml4IiByZXN1bHQ9ImVmZmVjdDFfZHJvcFNoYWRvd181MTEyXzc4MiIvPgo8ZmVCbGVuZCBtb2RlPSJub3JtYWwiIGluPSJTb3VyY2VHcmFwaGljIiBpbjI9ImVmZmVjdDFfZHJvcFNoYWRvd181MTEyXzc4MiIgcmVzdWx0PSJzaGFwZSIvPgo8L2ZpbHRlcj4KPC9kZWZzPgo8L3N2Zz4K";function releaseStub(){}class Mutex{m_lastPromise=Promise.resolve();async obtain(s=!1){let sf=releaseStub;if(s)return sf;const Nf=this.m_lastPromise;return this.m_lastPromise=new Promise(ip=>sf=ip),await Nf,sf}}const mutex=new Mutex;class BaseProvider{id="controller";name="Controller";version=manifest.version;icon=icon;account;subscriptions=[];_probePromise=null;async safeProbe(){if(this.account)return this.account;if(this._probePromise)return this._probePromise;const s=await mutex.obtain();return await new Promise(async sf=>{try{this._probePromise=this.probe();const Nf=await this._probePromise;sf(Nf)}finally{this._probePromise=null}}).finally(()=>{s()})}request=async s=>{switch(s.type){case"wallet_getPermissions":return await this.safeProbe(),this.account?[Permission$1.ACCOUNTS]:[];case"wallet_requestAccounts":{if(this.account)return[this.account.address];const Nf=s.params&&s.params.silent_mode;return this.account=await this.safeProbe(),!this.account&&!Nf&&(this.account=await this.connect()),this.account?[this.account.address]:[]}case"wallet_watchAsset":throw{code:63,message:"An unexpected error occurred",data:"wallet_watchAsset not implemented"};case"wallet_addStarknetChain":{let Nf=s.params;return this.addStarknetChain(Nf)}case"wallet_switchStarknetChain":{let Nf=s.params;return this.switchStarknetChain(Nf.chainId)}case"wallet_requestChainId":if(!this.account)throw{code:63,message:"An unexpected error occurred",data:"Account not initialized"};return await this.account.getChainId();case"wallet_deploymentData":throw{code:63,message:"An unexpected error occurred",data:"wallet_deploymentData not implemented"};case"wallet_addInvokeTransaction":if(!this.account)throw{code:63,message:"An unexpected error occurred",data:"Account not initialized"};let sf=s.params;return await this.account.execute(sf.calls.map(Nf=>({contractAddress:Nf.contract_address,entrypoint:Nf.entry_point,calldata:Nf.calldata})));case"wallet_addDeclareTransaction":throw{code:63,message:"An unexpected error occurred",data:"wallet_addDeclareTransaction not implemented"};case"wallet_signTypedData":{if(!this.account)throw{code:63,message:"An unexpected error occurred",data:"Account not initialized"};return await this.account.signMessage(s.params)}case"wallet_supportedSpecs":return[];case"wallet_supportedWalletApi":return[];default:throw{code:63,message:"An unexpected error occurred",data:`Unknown RPC call type: ${s.type}`}}};on=(s,sf)=>{if(s!=="accountsChanged"&&s!=="networkChanged")throw new Error(`Unknown event: ${s}`);this.subscriptions.push({type:s,handler:sf})};off=(s,sf)=>{if(s!=="accountsChanged"&&s!=="networkChanged")throw new Error(`Unknown event: ${s}`);const Nf=this.subscriptions.findIndex(ip=>ip.type===s&&ip.handler===sf);Nf>=0&&this.subscriptions.splice(Nf,1)};emitNetworkChanged(s){this.subscriptions.filter(sf=>sf.type==="networkChanged").forEach(sf=>{sf.handler(s)})}emitAccountsChanged(s){this.subscriptions.filter(sf=>sf.type==="accountsChanged").forEach(sf=>{sf.handler(s)})}}ControllerProvider=class extends BaseProvider{keychain;profile;options;iframes;selectedChain;chains;constructor(s){super(),this.selectedChain=s.defaultChainId,this.chains=new Map,this.iframes={keychain:new KeychainIFrame({...s,onClose:this.keychain?.reset,onConnect:sf=>{this.keychain=sf}})},this.options=s,this.validateChains(s.chains),typeof window<"u"&&(window.starknet_controller=this)}async probe(){try{if(await this.waitForKeychain(),!this.keychain){console.error(new NotReadyToConnect().message);return}const s=await this.keychain.probe(this.rpcUrl());let sf=s?.rpcUrl||this.rpcUrl();this.account=new ControllerAccount(this,sf,s.address,this.keychain,this.options,this.iframes.keychain)}catch(s){console.error(s);return}if(!this.iframes.profile){const s=await this.keychain.username();this.iframes.profile=new ProfileIFrame({...this.options,onConnect:sf=>{this.profile=sf},methods:{openSettings:()=>this.openSettings.bind(this),openPurchaseCredits:()=>this.openPurchaseCredits.bind(this),openExecute:()=>this.openExecute.bind(this)},rpcUrl:this.rpcUrl(),username:s,version:this.version})}return this.account}async connect(){if(this.account)return this.account;if(!this.keychain||!this.iframes.keychain){console.error(new NotReadyToConnect().message);return}document.hasStorageAccess&&(await document.hasStorageAccess()||await document.requestStorageAccess()),this.iframes.keychain.open();try{let s=await this.keychain.connect(this.options.policies||{},this.rpcUrl());if(s.code!==ResponseCodes.SUCCESS)throw new Error(s.message);return s=s,this.account=new ControllerAccount(this,this.rpcUrl(),s.address,this.keychain,this.options,this.iframes.keychain),this.account}catch(s){console.log(s)}finally{this.iframes.keychain.close()}}async switchStarknetChain(s){if(!this.keychain||!this.iframes.keychain)return console.error(new NotReadyToConnect().message),!1;try{if(this.selectedChain=s,(await this.keychain.probe(this.rpcUrl())).rpcUrl===this.rpcUrl())return!0;await this.keychain.switchChain(this.rpcUrl()),await this.profile?.switchChain(this.rpcUrl())}catch(sf){return console.error(sf),!1}return this.emitNetworkChanged(s),!0}addStarknetChain(s){return Promise.resolve(!0)}async disconnect(){if(!this.keychain){console.error(new NotReadyToConnect().message);return}return document.hasStorageAccess&&(await document.hasStorageAccess()||await document.requestStorageAccess()),this.account=void 0,this.keychain.disconnect()}async openProfile(s="inventory"){if(!this.profile||!this.iframes.profile?.url){console.error("Profile is not ready");return}if(!this.account){console.error("Account is not ready");return}this.profile.navigate(`${this.iframes.profile.url?.pathname}/${s}`),this.iframes.profile.open()}async openProfileTo(s){if(!this.profile||!this.iframes.profile?.url){console.error("Profile is not ready");return}if(!this.account){console.error("Account is not ready");return}this.profile.navigate(`${this.iframes.profile.url?.pathname}/${s}`),this.iframes.profile.open()}async openProfileAt(s){if(!this.profile||!this.iframes.profile?.url){console.error("Profile is not ready");return}if(!this.account){console.error("Account is not ready");return}this.profile.navigate(s),this.iframes.profile.open()}async openSettings(){if(!this.keychain||!this.iframes.keychain)return console.error(new NotReadyToConnect().message),null;this.iframes.profile?.sendBackward?this.iframes.profile?.sendBackward():this.iframes.profile?.close(),this.iframes.keychain.open();const s=await this.keychain.openSettings();return this.iframes.keychain.close(),this.iframes.profile?.sendForward?.(),!(s&&s.code===ResponseCodes.NOT_CONNECTED)}revoke(s,sf){return this.keychain?this.keychain.revoke(s):(console.error(new NotReadyToConnect().message),null)}rpcUrl(){const s=this.chains.get(this.selectedChain);if(!s){const sf=Array.from(this.chains.keys()).map(Nf=>shortString_exports.decodeShortString(Nf));throw new Error(`Chain not found: ${shortString_exports.decodeShortString(this.selectedChain)}. Available chains: ${sf.join(", ")}`)}return s.rpcUrl}username(){if(!this.keychain){console.error(new NotReadyToConnect().message);return}return this.keychain.username()}openPurchaseCredits(){if(!this.keychain||!this.iframes.keychain){console.error(new NotReadyToConnect().message);return}if(!this.iframes.profile){console.error("Profile is not ready");return}this.iframes.profile.close(),this.iframes.keychain.open(),this.keychain.openPurchaseCredits()}openStarterPack(s){if(!this.keychain||!this.iframes.keychain){console.error(new NotReadyToConnect().message);return}if(!this.iframes.profile){console.error("Profile is not ready");return}this.iframes.profile.close(),this.iframes.keychain.open(),this.keychain.openStarterPack(s)}async openExecute(s,sf){if(!this.keychain||!this.iframes.keychain){console.error(new NotReadyToConnect().message);return}if(!this.iframes.profile){console.error("Profile is not ready");return}let Nf=this.selectedChain;sf&&this.switchStarknetChain(sf),this.iframes.profile?.sendBackward(),this.iframes.keychain.open(),this.iframes.profile?.close();const ip=await this.keychain.execute(s,void 0,void 0,!0);return this.iframes.profile?.open(),this.iframes.keychain.close(),this.iframes.profile?.sendForward(),sf&&this.switchStarknetChain(Nf),{status:!(ip&&(ip.code===ResponseCodes.NOT_CONNECTED||ip.code===ResponseCodes.CANCELED)),transactionHash:ip?.transaction_hash}}async delegateAccount(){return this.keychain?await this.keychain.delegateAccount():(console.error(new NotReadyToConnect().message),null)}async validateChains(s){for(const sf of s)try{const Nf=new URL(sf.rpcUrl),ip=await parseChainId(Nf);this.chains.set(ip,sf)}catch(Nf){console.error(`Failed to parse chainId for ${sf.rpcUrl}:`,Nf)}this.chains.has(this.selectedChain)||console.warn(`Selected chain ${this.selectedChain} not found in configured chains. Available chains: ${Array.from(this.chains.keys()).join(", ")}`)}waitForKeychain({timeout:s=5e4,interval:sf=100}={}){return new Promise((Nf,ip)=>{const em=Date.now(),tm=setInterval(()=>{if(Date.now()-em>s){clearInterval(tm),ip(new Error("Timeout waiting for keychain"));return}this.keychain&&(clearInterval(tm),Nf())},sf)})}};const cache=new Map;async function lookup(r){if(!r.addresses?.length&&!r.usernames?.length)return{results:[]};const s=await fetch(`${API_URL}/lookup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return s.json()}lookupUsernames=async function(r){const s=r.filter(sf=>!cache.has(sf));return s.length>0&&(await lookup({usernames:s})).results.forEach(Nf=>{cache.set(Nf.username,Nf.addresses[0])}),new Map(r.map(sf=>[sf,cache.get(sf)]).filter(sf=>sf[1]!==void 0))};lookupAddresses=async function(r){r=r.map(num_exports.toHex);const s=r.filter(sf=>!cache.has(sf));return s.length>0&&(await lookup({addresses:s})).results.forEach(Nf=>{cache.set(Nf.addresses[0],Nf.username)}),new Map(r.map(sf=>[sf,cache.get(sf)]).filter(sf=>sf[1]!==void 0))};const version="6.13.5";function defineProperties(r,s,sf){for(let Nf in s){let ip=s[Nf];Object.defineProperty(r,Nf,{enumerable:!0,value:ip,writable:!1})}}function stringify(r){if(r==null)return"null";if(Array.isArray(r))return"[ "+r.map(stringify).join(", ")+" ]";if(r instanceof Uint8Array){const s="0123456789abcdef";let sf="0x";for(let Nf=0;Nf<r.length;Nf++)sf+=s[r[Nf]>>4],sf+=s[r[Nf]&15];return sf}if(typeof r=="object"&&typeof r.toJSON=="function")return stringify(r.toJSON());switch(typeof r){case"boolean":case"symbol":return r.toString();case"bigint":return BigInt(r).toString();case"number":return r.toString();case"string":return JSON.stringify(r);case"object":{const s=Object.keys(r);return s.sort(),"{ "+s.map(sf=>`${stringify(sf)}: ${stringify(r[sf])}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function makeError(r,s,sf){let Nf=r;{const em=[];if(sf){if("message"in sf||"code"in sf||"name"in sf)throw new Error(`value will overwrite populated values: ${stringify(sf)}`);for(const tm in sf){if(tm==="shortMessage")continue;const nm=sf[tm];em.push(tm+"="+stringify(nm))}}em.push(`code=${s}`),em.push(`version=${version}`),em.length&&(r+=" ("+em.join(", ")+")")}let ip;switch(s){case"INVALID_ARGUMENT":ip=new TypeError(r);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":ip=new RangeError(r);break;default:ip=new Error(r)}return defineProperties(ip,{code:s}),sf&&Object.assign(ip,sf),ip.shortMessage==null&&defineProperties(ip,{shortMessage:Nf}),ip}function assert(r,s,sf,Nf){if(!r)throw makeError(s,sf,Nf)}function assertArgument(r,s,sf,Nf){assert(r,s,"INVALID_ARGUMENT",{argument:sf,value:Nf})}["NFD","NFC","NFKD","NFKC"].reduce((r,s)=>{try{if("test".normalize(s)!=="test")throw new Error("bad");if(s==="NFD"&&"\xe9".normalize("NFD")!=="e")throw new Error("broken");r.push(s)}catch{}return r},[]);function assertPrivate(r,s,sf){if(r!==s){let Nf=sf,ip="new";Nf+=".",ip+=" "+sf,assert(!1,`private constructor; use ${Nf}from* methods`,"UNSUPPORTED_OPERATION",{operation:ip})}}function _getBytes(r,s,sf){if(r instanceof Uint8Array)return r;if(typeof r=="string"&&r.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const Nf=new Uint8Array((r.length-2)/2);let ip=2;for(let em=0;em<Nf.length;em++)Nf[em]=parseInt(r.substring(ip,ip+2),16),ip+=2;return Nf}assertArgument(!1,"invalid BytesLike value",s||"value",r)}function getBytes(r,s){return _getBytes(r,s)}function isHexString(r,s){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||typeof s=="number"&&r.length!==2+2*s||s===!0&&r.length%2!==0)}const HexCharacters="0123456789abcdef";function hexlify(r){const s=getBytes(r);let sf="0x";for(let Nf=0;Nf<s.length;Nf++){const ip=s[Nf];sf+=HexCharacters[(ip&240)>>4]+HexCharacters[ip&15]}return sf}function concat(r){return"0x"+r.map(s=>hexlify(s).substring(2)).join("")}function dataLength(r){return isHexString(r,!0)?(r.length-2)/2:getBytes(r).length}function zeroPad(r,s,sf){const Nf=getBytes(r);assert(s>=Nf.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(Nf),length:s,offset:s+1});const ip=new Uint8Array(s);return ip.fill(0),ip.set(Nf,s-Nf.length),hexlify(ip)}function zeroPadValue(r,s){return zeroPad(r,s)}const BN_0$1=BigInt(0);BigInt(1);const maxValue=0x1fffffffffffff;function getBigInt(r,s){switch(typeof r){case"bigint":return r;case"number":return assertArgument(Number.isInteger(r),"underflow",s||"value",r),assertArgument(r>=-0x1fffffffffffff&&r<=maxValue,"overflow",s||"value",r),BigInt(r);case"string":try{if(r==="")throw new Error("empty string");return r[0]==="-"&&r[1]!=="-"?-BigInt(r.substring(1)):BigInt(r)}catch(sf){assertArgument(!1,`invalid BigNumberish string: ${sf.message}`,s||"value",r)}}assertArgument(!1,"invalid BigNumberish value",s||"value",r)}function getUint(r,s){const sf=getBigInt(r,s);return assert(sf>=BN_0$1,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:r}),sf}function getNumber(r,s){switch(typeof r){case"bigint":return assertArgument(r>=-0x1fffffffffffff&&r<=maxValue,"overflow",s||"value",r),Number(r);case"number":return assertArgument(Number.isInteger(r),"underflow",s||"value",r),assertArgument(r>=-0x1fffffffffffff&&r<=maxValue,"overflow",s||"value",r),r;case"string":try{if(r==="")throw new Error("empty string");return getNumber(BigInt(r),s)}catch(sf){assertArgument(!1,`invalid numeric string: ${sf.message}`,s||"value",r)}}assertArgument(!1,"invalid numeric value",s||"value",r)}function toBeArray(r){const s=getUint(r,"value");if(s===BN_0$1)return new Uint8Array([]);let sf=s.toString(16);sf.length%2&&(sf="0"+sf);const Nf=new Uint8Array(sf.length/2);for(let ip=0;ip<Nf.length;ip++){const em=ip*2;Nf[ip]=parseInt(sf.substring(em,em+2),16)}return Nf}const ZeroHash="0x0000000000000000000000000000000000000000000000000000000000000000",BN_0=BigInt(0),BN_1=BigInt(1),BN_2=BigInt(2),BN_27=BigInt(27),BN_28=BigInt(28),BN_35=BigInt(35),_guard={};function toUint256(r){return zeroPadValue(toBeArray(r),32)}class Signature{#t;#n;#r;#e;get r(){return this.#t}set r(s){assertArgument(dataLength(s)===32,"invalid r","value",s),this.#t=hexlify(s)}get s(){return this.#n}set s(s){assertArgument(dataLength(s)===32,"invalid s","value",s);const sf=hexlify(s);assertArgument(parseInt(sf.substring(0,3))<8,"non-canonical s","value",sf),this.#n=sf}get v(){return this.#r}set v(s){const sf=getNumber(s,"value");assertArgument(sf===27||sf===28,"invalid v","v",s),this.#r=sf}get networkV(){return this.#e}get legacyChainId(){const s=this.networkV;return s==null?null:Signature.getChainId(s)}get yParity(){return this.v===27?0:1}get yParityAndS(){const s=getBytes(this.s);return this.yParity&&(s[0]|=128),hexlify(s)}get compactSerialized(){return concat([this.r,this.yParityAndS])}get serialized(){return concat([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(s,sf,Nf,ip){assertPrivate(s,_guard,"Signature"),this.#t=sf,this.#n=Nf,this.#r=ip,this.#e=null}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const s=new Signature(_guard,this.r,this.s,this.v);return this.networkV&&(s.#e=this.networkV),s}toJSON(){const s=this.networkV;return{_type:"signature",networkV:s!=null?s.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(s){const sf=getBigInt(s,"v");return sf==BN_27||sf==BN_28?BN_0:(assertArgument(sf>=BN_35,"invalid EIP-155 v","v",s),(sf-BN_35)/BN_2)}static getChainIdV(s,sf){return getBigInt(s)*BN_2+BigInt(35+sf-27)}static getNormalizedV(s){const sf=getBigInt(s);return sf===BN_0||sf===BN_27?27:sf===BN_1||sf===BN_28?28:(assertArgument(sf>=BN_35,"invalid v","v",s),sf&BN_1?27:28)}static from(s){function sf(om,im){assertArgument(om,im,"signature",s)}if(s==null)return new Signature(_guard,ZeroHash,ZeroHash,27);if(typeof s=="string"){const om=getBytes(s,"signature");if(om.length===64){const im=hexlify(om.slice(0,32)),am=om.slice(32,64),sm=am[0]&128?28:27;return am[0]&=127,new Signature(_guard,im,hexlify(am),sm)}if(om.length===65){const im=hexlify(om.slice(0,32)),am=om.slice(32,64);sf((am[0]&128)===0,"non-canonical s");const sm=Signature.getNormalizedV(om[64]);return new Signature(_guard,im,hexlify(am),sm)}sf(!1,"invalid raw signature length")}if(s instanceof Signature)return s.clone();const Nf=s.r;sf(Nf!=null,"missing r");const ip=toUint256(Nf),em=function(om,im){if(om!=null)return toUint256(om);if(im!=null){sf(isHexString(im,32),"invalid yParityAndS");const am=getBytes(im);return am[0]&=127,hexlify(am)}sf(!1,"missing s")}(s.s,s.yParityAndS);sf((getBytes(em)[0]&128)==0,"non-canonical s");const{networkV:tm,v:nm}=function(om,im,am){if(om!=null){const sm=getBigInt(om);return{networkV:sm>=BN_35?sm:void 0,v:Signature.getNormalizedV(sm)}}if(im!=null)return sf(isHexString(im,32),"invalid yParityAndS"),{v:getBytes(im)[0]&128?28:27};if(am!=null){switch(getNumber(am,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}sf(!1,"invalid yParity")}sf(!1,"missing v")}(s.v,s.yParityAndS,s.yParity),rm=new Signature(_guard,ip,em,nm);return tm&&(rm.#e=tm),sf(s.yParity==null||getNumber(s.yParity,"sig.yParity")===rm.yParity,"yParity mismatch"),sf(s.yParityAndS==null||s.yParityAndS===rm.yParityAndS,"yParityAndS mismatch"),rm}}TurnkeyWallet=class{constructor(s,sf,Nf){this.turnkeyIframeClient=s,this.account=sf,this.organizationId=Nf}type="turnkey";platform="ethereum";account=void 0;organizationId=void 0;isAvailable(){return typeof window<"u"}getInfo(){const s=this.isAvailable();return{type:this.type,available:s,name:"Turnkey",platform:this.platform}}async connect(){if(this.account)return{success:!0,wallet:this.type,account:this.account};try{if(!this.isAvailable())throw new Error("Turnkey is not available");const s=await this.turnkeyIframeClient.getWallets();if(s&&s.wallets.length>0){const sf=await this.turnkeyIframeClient.getWalletAccount({walletId:s.wallets[0].walletId});return this.account=sf.account.address,{success:!0,wallet:this.type,account:this.account}}throw new Error("No accounts found")}catch(s){return console.error("Error connecting to Turnkey:",s),{success:!1,wallet:this.type,error:s.message||"Unknown error"}}}async signTransaction(s){try{if(!this.isAvailable()||!this.account)throw new Error("Turnkey is not connected");const sf=(await this.turnkeyIframeClient.signTransaction({organizationId:this.organizationId,signWith:this.account,unsignedTransaction:s,type:"TRANSACTION_TYPE_ETHEREUM"})).signedTransaction;return{success:!0,wallet:this.type,result:sf}}catch(sf){return console.error("Error signing transaction with Turnkey:",sf),{success:!1,wallet:this.type,error:sf.message||"Unknown error"}}}async signMessage(s){try{if(!this.isAvailable()||!this.account)throw new Error("Turnkey is not connected");const sf=await this.turnkeyIframeClient.signRawPayload({organizationId:this.organizationId,signWith:this.account,payload:s,encoding:"PAYLOAD_ENCODING_TEXT_UTF8",hashFunction:"HASH_FUNCTION_SHA256"}),Nf=sf.r.startsWith("0x")?sf.r:"0x"+sf.r,ip=sf.s.startsWith("0x")?sf.s:"0x"+sf.s,em=parseInt(sf.v,16);if(isNaN(em)||em!==0&&em!==1)throw new Error(`Invalid recovery ID (v) received: ${sf.v}`);const tm=Signature.getNormalizedV(em),nm=Signature.from({r:Nf,s:ip,v:tm});return{success:!0,wallet:this.type,result:nm.serialized,account:this.account}}catch(sf){return console.error("Error signing message with Turnkey:",sf),{success:!1,wallet:this.type,error:sf.message||"Unknown error"}}}async signTypedData(s){return this.signMessage(s)}async sendTransaction(s){return{success:!1,wallet:this.type,error:"Not implemented"}}async switchChain(s){return!1}async getBalance(s){try{if(!this.isAvailable()||!this.account)throw new Error("Turnkey is not connected");return s?{success:!1,wallet:this.type,error:"Not implemented for ERC20"}:{success:!0,wallet:this.type,result:"0"}}catch(sf){return console.error("Error getting balance from Turnkey:",sf),{success:!1,wallet:this.type,error:sf.message||"Unknown error"}}}};let configs,metadata;configs={"blob-arena":{origin:["*.blobarena.xyz","blobarena.xyz","development.blobarena.xyz"],theme:{colors:{primary:"#980f06"},cover:"https://static.cartridge.gg/presets/blob-arena/cover.png",icon:"https://static.cartridge.gg/presets/blob-arena/icon.png",name:"Blob Arena",optimizedCover:{webp:{768:"cover@768.webp",1024:"cover@1024.webp",1440:"cover@1440.webp"},jpg:{768:"cover@768.jpg",1024:"cover@1024.jpg",1440:"cover@1440.jpg"},png:{768:"cover@768.png",1024:"cover@1024.png",1440:"cover@1440.png"}},optimizedIcon:{webp:{16:"icon@16.webp",32:"icon@32.webp",64:"icon@64.webp",128:"icon@128.webp",256:"icon@256.webp"},png:{16:"icon@16.png",32:"icon@32.png",64:"icon@64.png",128:"icon@128.png",256:"icon@256.png"}}},chains:{SN_SEPOLIA:{policies:{contracts:{"0x771a2807aa479dacd207c1f12018d0fa6e92ef1eb994169ff4f8904a8845e3f":{name:"Lobby Contract",description:"Game invites and responses",methods:[{name:"Send Invite",entrypoint:"send_invite",description:"Send users an invite"},{name:"Rescind Invite",entrypoint:"rescind_invite",description:"Rescind a previously sent invite"},{name:"Respond Invite",entrypoint:"respond_invite",description:"Respond to a received invite"},{name:"Rescind Response",entrypoint:"rescind_response",description:"Rescind a previous response to an invite"},{name:"Reject Invite",entrypoint:"reject_invite",description:"Reject a received invite"},{name:"Reject Response",entrypoint:"reject_response",description:"Reject a response to an invite"},{name:"Accept Response",entrypoint:"accept_response",description:"Accept a response to an invite"}]},"0x6040ee8b2aee6cbcc482b5cb712d1c206f8ad070e98d7e07a70d4e4a6b5e261":{name:"PVP Contract",description:"Manages core gameplay interactions",methods:[{name:"Start Game",entrypoint:"start",description:"Start the game"},{name:"Commit Attack",entrypoint:"commit",description:"Commit an attack in the game"},{name:"Reveal Attack",entrypoint:"reveal",description:"Reveal the committed attack in the game"},{name:"Run Round",entrypoint:"run",description:"Run the next round of the game"},{name:"Forfeit",entrypoint:"forfeit",description:"Forfeit the game"},{name:"Kick Player",entrypoint:"kick_player",description:"Kick an inactive player from the game"}]},"0x69f9cd86938bae98a413c2b4dddee1ab8005d72202466ef4fd35a625596e619":{name:"Betsy Contract",description:"Wager operations",methods:[{name:"Set Owner's Fee",entrypoint:"set_owners_fee",description:"Set the owner's fee"},{name:"Create Wager",entrypoint:"create",description:"Create a wager"},{name:"Accept Wager",entrypoint:"accept",description:"Accept a wager"},{name:"Reject Wager",entrypoint:"reject",description:"Reject a wager"},{name:"Revoke Wager",entrypoint:"revoke",description:"Revoke a wager"},{name:"Claim Win",entrypoint:"claim_win",description:"Claim the win"},{name:"Approve Release",entrypoint:"approve_release",description:"Approve fund release"},{name:"Revoke Release",entrypoint:"revoke_release",description:"Revoke fund release"},{name:"Release Funds",entrypoint:"release_funds",description:"Release funds"}]},"0x11088b79a397c2fb9d2570acbf711e6972e75e3a28b6bcf36267501d96c781b":{name:"Arcade Contract",description:"Minting of arcade Bloberts",methods:[{name:"Mint Arcade Blobert",entrypoint:"mint",description:"Mint arcade blobert"}]},"0x645aec04e61f286691b91d6589d010890bb66ca0af91bf24d12c8bc4387c868":{name:"AMMA Contract",description:"Minting of AMMA Bloberts",methods:[{name:"Mint AMMA Blobert",entrypoint:"mint",description:"Mint AMMA blobert"}]},"0x1ad613db1957a576c1a9bae913f1d22a41add2f1d64d822d9e097f219b34954":{name:"Arcade Contract",description:"Arcade mode contract",methods:[{name:"Start Game",entrypoint:"start_game",description:"Start the game"},{name:"Attack",entrypoint:"attack",description:"Submit an attack"},{name:"Start Challenge",entrypoint:"start_challenge",description:"Start a challenge"},{name:"Next Challenge Round",entrypoint:"next_challenge_round",description:"Go forward"},{name:"Respawn Challenge",entrypoint:"respawn_challenge",description:"Restart a challenge"},{name:"End Challenge",entrypoint:"end_challenge",description:"End a challenge"},{name:"Claim Free Game",entrypoint:"claim_free_game",description:"Claim an arcade game"}]}}}}}},"blob-arena-amma":{origin:["*.blobarena.xyz","blobarena.xyz","development.blobarena.xyz"],theme:{colors:{primary:"#D7B000"},cover:"https://static.cartridge.gg/presets/blob-arena-amma/cover.png",icon:"https://static.cartridge.gg/presets/blob-arena-amma/icon.png",name:"Blob Arena AMMA",optimizedCover:{webp:{768:"cover@768.webp",1024:"cover@1024.webp",1440:"cover@1440.webp"},jpg:{768:"cover@768.jpg",1024:"cover@1024.jpg",1440:"cover@1440.jpg"},png:{768:"cover@768.png",1024:"cover@1024.png",1440:"cover@1440.png"}},optimizedIcon:{webp:{16:"icon@16.webp",32:"icon@32.webp",64:"icon@64.webp",128:"icon@128.webp",256:"icon@256.webp"},png:{16:"icon@16.png",32:"icon@32.png",64:"icon@64.png",128:"icon@128.png",256:"icon@256.png"}}},chains:{SN_SEPOLIA:{policies:{contracts:{"0x771a2807aa479dacd207c1f12018d0fa6e92ef1eb994169ff4f8904a8845e3f":{name:"Lobby Contract",description:"Game invites and responses",methods:[{name:"Send Invite",entrypoint:"send_invite",description:"Send users an invite"},{name:"Rescind Invite",entrypoint:"rescind_invite",description:"Rescind a previously sent invite"},{name:"Respond Invite",entrypoint:"respond_invite",description:"Respond to a received invite"},{name:"Rescind Response",entrypoint:"rescind_response",description:"Rescind a previous response to an invite"},{name:"Reject Invite",entrypoint:"reject_invite",description:"Reject a received invite"},{name:"Reject Response",entrypoint:"reject_response",description:"Reject a response to an invite"},{name:"Accept Response",entrypoint:"accept_response",description:"Accept a response to an invite"}]},"0x6040ee8b2aee6cbcc482b5cb712d1c206f8ad070e98d7e07a70d4e4a6b5e261":{name:"PVP Contract",description:"Manages core gameplay interactions",methods:[{name:"Start Game",entrypoint:"start",description:"Start the game"},{name:"Commit Attack",entrypoint:"commit",description:"Commit an attack in the game"},{name:"Reveal Attack",entrypoint:"reveal",description:"Reveal the committed attack in the game"},{name:"Run Round",entrypoint:"run",description:"Run the next round of the game"},{name:"Forfeit",entrypoint:"forfeit",description:"Forfeit the game"},{name:"Kick Player",entrypoint:"kick_player",description:"Kick an inactive player from the game"}]},"0x69f9cd86938bae98a413c2b4dddee1ab8005d72202466ef4fd35a625596e619":{name:"Betsy Contract",description:"Wager operations",methods:[{name:"Set Owner's Fee",entrypoint:"set_owners_fee",description:"Set the owner's fee"},{name:"Create Wager",entrypoint:"create",description:"Create a wager"},{name:"Accept Wager",entrypoint:"accept",description:"Accept a wager"},{name:"Reject Wager",entrypoint:"reject",description:"Reject a wager"},{name:"Revoke Wager",entrypoint:"revoke",description:"Revoke a wager"},{name:"Claim Win",entrypoint:"claim_win",description:"Claim the win"},{name:"Approve Release",entrypoint:"approve_release",description:"Approve fund release"},{name:"Revoke Release",entrypoint:"revoke_release",description:"Revoke fund release"},{name:"Release Funds",entrypoint:"release_funds",description:"Release funds"}]},"0x11088b79a397c2fb9d2570acbf711e6972e75e3a28b6bcf36267501d96c781b":{name:"Arcade Contract",description:"Minting of arcade Bloberts",methods:[{name:"Mint Arcade Blobert",entrypoint:"mint",description:"Mint arcade blobert"}]},"0x645aec04e61f286691b91d6589d010890bb66ca0af91bf24d12c8bc4387c868":{name:"AMMA Contract",description:"Minting of AMMA Bloberts",methods:[{name:"Mint AMMA Blobert",entrypoint:"mint",description:"Mint AMMA blobert"}]},"0x1ad613db1957a576c1a9bae913f1d22a41add2f1d64d822d9e097f219b34954":{name:"Arcade Contract",description:"Arcade mode contract",methods:[{name:"Start Game",entrypoint:"start_game",description:"Start the game"},{name:"Attack",entrypoint:"attack",description:"Submit an attack"},{name:"Start Challenge",entrypoint:"start_challenge",description:"Start a challenge"},{name:"Next Challenge Round",entrypoint:"next_challenge_round",description:"Go forward"},{name:"Respawn Challenge",entrypoint:"respawn_challenge",description:"Restart a challenge"},{name:"End Challenge",entrypoint:"end_challenge",description:"End a challenge"},{name:"Claim Free Game",entrypoint:"claim_free_game",description:"Claim an arcade game"}]}}}}}},budokan:{origin:"budokan.gg",chains:{SN_MAIN:{policies:{contracts:{"0x05fb427962210ac4b3be5e23419b0d9e91ca6a9c57b0665d2ca7783092506f6e":{name:"Budokan",methods:[{entrypoint:"create_tournament"},{entrypoint:"enter_tournament"},{entrypoint:"submit_score"},{entrypoint:"claim_prize"},{entrypoint:"add_prize"},{entrypoint:"register_token"}]}}}}},theme:{colors:{primary:"#B1B97A"},cover:"https://static.cartridge.gg/presets/budokan/cover.png",icon:"https://static.cartridge.gg/presets/budokan/icon.png",name:"Budokan",optimizedCover:{webp:{768:"cover@768.webp",1024:"cover@1024.webp",1440:"cover@1440.webp"},jpg:{768:"cover@768.jpg",1024:"cover@1024.jpg",1440:"cover@1440.jpg"},png:{768:"cover@768.png",1024:"cover@1024.png",1440:"cover@1440.png"}},optimizedIcon:{webp:{16:"icon@16.webp",32:"icon@32.webp",64:"icon@64.webp",128:"icon@128.webp",256:"icon@256.webp"},png:{16:"icon@16.png",32:"icon@32.png",64:"icon@64.png",128:"icon@128.png",256:"icon@256.png"}}}},"bytebeasts-tamagotchi":{origin:"bytebeasts.games",theme:{colors:{primary:"#ECECDA"},cover:"https://static.cartridge.gg/presets/bytebeasts-tamagotchi/cover.png",icon:"https://static.cartridge.gg/presets/bytebeasts-tamagotchi/icon.png",name:"Tamagotchi",optimizedCover:{webp:{768:"cover@768.webp",1024:"cover@1024.webp",1440:"cover@1440.webp"},jpg:{768:"cover@768.jpg",1024:"cover@1024.jpg",1440:"cover@1440.jpg"},png:{768:"cover@768.png",1024:"cover@1024.png",1440:"cover@1440.png"}},optimizedIcon:{webp:{16:"icon@16.webp",32:"icon@32.webp",64:"icon@64.webp",128:"icon@128.webp",256:"icon@256.webp"},png:{16:"icon@16.png",32:"icon@32.png",64:"icon@64.png",128:"icon@128.png",256:"icon@256.png"}}}},cartridge:{origin:"*",theme:{name:"Cartridge",icon:"https://static.cartridge.gg/presets/cartridge/icon.svg",cover:{light:"https://static.cartridge.gg/presets/cartridge/cover-light.png",dark:"https://static.cartridge.gg/presets/cartridge/cover-dark.png"},optimizedCover:{light:{webp:{768:"cover-light@768.webp",1024:"cover-light@1024.webp",1440:"cover-light@1440.webp"},jpg:{768:"cover-light@768.jpg",1024:"cover-light@1024.jpg",1440:"cover-light@1440.jpg"},png:{768:"cover-light@768.png",1024:"cover-light@1024.png",1440:"cover-light@1440.png"}},dark:{webp:{768:"cover-dark@768.webp",1024:"cover-dark@1024.webp",1440:"cover-dark@1440.webp"},jpg:{768:"cover-dark@768.jpg",1024:"cover-dark@1024.jpg",1440:"cover-dark@1440.jpg"},png:{768:"cover-dark@768.png",1024:"cover-dark@1024.png",1440:"cover-dark@1440.png"}}},optimizedIcon:{webp:{16:"icon@16.webp",32:"icon@32.webp",64:"icon@64.webp",128:"icon@128.webp",256:"icon@256.webp"},png:{16:"icon@16.png",32:"icon@32.png",64:"icon@64.png",128:"icon@128.png",256:"icon@256.png"},svg:{16:"icon@16.svg",32:"icon@32.svg",64:"icon@64.svg",128:"icon@128.svg",256:"icon@256.svg"}}}},coloniz:{origin:["coloniz.xyz"],chains:{SN_MAIN:{policies:{contracts:{"0x430d7262fb9ad2c830d793471c3a07e08afe54f9a5f0d28db48712bc918f5f":{name:"Tokenbound Sessions",methods:[{name:"Execute",entrypoint:"execute",description:"Session proxy"}]},"0x56977e22ad4751ea5b3df958da3080971c7f26036127452b98c154fbea86d06":{name:"Profile Creation",methods:[{name:"Create A Coloniz Profile",entrypoint:"create_profile",description:"Create a profile on Coloniz"}]},"0x5cc4644374e3f91b52cfe64937dacaec91b2d81fe2f146a860ab5b3bb751ce8":{name:"Handles Minting",methods:[{name:"Mint Handle",entrypoint:"mint_handle",description:"Mint Coloniz Profile Handle"}]},"0x79914426e3cc5336c479ee87770380ceeda4b60496657e70c3ee7d57a992226":{name:"Handle Registry",methods:[{name:"Link Handle",entrypoint:"link",description:"Link handle to Coloniz Profile"}]}},messages:[{name:"Sign in to Coloniz",description:"Sign the message to login to Coloniz",types:{StarknetDomain:[{name:"name",type:"shortstring"},{name:"version",type:"shortstring"},{name:"chainId",type:"shortstring"},{name:"revision",type:"shortstring"}],Signin:[{name:"content",type:"string"},{name:"nonce",type:"string"},{name:"timestamp",type:"string"}]},primaryType:"Signin",domain:{name:"Coloniz",version:"1",revision:"1",chainId:"SN_MAIN"}}]}}},theme:{colors:{primary:"#4285F4"},cover:"https://static.cartridge.gg/presets/coloniz/cover.png",icon:"https://static.cartridge.gg/presets/coloniz/icon.png",name:"Coloniz",optimizedCover:{webp:{768:"cover@768.webp",1024:"cover@1024.webp",1440:"cover@1440.webp"},jpg:{768:"cover@768.jpg",1024:"cover@1024.jpg",1440:"cover@1440.jpg"},png:{768:"cover@768.png",1024:"cover@1024.png",1440:"cover@1440.png"}},optimizedIcon:{webp:{16:"icon@16.webp",32:"icon@32.webp",64:"icon@64.webp",128:"icon@128.webp",256:"icon@256.webp"},png:{16:"icon@16.png",32:"icon@32.png",64:"icon@64.png",128:"icon@128.png",256:"icon@256.png"}}}},credit:{origin:"*",theme:{name:"Credit",icon:"https://static.cartridge.gg/presets/credit/icon.svg",cover:"https://static.cartridge.gg/presets/credit/cover.png",optimizedCover:{webp:{768:"cover@768.webp",1024:"cover@1024.webp",1440:"cover@1440.webp"},jpg:{768:"cover@768.jpg",1024:"cover@1024.jpg",1440:"cover@1440.jpg"},png:{768:"cover@768.png",1024:"cover@1024.png",1440:"cover@1440.png"}},optimizedIcon:{webp:{16:"icon@16.webp",32:"icon@32.webp",64:"icon@64.webp",128:"icon@128.webp",256:"icon@256.webp"},png:{16:"icon@16.png",32:"icon@32.png",64:"icon@64.png",128:"icon@128.png",256:"icon@256.png"},svg:{16:"icon@16.svg",32:"icon@32.svg",64:"icon@64.svg",128:"icon@128.svg",256:"icon@256.svg"}}}},"dark-shuffle":{origin:["darkshuffle.io","darkshuffle.dev"],theme:{colors:{primary:"#F59100"},cover:"https://static.cartridge.gg/presets/dark-shuffle/cover.png",icon:"https://static.cartridge.gg/presets/dark-shuffle/icon.svg",name:"Dark Shuffle",optimizedCover:{webp:{768:"cover@768.webp",1024:"cover@1024.webp",1440:"cover@1440.webp"},jpg:{768:"cover@768.jpg",1024:"cover@1024.jpg",1440:"cover@1440.jpg"},png:{768:"cover@768.png",1024:"cover@1024.png",1440:"cover@1440.png"}},optimizedIcon:{webp:{16:"icon@16.webp",32:"icon@32.webp",64:"icon@64.webp",128:"icon@128.webp",256:"icon@256.webp"},png:{16:"icon@16.png",32:"icon@32.png",64:"icon@64.png",128:"icon@128.png",256:"icon@256.png"},svg:{16:"icon@16.svg",32:"icon@32.svg",64:"icon@64.svg",128:"icon@128.svg",256:"icon@256.svg"}}},chains:{SN_MAIN:{policies:{contracts:{"0x051Fea4450Da9D6aeE758BDEbA88B2f665bCbf549D2C61421AA724E9AC0Ced8F":{name:"VRF Provider",description:"Provides verifiable random functions",methods:[{name:"Request Random",description:"Request a random number",entrypoint:"request_random"}]},"0x0444834e7b71749832f0db8c64f17ed1c3af8462c1682c10dcd6068b1c57494b":{name:"game_systems",description:"Game mechanics",methods:[{entrypoint:"mint"},{entrypoint:"start_game"},{entrypoint:"pick_card"},{entrypoint:"generate_tree"},{entrypoint:"select_node"}]},"0x06633dc0c8e3956fd8d87f68e5a4324cb20270b442a532f4d4179d85c389b324":{name:"battle_systems",description:"Battle mechanics",methods:[{entrypoint:"battle_actions"}]}}}}}},dominion:{origin:"https://dominion.fun",theme:{colors:{primary:"#19cfff"},cover:"https://static.cartridge.gg/presets/dominion/cover.png",icon:"https://static.cartridge.gg/presets/dominion/icon.svg",name:"Dominion",optimizedCover:{webp:{768:"cover@768.webp",1024:"cover@1024.webp",1440:"cover@1440.webp"},jpg:{768:"cover@768.jpg",1024:"cover@1024.jpg",1440:"cover@1440.jpg"},png:{768:"cover@768.png",1024:"cover@1024.png",1440:"cover@1440.png"}},optimizedIcon:{webp:{16:"icon@16.webp",32:"icon@32.webp",64:"icon@64.webp",128:"icon@128.webp",256:"icon@256.webp"},png:{16:"icon@16.png",32:"icon@32.png",64:"icon@64.png",128:"icon@128.png",256:"icon@256.png"},svg:{16:"icon@16.svg",32:"icon@32.svg",64:"icon@64.svg",128:"icon@128.svg",256:"icon@256.svg"}}}},"dope-wars":{origin:"dopewars.game",chains:{SN_MAIN:{policies:{contracts:{"0x051Fea4450Da9D6aeE758BDEbA88B2f665bCbf549D2C61421AA724E9AC0Ced8F":{name:"VRF Provider",description:"Provides verifiable random functions",methods:[{name:"Request Random",description:"Request a random number",entrypoint:"request_random"}]},"0x0410466536b5ae074f7fea81e5533b8134a9fa08b3dd077dd9db08f64997d113":{name:"Paper Token",description:"Manages paper approvals",methods:[{name:"Approve",description:"Approve paper usage",entrypoint:"approve"}]},"0x044a23BbfE03FFe90D3C23Fb6e5A8AD0341036C039363DfA6F3513278Aa51fCA":{name:"Game Contract",description:"Core game mechanics",methods:[{name:"Create Game",description:"Start a new game",entrypoint:"create_game"},{name:"Travel",description:"Travel to a new location",entrypoint:"travel"},{name:"Decide",description:"Make a game decision",entrypoint:"decide"},{name:"End Game",description:"End the current game",entrypoint:"end_game"}]},"0x0412445e644070C69fEa16b964cC81Cd6dEBF6A4DBf683E2E9686a45ad088de8":{name:"Laundromat Contract",description:"Manages game scoring and laundering",methods:[{name:"Register Score",description:"Register a game score",entrypoint:"register_score"},{name:"Claim",description:"Claim rewards",entrypoint:"claim"},{name:"Launder",description:"Launder resources",entrypoint:"launder"}]}}}}},theme:{colors:{primary:"#11ED83"},cover:"https://static.cartridge.gg/presets/dope-wars/cover.png",icon:"https://static.cartridge.gg/presets/dope-wars/icon.png",name:"Dope Wars",optimizedCover:{webp:{768:"cover@768.webp",1024:"cover@1024.webp",1440:"cover@1440.webp"},jpg:{768:"cover@768.jpg",1024:"cover@1024.jpg",1440:"cover@1440.jpg"},png:{768:"cover@768.png",1024:"cover@1024.png",1440:"cover@1440.png"}},optimizedIcon:{webp:{16:"icon@16.webp",32:"icon@32.webp",64:"icon@64.webp",128:"icon@128.webp",256:"icon@256.webp"},png:{16:"icon@16.png",32:"icon@32.png",64:"icon@64.png",128:"icon@128.png",256:"icon@256.png"}}}},dragark:{origin:["*.dragark.net","dragark.net"],chains:{SN_MAIN:{policies:{contracts:{"0x05553fcb6da57decacce3306d8e0b3bf65b656dceda96c90ba55bde8980253ce":{name:"Achievement Systems",description:"Allows you to interact with achievement features.",methods:[{name:"Claim Achievement Reward",description:"A method to claim your achievement reward.",entrypoint:"claim_achievement_reward"}]},"0x059ffaee1d7068332ea8f084a9685b99a5c2a74197ef99e093a10fa25f887402":{name:"Dragon Systems",description:"Allows you to interact with dragon features.",methods:[{name:"Activate Dragon",description:"A method to activate the Dragark NFT into the game.",entrypoint:"activate_dragon"},{name:"Deactivate Dragon",description:"A method to deactivate Dragark NFT out of the game.",entrypoint:"deactivate_dragon"},{name:"Upgrade Dragon",description:"A method to upgrade the Dragark's level.",entrypoint:"upgrade_dragon"}]},"0x0760d029c7b49069ece425285afb592152da1fff59038e697a5554f1b94150f2":{name:"Island Systems",description:"Allows you to interact with island features.",methods:[{name:"Claim Resources",description:"A method to claim the island's rescources.",entrypoint:"claim_resources"},{name:"Claim Resources Islands",description:"A method to claim rescources on multiple islands.",entrypoint:"claim_resources_islands"}]},"0x000ccb9e596c7d3298b670d91b6c3ed305aeed3eb1335d702265f53f1d0ad68a":{name:"Journey Systems",description:"Allows you to interact with journey features.",methods:[{name:"Start Journey",description:"A method to start a new journey to other island.",entrypoint:"start_journey"},{name:"Finish Journey",description:"A method to finish a started journey.",entrypoint:"finish_journey"}]},"0x0002d12498d7b7f5e4d57a9895f8684fa58f4edb06ba6edb879723d8acb16507":{name:"Map Systems",description:"Allows you to interact with map features.",methods:[{name:"Join Map",description:"A method to join the map.",entrypoint:"join_map"}]},"0x01ba78267fd97db89b8ac0316ce0a2d71aaef87ad4f300e5468dc20232a2ff20":{name:"Mission Systems",description:"Allows you to interact with mission features.",methods:[{name:"Claim Mission Reward",description:"A method to claim your mission reward.",entrypoint:"claim_mission_reward"}]},"0x063b168f01cbac52b5d2ad82696eeaddde33b38d24364523ad0a3ca400361489":{name:"Player Systems",description:"Allows you to interact with player features.",methods:[{name:"Buy Energy",description:"A method to buy energy used in scouting the map.",entrypoint:"buy_energy"},{name:"Claim Reward",description:"A method to claim your reward.",entrypoint:"claim_reward"},{name:"Upgrade Account Level",description:"A method to upgrade your account level.",entrypoint:"upgrade_account_level"},{name:"Upgrade Invitation Level",description:"A method to upgrade your invitation level.",entrypoint:"upgrade_invitation_level"},{name:"Redeem Invite Code",description:"A method to redeem invite code.",entrypoint:"redeem_invite_code"},{name:"Claim Pool Share Reward",description:"A method to claim your Pool Share reward.",entrypoint:"claim_pool_share_reward"}]},"0x03284bb4684703a368db8fd538c39b30e51822dbab9ad398e66311e820318444":{name:"Scout Systems",description:"Allows you to interact with scout features.",methods:[{name:"Scout",description:"A method to scout the map.",entrypoint:"scout"}]},"0x04a8b7e4106719e75653595c1e55da9ac88fbf1ae29124fca325c0537f00e908":{name:"Shield Systems",description:"Allows you to interact with shield features.",methods:[{name:"Activate Shield",description:"A method to activate a shield to protect your island.",entrypoint:"activate_shield"},{name:"Deactivate Shield",description:"A method to deactivate a shield from your island.",entrypoint:"deactivate_shield"},{name:"Buy Shield",description:"A method to buy a shield.",entrypoint:"buy_shield"}]},"0x060a67334aed80a5403bd2b727337f29ccdcbf51784cc7ddb73f10ceb92e61f1":{name:"Star Shop Systems",description:"Allows you to interact with star shop features.",methods:[{name:"Buy Item Star Shop",description:"A method to buy item from the Star Shop.",entrypoint:"buy_item_star_shop"}]},"0x0655a9a38cb8dd7087a206b7d885528f8994e03dd6449105ef0f068caa502d25":{name:"Treasure Hunt Systems",description:"Allows you to interact with treasure hunt features.",methods:[{name:"Insert Dragon Treasure Hunt",description:"A method to insert your Dragarks to start a new treasure hunt.",entrypoint:"insert_dragon_treasure_hunt"},{name:"End Treasure Hunt",description:"A method to end an existing treasure hunt and claim rewards.",entrypoint:"end_treasure_hunt"}]}}}}},theme:{colors:{primary:"#71EB34"},cover:"https://static.cartridge.gg/presets/dragark/cover.png",icon:"https://static.cartridge.gg/presets/dragark/icon.png",name:"Dragark",optimizedCover:{webp:{768:"cover@768.webp",1024:"cover@1024.webp",1440:"cover@1440.webp"},jpg:{768:"cover@768.jpg",1024:"cover@1024.jpg",1440:"cover@1440.jpg"},png:{768:"cover@768.png",1024:"cover@1024.png",1440:"cover@1440.png"}},optimizedIcon:{webp:{16:"icon@16.webp",32:"icon@32.webp",64:"icon@64.webp",128:"icon@128.webp",256:"icon@256.webp"},png:{16:"icon@16.png",32:"icon@32.png",64:"icon@64.png",128:"icon@128.png",256:"icon@256.png"}}}},eternum:{origin:["eternum.realms.world","empire.realms.world"],chains:{SN_MAIN:{policies:{contracts:{"0x4ed3a7c5f53c6e96186eaf1b670bd2e2a3699c08e070aedf4e5fc6ac246ddc1":{name:"Pillage",description:"Allows you to raid a structure and pillage resources",methods:[{name:"Battle Pillage",description:"Pillage a structure",entrypoint:"battle_pillage"}]},"0x2620f65aa2fd72d705306ada1ee7410023a3df03da9291f1ccb744fabfebc0":{name:"Battle contract",description:"Required to engage in battles",methods:[{name:"Battle Start",description:"Start a battle",entrypoint:"battle_start"},{name:"Battle Force Start",description:"Force start a battle",entrypoint:"battle_force_start"},{name:"Battle Join",description:"Join a battle",entrypoint:"battle_join"},{name:"Battle Leave",description:"Leave a battle",entrypoint:"battle_leave"},{name:"Battle Claim",description:"Claim a structure after a battle",entrypoint:"battle_claim"},{name:"Battle Resolve",description:"Reopens the bank after battle",entrypoint:"battle_resolve"}]},"0x6bf57710571fd159e71b1ed155bb0759027e416c88a06556f321c94c214e768":{name:"Leave battle contract",description:"Allows armies to leave a battle",methods:[{name:"Leave Battle",description:"Leave a battle",entrypoint:"leave_battle"},{name:"Leave Battle If Ended",description:"Leave a battle if its ended",entrypoint:"leave_battle_if_ended"}]},"0x4b6a35c0c541467674ebb9640113a6d79c6f5a468796e9299b8e484a770032a":{name:"Building contract",description:"Allows to manage buildings",methods:[{name:"Create",description:"Create a building",entrypoint:"create"},{name:"Pause Production",description:"Pause the production of a building",entrypoint:"pause_production"},{name:"Resume Production",description:"Resume production of a building",entrypoint:"resume_production"},{name:"Destroy a building",description:"Destroy a building",entrypoint:"destroy"}]},"0x57d514154bb4dc319539d4e338312a41c248fb6a5122f82b2f2e11ddd3e67e4":{name:"Guild contract",description:"Allows guild utilities",methods:[{name:"Create Guild",description:"Creates a new guild",entrypoint:"create_guild"},{name:"Join Guild",description:"Join an existing guild",entrypoint:"join_guild"},{name:"Whitelist Player",description:"Add a player to the guild's whitelist",entrypoint:"whitelist_player"},{name:"Transfer Guild Ownership",description:"Transfer ownership of the guild to another player",entrypoint:"transfer_guild_ownership"},{name:"Remove Guild Member",description:"Remove a member from the guild",entrypoint:"remove_guild_member"},{name:"Remove Player From Whitelist",description:"Remove a player from the guild's whitelist",entrypoint:"remove_player_from_whitelist"}]},"0x2fcc3c1691387321c2f4d6310eda7a14365bd274c1a37ed3948d2e93a56f821":{name:"Hyperstructure contract",description:"Handles the creation and management of hyperstructures",methods:[{name:"Get Points",description:"Gets your total number of points",entrypoint:"get_points"},{name:"Create",description:"Create a new hyperstructure",entrypoint:"create"},{name:"Contribute To Construction",description:"Contribute resources to hyperstructure construction",entrypoint:"contribute_to_construction"},{name:"Set Co Owners",description:"Set additional owners for the hyperstructure",entrypoint:"set_co_owners"},{name:"End Game",description:"Terminates the current game season once you've reached enough points",entrypoint:"end_game"},{name:"Set Access",description:"Configure access permissions for contributions to the hyperstructure",entrypoint:"set_access"}]},"0xa052c5ca082356bcc8457f0f805eaf18f97d0fdddde3f90f5b238923859ed4":{name:"AMM liquidity contract",description:"Manages liquidity for the Automated Market Maker",methods:[{name:"Add",description:"Add liquidity to the pool",entrypoint:"add"},{name:"Remove",description:"Remove liquidity from the pool",entrypoint:"remove"}]},"0x4a212c52c4035bc9bd170125216604f406dcd75b41be11d3b4d89047366d84d":{name:"Exploration contract",description:"Allows you to move to unexplored hexes on the map",methods:[{name:"Explore",description:"Explore an uncharted hex on the game map",entrypoint:"explore"}]},"0x7e3bae0e253a0131063b63ee4d7b27b50329c617ae88b82d529a70f1a11c63":{name:"Naming contract",description:"Manages entity naming in the game",methods:[{name:"Set Entity Name",description:"Assign a custom name to a game entity",entrypoint:"set_entity_name"},{name:"Set Address Name",description:"Assign a custom name to a user's address",entrypoint:"set_address_name"}]},"0x1b480f620ea35431ab43dba634795b14f547ef3e77370db6f0a31f2fdc21d86":{name:"Realms contract",description:"Manages realm-related actions",methods:[{name:"Create a realm",description:"Create a new realm",entrypoint:"create"},{name:"Upgrade Level",description:"Upgrade the level of a realm",entrypoint:"upgrade_level"},{name:"Quest Claim",description:"Claim rewards from completed quests",entrypoint:"quest_claim"}]},"0x691a60b709ca5c1c5ff86824831f84deb26f0f5d07d70c0f807eab48110d2f6":{name:"Resource bridge contract",description:"Manages bridge transfers between L2 and Eternum",methods:[{name:"Deposit Initial",description:"Initial deposit of resources for bridge transfer",entrypoint:"deposit_initial"},{name:"Deposit",description:"Deposit additional resources for bridge transfer",entrypoint:"deposit"},{name:"Start Withdraw",description:"Initiate a withdrawal process",entrypoint:"start_withdraw"},{name:"Finish Withdraw",description:"Finalize a withdrawal process",entrypoint:"finish_withdraw"}]},"0x42c0303a2119a9e20daa60e83c48221cdf1bb2a4c009bab031d1cd3555a127e":{name:"Resource contract",description:"In-game resource management",methods:[{name:"Approve",description:"Approve resource transfer",entrypoint:"approve"},{name:"Send",description:"Send resources to another entity",entrypoint:"send"},{name:"Pickup",description:"Collect available resources after approval",entrypoint:"pickup"}]},"0x4f92a1d00d3aec8cece60fc2d0fc236fe1d95c54ff0ceb2f393fbc7e0863d8e":{name:"AMM swap contract",description:"Handles token swaps in the Automated Market Maker",methods:[{name:"Buy",description:"Purchase tokens from the liquidity pool",entrypoint:"buy"},{name:"Sell",description:"Sell tokens to the liquidity pool",entrypoint:"sell"}]},"0x7e2b1334398fafbe640f34bacae99b649d633417960ee397b6a8fb117fec819":{name:"Market contract",description:"Manages trading orders in the in-game market",methods:[{name:"Create Order",description:"Create a new trading order",entrypoint:"create_order"},{name:"Accept Order",description:"Accept a trading order",entrypoint:"accept_order"},{name:"Accept Partial Order",description:"Accept a partial trading order",entrypoint:"accept_partial_order"},{name:"Cancel Order",description:"Cancel a trading order",entrypoint:"cancel_order"}]},"0x4069c2be57f08fef9f31afc85a5b4c03c208ebdb278b9d853606caa7a9cbee6":{name:"Map travel contract",description:"Manages player movement across the game map",methods:[{name:"Travel Hex",description:"Move to a specific hex on the map",entrypoint:"travel_hex"}]},"0x26be0ed574aa9ee6f73b53b12f0a199ddbf4ac697470316cdb3d9d1f5680cab":{name:"Army contract",description:"Manages army-related actions",methods:[{name:"Army Create",description:"Create a new army",entrypoint:"army_create"},{name:"Army Delete",description:"Delete an existing army",entrypoint:"army_delete"},{name:"Army Buy Troops",description:"Buy troops for an army",entrypoint:"army_buy_troops"},{name:"Army Merge Troops",description:"Merge troops from multiple armies",entrypoint:"army_merge_troops"}]},"0x051fea4450da9d6aee758bdeba88b2f665bcbf549d2c61421aa724e9ac0ced8f":{name:"VRF Provider",description:"Verifiable Random Function contract, allows randomness in the game",methods:[{name:"Request Random",description:"Allows requesting random numbers from the VRF provider",entrypoint:"request_random"}]},"0x057675b9c0bd62b096a2e15502a37b290fa766ead21c33eda42993e48a714b80":{name:"Season pass ERC20 contract",description:"Manages the season passes",methods:[{name:"Approve for all",description:"Approves transfer of season pass",entrypoint:"set_approval_for_all"}]},"0x4b5e65a9617c7ba3c7ea64324ff4338a400adb1a3cfe903b3f8b647cbb59fb7":{name:"Season Systems",description:"Register and claim",methods:[{name:"Register",description:"Registers to leaderboard",entrypoint:"register_to_leaderboard"},{name:"Claim",description:"Claim",entrypoint:"claim_leaderboard_rewards"}]}},messages:[{types:{StarknetDomain:[{name:"name",type:"shortstring"},{name:"version",type:"shortstring"},{name:"chainId",type:"shortstring"},{name:"revision",type:"shortstring"}],"s0_eternum-Message":[{name:"identity",type:"ContractAddress"},{name:"channel",type:"shortstring"},{name:"content",type:"string"},{name:"timestamp",type:"felt"},{name:"salt",type:"felt"}]},primaryType:"s0_eternum-Message",domain:{name:"Eternum",version:"1",chainId:"SN_MAIN",revision:"1"}}]}}},theme:{name:"Eternum",icon:"https://static.cartridge.gg/presets/eternum/icon.svg",cover:"https://static.cartridge.gg/presets/eternum/cover.png",colors:{primary:"#dc8b07"},optimizedCover:{webp:{768:"cover@768.webp",1024:"cover@1024.webp",1440:"cover@1440.webp"},jpg:{768:"cover@768.jpg",1024:"cover@1024.jpg",1440:"cover@1440.jpg"},png:{768:"cover@768.png",1024:"cover@1024.png",1440:"cover@1440.png"}},optimizedIcon:{webp:{16:"icon@16.webp",32:"icon@32.webp",64:"icon@64.webp",128:"icon@128.webp",256:"icon@256.webp"},png:{16:"icon@16.png",32:"icon@32.png",64:"icon@64.png",128:"icon@128.png",256:"icon@256.png"},svg:{16:"icon@16.svg",32:"icon@32.svg",64:"icon@64.svg",128:"icon@128.svg",256:"icon@256.svg"}}}},flippyflop:{origin:"flippyflop.gg",theme:{colors:{primary:"#F38332"},cover:"https://static.cartridge.gg/presets/flippyflop/cover.png",icon:"https://static.cartridge.gg/presets/flippyflop/icon.png",name:"FlippyFlop",optimizedCover:{webp:{768:"cover@768.webp",1024:"cover@1024.webp",1440:"cover@1440.webp"},jpg:{768:"cover@768.jpg",1024:"cover@1024.jpg",1440:"cover@1440.jpg"},png:{768:"cover@768.png",1024:"cover@1024.png",1440:"cover@1440.png"}},optimizedIcon:{webp:{16:"icon@16.webp",32:"icon@32.webp",64:"icon@64.webp",128:"icon@128.webp",256:"icon@256.webp"},png:{16:"icon@16.png",32:"icon@32.png",64:"icon@64.png",128:"icon@128.png",256:"icon@256.png"}}}},"force-prime":{origin:"forceprime.io",theme:{colors:{primary:"#E1CC89"},cover:"https://static.cartridge.gg/presets/force-prime/cover.png",icon:"https://static.cartridge.gg/presets/force-prime/icon.png",name:"Force Prime",optimizedCover:{webp:{768:"cover@768.webp",1024:"cover@1024.webp",1440:"cover@1440.webp"},jpg:{768:"cover@768.jpg",1024:"cover@1024.jpg",1440:"cover@1440.jpg"},png:{768:"cover@768.png",1024:"cover@1024.png",1440:"cover@1440.png"}},optimizedIcon:{webp:{16:"icon@16.webp",32:"icon@32.webp",64:"icon@64.webp",128:"icon@128.webp",256:"icon@256.webp"},png:{16:"icon@16.png",32:"icon@32.png",64:"icon@64.png",128:"icon@128.png",256:"icon@256.png"}}}},"jokers-of-neon":{origin:"jokersofneon.com",theme:{colors:{primary:"#A144B2"},cover:"https://static.cartridge.gg/presets/jokers-of-neon/cover.png",icon:"https://static.cartridge.gg/presets/jokers-of-neon/icon.png",name:"Jokers of Neon",optimizedCover:{webp:{768:"cover@768.webp",1024:"cover@1024.webp",1440:"cover@1440.webp"},jpg:{768:"cover@768.jpg",1024:"cover@1024.jpg",1440:"cover@1440.jpg"},png:{768:"cover@768.png",1024:"cover@1024.png",1440:"cover@1440.png"}},optimizedIcon:{webp:{16:"icon@16.webp",32:"icon@32.webp",64:"icon@64.webp",128:"icon@128.webp",256:"icon@256.webp"},png:{16:"icon@16.png",32:"icon@32.png",64:"icon@64.png",128:"icon@128.png",256:"icon@256.png"}}}},"loot-survivor":{origin:"lootsurvivor.io",chains:{SN_MAIN:{policies:{contracts:{"0x0305f26ad19e0a10715d9f3137573d3a543de7b707967cd85d11234d6ec0fb7e":{methods:[{entrypoint:"attack"},{entrypoint:"drop"},{entrypoint:"equip"},{entrypoint:"explore"},{entrypoint:"flee"},{entrypoint:"new_game"},{entrypoint:"transfer_from"},{entrypoint:"upgrade"}]},"0x3347382d530ff6acb9283ac1d78471187aae8a4690e9316bb4e3c3365ff7a86":{methods:[{entrypoint:"enter_tournament"},{entrypoint:"start_tournament"}]}}}}},theme:{colors:{primary:"#33FF33"},cover:"https://static.cartridge.gg/presets/loot-survivor/cover.png",icon:"https://static.cartridge.gg/presets/loot-survivor/icon.png",name:"Loot Survivor",optimizedCover:{webp:{768:"cover@768.webp",1024:"cover@1024.webp",1440:"cover@1440.webp"},jpg:{768:"cover@768.jpg",1024:"cover@1024.jpg",1440:"cover@1440.jpg"},png:{768:"cover@768.png",1024:"cover@1024.png",1440:"cover@1440.png"}},optimizedIcon:{webp:{16:"icon@16.webp",32:"icon@32.webp",64:"icon@64.webp",128:"icon@128.webp",256:"icon@256.webp"},png:{16:"icon@16.png",32:"icon@32.png",64:"icon@64.png",128:"icon@128.png",256:"icon@256.png"}}}},metacube:{origin:["*.metacube.games","metacube.games"],theme:{colors:{primary:"#11ffbb"},cover:"https://static.cartridge.gg/presets/metacube/cover.png",icon:"https://static.cartridge.gg/presets/metacube/icon.png",name:"Metacube",optimizedCover:{webp:{768:"cover@768.webp",1024:"cover@1024.webp",1440:"cover@1440.webp"},jpg:{768:"cover@768.jpg",1024:"cover@1024.jpg",1440:"cover@1440.jpg"},png:{768:"cover@768.png",1024:"cover@1024.png",1440:"cover@1440.png"}},optimizedIcon:{webp:{16:"icon@16.webp",32:"icon@32.webp",64:"icon@64.webp",128:"icon@128.webp",256:"icon@256.webp"},png:{16:"icon@16.png",32:"icon@32.png",64:"icon@64.png",128:"icon@128.png",256:"icon@256.png"}}}},"metal-slug":{origin:"https://metalslug.starkarcade.com/",chains:{SN_MAIN:{policies:{contracts:{"0x6aa878dfaa2710b66f26c02e52cbcc8adddd0c3e9b0d766fb045c8250490be0":{name:"Metal Slug Systems",description:"Allows you to interact with metal slug features.",methods:[{name:"Claim end match reward",description:"A method to claim reward after finishing a match.",entrypoint:"claim_end_match_reward"},{name:"Claim Points",description:"A method to claim points after finishing suvival match.",entrypoint:"claim_points"},{name:"Graft Treasure Chest",description:"A method to graft a treasure chest after collect enough materials.",entrypoint:"graft_treasure_chest"},{name:"Open Treasure Chest",description:"A method to open a treasure chest.",entrypoint:"open_treasure_chest"}]}}}}},theme:{colors:{primary:"#C00F0C"},cover:"https://static.cartridge.gg/presets/metal-slug/cover.png",icon:"https://static.cartridge.gg/presets/metal-slug/icon.png",name:"Dragark",optimizedCover:{webp:{768:"cover@768.webp",1024:"cover@1024.webp",1440:"cover@1440.webp"},jpg:{768:"cover@768.jpg",1024:"cover@1024.jpg",1440:"cover@1440.jpg"},png:{768:"cover@768.png",1024:"cover@1024.png",1440:"cover@1440.png"}},optimizedIcon:{webp:{16:"icon@16.webp",32:"icon@32.webp",64:"icon@64.webp",128:"icon@128.webp",256:"icon@256.webp"},png:{16:"icon@16.png",32:"icon@32.png",64:"icon@64.png",128:"icon@128.png",256:"icon@256.png"}}}},nums:{origin:["*.nums.gg","nums.gg"],chains:{SN_MAIN:{policies:{contracts:{"0x07ccfbc43c109efd466638defa52702382ace922051d35a0554b5ccd02a8f155":{name:"Game Actions",methods:[{name:"Create Game",entrypoint:"create_game",description:"Creates a new game"},{name:"Set Slot",entrypoint:"set_slot",description:"Sets one slot for the game"}]},"0x00ea44dd8e971d3af9f99568577bf14b0a80a7f7763fa6281840ab68a8a53ba9":{name:"Claim Actions",methods:[{name:"Claim Appchain Reward",entrypoint:"claim_reward",description:"Claims token rewards on Appchain"}]},"0x03ee42961dc151d740df95c44b929abe85cf66e8444e0279252dd99b055c64b0":{name:"Rewards Claim",methods:[{name:"Consume Reward on Starknet",entrypoint:"consume_claim_reward",description:"Consumes a claim reward message on Starknet"}]},"0x7ed472bdde3b19a5cf2334ad0f368426272f477938270b1b04259f159bdc0e2":{name:"VRF Provider",methods:[{name:"Request Random",entrypoint:"request_random",description:"Requests a random number from the VRF contract"}]},"0x4d776373427434a22f7d60d0f7fe0e336fd830edf4294acec33d9f2e1275327":{name:"Social",description:"Social contract to manage your social activities",methods:[{name:"pin",entrypoint:"pin",description:"Pin an achievement."},{name:"unpin",entrypoint:"unpin",description:"Unpin an achievement."}]}}}}},theme:{colors:{primary:"#9E84E9"},cover:"https://static.cartridge.gg/presets/nums/cover.png",icon:"https://static.cartridge.gg/presets/nums/icon.png",name:"Nums",optimizedCover:{webp:{768:"cover@768.webp",1024:"cover@1024.webp",1440:"cover@1440.webp"},jpg:{768:"cover@768.jpg",1024:"cover@1024.jpg",1440:"cover@1440.jpg"},png:{768:"cover@768.png",1024:"cover@1024.png",1440:"cover@1440.png"}},optimizedIcon:{webp:{16:"icon@16.webp",32:"icon@32.webp",64:"icon@64.webp",128:"icon@128.webp",256:"icon@256.webp"},png:{16:"icon@16.png",32:"icon@32.png",64:"icon@64.png",128:"icon@128.png",256:"icon@256.png"}}}},paved:{origin:"paved.gg",theme:{colors:{primary:"#B0CAF8"},cover:"https://static.cartridge.gg/presets/paved/cover.png",icon:"https://static.cartridge.gg/presets/paved/icon.svg",name:"Paved",optimizedCover:{webp:{768:"cover@768.webp",1024:"cover@1024.webp",1440:"cover@1440.webp"},jpg:{768:"cover@768.jpg",1024:"cover@1024.jpg",1440:"cover@1440.jpg"},png:{768:"cover@768.png",1024:"cover@1024.png",1440:"cover@1440.png"}},optimizedIcon:{webp:{16:"icon@16.webp",32:"icon@32.webp",64:"icon@64.webp",128:"icon@128.webp",256:"icon@256.webp"},png:{16:"icon@16.png",32:"icon@32.png",64:"icon@64.png",128:"icon@128.png",256:"icon@256.png"},svg:{16:"icon@16.svg",32:"icon@32.svg",64:"icon@64.svg",128:"icon@128.svg",256:"icon@256.svg"}}}},pistols:{origin:["*.pistols.gg","*.underware.gg"],theme:{colors:{primary:"#EF9758"},cover:"https://static.cartridge.gg/presets/pistols/cover.png",icon:"https://static.cartridge.gg/presets/pistols/icon.png",name:"Pistols at Dawn",optimizedCover:{webp:{768:"cover@768.webp",1024:"cover@1024.webp",1440:"cover@1440.webp"},jpg:{768:"cover@768.jpg",1024:"cover@1024.jpg",1440:"cover@1440.jpg"},png:{768:"cover@768.png",1024:"cover@1024.png",1440:"cover@1440.png"}},optimizedIcon:{webp:{16:"icon@16.webp",32:"icon@32.webp",64:"icon@64.webp",128:"icon@128.webp",256:"icon@256.webp"},png:{16:"icon@16.png",32:"icon@32.png",64:"icon@64.png",128:"icon@128.png",256:"icon@256.png"}}},chains:{SN_MAIN:{policies:{contracts:{"0x0154d9a74e8106255d8146b250683ba939f4db3e98b586997caf9514163ca963":{description:"Game loop contract",methods:[{entrypoint:"commit_moves",description:"Commit moves of a Duelist in a Duel"},{entrypoint:"reveal_moves",description:"Reveal moves of a Duelist in a Duel"},{entrypoint:"clear_call_to_action",description:"Clear the required action call for a duelist"},{entrypoint:"collect_duel",description:"Close expired duels"},{entrypoint:"collect_season",description:"Close the current season and start the next one"}]},"0x0320a19527bb1e661df4e41639c755353f6a401b24a8922a1d086a9667391428":{description:"Bank contract",methods:[{entrypoint:"sponsor_duelists",description:"Sponsor duelist starter packs with $LORDS"},{entrypoint:"sponsor_season",description:"Sponsor the current season with $LORDS"},{entrypoint:"sponsor_tournament",description:"Sponsor a tournament with $LORDS"}]},"0x032fecc3b90057da30d74fa450abcdd55621cd88000fe709384f8a6b1a910c9f":{description:"Packs ERC721 contract",methods:[{entrypoint:"claim_starter_pack",description:"Claim the starter pack, mint Duelists"},{entrypoint:"purchase",description:"Purchase a closed pack"},{entrypoint:"open",description:"Open a pack, mint its contents"}]},"0x03e1da8b8d6208af7d90ae32d1c3a6f597223022bc0e72b5abc2ba07009c560f":{description:"Duel ERC721 contract",methods:[{entrypoint:"create_duel",description:"Create a Duel, mint its token"},{entrypoint:"reply_duel",description:"Reply to a Duel (accept or reject)"}]},"0x03d042d2022519481f424b01f1a68268f773d0220275a102e809f49dee62c1c3":{description:"Duelist ERC721 contract",methods:[{entrypoint:"poke",description:"Reactivates an inactive Duelist"},{entrypoint:"sacrifice",description:"Sacrifices a Duelist"},{entrypoint:"memorialize",description:"Memorializes a Duelist"}]},"0x051fea4450da9d6aee758bdeba88b2f665bcbf549d2c61421aa724e9ac0ced8f":{description:"Cartridge VRF Provider",methods:[{entrypoint:"request_random",description:"Request a random number"}]}},messages:[{types:{StarknetDomain:[{name:"name",type:"shortstring"},{name:"version",type:"shortstring"},{name:"chainId",type:"shortstring"},{name:"revision",type:"shortstring"}],"pistols-PlayerOnline":[{name:"identity",type:"ContractAddress"},{name:"timestamp",type:"felt"}]},primaryType:"pistols-PlayerOnline",domain:{name:"Underware_gg",version:"1.0.0",chainId:"SN_MAIN",revision:"1"},name:"PlayerOnline",description:"Notify the server that a player is online"},{types:{StarknetDomain:[{name:"name",type:"shortstring"},{name:"version",type:"shortstring"},{name:"chainId",type:"shortstring"},{name:"revision",type:"shortstring"}],"pistols-PlayerBookmark":[{name:"identity",type:"ContractAddress"},{name:"target_address",type:"ContractAddress"},{name:"target_id",type:"u128"},{name:"enabled",type:"bool"}]},primaryType:"pistols-PlayerBookmark",domain:{name:"Underware_gg",version:"1.0.0",chainId:"SN_MAIN",revision:"1"},name:"PlayerBookmark",description:"Notify the server that a player follows another player or token"}]}},SN_SEPOLIA:{policies:{contracts:{"0x008e63a48288f4672d955f97dc5d3e026712f927fc4262dde1b49070c3b98397":{description:"Game loop contract",methods:[{entrypoint:"commit_moves",description:"Commit moves of a Duelist in a Duel"},{entrypoint:"reveal_moves",description:"Reveal moves of a Duelist in a Duel"},{entrypoint:"collect_duel",description:"Close expired duels"},{entrypoint:"collect_season",description:"Close the current season and start the next one"},{entrypoint:"clear_call_to_action",description:"Clear the required action call for a duelist"}]},"0x05aadbdf456aa5c8be5438e8e7465c5e6b7bb48fc2e9339f30ced197315d8896":{description:"Bank contract",methods:[{entrypoint:"sponsor_duelists",description:"Sponsor duelist starter packs with $LORDS"},{entrypoint:"sponsor_season",description:"Sponsor the current season with $LORDS"},{entrypoint:"sponsor_tournament",description:"Sponsor a tournament with $LORDS"}]},"0x0578b4e302d95d233a1e5a45b648b7066a21896f288a31a98f77e8bd177b7b9b":{description:"Packs ERC721 contract",methods:[{entrypoint:"claim_starter_pack",description:"Claim the starter pack, mint Duelists"},{entrypoint:"purchase",description:"Purchase a closed pack"},{entrypoint:"open",description:"Open a pack, mint its contents"}]},"0x0377acc27a0ca83d1894a1ae62636ba3998197505b20b918e3e74effe395c6a7":{description:"Duel ERC721 contract",methods:[{entrypoint:"create_duel",description:"Create a Duel, mint its token"},{entrypoint:"reply_duel",description:"Reply to a Duel (accept or reject)"}]},"0x06012ef19b1a4c6d0b06f583c4d5fa13ba39e56297760073da636ab48e5ee6c8":{description:"Duelist ERC721 contract",methods:[{entrypoint:"poke",description:"Reactivates an inactive Duelist"},{entrypoint:"sacrifice",description:"Sacrifices a Duelist"},{entrypoint:"memorialize",description:"Memorializes a Duelist"}]},"0x051fea4450da9d6aee758bdeba88b2f665bcbf549d2c61421aa724e9ac0ced8f":{description:"Cartridge VRF Provider",methods:[{entrypoint:"request_random",description:"Request a random number"}]}},messages:[{types:{StarknetDomain:[{name:"name",type:"shortstring"},{name:"version",type:"shortstring"},{name:"chainId",type:"shortstring"},{name:"revision",type:"shortstring"}],"pistols-PlayerOnline":[{name:"identity",type:"ContractAddress"},{name:"timestamp",type:"felt"}]},primaryType:"pistols-PlayerOnline",domain:{name:"Underware_gg",version:"1.0.0",chainId:"SN_SEPOLIA",revision:"1"},name:"PlayerOnline",description:"Notify the server that a player is online"},{types:{StarknetDomain:[{name:"name",type:"shortstring"},{name:"version",type:"shortstring"},{name:"chainId",type:"shortstring"},{name:"revision",type:"shortstring"}],"pistols-PlayerBookmark":[{name:"identity",type:"ContractAddress"},{name:"target_address",type:"ContractAddress"},{name:"target_id",type:"u128"},{name:"enabled",type:"bool"}]},primaryType:"pistols-PlayerBookmark",domain:{name:"Underware_gg",version:"1.0.0",chainId:"SN_SEPOLIA",revision:"1"},name:"PlayerBookmark",description:"Notify the server that a player follows another player or token"}]}}}},pixelaw:{origin:"dojo.pixelaw.xyz",theme:{colors:{primary:"#7C00B1",primaryForeground:"white"},cover:"https://static.cartridge.gg/presets/pixelaw/cover.png",icon:"https://static.cartridge.gg/presets/pixelaw/icon.svg",name:"Pixelaw",optimizedCover:{webp:{768:"cover@768.webp",1024:"cover@1024.webp",1440:"cover@1440.webp"},jpg:{768:"cover@768.jpg",1024:"cover@1024.jpg",1440:"cover@1440.jpg"},png:{768:"cover@768.png",1024:"cover@1024.png",1440:"cover@1440.png"}},optimizedIcon:{webp:{16:"icon@16.webp",32:"icon@32.webp",64:"icon@64.webp",128:"icon@128.webp",256:"icon@256.webp"},png:{16:"icon@16.png",32:"icon@32.png",64:"icon@64.png",128:"icon@128.png",256:"icon@256.png"},svg:{16:"icon@16.svg",32:"icon@32.svg",64:"icon@64.svg",128:"icon@128.svg",256:"icon@256.svg"}}}},ponziland:{origin:["*.ponzi.land"],theme:{colors:{primary:"#F38332"},cover:"https://static.cartridge.gg/presets/ponziland/cover.png",icon:"https://static.cartridge.gg/presets/ponziland/icon.svg",name:"PonziLand",optimizedCover:{webp:{768:"cover@768.webp",1024:"cover@1024.webp",1440:"cover@1440.webp"},jpg:{768:"cover@768.jpg",1024:"cover@1024.jpg",1440:"cover@1440.jpg"},png:{768:"cover@768.png",1024:"cover@1024.png",1440:"cover@1440.png"}},optimizedIcon:{webp:{16:"icon@16.webp",32:"icon@32.webp",64:"icon@64.webp",128:"icon@128.webp",256:"icon@256.webp"},png:{16:"icon@16.png",32:"icon@32.png",64:"icon@64.png",128:"icon@128.png",256:"icon@256.png"},svg:{16:"icon@16.svg",32:"icon@32.svg",64:"icon@64.svg",128:"icon@128.svg",256:"icon@256.svg"}}},chains:{SN_MAIN:{policies:{contracts:{"0x77eeeef469121d1761bb25efbfce7650f5c7fbf00d63cb1b778b774783b2c6":{name:"PonziLand Systems",description:"Main game contract",methods:[{name:"Bid",entrypoint:"bid",description:"Bid for auction land"},{name:"Buy",entrypoint:"buy",description:"Buy land from another player"},{name:"Claim",entrypoint:"claim",description:"Claim rewards for a single land"},{name:"Claim All",entrypoint:"claim_all",description:"Claim rewards for lands"},{name:"Increase Price",entrypoint:"increase_price",description:"Increase price of the land"},{name:"Increase Stake",entrypoint:"increase_stake",description:"Increase stake of the land"},{name:"Level Up",entrypoint:"level_up",description:"Level up the land"}]},"0x524624cb89898776386140c36093d1bc4dd1654d125f0f677c9cd2b122463ff":{name:"PonziLand Auth System",description:"Contract to allow authorized players to play",methods:[{name:"Add Authorized",entrypoint:"add_authorized_with_signature",description:"Add authorized with signature"}]},"0x5735fa6be5dd248350866644c0a137e571f9d637bb4db6532ddd63a95854b58":{name:"eSTRK Token",description:"eSTRK ERC20 methods",methods:[{name:"Approve",entrypoint:"approve",description:"eSTRK allowance"}]},"0x415c058a41cc80e7368562564c96fc4e3c03b23e32ba07a5c8cadc262b50c3c":{name:"ePAPER Token",description:"ePAPER ERC20 approval",methods:[{name:"Approve",entrypoint:"approve",description:"ePAPER allowance"}]},"0x4b66d22d3001daad50fb853c0c1cb3b96d1745acb295bae4a6d54b29125ed09":{name:"eLORDS Token",description:"eLORDS ERC20 approval",methods:[{name:"Approve",entrypoint:"approve",description:"eLORDS allowance"}]},"0x1920ef3c5e765454dd3f6aeb5420ef524830e0b5f9a95ec2e1b9ee2073a16d1":{name:"eBROTHER Token",description:"eBROTHER ERC20 approval",methods:[{name:"Approve",entrypoint:"approve",description:"eBROTHER allowance"}]},"0x79aba4c89e9cc3495318d2479fe93601e1188ff5d9a8823e3dc736d74bb437f":{name:"ePAL Token",description:"ePAL ERC20 approval",methods:[{name:"Approve",entrypoint:"approve",description:"ePAL allowance"}]},"0x38217779933c147320af3239e2dd098312e3074e0898001c79939c2e676fe8c":{name:"eETH Token",description:"eETH ERC20 approval",methods:[{name:"Approve",entrypoint:"approve",description:"eETH allowance"}]},"0x4c090a1a34a3ba423e63a498ce23de7c7a4f0f1a8128fa768a09738606cbb9e":{name:"eBTC Token",description:"eBTC ERC20 approval",methods:[{name:"Approve",entrypoint:"approve",description:"eBTC allowance"}]}},messages:[{name:"Socialink - Register",description:"Registers your controller wallet to a new Socialink account",types:{StarknetDomain:[{name:"name",type:"shortstring"},{name:"version",type:"shortstring"},{name:"chainId",type:"shortstring"},{name:"revision",type:"shortstring"}],register:[{name:"username",type:"felt"},{name:"timestamp",type:"felt"}]},primaryType:"register",domain:{name:"socialink",version:"1",chainId:"SN_MAIN",revision:"1"}},{name:"Socialink - Link",description:"Links your social account to a Socialink account",types:{StarknetDomain:[{name:"name",type:"shortstring"},{name:"version",type:"shortstring"},{name:"chainId",type:"shortstring"},{name:"revision",type:"shortstring"}],link:[{name:"token",type:"string"},{name:"provider",type:"string"},{name:"nonce",type:"felt"},{name:"timestamp",type:"felt"}]},primaryType:"link",domain:{name:"socialink",version:"1",chainId:"SN_MAIN",revision:"1"}},{name:"Socialink - Mint",description:"Confirms your selection of token for the tournament mint",types:{StarknetDomain:[{name:"name",type:"shortstring"},{name:"version",type:"shortstring"},{name:"chainId",type:"shortstring"},{name:"revision",type:"shortstring"}],mint:[{name:"token",type:"string"},{name:"nonce",type:"felt"},{name:"timestamp",type:"felt"}]},primaryType:"mint",domain:{name:"socialink",version:"1",chainId:"SN_MAIN",revision:"1"}}]}}}},"realm-of-ra":{origin:"mancala.realmofra.com",theme:{colors:{primary:"#de9534"},cover:"https://static.cartridge.gg/presets/realm-of-ra/cover.png",icon:"https://static.cartridge.gg/presets/realm-of-ra/icon.png",name:"Realm of Ra",optimizedCover:{webp:{768:"cover@768.webp",1024:"cover@1024.webp",1440:"cover@1440.webp"},jpg:{768:"cover@768.jpg",1024:"cover@1024.jpg",1440:"cover@1440.jpg"},png:{768:"cover@768.png",1024:"cover@1024.png",1440:"cover@1440.png"}},optimizedIcon:{webp:{16:"icon@16.webp",32:"icon@32.webp",64:"icon@64.webp",128:"icon@128.webp",256:"icon@256.webp"},png:{16:"icon@16.png",32:"icon@32.png",64:"icon@64.png",128:"icon@128.png",256:"icon@256.png"}}}},"savage-summit":{origin:"savagesummit.io",theme:{colors:{primary:"#fbf7da"},cover:"https://static.cartridge.gg/presets/savage-summit/cover.png",icon:"https://static.cartridge.gg/presets/savage-summit/icon.png",name:"Savage Summit",optimizedCover:{webp:{768:"cover@768.webp",1024:"cover@1024.webp",1440:"cover@1440.webp"},jpg:{768:"cover@768.jpg",1024:"cover@1024.jpg",1440:"cover@1440.jpg"},png:{768:"cover@768.png",1024:"cover@1024.png",1440:"cover@1440.png"}},optimizedIcon:{webp:{16:"icon@16.webp",32:"icon@32.webp",64:"icon@64.webp",128:"icon@128.webp",256:"icon@256.webp"},png:{16:"icon@16.png",32:"icon@32.png",64:"icon@64.png",128:"icon@128.png",256:"icon@256.png"}}}},"tale-weaver":{origin:"",theme:{colors:{primary:"#fce377"},cover:"https://static.cartridge.gg/presets/tale-weaver/cover.png",icon:"https://static.cartridge.gg/presets/tale-weaver/icon.png",name:"Tale Weaver",optimizedCover:{webp:{768:"cover@768.webp",1024:"cover@1024.webp",1440:"cover@1440.webp"},jpg:{768:"cover@768.jpg",1024:"cover@1024.jpg",1440:"cover@1440.jpg"},png:{768:"cover@768.png",1024:"cover@1024.png",1440:"cover@1440.png"}},optimizedIcon:{webp:{16:"icon@16.webp",32:"icon@32.webp",64:"icon@64.webp",128:"icon@128.webp",256:"icon@256.webp"},png:{16:"icon@16.png",32:"icon@32.png",64:"icon@64.png",128:"icon@128.png",256:"icon@256.png"}}}},wardens:{origin:"app.wardens.xyz",theme:{colors:{primary:"#f7ac18"},cover:"https://static.cartridge.gg/presets/wardens/cover.jpg",icon:"https://static.cartridge.gg/presets/wardens/icon.png",name:"Wardens",optimizedCover:{webp:{768:"cover@768.webp",1024:"cover@1024.webp",1440:"cover@1440.webp"},jpg:{768:"cover@768.jpg",1024:"cover@1024.jpg",1440:"cover@1440.jpg"}},optimizedIcon:{webp:{16:"icon@16.webp",32:"icon@32.webp",64:"icon@64.webp",128:"icon@128.webp",256:"icon@256.webp"},png:{16:"icon@16.png",32:"icon@32.png",64:"icon@64.png",128:"icon@128.png",256:"icon@256.png"}}}},zkastle:{origin:"zkastle.vercel.app",theme:{colors:{primary:"#E50D2C"},cover:"https://static.cartridge.gg/presets/zkastle/cover.png",icon:"https://static.cartridge.gg/presets/zkastle/icon.svg",name:"zKastle",optimizedCover:{webp:{768:"cover@768.webp",1024:"cover@1024.webp",1440:"cover@1440.webp"},jpg:{768:"cover@768.jpg",1024:"cover@1024.jpg",1440:"cover@1440.jpg"},png:{768:"cover@768.png",1024:"cover@1024.png",1440:"cover@1440.png"}},optimizedIcon:{webp:{16:"icon@16.webp",32:"icon@32.webp",64:"icon@64.webp",128:"icon@128.webp",256:"icon@256.webp"},png:{16:"icon@16.png",32:"icon@32.png",64:"icon@64.png",128:"icon@128.png",256:"icon@256.png"},svg:{16:"icon@16.svg",32:"icon@32.svg",64:"icon@64.svg",128:"icon@128.svg",256:"icon@256.svg"}}}},zktt:{origin:"zktable.top",theme:{colors:{primary:"#FFFFFF"},cover:"https://static.cartridge.gg/presets/zktt/cover.png",icon:"https://static.cartridge.gg/presets/zktt/icon.png",name:"zKTT",optimizedCover:{webp:{768:"cover@768.webp",1024:"cover@1024.webp",1440:"cover@1440.webp"},jpg:{768:"cover@768.jpg",1024:"cover@1024.jpg",1440:"cover@1440.jpg"},png:{768:"cover@768.png",1024:"cover@1024.png",1440:"cover@1440.png"}},optimizedIcon:{webp:{16:"icon@16.webp",32:"icon@32.webp",64:"icon@64.webp",128:"icon@128.webp",256:"icon@256.webp"},png:{16:"icon@16.png",32:"icon@32.png",64:"icon@64.png",128:"icon@128.png",256:"icon@256.png"}}}},zkube:{origin:"app.zkube.xyz",theme:{colors:{primary:"#5bc3e6"},cover:"https://static.cartridge.gg/presets/zkube/cover.png",icon:"https://static.cartridge.gg/presets/zkube/icon.png",name:"zKube",optimizedCover:{webp:{768:"cover@768.webp",1024:"cover@1024.webp",1440:"cover@1440.webp"},jpg:{768:"cover@768.jpg",1024:"cover@1024.jpg",1440:"cover@1440.jpg"},png:{768:"cover@768.png",1024:"cover@1024.png",1440:"cover@1440.png"}},optimizedIcon:{webp:{16:"icon@16.webp",32:"icon@32.webp",64:"icon@64.webp",128:"icon@128.webp",256:"icon@256.webp"},png:{16:"icon@16.png",32:"icon@32.png",64:"icon@64.png",128:"icon@128.png",256:"icon@256.png"}}}}};metadata=[{name:"Wrapped BTC",symbol:"WBTC",decimals:8,l2_token_address:"0x03fe2b97c1fd336e750087d68b9b867997fd64a2661ff3ca5a7c771641e8e7ac",sort_order:0,total_supply:null,logo_url:"https://imagedelivery.net/0xPAQaDtnQhBs8IzYRIlNg/7dcb2db2-a7a7-44af-660b-8262e057a100/logo"},{name:"USD Coin",symbol:"USDC",decimals:6,l2_token_address:"0x053c91253bc9682c04929ca02ed00b3e423f6710d2ee7e0d5ebb06f3ecf368a8",sort_order:5,total_supply:null,logo_url:"https://imagedelivery.net/0xPAQaDtnQhBs8IzYRIlNg/e5aaa970-a998-47e8-bd43-4a3b56b87200/logo"},{name:"LUSD Stablecoin",symbol:"LUSD",decimals:18,l2_token_address:"0x070a76fd48ca0ef910631754d77dd822147fe98a569b826ec85e3c33fde586ac",sort_order:3,total_supply:null,hidden:!0,logo_url:"https://imagedelivery.net/0xPAQaDtnQhBs8IzYRIlNg/dc0ae733-5498-4afa-f475-48dba677aa00/logo"},{name:"Tether USD",symbol:"USDT",decimals:6,l2_token_address:"0x068f5c6a61780768455de69077e07e89787839bf8166decfbf92b645209c0fb8",sort_order:4,total_supply:null,logo_url:"https://imagedelivery.net/0xPAQaDtnQhBs8IzYRIlNg/c8a721d1-07c3-46e4-ab4e-523977c30b00/logo"},{name:"Ether",symbol:"ETH",decimals:18,l2_token_address:"0x049d36570d4e46f48e99674bd3fcc84644ddd6b96f7c741b1562b82f9e004dc7",sort_order:3,total_supply:null,logo_url:"https://imagedelivery.net/0xPAQaDtnQhBs8IzYRIlNg/e07829b7-0382-4e03-7ecd-a478c5aa9f00/logo"},{name:"Dai Stablecoin",symbol:"DAIv0",decimals:18,l2_token_address:"0x00da114221cb83fa859dbdb4c44beeaa0bb37c7537ad5ae66fe5e0efd20e6eb3",sort_order:4,total_supply:null,hidden:!0,logo_url:"https://imagedelivery.net/0xPAQaDtnQhBs8IzYRIlNg/919e761b-56f7-4f53-32aa-5e066f7f6200/logo"},{name:"Dai Stablecoin",symbol:"DAI",decimals:18,l2_token_address:"0x05574eb6b8789a91466f902c380d978e472db68170ff82a5b650b95a58ddf4ad",sort_order:4,total_supply:null,logo_url:"https://imagedelivery.net/0xPAQaDtnQhBs8IzYRIlNg/919e761b-56f7-4f53-32aa-5e066f7f6200/logo"},{name:"Legacy Starknet Wrapped Staked Ether",symbol:"wstETH-legacy",decimals:18,l2_token_address:"0x042b8f0484674ca266ac5d08e4ac6a3fe65bd3129795def2dca5c34ecc5f96d2",sort_order:1,total_supply:null,logo_url:"https://imagedelivery.net/0xPAQaDtnQhBs8IzYRIlNg/26162dcc-29c2-4f5e-3acd-5e6be1f07a00/logo"},{name:"Wrapped Staked Ether",symbol:"wstETH",decimals:18,l2_token_address:"0x0057912720381af14b0e5c87aa4718ed5e527eab60b3801ebf702ab09139e38b",sort_order:1,total_supply:null,logo_url:"https://imagedelivery.net/0xPAQaDtnQhBs8IzYRIlNg/dbbcbdea-1a92-437d-3701-4a5ee129d000/logo"},{name:"Rocket Pool ETH",symbol:"rETH",decimals:18,l2_token_address:"0x0319111a5037cbec2b3e638cc34a3474e2d2608299f3e62866e9cc683208c610",sort_order:1,total_supply:null,logo_url:"https://imagedelivery.net/0xPAQaDtnQhBs8IzYRIlNg/c9f2d6fe-fbc6-4384-0990-923dfcb7a200/logo"},{name:"LORDS",symbol:"LORDS",decimals:18,l2_token_address:"0x0124aeb495b947201f5fac96fd1138e326ad86195b98df6dec9009158a533b49",sort_order:1,total_supply:509e5,logo_url:"https://imagedelivery.net/0xPAQaDtnQhBs8IzYRIlNg/a3bfe959-50c4-4f89-0aef-b19207d82a00/logo"},{name:"R Stablecoin",symbol:"R",decimals:18,l2_token_address:"0x01fa2fb85f624600112040e1f3a848f53a37ed5a7385810063d5fe6887280333",sort_order:3,total_supply:null,hidden:!0,logo_url:"https://imagedelivery.net/0xPAQaDtnQhBs8IzYRIlNg/77612e4e-f7ee-4dba-2066-af321843ef00/logo"},{name:"Frax",symbol:"FRAX",decimals:18,l2_token_address:"0x009c6b4fb13dfaa025c1383ed6190af8ed8cbb09d9588a3bb020feb152442406",sort_order:1,total_supply:0x26b601db,hidden:!0,logo_url:"https://imagedelivery.net/0xPAQaDtnQhBs8IzYRIlNg/eeaf0779-e492-474c-ef19-b27843525600/logo"},{name:"Frax Share",symbol:"FXS",decimals:18,l2_token_address:"0x0058efd0e73c33a848ffaa88738d128ebf0af98ea78cf3c14dc757bb02d39ffb",sort_order:1,total_supply:null,hidden:!0,logo_url:"https://imagedelivery.net/0xPAQaDtnQhBs8IzYRIlNg/98bea621-1e4f-4d63-9689-bdaef0d56500/logo"},{name:"Staked Frax Ether",symbol:"sfrxETH",decimals:18,l2_token_address:"0x04578fffc279e61b5cb0267a5f8e24b6089d40f93158fbbad2cb23b8622c9233",sort_order:1,total_supply:null,hidden:!0,logo_url:"https://imagedelivery.net/0xPAQaDtnQhBs8IzYRIlNg/cd6fe18a-25db-4de9-758a-daf3b364ea00/logo"},{name:"Uniswap",symbol:"UNI",decimals:18,l2_token_address:"0x049210ffc442172463f3177147c1aeaa36c51d152c1b0630f2364c300d4f48ee",sort_order:1,total_supply:1e9,logo_url:"https://imagedelivery.net/0xPAQaDtnQhBs8IzYRIlNg/361b018e-bd53-4019-27c8-7cf8d9031b00/logo"},{name:"Paper",symbol:"PAPER",decimals:18,l2_token_address:"0x0410466536b5ae074f7fea81e5533b8134a9fa08b3dd077dd9db08f64997d113",sort_order:1,total_supply:null,hidden:!0,logo_url:"https://imagedelivery.net/0xPAQaDtnQhBs8IzYRIlNg/811f019a-0461-4cff-6c1e-442102863f00/logo"},{name:"StarkPepe",symbol:"xSPEPE",decimals:18,l2_token_address:"0x06f15ec4b6ff0b7f7a216c4b2ccdefc96cbf114d6242292ca82971592f62273b",sort_order:1,total_supply:null,hidden:!0,disabled:!0},{name:"StarkNet Token",symbol:"STRK",decimals:18,l2_token_address:"0x04718f5a0fc34cc1af16a1cdee98ffb20c31f5cd61d6ab07201858f4287c938d",sort_order:2,total_supply:1e10,logo_url:"https://imagedelivery.net/0xPAQaDtnQhBs8IzYRIlNg/1b126320-367c-48ed-cf5a-ba7580e49600/logo"},{name:"zkLend Token",symbol:"ZEND",decimals:18,l2_token_address:"0x00585c32b625999e6e5e78645ff8df7a9001cf5cf3eb6b80ccdd16cb64bd3a34",sort_order:1,total_supply:null,logo_url:"https://imagedelivery.net/0xPAQaDtnQhBs8IzYRIlNg/95515b0e-1230-4158-10f1-56888f613c00/logo"},{name:"Ekubo Protocol",symbol:"EKUBO",decimals:18,l2_token_address:"0x075afe6402ad5a5c20dd25e10ec3b3986acaa647b77e4ae24b0cbc9a54a27a87",sort_order:1,total_supply:1e7,logo_url:"https://imagedelivery.net/0xPAQaDtnQhBs8IzYRIlNg/634d9c36-2f0b-4781-93e6-72d701b5af00/logo"},{name:"SOCKS",symbol:"SOCKS",decimals:18,l2_token_address:"0x023ed2ba4fb5709302c5dfd739fa7613359042f143286c115b6c7f7dc2601015",sort_order:1,total_supply:1e11,hidden:!0,logo_url:"https://imagedelivery.net/0xPAQaDtnQhBs8IzYRIlNg/2db5a2a6-c98e-4b80-35e0-31b489132100/logo"},{name:"Nostra",symbol:"NSTR",decimals:18,l2_token_address:"0x00c530f2c0aa4c16a0806365b0898499fba372e5df7a7172dc6fe9ba777e8007",sort_order:1,total_supply:1e8,logo_url:"https://imagedelivery.net/0xPAQaDtnQhBs8IzYRIlNg/a45c2224-17a7-4269-ea7e-3924e9755800/logo"},{name:"Carmine",symbol:"CRM",decimals:18,l2_token_address:"0x51c4b1fe3bf6774b87ad0b15ef5d1472759076e42944fff9b9f641ff13e5bbe",sort_order:1,total_supply:1e8,logo_url:"https://imagedelivery.net/0xPAQaDtnQhBs8IzYRIlNg/6ab817f1-8075-4a94-6e14-f112f1f89d00/logo"},{name:"Cash",symbol:"CASH",decimals:18,l2_token_address:"0x498edfaf50ca5855666a700c25dd629d577eb9afccdf3b5977aec79aee55ada",sort_order:3,total_supply:null,hidden:!1,logo_url:"https://imagedelivery.net/0xPAQaDtnQhBs8IzYRIlNg/6bd6d156-f509-4b51-5dfc-3ee566143600/logo"},{name:"Nums",symbol:"NUMS",decimals:18,l2_token_address:"0xe5f10eddc01699dc899a30dbc3c9858148fa4aa0a47c0ffd85f887ffc4653e",sort_order:1,total_supply:1,hidden:!0,logo_url:"https://imagedelivery.net/0xPAQaDtnQhBs8IzYRIlNg/90868d05-cb75-4c42-278c-5a540db2cf00/logo"},{name:"Flip",symbol:"FLIP",decimals:18,l2_token_address:"0x01bfe97d729138fc7c2d93c77d6d1d8a24708d5060608017d9b384adf38f04c7",sort_order:1,total_supply:null,hidden:!0,logo_url:"https://imagedelivery.net/0xPAQaDtnQhBs8IzYRIlNg/275f0fa8-a691-471c-ace6-0eb0315dde00/logo"},{name:"Eternum Stone",symbol:"STONE",decimals:18,l2_token_address:"0x439a1c010e3e1bb2d43d43411000893c0042bd88f6c701611a0ea914d426da4",sort_order:1,total_supply:null,hidden:!0,logo_url:"https://imagedelivery.net/0xPAQaDtnQhBs8IzYRIlNg/932e7f83-a4c2-40f0-3048-35af3b194100/logo"},{name:"Eternum Coal",symbol:"COAL",decimals:18,l2_token_address:"0xce635e3f241b0ae78c46a929d84a9101910188f9c4024eaa7559556503c31a",sort_order:1,total_supply:null,hidden:!0,logo_url:"https://imagedelivery.net/0xPAQaDtnQhBs8IzYRIlNg/cf2ee180-06bf-4443-e3aa-724d7c28e800/logo"},{name:"Eternum Wood",symbol:"WOOD",decimals:18,l2_token_address:"0x40d8907cec0f7ae9c364dfb12485a1314d84c129bf1898d2f3d4b7fcc7d44f4",sort_order:1,total_supply:null,hidden:!0,logo_url:"https://imagedelivery.net/0xPAQaDtnQhBs8IzYRIlNg/1db5f954-c1ef-447e-9f8f-05bd9f3b2b00/logo"},{name:"Eternum Copper",symbol:"COPPER",decimals:18,l2_token_address:"0x66ed5c928ee027a9419ace1cbea8389885161db5572a7c5c4fef2310e9bf494",sort_order:1,total_supply:null,hidden:!0,logo_url:"https://imagedelivery.net/0xPAQaDtnQhBs8IzYRIlNg/6bbcdcc9-6146-404d-9501-92a664cf3100/logo"},{name:"Eternum Ironwood",symbol:"IRONWOOD",decimals:18,l2_token_address:"0x1720cf6318bff45e62acc588680ae3cd4d5f8465b1d52cb710533c9299b031a",sort_order:1,total_supply:null,hidden:!0,logo_url:"https://imagedelivery.net/0xPAQaDtnQhBs8IzYRIlNg/5af7c03b-e4ae-4aee-eba4-a4e2160a1d00/logo"},{name:"Eternum Obsidian",symbol:"OBSIDIAN",decimals:18,l2_token_address:"0x3b6448d09dcd023507376402686261f5d6739455fa02f804907b066e488da66",sort_order:1,total_supply:null,hidden:!0,logo_url:"https://imagedelivery.net/0xPAQaDtnQhBs8IzYRIlNg/8be9bc66-486b-4181-6804-725a1db8ad00/logo"},{name:"Eternum Gold",symbol:"GOLD",decimals:18,l2_token_address:"0xdff9dca192609c4e86ab3be22c7ec1e968876c992d21986f3c542be97fa2f",sort_order:1,total_supply:null,hidden:!0,logo_url:"https://imagedelivery.net/0xPAQaDtnQhBs8IzYRIlNg/fb9e90f7-3c2f-4c64-7e43-c3f694f35e00/logo"},{name:"Eternum Silver",symbol:"SILVER",decimals:18,l2_token_address:"0x6fe21d2d4a8a05bdb70f09c9250af9870020d5dcc35f410b4a39d6605c3e353",sort_order:1,total_supply:null,hidden:!0,logo_url:"https://imagedelivery.net/0xPAQaDtnQhBs8IzYRIlNg/e443afeb-850b-46a0-a7ba-a473306d6b00/logo"},{name:"Eternum Mithral",symbol:"MITHRAL",decimals:18,l2_token_address:"0x67ba235c569c23877064b2ac6ebd4d79f32d3c00f5fab8e28a3b5700b957f6",sort_order:1,total_supply:null,hidden:!0,logo_url:"https://imagedelivery.net/0xPAQaDtnQhBs8IzYRIlNg/33dc517f-8a66-45eb-f2c5-de5388e47500/logo"},{name:"Eternum Alchemical Silver",symbol:"ALCHEMICALSILVER",decimals:18,l2_token_address:"0x3956a5301e99522038a2e7dcb9c2a89bf087ffa79310ee0a508b5538efd8ddd",sort_order:1,total_supply:null,hidden:!0,logo_url:"https://imagedelivery.net/0xPAQaDtnQhBs8IzYRIlNg/3d2e0fd8-4af8-49a0-4bdb-691a4d6ef800/logo"},{name:"Eternum Cold Iron",symbol:"COLDIRON",decimals:18,l2_token_address:"0x555d713e59d4ff96b7960447e9bc9e79bfdeab5b0eea74e3df81bce61cfbc77",sort_order:1,total_supply:null,hidden:!0,logo_url:"https://imagedelivery.net/0xPAQaDtnQhBs8IzYRIlNg/878c0d8a-8e2c-4281-0896-9cbbb2ef9400/logo"},{name:"Eternum Deep Crystal",symbol:"DEEPCRYSTAL",decimals:18,l2_token_address:"0x1d655ac834d38df7921074fc1588411e202b1af83307cbd996983aff52db3a8",sort_order:1,total_supply:null,hidden:!0,logo_url:"https://imagedelivery.net/0xPAQaDtnQhBs8IzYRIlNg/1c2c954f-448c-476b-a4a6-19b52efe3e00/logo"},{name:"Eternum Ruby",symbol:"RUBY",decimals:18,l2_token_address:"0x3d9b66720959d0e7687b898292c10e62e78626f2dba5e1909961a2ce3f86612",sort_order:1,total_supply:null,hidden:!0,logo_url:"https://imagedelivery.net/0xPAQaDtnQhBs8IzYRIlNg/6a45b34d-3bfe-4994-45b0-f2bee8abac00/logo"},{name:"Eternum Diamonds",symbol:"DIAMONDS",decimals:18,l2_token_address:"0xe03ea8ae385f64754820af5c01c36abf1b8130dd6797d3fd9d430e4114e876",sort_order:1,total_supply:null,hidden:!0,logo_url:"https://imagedelivery.net/0xPAQaDtnQhBs8IzYRIlNg/b1fa609d-8799-4754-cdea-ab69514ca700/logo"},{name:"Eternum Hartwood",symbol:"HARTWOOD",decimals:18,l2_token_address:"0x5620aa7170cd66dbcbc37d03087bfe4633ffef91d3e4d97b501de906004f79b",sort_order:1,total_supply:null,hidden:!0,logo_url:"https://imagedelivery.net/0xPAQaDtnQhBs8IzYRIlNg/27e37e85-91bd-4ee1-0552-1e0795077400/logo"},{name:"Eternum Ignium",symbol:"IGNIUM",decimals:18,l2_token_address:"0x625c1f789b03ebebc7a9322366f38ebad1f693b84b2abd8cb8f5b2748b0cdd5",sort_order:1,total_supply:null,hidden:!0,logo_url:"https://imagedelivery.net/0xPAQaDtnQhBs8IzYRIlNg/58591e20-24fb-4353-417a-81d877a5a200/logo"},{name:"Eternum Twilight Quartz",symbol:"TWILIGHTQUARTZ",decimals:18,l2_token_address:"0x35e24c02409c3cfe8d5646399a62c4d102bb782938d5f5180e92c9c62d3faf7",sort_order:1,total_supply:null,hidden:!0,logo_url:"https://imagedelivery.net/0xPAQaDtnQhBs8IzYRIlNg/2f8cb892-e82a-4af3-bd09-316061faec00/logo"},{name:"Eternum True Ice",symbol:"TRUEICE",decimals:18,l2_token_address:"0x4485f5a6e16562e1c761cd348e63256d00389e3ddf4f5d98afe7ab44c57c481",sort_order:1,total_supply:null,hidden:!0,logo_url:"https://imagedelivery.net/0xPAQaDtnQhBs8IzYRIlNg/fe4bfc17-6553-4dc5-58d2-f452b4aa8a00/logo"},{name:"Eternum Adamantine",symbol:"ADAMANTINE",decimals:18,l2_token_address:"0x367f838f85a2f5e1580d6f011e4476f581083314cff8721ba3dda9706076eed",sort_order:1,total_supply:null,hidden:!0,logo_url:"https://imagedelivery.net/0xPAQaDtnQhBs8IzYRIlNg/13bd026b-3612-480e-0119-04cf4c505a00/logo"},{name:"Eternum Sapphire",symbol:"SAPPHIRE",decimals:18,l2_token_address:"0x2f8dd022568af8f9f718aa37707a9b858529db56910633a160456838b6cbcbc",sort_order:1,total_supply:null,hidden:!0,logo_url:"https://imagedelivery.net/0xPAQaDtnQhBs8IzYRIlNg/0ebf555f-e732-4054-f8e5-55b2ed49ba00/logo"},{name:"Eternum Ethereal Silica",symbol:"ETHEREALSILICA",decimals:18,l2_token_address:"0x68b6e23cbbd58a644700f55e96c83580921e9f521b6e5175396b53ba7910e7d",sort_order:1,total_supply:null,hidden:!0,logo_url:"https://imagedelivery.net/0xPAQaDtnQhBs8IzYRIlNg/f02a5b43-bfcf-408c-7d1b-fcfe68b02d00/logo"},{name:"Eternum Dragon Hide",symbol:"DRAGONHIDE",decimals:18,l2_token_address:"0x3bf856515bece3c93f5061b7941b8645f817a0acab93c758b8c7b4bc0afa3c6",sort_order:1,total_supply:null,hidden:!0,logo_url:"https://imagedelivery.net/0xPAQaDtnQhBs8IzYRIlNg/e74955fc-5c8a-4dff-4882-a49a46a5a800/logo"},{name:"Eternum Ancient Fragment",symbol:"ANCIENTFRAGMENT",decimals:18,l2_token_address:"0x0695b08ecdfdd828c2e6267da62f59e6d7543e690ef56a484df25c8566b332a5",sort_order:1,total_supply:null,hidden:!0,logo_url:"https://imagedelivery.net/0xPAQaDtnQhBs8IzYRIlNg/9af855b7-4790-4390-9466-6bed4481ab00/logo"},{name:"Eternum Donkey",symbol:"DONKEY",decimals:18,l2_token_address:"0x264be95a4a2ace20add68cb321acdccd2f9f8440ee1c7abd85da44ddab01085",sort_order:1,total_supply:null,hidden:!0,logo_url:"https://imagedelivery.net/0xPAQaDtnQhBs8IzYRIlNg/20817378-a45e-4521-f464-10f6dd13c500/logo"},{name:"Eternum Knight",symbol:"KNIGHT",decimals:18,l2_token_address:"0xac965f9e67164723c16735a9da8dbc9eb8e43b1bd0323591e87c056badf606",sort_order:1,total_supply:null,hidden:!0,logo_url:"https://imagedelivery.net/0xPAQaDtnQhBs8IzYRIlNg/8787ed1f-af5c-4873-c01a-55f05e999a00/logo"},{name:"Eternum Crossbowman",symbol:"CROSSBOWMAN",decimals:18,l2_token_address:"0x67e4ac00a241be06ba6afc11fa2715ec7da0c42c05a67ef6ecfcfeda725aaa8",sort_order:1,total_supply:null,hidden:!0,logo_url:"https://imagedelivery.net/0xPAQaDtnQhBs8IzYRIlNg/dec7f31b-4b1d-46bb-4fca-c0253cf55a00/logo"},{name:"Eternum Paladin",symbol:"PALADIN",decimals:18,l2_token_address:"0x3bc86299bee061c7c8d7546ccb62b9daf9bffc653b1508facb722c6593874bc",sort_order:1,total_supply:null,hidden:!0,logo_url:"https://imagedelivery.net/0xPAQaDtnQhBs8IzYRIlNg/7d2cd5a5-f38a-49f6-11f8-ba3b59a59e00/logo"},{name:"Eternum Wheat",symbol:"WHEAT",decimals:18,l2_token_address:"0x57a3f1ee475e072ce3be41785c0e889b7295d7a0dcc22b992c5b9408dbeb280",sort_order:1,total_supply:null,hidden:!0,logo_url:"https://imagedelivery.net/0xPAQaDtnQhBs8IzYRIlNg/c338b6a8-77c4-4dd6-34f5-1af0d3fb1e00/logo"},{name:"Eternum Fish",symbol:"FISH",decimals:18,l2_token_address:"0x27719173cfe10f1aa38d2aaed0a075b6077290f1e817aa3485d2b828394f4d9",sort_order:1,total_supply:null,hidden:!0,logo_url:"https://imagedelivery.net/0xPAQaDtnQhBs8IzYRIlNg/6deef27f-df40-4248-4e1b-ed1d79a3f000/logo"}];controllerConfigs=configs;erc20Metadata=metadata;defaultTheme=configs.cartridge.theme})();export{A$1 as A,ControllerProvider as C,FeeSource as F,L$5 as L,MetaMaskWallet as M,NotReadyToConnect as N,PhantomWallet as P,RpcProvider2 as R,S$3 as S,TurnkeyWallet as T,WalletBridge as W,Account as a,ResponseCodes as b,constants_exports as c,lookupAddresses as d,toWasmPolicies as e,toArray$1 as f,parseChainId as g,humanizeString as h,ArgentWallet as i,RabbyWallet as j,controllerConfigs as k,lookupUsernames as l,defaultTheme as m,normalizeCalls as n,erc20Metadata as o,p$2 as p,toSessionPolicies as t,__tla};